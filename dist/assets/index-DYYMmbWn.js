(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Mg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ES={exports:{}},Qd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uL=Symbol.for("react.transitional.element"),cL=Symbol.for("react.fragment");function wS(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:uL,type:t,key:r,ref:e!==void 0?e:null,props:n}}Qd.Fragment=cL;Qd.jsx=wS;Qd.jsxs=wS;ES.exports=Qd;var x=ES.exports,SS={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig=Symbol.for("react.transitional.element"),hL=Symbol.for("react.portal"),dL=Symbol.for("react.fragment"),fL=Symbol.for("react.strict_mode"),mL=Symbol.for("react.profiler"),pL=Symbol.for("react.consumer"),gL=Symbol.for("react.context"),vL=Symbol.for("react.forward_ref"),yL=Symbol.for("react.suspense"),bL=Symbol.for("react.memo"),TS=Symbol.for("react.lazy"),gb=Symbol.iterator;function _L(t){return t===null||typeof t!="object"?null:(t=gb&&t[gb]||t["@@iterator"],typeof t=="function"?t:null)}var CS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xS=Object.assign,AS={};function il(t,e,n){this.props=t,this.context=e,this.refs=AS,this.updater=n||CS}il.prototype.isReactComponent={};il.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};il.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RS(){}RS.prototype=il.prototype;function Og(t,e,n){this.props=t,this.context=e,this.refs=AS,this.updater=n||CS}var Dg=Og.prototype=new RS;Dg.constructor=Og;xS(Dg,il.prototype);Dg.isPureReactComponent=!0;var vb=Array.isArray,Rt={H:null,A:null,T:null,S:null,V:null},LS=Object.prototype.hasOwnProperty;function kg(t,e,n,r,i,s){return n=s.ref,{$$typeof:Ig,type:t,key:e,ref:n!==void 0?n:null,props:s}}function EL(t,e){return kg(t.type,e,void 0,void 0,void 0,t.props)}function Pg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ig}function wL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yb=/\/+/g;function qf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wL(""+t.key):e.toString(36)}function bb(){}function SL(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(bb,bb):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ja(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ig:case hL:a=!0;break;case TS:return a=t._init,Ja(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+qf(t,0):r,vb(i)?(n="",a!=null&&(n=a.replace(yb,"$&/")+"/"),Ja(i,e,n,"",function(c){return c})):i!=null&&(Pg(i)&&(i=EL(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(yb,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(vb(t))for(var l=0;l<t.length;l++)r=t[l],s=o+qf(r,l),a+=Ja(r,e,n,s,i);else if(l=_L(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,s=o+qf(r,l++),a+=Ja(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Ja(SL(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Bc(t,e,n){if(t==null)return t;var r=[],i=0;return Ja(t,r,"","",function(s){return e.call(n,s,i++)}),r}function TL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _b=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function CL(){}Pe.Children={map:Bc,forEach:function(t,e,n){Bc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bc(t,function(){e++}),e},toArray:function(t){return Bc(t,function(e){return e})||[]},only:function(t){if(!Pg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=il;Pe.Fragment=dL;Pe.Profiler=mL;Pe.PureComponent=Og;Pe.StrictMode=fL;Pe.Suspense=yL;Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt;Pe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Rt.H.useMemoCache(t)}};Pe.cache=function(t){return function(){return t.apply(null,arguments)}};Pe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=xS({},t.props),i=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!LS.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}return kg(t.type,i,void 0,void 0,s,r)};Pe.createContext=function(t){return t={$$typeof:gL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:pL,_context:t},t};Pe.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)LS.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return kg(t,s,void 0,void 0,null,i)};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:vL,render:t}};Pe.isValidElement=Pg;Pe.lazy=function(t){return{$$typeof:TS,_payload:{_status:-1,_result:t},_init:TL}};Pe.memo=function(t,e){return{$$typeof:bL,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Rt.T,n={};Rt.T=n;try{var r=t(),i=Rt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(CL,_b)}catch(s){_b(s)}finally{Rt.T=e}};Pe.unstable_useCacheRefresh=function(){return Rt.H.useCacheRefresh()};Pe.use=function(t){return Rt.H.use(t)};Pe.useActionState=function(t,e,n){return Rt.H.useActionState(t,e,n)};Pe.useCallback=function(t,e){return Rt.H.useCallback(t,e)};Pe.useContext=function(t){return Rt.H.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t,e){return Rt.H.useDeferredValue(t,e)};Pe.useEffect=function(t,e,n){var r=Rt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};Pe.useId=function(){return Rt.H.useId()};Pe.useImperativeHandle=function(t,e,n){return Rt.H.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return Rt.H.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return Rt.H.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return Rt.H.useMemo(t,e)};Pe.useOptimistic=function(t,e){return Rt.H.useOptimistic(t,e)};Pe.useReducer=function(t,e,n){return Rt.H.useReducer(t,e,n)};Pe.useRef=function(t){return Rt.H.useRef(t)};Pe.useState=function(t){return Rt.H.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return Rt.H.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return Rt.H.useTransition()};Pe.version="19.1.1";SS.exports=Pe;var d=SS.exports;const Qm=Mg(d);var MS={exports:{}},Wd={},IS={exports:{}},OS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,$){var H=B.length;B.push($);e:for(;0<H;){var ne=H-1>>>1,ee=B[ne];if(0<i(ee,$))B[ne]=$,B[H]=ee,H=ne;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var $=B[0],H=B.pop();if(H!==$){B[0]=H;e:for(var ne=0,ee=B.length,fe=ee>>>1;ne<fe;){var me=2*(ne+1)-1,W=B[me],ae=me+1,V=B[ae];if(0>i(W,H))ae<ee&&0>i(V,W)?(B[ne]=V,B[ae]=H,ne=ae):(B[ne]=W,B[me]=H,ne=me);else if(ae<ee&&0>i(V,H))B[ne]=V,B[ae]=H,ne=ae;else break e}}return $}function i(B,$){var H=B.sortIndex-$.sortIndex;return H!==0?H:B.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,m=null,f=3,g=!1,_=!1,A=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(B){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=B)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function k(B){if(A=!1,R(B),!_)if(n(l)!==null)_=!0,L||(L=!0,P());else{var $=n(c);$!==null&&Z(k,$.startTime-B)}}var L=!1,S=-1,E=5,w=-1;function M(){return T?!0:!(t.unstable_now()-w<E)}function I(){if(T=!1,L){var B=t.unstable_now();w=B;var $=!0;try{e:{_=!1,A&&(A=!1,v(S),S=-1),g=!0;var H=f;try{t:{for(R(B),m=n(l);m!==null&&!(m.expirationTime>B&&M());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,f=m.priorityLevel;var ee=ne(m.expirationTime<=B);if(B=t.unstable_now(),typeof ee=="function"){m.callback=ee,R(B),$=!0;break t}m===n(l)&&r(l),R(B)}else r(l);m=n(l)}if(m!==null)$=!0;else{var fe=n(c);fe!==null&&Z(k,fe.startTime-B),$=!1}}break e}finally{m=null,f=H,g=!1}$=void 0}}finally{$?P():L=!1}}}var P;if(typeof C=="function")P=function(){C(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,K=D.port2;D.port1.onmessage=I,P=function(){K.postMessage(null)}}else P=function(){b(I,0)};function Z(B,$){S=b(function(){B(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var H=f;f=$;try{return B()}finally{f=H}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=f;f=B;try{return $()}finally{f=H}},t.unstable_scheduleCallback=function(B,$,H){var ne=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ne+H:ne):H=ne,B){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=H+ee,B={id:h++,callback:$,priorityLevel:B,startTime:H,expirationTime:ee,sortIndex:-1},H>ne?(B.sortIndex=H,e(c,B),n(l)===null&&B===n(c)&&(A?(v(S),S=-1):A=!0,Z(k,H-ne))):(B.sortIndex=ee,e(l,B),_||g||(_=!0,L||(L=!0,P()))),B},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(B){var $=f;return function(){var H=f;f=$;try{return B.apply(this,arguments)}finally{f=H}}}})(OS);IS.exports=OS;var xL=IS.exports,DS={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AL=d;function kS(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zi(){}var Gn={d:{f:Zi,r:function(){throw Error(kS(522))},D:Zi,C:Zi,L:Zi,m:Zi,X:Zi,S:Zi,M:Zi},p:0,findDOMNode:null},RL=Symbol.for("react.portal");function LL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:RL,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var tu=AL.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Xd(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}$n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gn;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(kS(299));return LL(t,e,null,n)};$n.flushSync=function(t){var e=tu.T,n=Gn.p;try{if(tu.T=null,Gn.p=2,t)return t()}finally{tu.T=e,Gn.p=n,Gn.d.f()}};$n.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Gn.d.C(t,e))};$n.prefetchDNS=function(t){typeof t=="string"&&Gn.d.D(t)};$n.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Xd(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Gn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&Gn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};$n.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Xd(e.as,e.crossOrigin);Gn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Gn.d.M(t)};$n.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Xd(n,e.crossOrigin);Gn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};$n.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Xd(e.as,e.crossOrigin);Gn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Gn.d.m(t)};$n.requestFormReset=function(t){Gn.d.r(t)};$n.unstable_batchedUpdates=function(t,e){return t(e)};$n.useFormState=function(t,e,n){return tu.H.useFormState(t,e,n)};$n.useFormStatus=function(){return tu.H.useHostTransitionStatus()};$n.version="19.1.1";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(t){console.error(t)}}PS(),DS.exports=$n;var Ki=DS.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var an=xL,NS=d,ML=Ki;function Q(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function VS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function US(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Eb(t){if(Zu(t)!==t)throw Error(Q(188))}function IL(t){var e=t.alternate;if(!e){if(e=Zu(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Eb(i),t;if(s===r)return Eb(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function jS(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=jS(t),e!==null)return e;t=t.sibling}return null}var Tt=Object.assign,OL=Symbol.for("react.element"),Hc=Symbol.for("react.transitional.element"),Fl=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),zS=Symbol.for("react.strict_mode"),Wm=Symbol.for("react.profiler"),DL=Symbol.for("react.provider"),BS=Symbol.for("react.consumer"),Li=Symbol.for("react.context"),Ng=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),Zm=Symbol.for("react.suspense_list"),Vg=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),Jm=Symbol.for("react.activity"),kL=Symbol.for("react.memo_cache_sentinel"),wb=Symbol.iterator;function Rl(t){return t===null||typeof t!="object"?null:(t=wb&&t[wb]||t["@@iterator"],typeof t=="function"?t:null)}var PL=Symbol.for("react.client.reference");function ep(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===PL?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lo:return"Fragment";case Wm:return"Profiler";case zS:return"StrictMode";case Xm:return"Suspense";case Zm:return"SuspenseList";case Jm:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Fl:return"Portal";case Li:return(t.displayName||"Context")+".Provider";case BS:return(t._context.displayName||"Context")+".Consumer";case Ng:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vg:return e=t.displayName||null,e!==null?e:ep(t.type)||"Memo";case ss:e=t._payload,t=t._init;try{return ep(t(e))}catch{}}return null}var ql=Array.isArray,xe=NS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=ML.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ga={pending:!1,data:null,method:null,action:null},tp=[],uo=-1;function yi(t){return{current:t}}function pn(t){0>uo||(t.current=tp[uo],tp[uo]=null,uo--)}function Lt(t,e){uo++,tp[uo]=t.current,t.current=e}var ai=yi(null),Tu=yi(null),ws=yi(null),Bh=yi(null);function Hh(t,e){switch(Lt(ws,e),Lt(Tu,t),Lt(ai,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?A_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=A_(e),t=ix(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}pn(ai),Lt(ai,t)}function Vo(){pn(ai),pn(Tu),pn(ws)}function np(t){t.memoizedState!==null&&Lt(Bh,t);var e=ai.current,n=ix(e,t.type);e!==n&&(Lt(Tu,t),Lt(ai,n))}function Fh(t){Tu.current===t&&(pn(ai),pn(Tu)),Bh.current===t&&(pn(Bh),ku._currentValue=ga)}var rp=Object.prototype.hasOwnProperty,Ug=an.unstable_scheduleCallback,Gf=an.unstable_cancelCallback,NL=an.unstable_shouldYield,VL=an.unstable_requestPaint,oi=an.unstable_now,UL=an.unstable_getCurrentPriorityLevel,HS=an.unstable_ImmediatePriority,FS=an.unstable_UserBlockingPriority,qh=an.unstable_NormalPriority,jL=an.unstable_LowPriority,qS=an.unstable_IdlePriority,zL=an.log,BL=an.unstable_setDisableYieldValue,Ju=null,yr=null;function vs(t){if(typeof zL=="function"&&BL(t),yr&&typeof yr.setStrictMode=="function")try{yr.setStrictMode(Ju,t)}catch{}}var br=Math.clz32?Math.clz32:qL,HL=Math.log,FL=Math.LN2;function qL(t){return t>>>=0,t===0?32:31-(HL(t)/FL|0)|0}var Fc=256,qc=4194304;function oa(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zd(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=oa(r):(a&=o,a!==0?i=oa(a):n||(n=o&~t,n!==0&&(i=oa(n))))):(o=r&~s,o!==0?i=oa(o):a!==0?i=oa(a):n||(n=r&~t,n!==0&&(i=oa(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function ec(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function GL(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GS(){var t=Fc;return Fc<<=1,!(Fc&4194048)&&(Fc=256),t}function $S(){var t=qc;return qc<<=1,!(qc&62914560)&&(qc=4194304),t}function $f(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tc(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $L(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var h=31-br(n),m=1<<h;o[h]=0,l[h]=-1;var f=c[h];if(f!==null)for(c[h]=null,h=0;h<f.length;h++){var g=f[h];g!==null&&(g.lane&=-536870913)}n&=~m}r!==0&&KS(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function KS(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-br(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function YS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-br(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function jg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function QS(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:mx(t.type))}function KL(t,e){var n=st.p;try{return st.p=t,e()}finally{st.p=n}}var Qs=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Qs,rr="__reactProps$"+Qs,sl="__reactContainer$"+Qs,ip="__reactEvents$"+Qs,YL="__reactListeners$"+Qs,QL="__reactHandles$"+Qs,Sb="__reactResources$"+Qs,nc="__reactMarker$"+Qs;function Bg(t){delete t[Vn],delete t[rr],delete t[ip],delete t[YL],delete t[QL]}function co(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sl]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=M_(t);t!==null;){if(n=t[Vn])return n;t=M_(t)}return e}t=n,n=t.parentNode}return null}function al(t){if(t=t[Vn]||t[sl]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Gl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Q(33))}function wo(t){var e=t[Sb];return e||(e=t[Sb]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function fn(t){t[nc]=!0}var WS=new Set,XS={};function Pa(t,e){Uo(t,e),Uo(t+"Capture",e)}function Uo(t,e){for(XS[t]=e,t=0;t<e.length;t++)WS.add(e[t])}var WL=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tb={},Cb={};function XL(t){return rp.call(Cb,t)?!0:rp.call(Tb,t)?!1:WL.test(t)?Cb[t]=!0:(Tb[t]=!0,!1)}function ph(t,e,n){if(XL(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Gc(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Si(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Kf,xb;function eo(t){if(Kf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kf=e&&e[1]||"",xb=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kf+t+xb}var Yf=!1;function Qf(t,e){if(!t||Yf)return"";Yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var f=g}Reflect.construct(t,[],m)}else{try{m.call()}catch(g){f=g}t.call(m.prototype)}}else{try{throw Error()}catch(g){f=g}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&f&&typeof g.stack=="string")return[g.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var h=`
`+l[r].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=r&&0<=i);break}}}finally{Yf=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?eo(n):""}function ZL(t){switch(t.tag){case 26:case 27:case 5:return eo(t.type);case 16:return eo("Lazy");case 13:return eo("Suspense");case 19:return eo("SuspenseList");case 0:case 15:return Qf(t.type,!1);case 11:return Qf(t.type.render,!1);case 1:return Qf(t.type,!0);case 31:return eo("Activity");default:return""}}function Ab(t){try{var e="";do e+=ZL(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Rr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JL(t){var e=ZS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gh(t){t._valueTracker||(t._valueTracker=JL(t))}function JS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ZS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $h(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var eM=/[\n"\\]/g;function Ir(t){return t.replace(eM,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function sp(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Rr(e)):t.value!==""+Rr(e)&&(t.value=""+Rr(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?ap(t,a,Rr(e)):n!=null?ap(t,a,Rr(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Rr(o):t.removeAttribute("name")}function eT(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+Rr(n):"",e=e!=null?""+Rr(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function ap(t,e,n){e==="number"&&$h(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function So(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tT(t,e,n){if(e!=null&&(e=""+Rr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Rr(n):""}function nT(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(Q(92));if(ql(r)){if(1<r.length)throw Error(Q(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Rr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function jo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rb(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||tM.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function rT(t,e,n){if(e!=null&&typeof e!="object")throw Error(Q(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&Rb(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&Rb(t,s,e[s])}function Hg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gh(t){return rM.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var op=null;function Fg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ho=null,To=null;function Lb(t){var e=al(t);if(e&&(t=e.stateNode)){var n=t[rr]||null;e:switch(t=e.stateNode,e.type){case"input":if(sp(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ir(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[rr]||null;if(!i)throw Error(Q(90));sp(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&JS(r)}break e;case"textarea":tT(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}}}var Wf=!1;function iT(t,e,n){if(Wf)return t(e,n);Wf=!0;try{var r=t(e);return r}finally{if(Wf=!1,(ho!==null||To!==null)&&(uf(),ho&&(e=ho,t=To,To=ho=null,Lb(e),t)))for(e=0;e<t.length;e++)Lb(t[e])}}function Cu(t,e){var n=t.stateNode;if(n===null)return null;var r=n[rr]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lp=!1;if(ji)try{var Ll={};Object.defineProperty(Ll,"passive",{get:function(){lp=!0}}),window.addEventListener("test",Ll,Ll),window.removeEventListener("test",Ll,Ll)}catch{lp=!1}var ys=null,qg=null,vh=null;function sT(){if(vh)return vh;var t,e=qg,n=e.length,r,i="value"in ys?ys.value:ys.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return vh=i.slice(t,1<r?1-r:void 0)}function yh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $c(){return!0}function Mb(){return!1}function ir(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$c:Mb,this.isPropagationStopped=Mb,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),e}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jd=ir(Na),rc=Tt({},Na,{view:0,detail:0}),iM=ir(rc),Xf,Zf,Ml,ef=Tt({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ml&&(Ml&&t.type==="mousemove"?(Xf=t.screenX-Ml.screenX,Zf=t.screenY-Ml.screenY):Zf=Xf=0,Ml=t),Xf)},movementY:function(t){return"movementY"in t?t.movementY:Zf}}),Ib=ir(ef),sM=Tt({},ef,{dataTransfer:0}),aM=ir(sM),oM=Tt({},rc,{relatedTarget:0}),Jf=ir(oM),lM=Tt({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),uM=ir(lM),cM=Tt({},Na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hM=ir(cM),dM=Tt({},Na,{data:0}),Ob=ir(dM),fM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pM[t])?!!e[t]:!1}function Gg(){return gM}var vM=Tt({},rc,{key:function(t){if(t.key){var e=fM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gg,charCode:function(t){return t.type==="keypress"?yh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yM=ir(vM),bM=Tt({},ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Db=ir(bM),_M=Tt({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gg}),EM=ir(_M),wM=Tt({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),SM=ir(wM),TM=Tt({},ef,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CM=ir(TM),xM=Tt({},Na,{newState:0,oldState:0}),AM=ir(xM),RM=[9,13,27,32],$g=ji&&"CompositionEvent"in window,nu=null;ji&&"documentMode"in document&&(nu=document.documentMode);var LM=ji&&"TextEvent"in window&&!nu,aT=ji&&(!$g||nu&&8<nu&&11>=nu),kb=" ",Pb=!1;function oT(t,e){switch(t){case"keyup":return RM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function MM(t,e){switch(t){case"compositionend":return lT(e);case"keypress":return e.which!==32?null:(Pb=!0,kb);case"textInput":return t=e.data,t===kb&&Pb?null:t;default:return null}}function IM(t,e){if(fo)return t==="compositionend"||!$g&&oT(t,e)?(t=sT(),vh=qg=ys=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aT&&e.locale!=="ko"?null:e.data;default:return null}}var OM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OM[t.type]:e==="textarea"}function uT(t,e,n,r){ho?To?To.push(r):To=[r]:ho=r,e=cd(e,"onChange"),0<e.length&&(n=new Jd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ru=null,xu=null;function DM(t){tx(t,0)}function tf(t){var e=Gl(t);if(JS(e))return t}function Vb(t,e){if(t==="change")return e}var cT=!1;if(ji){var em;if(ji){var tm="oninput"in document;if(!tm){var Ub=document.createElement("div");Ub.setAttribute("oninput","return;"),tm=typeof Ub.oninput=="function"}em=tm}else em=!1;cT=em&&(!document.documentMode||9<document.documentMode)}function jb(){ru&&(ru.detachEvent("onpropertychange",hT),xu=ru=null)}function hT(t){if(t.propertyName==="value"&&tf(xu)){var e=[];uT(e,xu,t,Fg(t)),iT(DM,e)}}function kM(t,e,n){t==="focusin"?(jb(),ru=e,xu=n,ru.attachEvent("onpropertychange",hT)):t==="focusout"&&jb()}function PM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tf(xu)}function NM(t,e){if(t==="click")return tf(e)}function VM(t,e){if(t==="input"||t==="change")return tf(e)}function UM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wr=typeof Object.is=="function"?Object.is:UM;function Au(t,e){if(wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rp.call(e,i)||!wr(t[i],e[i]))return!1}return!0}function zb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bb(t,e){var n=zb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zb(n)}}function dT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=$h(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$h(t.document)}return e}function Kg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var jM=ji&&"documentMode"in document&&11>=document.documentMode,mo=null,up=null,iu=null,cp=!1;function Hb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cp||mo==null||mo!==$h(r)||(r=mo,"selectionStart"in r&&Kg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iu&&Au(iu,r)||(iu=r,r=cd(up,"onSelect"),0<r.length&&(e=new Jd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mo)))}function ia(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var po={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},nm={},mT={};ji&&(mT=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Va(t){if(nm[t])return nm[t];if(!po[t])return t;var e=po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mT)return nm[t]=e[n];return t}var pT=Va("animationend"),gT=Va("animationiteration"),vT=Va("animationstart"),zM=Va("transitionrun"),BM=Va("transitionstart"),HM=Va("transitioncancel"),yT=Va("transitionend"),bT=new Map,hp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hp.push("scrollEnd");function Zr(t,e){bT.set(t,e),Pa(e,[t])}var Fb=new WeakMap;function Or(t,e){if(typeof t=="object"&&t!==null){var n=Fb.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ab(e)},Fb.set(t,e),e)}return{value:t,source:e,stack:Ab(e)}}var xr=[],go=0,Yg=0;function nf(){for(var t=go,e=Yg=go=0;e<t;){var n=xr[e];xr[e++]=null;var r=xr[e];xr[e++]=null;var i=xr[e];xr[e++]=null;var s=xr[e];if(xr[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&_T(n,i,s)}}function rf(t,e,n,r){xr[go++]=t,xr[go++]=e,xr[go++]=n,xr[go++]=r,Yg|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Qg(t,e,n,r){return rf(t,e,n,r),Kh(t)}function ol(t,e){return rf(t,null,null,e),Kh(t)}function _T(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-br(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function Kh(t){if(50<mu)throw mu=0,Op=null,Error(Q(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var vo={};function FM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(t,e,n,r){return new FM(t,e,n,r)}function Wg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,e){var n=t.alternate;return n===null?(n=gr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ET(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function bh(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")Wg(t)&&(a=1);else if(typeof t=="string")a=GI(t,n,ai.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Jm:return t=gr(31,n,e,i),t.elementType=Jm,t.lanes=s,t;case lo:return va(n.children,i,s,e);case zS:a=8,i|=24;break;case Wm:return t=gr(12,n,e,i|2),t.elementType=Wm,t.lanes=s,t;case Xm:return t=gr(13,n,e,i),t.elementType=Xm,t.lanes=s,t;case Zm:return t=gr(19,n,e,i),t.elementType=Zm,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DL:case Li:a=10;break e;case BS:a=9;break e;case Ng:a=11;break e;case Vg:a=14;break e;case ss:a=16,r=null;break e}a=29,n=Error(Q(130,t===null?"null":typeof t,"")),r=null}return e=gr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function va(t,e,n,r){return t=gr(7,t,r,e),t.lanes=n,t}function rm(t,e,n){return t=gr(6,t,null,e),t.lanes=n,t}function im(t,e,n){return e=gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var yo=[],bo=0,Yh=null,Qh=0,Lr=[],Mr=0,ya=null,Mi=1,Ii="";function la(t,e){yo[bo++]=Qh,yo[bo++]=Yh,Yh=t,Qh=e}function wT(t,e,n){Lr[Mr++]=Mi,Lr[Mr++]=Ii,Lr[Mr++]=ya,ya=t;var r=Mi;t=Ii;var i=32-br(r)-1;r&=~(1<<i),n+=1;var s=32-br(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Mi=1<<32-br(e)+i|n<<i|r,Ii=s+t}else Mi=1<<s|n<<i|r,Ii=t}function Xg(t){t.return!==null&&(la(t,1),wT(t,1,0))}function Zg(t){for(;t===Yh;)Yh=yo[--bo],yo[bo]=null,Qh=yo[--bo],yo[bo]=null;for(;t===ya;)ya=Lr[--Mr],Lr[Mr]=null,Ii=Lr[--Mr],Lr[Mr]=null,Mi=Lr[--Mr],Lr[Mr]=null}var qn=null,Vt=null,it=!1,ba=null,ii=!1,dp=Error(Q(519));function Ta(t){var e=Error(Q(418,""));throw Ru(Or(e,t)),dp}function qb(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Vn]=t,e[rr]=r,n){case"dialog":Fe("cancel",e),Fe("close",e);break;case"iframe":case"object":case"embed":Fe("load",e);break;case"video":case"audio":for(n=0;n<Iu.length;n++)Fe(Iu[n],e);break;case"source":Fe("error",e);break;case"img":case"image":case"link":Fe("error",e),Fe("load",e);break;case"details":Fe("toggle",e);break;case"input":Fe("invalid",e),eT(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Gh(e);break;case"select":Fe("invalid",e);break;case"textarea":Fe("invalid",e),nT(e,r.value,r.defaultValue,r.children),Gh(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||rx(e.textContent,n)?(r.popover!=null&&(Fe("beforetoggle",e),Fe("toggle",e)),r.onScroll!=null&&Fe("scroll",e),r.onScrollEnd!=null&&Fe("scrollend",e),r.onClick!=null&&(e.onclick=df),e=!0):e=!1,e||Ta(t)}function Gb(t){for(qn=t.return;qn;)switch(qn.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:qn=qn.return}}function Il(t){if(t!==qn)return!1;if(!it)return Gb(t),it=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Up(t.type,t.memoizedProps)),n=!n),n&&Vt&&Ta(t),Gb(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Vt=Qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Vt=null}}else e===27?(e=Vt,Ws(t.type)?(t=Bp,Bp=null,Vt=t):Vt=e):Vt=qn?Qr(t.stateNode.nextSibling):null;return!0}function ic(){Vt=qn=null,it=!1}function $b(){var t=ba;return t!==null&&(er===null?er=t:er.push.apply(er,t),ba=null),t}function Ru(t){ba===null?ba=[t]:ba.push(t)}var fp=yi(null),Ua=null,Oi=null;function ls(t,e,n){Lt(fp,e._currentValue),e._currentValue=n}function Vi(t){t._currentValue=fp.current,pn(fp)}function mp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pp(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),mp(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(Q(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),mp(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function sc(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(Q(387));if(a=a.memoizedProps,a!==null){var o=i.type;wr(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===Bh.current){if(a=i.alternate,a===null)throw Error(Q(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(ku):t=[ku])}i=i.return}t!==null&&pp(e,t,n,r),e.flags|=262144}function Wh(t){for(t=t.firstContext;t!==null;){if(!wr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ca(t){Ua=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Un(t){return ST(Ua,t)}function Kc(t,e){return Ua===null&&Ca(t),ST(t,e)}function ST(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Oi===null){if(t===null)throw Error(Q(308));Oi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Oi=Oi.next=e;return n}var qM=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},GM=an.unstable_scheduleCallback,$M=an.unstable_NormalPriority,tn={$$typeof:Li,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jg(){return{controller:new qM,data:new Map,refCount:0}}function ac(t){t.refCount--,t.refCount===0&&GM($M,function(){t.controller.abort()})}var su=null,gp=0,zo=0,Co=null;function KM(t,e){if(su===null){var n=su=[];gp=0,zo=wv(),Co={status:"pending",value:void 0,then:function(r){n.push(r)}}}return gp++,e.then(Kb,Kb),e}function Kb(){if(--gp===0&&su!==null){Co!==null&&(Co.status="fulfilled");var t=su;su=null,zo=0,Co=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function YM(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var Yb=xe.S;xe.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&KM(t,e),Yb!==null&&Yb(t,e)};var _a=yi(null);function ev(){var t=_a.current;return t!==null?t:bt.pooledCache}function _h(t,e){e===null?Lt(_a,_a.current):Lt(_a,e.pool)}function TT(){var t=ev();return t===null?null:{parent:tn._currentValue,pool:t}}var oc=Error(Q(460)),CT=Error(Q(474)),sf=Error(Q(542)),vp={then:function(){}};function Qb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yc(){}function xT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Yc,Yc),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Xb(t),t;default:if(typeof e.status=="string")e.then(Yc,Yc);else{if(t=bt,t!==null&&100<t.shellSuspendCounter)throw Error(Q(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Xb(t),t}throw au=e,oc}}var au=null;function Wb(){if(au===null)throw Error(Q(459));var t=au;return au=null,t}function Xb(t){if(t===oc||t===sf)throw Error(Q(483))}var as=!1;function tv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ss(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Kh(t),_T(t,null,n),e}return rf(t,r,e,n),Kh(t)}function ou(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YS(t,n)}}function sm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var bp=!1;function lu(){if(bp){var t=Co;if(t!==null)throw t}}function uu(t,e,n,r){bp=!1;var i=t.updateQueue;as=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;a=0,h=c=l=null,o=s;do{var f=o.lane&-536870913,g=f!==o.lane;if(g?(et&f)===f:(r&f)===f){f!==0&&f===zo&&(bp=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var _=t,A=o;f=e;var T=n;switch(A.tag){case 1:if(_=A.payload,typeof _=="function"){m=_.call(T,m,f);break e}m=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=A.payload,f=typeof _=="function"?_.call(T,m,f):_,f==null)break e;m=Tt({},m,f);break e;case 2:as=!0}}f=o.callback,f!==null&&(t.flags|=64,g&&(t.flags|=8192),g=i.callbacks,g===null?i.callbacks=[f]:g.push(f))}else g={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,l=m):h=h.next=g,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);h===null&&(l=m),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),Us|=a,t.lanes=a,t.memoizedState=m}}function AT(t,e){if(typeof t!="function")throw Error(Q(191,t));t.call(e)}function RT(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)AT(n[t],e)}var Bo=yi(null),Xh=yi(0);function Zb(t,e){t=Hi,Lt(Xh,t),Lt(Bo,e),Hi=t|e.baseLanes}function _p(){Lt(Xh,Hi),Lt(Bo,Bo.current)}function nv(){Hi=Xh.current,pn(Bo),pn(Xh)}var Ns=0,je=null,ft=null,$t=null,Zh=!1,xo=!1,xa=!1,Jh=0,Lu=0,Ao=null,QM=0;function zt(){throw Error(Q(321))}function rv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wr(t[n],e[n]))return!1;return!0}function iv(t,e,n,r,i,s){return Ns=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xe.H=t===null||t.memoizedState===null?sC:aC,xa=!1,s=n(r,i),xa=!1,xo&&(s=MT(e,n,r,i)),LT(t),s}function LT(t){xe.H=ed;var e=ft!==null&&ft.next!==null;if(Ns=0,$t=ft=je=null,Zh=!1,Lu=0,Ao=null,e)throw Error(Q(300));t===null||mn||(t=t.dependencies,t!==null&&Wh(t)&&(mn=!0))}function MT(t,e,n,r){je=t;var i=0;do{if(xo&&(Ao=null),Lu=0,xo=!1,25<=i)throw Error(Q(301));if(i+=1,$t=ft=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}xe.H=nI,s=e(n,r)}while(xo);return s}function WM(){var t=xe.H,e=t.useState()[0];return e=typeof e.then=="function"?lc(e):e,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(je.flags|=1024),e}function sv(){var t=Jh!==0;return Jh=0,t}function av(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ov(t){if(Zh){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Zh=!1}Ns=0,$t=ft=je=null,xo=!1,Lu=Jh=0,Ao=null}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?je.memoizedState=$t=t:$t=$t.next=t,$t}function Qt(){if(ft===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=$t===null?je.memoizedState:$t.next;if(e!==null)$t=e,ft=t;else{if(t===null)throw je.alternate===null?Error(Q(467)):Error(Q(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},$t===null?je.memoizedState=$t=t:$t=$t.next=t}return $t}function lv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lc(t){var e=Lu;return Lu+=1,Ao===null&&(Ao=[]),t=xT(Ao,t,e),e=je,($t===null?e.memoizedState:$t.next)===null&&(e=e.alternate,xe.H=e===null||e.memoizedState===null?sC:aC),t}function af(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return lc(t);if(t.$$typeof===Li)return Un(t)}throw Error(Q(438,String(t)))}function uv(t){var e=null,n=je.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=je.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=lv(),je.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=kL;return e.index++,n}function zi(t,e){return typeof e=="function"?e(t):e}function Eh(t){var e=Qt();return cv(e,ft,t)}function cv(t,e,n){var r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,l=null,c=e,h=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(et&m)===m:(Ns&m)===m){var f=c.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===zo&&(h=!0);else if((Ns&f)===f){c=c.next,f===zo&&(h=!0);continue}else m={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=m,a=s):l=l.next=m,je.lanes|=f,Us|=f;m=c.action,xa&&n(s,m),s=c.hasEagerState?c.eagerState:n(s,m)}else f={lane:m,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,a=s):l=l.next=f,je.lanes|=m,Us|=m;c=c.next}while(c!==null&&c!==e);if(l===null?a=s:l.next=o,!wr(s,t.memoizedState)&&(mn=!0,h&&(n=Co,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=l,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function am(t){var e=Qt(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);wr(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function IT(t,e,n){var r=je,i=Qt(),s=it;if(s){if(n===void 0)throw Error(Q(407));n=n()}else n=e();var a=!wr((ft||i).memoizedState,n);a&&(i.memoizedState=n,mn=!0),i=i.queue;var o=kT.bind(null,r,i,t);if(uc(2048,8,o,[t]),i.getSnapshot!==e||a||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,Ho(9,of(),DT.bind(null,r,i,n,e),null),bt===null)throw Error(Q(349));s||Ns&124||OT(r,e,n)}return n}function OT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e=lv(),je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DT(t,e,n,r){e.value=n,e.getSnapshot=r,PT(e)&&NT(t)}function kT(t,e,n){return n(function(){PT(e)&&NT(t)})}function PT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wr(t,n)}catch{return!0}}function NT(t){var e=ol(t,2);e!==null&&Er(e,t,2)}function Ep(t){var e=Zn();if(typeof t=="function"){var n=t;if(t=n(),xa){vs(!0);try{n()}finally{vs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},e}function VT(t,e,n,r){return t.baseState=n,cv(t,ft,typeof r=="function"?r:zi)}function XM(t,e,n,r,i){if(lf(t))throw Error(Q(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};xe.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,UT(e,s)):(s.next=n.next,e.pending=n.next=s)}}function UT(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=xe.T,a={};xe.T=a;try{var o=n(i,r),l=xe.S;l!==null&&l(a,o),Jb(t,e,o)}catch(c){wp(t,e,c)}finally{xe.T=s}}else try{s=n(i,r),Jb(t,e,s)}catch(c){wp(t,e,c)}}function Jb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){e_(t,e,r)},function(r){return wp(t,e,r)}):e_(t,e,n)}function e_(t,e,n){e.status="fulfilled",e.value=n,jT(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,UT(t,n)))}function wp(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,jT(e),e=e.next;while(e!==r)}t.action=null}function jT(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function zT(t,e){return e}function t_(t,e){if(it){var n=bt.formState;if(n!==null){e:{var r=je;if(it){if(Vt){t:{for(var i=Vt,s=ii;i.nodeType!==8;){if(!s){i=null;break t}if(i=Qr(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Vt=Qr(i.nextSibling),r=i.data==="F!";break e}}Ta(r)}r=!1}r&&(e=n[0])}}return n=Zn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zT,lastRenderedState:e},n.queue=r,n=nC.bind(null,je,r),r.dispatch=n,r=Ep(!1),s=mv.bind(null,je,!1,r.queue),r=Zn(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=XM.bind(null,je,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function n_(t){var e=Qt();return BT(e,ft,t)}function BT(t,e,n){if(e=cv(t,e,zT)[0],t=Eh(zi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=lc(e)}catch(a){throw a===oc?sf:a}else r=e;e=Qt();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(je.flags|=2048,Ho(9,of(),ZM.bind(null,i,n),null)),[r,s,t]}function ZM(t,e){t.action=e}function r_(t){var e=Qt(),n=ft;if(n!==null)return BT(e,n,t);Qt(),e=e.memoizedState,n=Qt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Ho(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=je.updateQueue,e===null&&(e=lv(),je.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function of(){return{destroy:void 0,resource:void 0}}function HT(){return Qt().memoizedState}function wh(t,e,n,r){var i=Zn();r=r===void 0?null:r,je.flags|=t,i.memoizedState=Ho(1|e,of(),n,r)}function uc(t,e,n,r){var i=Qt();r=r===void 0?null:r;var s=i.memoizedState.inst;ft!==null&&r!==null&&rv(r,ft.memoizedState.deps)?i.memoizedState=Ho(e,s,n,r):(je.flags|=t,i.memoizedState=Ho(1|e,s,n,r))}function i_(t,e){wh(8390656,8,t,e)}function FT(t,e){uc(2048,8,t,e)}function qT(t,e){return uc(4,2,t,e)}function GT(t,e){return uc(4,4,t,e)}function $T(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KT(t,e,n){n=n!=null?n.concat([t]):null,uc(4,4,$T.bind(null,e,t),n)}function hv(){}function YT(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&rv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QT(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&rv(e,r[1]))return r[0];if(r=t(),xa){vs(!0);try{t()}finally{vs(!1)}}return n.memoizedState=[r,e],r}function dv(t,e,n){return n===void 0||Ns&1073741824?t.memoizedState=e:(t.memoizedState=n,t=jC(),je.lanes|=t,Us|=t,n)}function WT(t,e,n,r){return wr(n,e)?n:Bo.current!==null?(t=dv(t,n,r),wr(t,e)||(mn=!0),t):Ns&42?(t=jC(),je.lanes|=t,Us|=t,e):(mn=!0,t.memoizedState=n)}function XT(t,e,n,r,i){var s=st.p;st.p=s!==0&&8>s?s:8;var a=xe.T,o={};xe.T=o,mv(t,!1,e,n);try{var l=i(),c=xe.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=YM(l,r);cu(t,e,h,_r(t))}else cu(t,e,r,_r(t))}catch(m){cu(t,e,{then:function(){},status:"rejected",reason:m},_r())}finally{st.p=s,xe.T=a}}function JM(){}function Sp(t,e,n,r){if(t.tag!==5)throw Error(Q(476));var i=ZT(t).queue;XT(t,i,e,ga,n===null?JM:function(){return JT(t),n(r)})}function ZT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ga,baseState:ga,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ga},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function JT(t){var e=ZT(t).next.queue;cu(t,e,{},_r())}function fv(){return Un(ku)}function eC(){return Qt().memoizedState}function tC(){return Qt().memoizedState}function eI(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=_r();t=Ss(n);var r=Ts(e,t,n);r!==null&&(Er(r,e,n),ou(r,e,n)),e={cache:Jg()},t.payload=e;return}e=e.return}}function tI(t,e,n){var r=_r();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},lf(t)?rC(e,n):(n=Qg(t,e,n,r),n!==null&&(Er(n,t,r),iC(n,e,r)))}function nC(t,e,n){var r=_r();cu(t,e,n,r)}function cu(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(lf(t))rC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,wr(o,a))return rf(t,e,i,0),bt===null&&nf(),!1}catch{}finally{}if(n=Qg(t,e,i,r),n!==null)return Er(n,t,r),iC(n,e,r),!0}return!1}function mv(t,e,n,r){if(r={lane:2,revertLane:wv(),action:r,hasEagerState:!1,eagerState:null,next:null},lf(t)){if(e)throw Error(Q(479))}else e=Qg(t,n,r,2),e!==null&&Er(e,t,2)}function lf(t){var e=t.alternate;return t===je||e!==null&&e===je}function rC(t,e){xo=Zh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iC(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YS(t,n)}}var ed={readContext:Un,use:af,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},sC={readContext:Un,use:af,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:i_,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,wh(4194308,4,$T.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wh(4194308,4,t,e)},useInsertionEffect:function(t,e){wh(4,2,t,e)},useMemo:function(t,e){var n=Zn();e=e===void 0?null:e;var r=t();if(xa){vs(!0);try{t()}finally{vs(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Zn();if(n!==void 0){var i=n(e);if(xa){vs(!0);try{n(e)}finally{vs(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=tI.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:function(t){t=Ep(t);var e=t.queue,n=nC.bind(null,je,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:hv,useDeferredValue:function(t,e){var n=Zn();return dv(n,t,e)},useTransition:function(){var t=Ep(!1);return t=XT.bind(null,je,t.queue,!0,!1),Zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=je,i=Zn();if(it){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),bt===null)throw Error(Q(349));et&124||OT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,i_(kT.bind(null,r,s,t),[t]),r.flags|=2048,Ho(9,of(),DT.bind(null,r,s,n,e),null),n},useId:function(){var t=Zn(),e=bt.identifierPrefix;if(it){var n=Ii,r=Mi;n=(r&~(1<<32-br(r)-1)).toString(32)+n,e=""+e+"R"+n,n=Jh++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=QM++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:fv,useFormState:t_,useActionState:t_,useOptimistic:function(t){var e=Zn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=mv.bind(null,je,!0,n),n.dispatch=e,[t,e]},useMemoCache:uv,useCacheRefresh:function(){return Zn().memoizedState=eI.bind(null,je)}},aC={readContext:Un,use:af,useCallback:YT,useContext:Un,useEffect:FT,useImperativeHandle:KT,useInsertionEffect:qT,useLayoutEffect:GT,useMemo:QT,useReducer:Eh,useRef:HT,useState:function(){return Eh(zi)},useDebugValue:hv,useDeferredValue:function(t,e){var n=Qt();return WT(n,ft.memoizedState,t,e)},useTransition:function(){var t=Eh(zi)[0],e=Qt().memoizedState;return[typeof t=="boolean"?t:lc(t),e]},useSyncExternalStore:IT,useId:eC,useHostTransitionStatus:fv,useFormState:n_,useActionState:n_,useOptimistic:function(t,e){var n=Qt();return VT(n,ft,t,e)},useMemoCache:uv,useCacheRefresh:tC},nI={readContext:Un,use:af,useCallback:YT,useContext:Un,useEffect:FT,useImperativeHandle:KT,useInsertionEffect:qT,useLayoutEffect:GT,useMemo:QT,useReducer:am,useRef:HT,useState:function(){return am(zi)},useDebugValue:hv,useDeferredValue:function(t,e){var n=Qt();return ft===null?dv(n,t,e):WT(n,ft.memoizedState,t,e)},useTransition:function(){var t=am(zi)[0],e=Qt().memoizedState;return[typeof t=="boolean"?t:lc(t),e]},useSyncExternalStore:IT,useId:eC,useHostTransitionStatus:fv,useFormState:r_,useActionState:r_,useOptimistic:function(t,e){var n=Qt();return ft!==null?VT(n,ft,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:uv,useCacheRefresh:tC},Ro=null,Mu=0;function Qc(t){var e=Mu;return Mu+=1,Ro===null&&(Ro=[]),xT(Ro,t,e)}function Ol(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Wc(t,e){throw e.$$typeof===OL?Error(Q(525)):(t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function s_(t){var e=t._init;return e(t._payload)}function oC(t){function e(b,v){if(t){var C=b.deletions;C===null?(b.deletions=[v],b.flags|=16):C.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(b,v){return b=Ni(b,v),b.index=0,b.sibling=null,b}function s(b,v,C){return b.index=C,t?(C=b.alternate,C!==null?(C=C.index,C<v?(b.flags|=67108866,v):C):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function a(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function o(b,v,C,R){return v===null||v.tag!==6?(v=rm(C,b.mode,R),v.return=b,v):(v=i(v,C),v.return=b,v)}function l(b,v,C,R){var k=C.type;return k===lo?h(b,v,C.props.children,R,C.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ss&&s_(k)===v.type)?(v=i(v,C.props),Ol(v,C),v.return=b,v):(v=bh(C.type,C.key,C.props,null,b.mode,R),Ol(v,C),v.return=b,v)}function c(b,v,C,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==C.containerInfo||v.stateNode.implementation!==C.implementation?(v=im(C,b.mode,R),v.return=b,v):(v=i(v,C.children||[]),v.return=b,v)}function h(b,v,C,R,k){return v===null||v.tag!==7?(v=va(C,b.mode,R,k),v.return=b,v):(v=i(v,C),v.return=b,v)}function m(b,v,C){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=rm(""+v,b.mode,C),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hc:return C=bh(v.type,v.key,v.props,null,b.mode,C),Ol(C,v),C.return=b,C;case Fl:return v=im(v,b.mode,C),v.return=b,v;case ss:var R=v._init;return v=R(v._payload),m(b,v,C)}if(ql(v)||Rl(v))return v=va(v,b.mode,C,null),v.return=b,v;if(typeof v.then=="function")return m(b,Qc(v),C);if(v.$$typeof===Li)return m(b,Kc(b,v),C);Wc(b,v)}return null}function f(b,v,C,R){var k=v!==null?v.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return k!==null?null:o(b,v,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Hc:return C.key===k?l(b,v,C,R):null;case Fl:return C.key===k?c(b,v,C,R):null;case ss:return k=C._init,C=k(C._payload),f(b,v,C,R)}if(ql(C)||Rl(C))return k!==null?null:h(b,v,C,R,null);if(typeof C.then=="function")return f(b,v,Qc(C),R);if(C.$$typeof===Li)return f(b,v,Kc(b,C),R);Wc(b,C)}return null}function g(b,v,C,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return b=b.get(C)||null,o(v,b,""+R,k);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Hc:return b=b.get(R.key===null?C:R.key)||null,l(v,b,R,k);case Fl:return b=b.get(R.key===null?C:R.key)||null,c(v,b,R,k);case ss:var L=R._init;return R=L(R._payload),g(b,v,C,R,k)}if(ql(R)||Rl(R))return b=b.get(C)||null,h(v,b,R,k,null);if(typeof R.then=="function")return g(b,v,C,Qc(R),k);if(R.$$typeof===Li)return g(b,v,C,Kc(v,R),k);Wc(v,R)}return null}function _(b,v,C,R){for(var k=null,L=null,S=v,E=v=0,w=null;S!==null&&E<C.length;E++){S.index>E?(w=S,S=null):w=S.sibling;var M=f(b,S,C[E],R);if(M===null){S===null&&(S=w);break}t&&S&&M.alternate===null&&e(b,S),v=s(M,v,E),L===null?k=M:L.sibling=M,L=M,S=w}if(E===C.length)return n(b,S),it&&la(b,E),k;if(S===null){for(;E<C.length;E++)S=m(b,C[E],R),S!==null&&(v=s(S,v,E),L===null?k=S:L.sibling=S,L=S);return it&&la(b,E),k}for(S=r(S);E<C.length;E++)w=g(S,b,E,C[E],R),w!==null&&(t&&w.alternate!==null&&S.delete(w.key===null?E:w.key),v=s(w,v,E),L===null?k=w:L.sibling=w,L=w);return t&&S.forEach(function(I){return e(b,I)}),it&&la(b,E),k}function A(b,v,C,R){if(C==null)throw Error(Q(151));for(var k=null,L=null,S=v,E=v=0,w=null,M=C.next();S!==null&&!M.done;E++,M=C.next()){S.index>E?(w=S,S=null):w=S.sibling;var I=f(b,S,M.value,R);if(I===null){S===null&&(S=w);break}t&&S&&I.alternate===null&&e(b,S),v=s(I,v,E),L===null?k=I:L.sibling=I,L=I,S=w}if(M.done)return n(b,S),it&&la(b,E),k;if(S===null){for(;!M.done;E++,M=C.next())M=m(b,M.value,R),M!==null&&(v=s(M,v,E),L===null?k=M:L.sibling=M,L=M);return it&&la(b,E),k}for(S=r(S);!M.done;E++,M=C.next())M=g(S,b,E,M.value,R),M!==null&&(t&&M.alternate!==null&&S.delete(M.key===null?E:M.key),v=s(M,v,E),L===null?k=M:L.sibling=M,L=M);return t&&S.forEach(function(P){return e(b,P)}),it&&la(b,E),k}function T(b,v,C,R){if(typeof C=="object"&&C!==null&&C.type===lo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Hc:e:{for(var k=C.key;v!==null;){if(v.key===k){if(k=C.type,k===lo){if(v.tag===7){n(b,v.sibling),R=i(v,C.props.children),R.return=b,b=R;break e}}else if(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ss&&s_(k)===v.type){n(b,v.sibling),R=i(v,C.props),Ol(R,C),R.return=b,b=R;break e}n(b,v);break}else e(b,v);v=v.sibling}C.type===lo?(R=va(C.props.children,b.mode,R,C.key),R.return=b,b=R):(R=bh(C.type,C.key,C.props,null,b.mode,R),Ol(R,C),R.return=b,b=R)}return a(b);case Fl:e:{for(k=C.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===C.containerInfo&&v.stateNode.implementation===C.implementation){n(b,v.sibling),R=i(v,C.children||[]),R.return=b,b=R;break e}else{n(b,v);break}else e(b,v);v=v.sibling}R=im(C,b.mode,R),R.return=b,b=R}return a(b);case ss:return k=C._init,C=k(C._payload),T(b,v,C,R)}if(ql(C))return _(b,v,C,R);if(Rl(C)){if(k=Rl(C),typeof k!="function")throw Error(Q(150));return C=k.call(C),A(b,v,C,R)}if(typeof C.then=="function")return T(b,v,Qc(C),R);if(C.$$typeof===Li)return T(b,v,Kc(b,C),R);Wc(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,v!==null&&v.tag===6?(n(b,v.sibling),R=i(v,C),R.return=b,b=R):(n(b,v),R=rm(C,b.mode,R),R.return=b,b=R),a(b)):n(b,v)}return function(b,v,C,R){try{Mu=0;var k=T(b,v,C,R);return Ro=null,k}catch(S){if(S===oc||S===sf)throw S;var L=gr(29,S,null,b.mode);return L.lanes=R,L.return=b,L}finally{}}}var Fo=oC(!0),lC=oC(!1),Ur=yi(null),li=null;function us(t){var e=t.alternate;Lt(nn,nn.current&1),Lt(Ur,t),li===null&&(e===null||Bo.current!==null||e.memoizedState!==null)&&(li=t)}function uC(t){if(t.tag===22){if(Lt(nn,nn.current),Lt(Ur,t),li===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(li=t)}}else cs()}function cs(){Lt(nn,nn.current),Lt(Ur,Ur.current)}function Di(t){pn(Ur),li===t&&(li=null),pn(nn)}var nn=yi(0);function td(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||zp(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function om(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tp={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_r(),i=Ss(r);i.payload=e,n!=null&&(i.callback=n),e=Ts(t,i,r),e!==null&&(Er(e,t,r),ou(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_r(),i=Ss(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ts(t,i,r),e!==null&&(Er(e,t,r),ou(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_r(),r=Ss(n);r.tag=2,e!=null&&(r.callback=e),e=Ts(t,r,n),e!==null&&(Er(e,t,n),ou(e,t,n))}};function a_(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Au(n,r)||!Au(i,s):!0}function o_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tp.enqueueReplaceState(e,e.state,null)}function Aa(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Tt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var nd=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function cC(t){nd(t)}function hC(t){console.error(t)}function dC(t){nd(t)}function rd(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function l_(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Cp(t,e,n){return n=Ss(n),n.tag=3,n.payload={element:null},n.callback=function(){rd(t,e)},n}function fC(t){return t=Ss(t),t.tag=3,t}function mC(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){l_(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){l_(e,n,r),typeof i!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function rI(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&sc(e,n,i,!0),n=Ur.current,n!==null){switch(n.tag){case 13:return li===null?Dp():n.alternate===null&&Ut===0&&(Ut=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===vp?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),ym(t,r,i)),!1;case 22:return n.flags|=65536,r===vp?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),ym(t,r,i)),!1}throw Error(Q(435,n.tag))}return ym(t,r,i),Dp(),!1}if(it)return e=Ur.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==dp&&(t=Error(Q(422),{cause:r}),Ru(Or(t,n)))):(r!==dp&&(e=Error(Q(423),{cause:r}),Ru(Or(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Or(r,n),i=Cp(t.stateNode,r,i),sm(t,i),Ut!==4&&(Ut=2)),!1;var s=Error(Q(520),{cause:r});if(s=Or(s,n),fu===null?fu=[s]:fu.push(s),Ut!==4&&(Ut=2),e===null)return!0;r=Or(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Cp(n.stateNode,r,t),sm(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Cs===null||!Cs.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=fC(i),mC(i,t,n,r),sm(n,i),!1}n=n.return}while(n!==null);return!1}var pC=Error(Q(461)),mn=!1;function wn(t,e,n,r){e.child=t===null?lC(e,null,n,r):Fo(e,t.child,n,r)}function u_(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return Ca(e),r=iv(t,e,n,a,s,i),o=sv(),t!==null&&!mn?(av(t,e,i),Bi(t,e,i)):(it&&o&&Xg(e),e.flags|=1,wn(t,e,r,i),e.child)}function c_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wg(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,gC(t,e,s,r,i)):(t=bh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!pv(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Au,n(a,r)&&t.ref===e.ref)return Bi(t,e,i)}return e.flags|=1,t=Ni(s,r),t.ref=e.ref,t.return=e,e.child=t}function gC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Au(s,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=s,pv(t,i))t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,Bi(t,e,i)}return xp(t,e,n,r,i)}function vC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return h_(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&_h(e,s!==null?s.cachePool:null),s!==null?Zb(e,s):_p(),uC(e);else return e.lanes=e.childLanes=536870912,h_(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(_h(e,s.cachePool),Zb(e,s),cs(),e.memoizedState=null):(t!==null&&_h(e,null),_p(),cs());return wn(t,e,i,n),e.child}function h_(t,e,n,r){var i=ev();return i=i===null?null:{parent:tn._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&_h(e,null),_p(),uC(e),t!==null&&sc(t,e,r,!0),null}function Sh(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Q(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function xp(t,e,n,r,i){return Ca(e),n=iv(t,e,n,r,void 0,i),r=sv(),t!==null&&!mn?(av(t,e,i),Bi(t,e,i)):(it&&r&&Xg(e),e.flags|=1,wn(t,e,n,i),e.child)}function d_(t,e,n,r,i,s){return Ca(e),e.updateQueue=null,n=MT(e,r,n,i),LT(t),r=sv(),t!==null&&!mn?(av(t,e,s),Bi(t,e,s)):(it&&r&&Xg(e),e.flags|=1,wn(t,e,n,s),e.child)}function f_(t,e,n,r,i){if(Ca(e),e.stateNode===null){var s=vo,a=n.contextType;typeof a=="object"&&a!==null&&(s=Un(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Tp,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},tv(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?Un(a):vo,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(om(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Tp.enqueueReplaceState(s,s.state,null),uu(e,r,s,i),lu(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,l=Aa(n,o);s.props=l;var c=s.context,h=n.contextType;a=vo,typeof h=="object"&&h!==null&&(a=Un(h));var m=n.getDerivedStateFromProps;h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||c!==a)&&o_(e,s,r,a),as=!1;var f=e.memoizedState;s.state=f,uu(e,r,s,i),lu(),c=e.memoizedState,o||f!==c||as?(typeof m=="function"&&(om(e,n,m,r),c=e.memoizedState),(l=as||a_(e,n,l,r,f,c,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,yp(t,e),a=e.memoizedProps,h=Aa(n,a),s.props=h,m=e.pendingProps,f=s.context,c=n.contextType,l=vo,typeof c=="object"&&c!==null&&(l=Un(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||f!==l)&&o_(e,s,r,l),as=!1,f=e.memoizedState,s.state=f,uu(e,r,s,i),lu();var g=e.memoizedState;a!==m||f!==g||as||t!==null&&t.dependencies!==null&&Wh(t.dependencies)?(typeof o=="function"&&(om(e,n,o,r),g=e.memoizedState),(h=as||a_(e,n,h,r,f,g,l)||t!==null&&t.dependencies!==null&&Wh(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=h):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,Sh(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=Fo(e,t.child,null,i),e.child=Fo(e,null,n,i)):wn(t,e,n,i),e.memoizedState=s.state,t=e.child):t=Bi(t,e,i),t}function m_(t,e,n,r){return ic(),e.flags|=256,wn(t,e,n,r),e.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(t){return{baseLanes:t,cachePool:TT()}}function cm(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Pr),t}function yC(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(nn.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(it){if(i?us(e):cs(),it){var o=Vt,l;if(l=o){e:{for(l=o,o=ii;l.nodeType!==8;){if(!o){o=null;break e}if(l=Qr(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:ya!==null?{id:Mi,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},l=gr(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,qn=e,Vt=null,l=!0):l=!1}l||Ta(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return zp(o)?e.lanes=32:e.lanes=536870912,null;Di(e)}return o=r.children,r=r.fallback,i?(cs(),i=e.mode,o=id({mode:"hidden",children:o},i),r=va(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,i=e.child,i.memoizedState=um(n),i.childLanes=cm(t,a,n),e.memoizedState=lm,r):(us(e),Ap(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(us(e),e.flags&=-257,e=hm(t,e,n)):e.memoizedState!==null?(cs(),e.child=t.child,e.flags|=128,e=null):(cs(),i=r.fallback,o=e.mode,r=id({mode:"visible",children:r.children},o),i=va(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Fo(e,t.child,null,n),r=e.child,r.memoizedState=um(n),r.childLanes=cm(t,a,n),e.memoizedState=lm,e=i);else if(us(e),zp(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(Q(419)),r.stack="",r.digest=a,Ru({value:r,source:null,stack:null}),e=hm(t,e,n)}else if(mn||sc(t,e,n,!1),a=(n&t.childLanes)!==0,mn||a){if(a=bt,a!==null&&(r=n&-n,r=r&42?1:jg(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,ol(t,r),Er(a,t,r),pC;o.data==="$?"||Dp(),e=hm(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Vt=Qr(o.nextSibling),qn=e,it=!0,ba=null,ii=!1,t!==null&&(Lr[Mr++]=Mi,Lr[Mr++]=Ii,Lr[Mr++]=ya,Mi=t.id,Ii=t.overflow,ya=e),e=Ap(e,r.children),e.flags|=4096);return e}return i?(cs(),i=r.fallback,o=e.mode,l=t.child,c=l.sibling,r=Ni(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?i=Ni(c,i):(i=va(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o===null?o=um(n):(l=o.cachePool,l!==null?(c=tn._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=TT(),o={baseLanes:o.baseLanes|n,cachePool:l}),i.memoizedState=o,i.childLanes=cm(t,a,n),e.memoizedState=lm,r):(us(e),n=t.child,t=n.sibling,n=Ni(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Ap(t,e){return e=id({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function id(t,e){return t=gr(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function hm(t,e,n){return Fo(e,t.child,null,n),t=Ap(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mp(t.return,e,n)}function dm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function bC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wn(t,e,r.children,n),r=nn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p_(t,n,e);else if(t.tag===19)p_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Lt(nn,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&td(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),dm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&td(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}dm(e,!0,n,null,s);break;case"together":dm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Us|=e.lanes,!(n&e.childLanes))if(t!==null){if(sc(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pv(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Wh(t)))}function iI(t,e,n){switch(e.tag){case 3:Hh(e,e.stateNode.containerInfo),ls(e,tn,t.memoizedState.cache),ic();break;case 27:case 5:np(e);break;case 4:Hh(e,e.stateNode.containerInfo);break;case 10:ls(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(us(e),e.flags|=128,null):n&e.child.childLanes?yC(t,e,n):(us(e),t=Bi(t,e,n),t!==null?t.sibling:null);us(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(sc(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return bC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Lt(nn,nn.current),r)break;return null;case 22:case 23:return e.lanes=0,vC(t,e,n);case 24:ls(e,tn,t.memoizedState.cache)}return Bi(t,e,n)}function _C(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)mn=!0;else{if(!pv(t,n)&&!(e.flags&128))return mn=!1,iI(t,e,n);mn=!!(t.flags&131072)}else mn=!1,it&&e.flags&1048576&&wT(e,Qh,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")Wg(r)?(t=Aa(r,t),e.tag=1,e=f_(null,e,r,t,n)):(e.tag=0,e=xp(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===Ng){e.tag=11,e=u_(null,e,r,t,n);break e}else if(i===Vg){e.tag=14,e=c_(null,e,r,t,n);break e}}throw e=ep(r)||r,Error(Q(306,e,""))}}return e;case 0:return xp(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Aa(r,e.pendingProps),f_(t,e,r,i,n);case 3:e:{if(Hh(e,e.stateNode.containerInfo),t===null)throw Error(Q(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,yp(t,e),uu(e,r,null,n);var a=e.memoizedState;if(r=a.cache,ls(e,tn,r),r!==s.cache&&pp(e,[tn],n,!0),lu(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=m_(t,e,r,n);break e}else if(r!==i){i=Or(Error(Q(424)),e),Ru(i),e=m_(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Vt=Qr(t.firstChild),qn=e,it=!0,ba=null,ii=!0,n=lC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ic(),r===i){e=Bi(t,e,n);break e}wn(t,e,r,n)}e=e.child}return e;case 26:return Sh(t,e),t===null?(n=O_(e.type,null,e.pendingProps,null))?e.memoizedState=n:it||(n=e.type,t=e.pendingProps,r=hd(ws.current).createElement(n),r[Vn]=e,r[rr]=t,An(r,n,t),fn(r),e.stateNode=r):e.memoizedState=O_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return np(e),t===null&&it&&(r=e.stateNode=ax(e.type,e.pendingProps,ws.current),qn=e,ii=!0,i=Vt,Ws(e.type)?(Bp=i,Vt=Qr(r.firstChild)):Vt=i),wn(t,e,e.pendingProps.children,n),Sh(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&it&&((i=r=Vt)&&(r=OI(r,e.type,e.pendingProps,ii),r!==null?(e.stateNode=r,qn=e,Vt=Qr(r.firstChild),ii=!1,i=!0):i=!1),i||Ta(e)),np(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,Up(i,s)?r=null:a!==null&&Up(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=iv(t,e,WM,null,null,n),ku._currentValue=i),Sh(t,e),wn(t,e,r,n),e.child;case 6:return t===null&&it&&((t=n=Vt)&&(n=DI(n,e.pendingProps,ii),n!==null?(e.stateNode=n,qn=e,Vt=null,t=!0):t=!1),t||Ta(e)),null;case 13:return yC(t,e,n);case 4:return Hh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):wn(t,e,r,n),e.child;case 11:return u_(t,e,e.type,e.pendingProps,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,ls(e,e.type,r.value),wn(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Ca(e),i=Un(i),r=r(i),e.flags|=1,wn(t,e,r,n),e.child;case 14:return c_(t,e,e.type,e.pendingProps,n);case 15:return gC(t,e,e.type,e.pendingProps,n);case 19:return bC(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=id(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Ni(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return vC(t,e,n);case 24:return Ca(e),r=Un(tn),t===null?(i=ev(),i===null&&(i=bt,s=Jg(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},tv(e),ls(e,tn,i)):(t.lanes&n&&(yp(t,e),uu(e,null,null,n),lu()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),ls(e,tn,r)):(r=s.cache,ls(e,tn,r),r!==i.cache&&pp(e,[tn],n,!0))),wn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Q(156,e.tag))}function Ti(t){t.flags|=4}function g_(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!ux(e)){if(e=Ur.current,e!==null&&((et&4194048)===et?li!==null:(et&62914560)!==et&&!(et&536870912)||e!==li))throw au=vp,CT;t.flags|=8192}}function Xc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?$S():536870912,t.lanes|=e,qo|=e)}function Dl(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sI(t,e,n){var r=e.pendingProps;switch(Zg(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return It(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Vi(tn),Vo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Il(e)?Ti(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$b())),It(e),null;case 26:return n=e.memoizedState,t===null?(Ti(e),n!==null?(It(e),g_(e,n)):(It(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Ti(e),It(e),g_(e,n)):(It(e),e.flags&=-16777217):(t.memoizedProps!==r&&Ti(e),It(e),e.flags&=-16777217),null;case 27:Fh(e),n=ws.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ti(e);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return It(e),null}t=ai.current,Il(e)?qb(e):(t=ax(i,r,n),e.stateNode=t,Ti(e))}return It(e),null;case 5:if(Fh(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ti(e);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return It(e),null}if(t=ai.current,Il(e))qb(e);else{switch(i=hd(ws.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[Vn]=e,t[rr]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(An(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ti(e)}}return It(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ti(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(t=ws.current,Il(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=qn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Vn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||rx(t.nodeValue,n)),t||Ta(e)}else t=hd(t).createTextNode(r),t[Vn]=e,e.stateNode=t}return It(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Il(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Vn]=e}else ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),i=!1}else i=$b(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Di(e),e):(Di(e),null)}if(Di(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Xc(e,e.updateQueue),It(e),null;case 4:return Vo(),t===null&&Sv(e.stateNode.containerInfo),It(e),null;case 10:return Vi(e.type),It(e),null;case 19:if(pn(nn),i=e.memoizedState,i===null)return It(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Dl(i,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=td(t),s!==null){for(e.flags|=128,Dl(i,!1),t=s.updateQueue,e.updateQueue=t,Xc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)ET(n,t),n=n.sibling;return Lt(nn,nn.current&1|2),e.child}t=t.sibling}i.tail!==null&&oi()>ad&&(e.flags|=128,r=!0,Dl(i,!1),e.lanes=4194304)}else{if(!r)if(t=td(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Xc(e,t),Dl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!it)return It(e),null}else 2*oi()-i.renderingStartTime>ad&&n!==536870912&&(e.flags|=128,r=!0,Dl(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oi(),e.sibling=null,t=nn.current,Lt(nn,r?t&1|2:t&1),e):(It(e),null);case 22:case 23:return Di(e),nv(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),n=e.updateQueue,n!==null&&Xc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&pn(_a),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Vi(tn),It(e),null;case 25:return null;case 30:return null}throw Error(Q(156,e.tag))}function aI(t,e){switch(Zg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vi(tn),Vo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Fh(e),null;case 13:if(Di(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));ic()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pn(nn),null;case 4:return Vo(),null;case 10:return Vi(e.type),null;case 22:case 23:return Di(e),nv(),t!==null&&pn(_a),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Vi(tn),null;case 25:return null;default:return null}}function EC(t,e){switch(Zg(e),e.tag){case 3:Vi(tn),Vo();break;case 26:case 27:case 5:Fh(e);break;case 4:Vo();break;case 13:Di(e);break;case 19:pn(nn);break;case 10:Vi(e.type);break;case 22:case 23:Di(e),nv(),t!==null&&pn(_a);break;case 24:Vi(tn)}}function cc(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){vt(e,e.return,o)}}function Vs(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var l=n,c=o;try{c()}catch(h){vt(i,l,h)}}}r=r.next}while(r!==s)}}catch(h){vt(e,e.return,h)}}function wC(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{RT(e,n)}catch(r){vt(t,t.return,r)}}}function SC(t,e,n){n.props=Aa(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){vt(t,e,r)}}function hu(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){vt(t,e,i)}}function si(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){vt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){vt(t,e,i)}else n.current=null}function TC(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){vt(t,t.return,i)}}function fm(t,e,n){try{var r=t.stateNode;AI(r,t.type,n,e),r[rr]=e}catch(i){vt(t,t.return,i)}}function CC(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ws(t.type)||t.tag===4}function mm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=df));else if(r!==4&&(r===27&&Ws(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Rp(t,e,n),t=t.sibling;t!==null;)Rp(t,e,n),t=t.sibling}function sd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Ws(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(sd(t,e,n),t=t.sibling;t!==null;)sd(t,e,n),t=t.sibling}function xC(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);An(e,r,n),e[Vn]=t,e[rr]=n}catch(s){vt(t,t.return,s)}}var Ai=!1,Bt=!1,pm=!1,v_=typeof WeakSet=="function"?WeakSet:Set,dn=null;function oI(t,e){if(t=t.containerInfo,Np=pd,t=fT(t),Kg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,h=0,m=t,f=null;t:for(;;){for(var g;m!==n||i!==0&&m.nodeType!==3||(o=a+i),m!==s||r!==0&&m.nodeType!==3||(l=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(g=m.firstChild)!==null;)f=m,m=g;for(;;){if(m===t)break t;if(f===n&&++c===i&&(o=a),f===s&&++h===r&&(l=a),(g=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vp={focusedElem:t,selectionRange:n},pd=!1,dn=e;dn!==null;)if(e=dn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,dn=t;else for(;dn!==null;){switch(e=dn,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var _=Aa(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(_,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(A){vt(n,n.return,A)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)jp(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Q(163))}if(t=e.sibling,t!==null){t.return=e.return,dn=t;break}dn=e.return}}function AC(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ji(t,n),r&4&&cc(5,n);break;case 1:if(Ji(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){vt(n,n.return,a)}else{var i=Aa(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){vt(n,n.return,a)}}r&64&&wC(n),r&512&&hu(n,n.return);break;case 3:if(Ji(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{RT(t,e)}catch(a){vt(n,n.return,a)}}break;case 27:e===null&&r&4&&xC(n);case 26:case 5:Ji(t,n),e===null&&r&4&&TC(n),r&512&&hu(n,n.return);break;case 12:Ji(t,n);break;case 13:Ji(t,n),r&4&&MC(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=gI.bind(null,n),kI(t,n))));break;case 22:if(r=n.memoizedState!==null||Ai,!r){e=e!==null&&e.memoizedState!==null||Bt,i=Ai;var s=Bt;Ai=r,(Bt=e)&&!s?ns(t,n,(n.subtreeFlags&8772)!==0):Ji(t,n),Ai=i,Bt=s}break;case 30:break;default:Ji(t,n)}}function RC(t){var e=t.alternate;e!==null&&(t.alternate=null,RC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Bg(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Jn=!1;function Ci(t,e,n){for(n=n.child;n!==null;)LC(t,e,n),n=n.sibling}function LC(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Ju,n)}catch{}switch(n.tag){case 26:Bt||si(n,e),Ci(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Bt||si(n,e);var r=At,i=Jn;Ws(n.type)&&(At=n.stateNode,Jn=!1),Ci(t,e,n),pu(n.stateNode),At=r,Jn=i;break;case 5:Bt||si(n,e);case 6:if(r=At,i=Jn,At=null,Ci(t,e,n),At=r,Jn=i,At!==null)if(Jn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(n.stateNode)}catch(s){vt(n,e,s)}else try{At.removeChild(n.stateNode)}catch(s){vt(n,e,s)}break;case 18:At!==null&&(Jn?(t=At,L_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Vu(t)):L_(At,n.stateNode));break;case 4:r=At,i=Jn,At=n.stateNode.containerInfo,Jn=!0,Ci(t,e,n),At=r,Jn=i;break;case 0:case 11:case 14:case 15:Bt||Vs(2,n,e),Bt||Vs(4,n,e),Ci(t,e,n);break;case 1:Bt||(si(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&SC(n,e,r)),Ci(t,e,n);break;case 21:Ci(t,e,n);break;case 22:Bt=(r=Bt)||n.memoizedState!==null,Ci(t,e,n),Bt=r;break;default:Ci(t,e,n)}}function MC(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vu(t)}catch(n){vt(e,e.return,n)}}function lI(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new v_),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new v_),e;default:throw Error(Q(435,t.tag))}}function gm(t,e){var n=lI(t);e.forEach(function(r){var i=vI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Ws(o.type)){At=o.stateNode,Jn=!1;break e}break;case 5:At=o.stateNode,Jn=!1;break e;case 3:case 4:At=o.stateNode.containerInfo,Jn=!0;break e}o=o.return}if(At===null)throw Error(Q(160));LC(s,a,i),At=null,Jn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)IC(e,t),e=e.sibling}var Kr=null;function IC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ur(e,t),cr(t),r&4&&(Vs(3,t,t.return),cc(3,t),Vs(5,t,t.return));break;case 1:ur(e,t),cr(t),r&512&&(Bt||n===null||si(n,n.return)),r&64&&Ai&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Kr;if(ur(e,t),cr(t),r&512&&(Bt||n===null||si(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[nc]||s[Vn]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),An(s,r,n),s[Vn]=t,fn(s),r=s;break e;case"link":var a=k_("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),An(s,r,n),i.head.appendChild(s);break;case"meta":if(a=k_("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),An(s,r,n),i.head.appendChild(s);break;default:throw Error(Q(468,r))}s[Vn]=t,fn(s),r=s}t.stateNode=r}else P_(i,t.type,t.stateNode);else t.stateNode=D_(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?P_(i,t.type,t.stateNode):D_(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&fm(t,t.memoizedProps,n.memoizedProps)}break;case 27:ur(e,t),cr(t),r&512&&(Bt||n===null||si(n,n.return)),n!==null&&r&4&&fm(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ur(e,t),cr(t),r&512&&(Bt||n===null||si(n,n.return)),t.flags&32){i=t.stateNode;try{jo(i,"")}catch(g){vt(t,t.return,g)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,fm(t,i,n!==null?n.memoizedProps:i)),r&1024&&(pm=!0);break;case 6:if(ur(e,t),cr(t),r&4){if(t.stateNode===null)throw Error(Q(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(g){vt(t,t.return,g)}}break;case 3:if(xh=null,i=Kr,Kr=dd(e.containerInfo),ur(e,t),Kr=i,cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vu(e.containerInfo)}catch(g){vt(t,t.return,g)}pm&&(pm=!1,OC(t));break;case 4:r=Kr,Kr=dd(t.stateNode.containerInfo),ur(e,t),cr(t),Kr=r;break;case 12:ur(e,t),cr(t);break;case 13:ur(e,t),cr(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(_v=oi()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,gm(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Ai,h=Bt;if(Ai=c||i,Bt=h||l,ur(e,t),Bt=h,Ai=c,cr(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Ai||Bt||ua(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(s=l.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var m=l.memoizedProps.style,f=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(g){vt(l,l.return,g)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){vt(l,l.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,gm(t,n))));break;case 19:ur(e,t),cr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,gm(t,r)));break;case 30:break;case 21:break;default:ur(e,t),cr(t)}}function cr(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(CC(r)){n=r;break}r=r.return}if(n==null)throw Error(Q(160));switch(n.tag){case 27:var i=n.stateNode,s=mm(t);sd(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(jo(a,""),n.flags&=-33);var o=mm(t);sd(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=mm(t);Rp(t,c,l);break;default:throw Error(Q(161))}}catch(h){vt(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OC(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;OC(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ji(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)AC(t,e.alternate,e),e=e.sibling}function ua(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Vs(4,e,e.return),ua(e);break;case 1:si(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&SC(e,e.return,n),ua(e);break;case 27:pu(e.stateNode);case 26:case 5:si(e,e.return),ua(e);break;case 22:e.memoizedState===null&&ua(e);break;case 30:ua(e);break;default:ua(e)}t=t.sibling}}function ns(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:ns(i,s,n),cc(4,s);break;case 1:if(ns(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){vt(r,r.return,c)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)AT(l[i],o)}catch(c){vt(r,r.return,c)}}n&&a&64&&wC(s),hu(s,s.return);break;case 27:xC(s);case 26:case 5:ns(i,s,n),n&&r===null&&a&4&&TC(s),hu(s,s.return);break;case 12:ns(i,s,n);break;case 13:ns(i,s,n),n&&a&4&&MC(i,s);break;case 22:s.memoizedState===null&&ns(i,s,n),hu(s,s.return);break;case 30:break;default:ns(i,s,n)}e=e.sibling}}function gv(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ac(n))}function vv(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ac(t))}function ni(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)DC(t,e,n,r),e=e.sibling}function DC(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:ni(t,e,n,r),i&2048&&cc(9,e);break;case 1:ni(t,e,n,r);break;case 3:ni(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ac(t)));break;case 12:if(i&2048){ni(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){vt(e,e.return,l)}}else ni(t,e,n,r);break;case 13:ni(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?ni(t,e,n,r):du(t,e):s._visibility&2?ni(t,e,n,r):(s._visibility|=2,to(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&gv(a,e);break;case 24:ni(t,e,n,r),i&2048&&vv(e.alternate,e);break;default:ni(t,e,n,r)}}function to(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:to(s,a,o,l,i),cc(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?to(s,a,o,l,i):du(s,a):(h._visibility|=2,to(s,a,o,l,i)),i&&c&2048&&gv(a.alternate,a);break;case 24:to(s,a,o,l,i),i&&c&2048&&vv(a.alternate,a);break;default:to(s,a,o,l,i)}e=e.sibling}}function du(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:du(n,r),i&2048&&gv(r.alternate,r);break;case 24:du(n,r),i&2048&&vv(r.alternate,r);break;default:du(n,r)}e=e.sibling}}var $l=8192;function Qa(t){if(t.subtreeFlags&$l)for(t=t.child;t!==null;)kC(t),t=t.sibling}function kC(t){switch(t.tag){case 26:Qa(t),t.flags&$l&&t.memoizedState!==null&&KI(Kr,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var e=Kr;Kr=dd(t.stateNode.containerInfo),Qa(t),Kr=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=$l,$l=16777216,Qa(t),$l=e):Qa(t));break;default:Qa(t)}}function PC(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function kl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];dn=r,VC(r,t)}PC(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)NC(t),t=t.sibling}function NC(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&Vs(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Th(t)):kl(t);break;default:kl(t)}}function Th(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];dn=r,VC(r,t)}PC(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Vs(8,e,e.return),Th(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Th(e));break;default:Th(e)}t=t.sibling}}function VC(t,e){for(;dn!==null;){var n=dn;switch(n.tag){case 0:case 11:case 15:Vs(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ac(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,dn=r;else e:for(n=t;dn!==null;){r=dn;var i=r.sibling,s=r.return;if(RC(r),r===n){dn=null;break e}if(i!==null){i.return=s,dn=i;break e}dn=s}}}var uI={getCacheForType:function(t){var e=Un(tn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},cI=typeof WeakMap=="function"?WeakMap:Map,ct=0,bt=null,qe=null,et=0,ut=0,hr=null,bs=!1,ll=!1,yv=!1,Hi=0,Ut=0,Us=0,Ea=0,bv=0,Pr=0,qo=0,fu=null,er=null,Lp=!1,_v=0,ad=1/0,od=null,Cs=null,Cn=0,xs=null,Go=null,Lo=0,Mp=0,Ip=null,UC=null,mu=0,Op=null;function _r(){if(ct&2&&et!==0)return et&-et;if(xe.T!==null){var t=zo;return t!==0?t:wv()}return QS()}function jC(){Pr===0&&(Pr=!(et&536870912)||it?GS():536870912);var t=Ur.current;return t!==null&&(t.flags|=32),Pr}function Er(t,e,n){(t===bt&&(ut===2||ut===9)||t.cancelPendingCommit!==null)&&($o(t,0),_s(t,et,Pr,!1)),tc(t,n),(!(ct&2)||t!==bt)&&(t===bt&&(!(ct&2)&&(Ea|=n),Ut===4&&_s(t,et,Pr,!1)),bi(t))}function zC(t,e,n){if(ct&6)throw Error(Q(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||ec(t,e),i=r?fI(t,e):vm(t,e,!0),s=r;do{if(i===0){ll&&!r&&_s(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!hI(n)){i=vm(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=fu;var l=o.current.memoizedState.isDehydrated;if(l&&($o(o,a).flags|=256),a=vm(o,a,!1),a!==2){if(yv&&!l){o.errorRecoveryDisabledLanes|=s,Ea|=s,i=4;break e}s=er,er=i,s!==null&&(er===null?er=s:er.push.apply(er,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){$o(t,0),_s(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(Q(345));case 4:if((e&4194048)!==e)break;case 6:_s(r,e,Pr,!bs);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(Q(329))}if((e&62914560)===e&&(i=_v+300-oi(),10<i)){if(_s(r,e,Pr,!bs),Zd(r,0,!0)!==0)break e;r.timeoutHandle=sx(y_.bind(null,r,n,er,od,Lp,e,Pr,Ea,qo,bs,s,2,-0,0),i);break e}y_(r,n,er,od,Lp,e,Pr,Ea,qo,bs,s,0,-0,0)}}break}while(!0);bi(t)}function y_(t,e,n,r,i,s,a,o,l,c,h,m,f,g){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(Du={stylesheets:null,count:0,unsuspend:$I},kC(e),m=YI(),m!==null)){t.cancelPendingCommit=m(__.bind(null,t,e,s,n,r,i,a,o,l,h,1,f,g)),_s(t,s,a,!c);return}__(t,e,s,n,r,i,a,o,l)}function hI(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wr(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _s(t,e,n,r){e&=~bv,e&=~Ea,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-br(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&KS(t,n,e)}function uf(){return ct&6?!0:(hc(0),!1)}function Ev(){if(qe!==null){if(ut===0)var t=qe.return;else t=qe,Oi=Ua=null,ov(t),Ro=null,Mu=0,t=qe;for(;t!==null;)EC(t.alternate,t),t=t.return;qe=null}}function $o(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,LI(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ev(),bt=t,qe=n=Ni(t.current,null),et=e,ut=0,hr=null,bs=!1,ll=ec(t,e),yv=!1,qo=Pr=bv=Ea=Us=Ut=0,er=fu=null,Lp=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-br(r),s=1<<i;e|=t[i],r&=~s}return Hi=e,nf(),n}function BC(t,e){je=null,xe.H=ed,e===oc||e===sf?(e=Wb(),ut=3):e===CT?(e=Wb(),ut=4):ut=e===pC?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,hr=e,qe===null&&(Ut=1,rd(t,Or(e,t.current)))}function HC(){var t=xe.H;return xe.H=ed,t===null?ed:t}function FC(){var t=xe.A;return xe.A=uI,t}function Dp(){Ut=4,bs||(et&4194048)!==et&&Ur.current!==null||(ll=!0),!(Us&134217727)&&!(Ea&134217727)||bt===null||_s(bt,et,Pr,!1)}function vm(t,e,n){var r=ct;ct|=2;var i=HC(),s=FC();(bt!==t||et!==e)&&(od=null,$o(t,e)),e=!1;var a=Ut;e:do try{if(ut!==0&&qe!==null){var o=qe,l=hr;switch(ut){case 8:Ev(),a=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(e=!0);var c=ut;if(ut=0,hr=null,_o(t,o,l,c),n&&ll){a=0;break e}break;default:c=ut,ut=0,hr=null,_o(t,o,l,c)}}dI(),a=Ut;break}catch(h){BC(t,h)}while(!0);return e&&t.shellSuspendCounter++,Oi=Ua=null,ct=r,xe.H=i,xe.A=s,qe===null&&(bt=null,et=0,nf()),a}function dI(){for(;qe!==null;)qC(qe)}function fI(t,e){var n=ct;ct|=2;var r=HC(),i=FC();bt!==t||et!==e?(od=null,ad=oi()+500,$o(t,e)):ll=ec(t,e);e:do try{if(ut!==0&&qe!==null){e=qe;var s=hr;t:switch(ut){case 1:ut=0,hr=null,_o(t,e,s,1);break;case 2:case 9:if(Qb(s)){ut=0,hr=null,b_(e);break}e=function(){ut!==2&&ut!==9||bt!==t||(ut=7),bi(t)},s.then(e,e);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Qb(s)?(ut=0,hr=null,b_(e)):(ut=0,hr=null,_o(t,e,s,7));break;case 5:var a=null;switch(qe.tag){case 26:a=qe.memoizedState;case 5:case 27:var o=qe;if(!a||ux(a)){ut=0,hr=null;var l=o.sibling;if(l!==null)qe=l;else{var c=o.return;c!==null?(qe=c,cf(c)):qe=null}break t}}ut=0,hr=null,_o(t,e,s,5);break;case 6:ut=0,hr=null,_o(t,e,s,6);break;case 8:Ev(),Ut=6;break e;default:throw Error(Q(462))}}mI();break}catch(h){BC(t,h)}while(!0);return Oi=Ua=null,xe.H=r,xe.A=i,ct=n,qe!==null?0:(bt=null,et=0,nf(),Ut)}function mI(){for(;qe!==null&&!NL();)qC(qe)}function qC(t){var e=_C(t.alternate,t,Hi);t.memoizedProps=t.pendingProps,e===null?cf(t):qe=e}function b_(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=d_(n,e,e.pendingProps,e.type,void 0,et);break;case 11:e=d_(n,e,e.pendingProps,e.type.render,e.ref,et);break;case 5:ov(e);default:EC(n,e),e=qe=ET(e,Hi),e=_C(n,e,Hi)}t.memoizedProps=t.pendingProps,e===null?cf(t):qe=e}function _o(t,e,n,r){Oi=Ua=null,ov(e),Ro=null,Mu=0;var i=e.return;try{if(rI(t,i,e,n,et)){Ut=1,rd(t,Or(n,t.current)),qe=null;return}}catch(s){if(i!==null)throw qe=i,s;Ut=1,rd(t,Or(n,t.current)),qe=null;return}e.flags&32768?(it||r===1?t=!0:ll||et&536870912?t=!1:(bs=t=!0,(r===2||r===9||r===3||r===6)&&(r=Ur.current,r!==null&&r.tag===13&&(r.flags|=16384))),GC(e,t)):cf(e)}function cf(t){var e=t;do{if(e.flags&32768){GC(e,bs);return}t=e.return;var n=sI(e.alternate,e,Hi);if(n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Ut===0&&(Ut=5)}function GC(t,e){do{var n=aI(t.alternate,t);if(n!==null){n.flags&=32767,qe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){qe=t;return}qe=t=n}while(t!==null);Ut=6,qe=null}function __(t,e,n,r,i,s,a,o,l){t.cancelPendingCommit=null;do hf();while(Cn!==0);if(ct&6)throw Error(Q(327));if(e!==null){if(e===t.current)throw Error(Q(177));if(s=e.lanes|e.childLanes,s|=Yg,$L(t,n,s,a,o,l),t===bt&&(qe=bt=null,et=0),Go=e,xs=t,Lo=n,Mp=s,Ip=i,UC=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,yI(qh,function(){return WC(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=xe.T,xe.T=null,i=st.p,st.p=2,a=ct,ct|=4;try{oI(t,e,n)}finally{ct=a,st.p=i,xe.T=r}}Cn=1,$C(),KC(),YC()}}function $C(){if(Cn===1){Cn=0;var t=xs,e=Go,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=xe.T,xe.T=null;var r=st.p;st.p=2;var i=ct;ct|=4;try{IC(e,t);var s=Vp,a=fT(t.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&dT(o.ownerDocument.documentElement,o)){if(l!==null&&Kg(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var m=o.ownerDocument||document,f=m&&m.defaultView||window;if(f.getSelection){var g=f.getSelection(),_=o.textContent.length,A=Math.min(l.start,_),T=l.end===void 0?A:Math.min(l.end,_);!g.extend&&A>T&&(a=T,T=A,A=a);var b=Bb(o,A),v=Bb(o,T);if(b&&v&&(g.rangeCount!==1||g.anchorNode!==b.node||g.anchorOffset!==b.offset||g.focusNode!==v.node||g.focusOffset!==v.offset)){var C=m.createRange();C.setStart(b.node,b.offset),g.removeAllRanges(),A>T?(g.addRange(C),g.extend(v.node,v.offset)):(C.setEnd(v.node,v.offset),g.addRange(C))}}}}for(m=[],g=o;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var R=m[o];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}pd=!!Np,Vp=Np=null}finally{ct=i,st.p=r,xe.T=n}}t.current=e,Cn=2}}function KC(){if(Cn===2){Cn=0;var t=xs,e=Go,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=xe.T,xe.T=null;var r=st.p;st.p=2;var i=ct;ct|=4;try{AC(t,e.alternate,e)}finally{ct=i,st.p=r,xe.T=n}}Cn=3}}function YC(){if(Cn===4||Cn===3){Cn=0,VL();var t=xs,e=Go,n=Lo,r=UC;e.subtreeFlags&10256||e.flags&10256?Cn=5:(Cn=0,Go=xs=null,QC(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Cs=null),zg(n),e=e.stateNode,yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Ju,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=xe.T,i=st.p,st.p=2,xe.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{xe.T=e,st.p=i}}Lo&3&&hf(),bi(t),i=t.pendingLanes,n&4194090&&i&42?t===Op?mu++:(mu=0,Op=t):mu=0,hc(0)}}function QC(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ac(e)))}function hf(t){return $C(),KC(),YC(),WC()}function WC(){if(Cn!==5)return!1;var t=xs,e=Mp;Mp=0;var n=zg(Lo),r=xe.T,i=st.p;try{st.p=32>n?32:n,xe.T=null,n=Ip,Ip=null;var s=xs,a=Lo;if(Cn=0,Go=xs=null,Lo=0,ct&6)throw Error(Q(331));var o=ct;if(ct|=4,NC(s.current),DC(s,s.current,a,n),ct=o,hc(0,!1),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Ju,s)}catch{}return!0}finally{st.p=i,xe.T=r,QC(t,e)}}function E_(t,e,n){e=Or(n,e),e=Cp(t.stateNode,e,2),t=Ts(t,e,2),t!==null&&(tc(t,2),bi(t))}function vt(t,e,n){if(t.tag===3)E_(t,t,n);else for(;e!==null;){if(e.tag===3){E_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cs===null||!Cs.has(r))){t=Or(n,t),n=fC(2),r=Ts(e,n,2),r!==null&&(mC(n,r,e,t),tc(r,2),bi(r));break}}e=e.return}}function ym(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(yv=!0,i.add(n),t=pI.bind(null,t,e,n),e.then(t,t))}function pI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,bt===t&&(et&n)===n&&(Ut===4||Ut===3&&(et&62914560)===et&&300>oi()-_v?!(ct&2)&&$o(t,0):bv|=n,qo===et&&(qo=0)),bi(t)}function XC(t,e){e===0&&(e=$S()),t=ol(t,e),t!==null&&(tc(t,e),bi(t))}function gI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XC(t,n)}function vI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(Q(314))}r!==null&&r.delete(e),XC(t,n)}function yI(t,e){return Ug(t,e)}var ld=null,no=null,kp=!1,ud=!1,bm=!1,wa=0;function bi(t){t!==no&&t.next===null&&(no===null?ld=no=t:no=no.next=t),ud=!0,kp||(kp=!0,_I())}function hc(t,e){if(!bm&&ud){bm=!0;do for(var n=!1,r=ld;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-br(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,w_(r,s))}else s=et,s=Zd(r,r===bt?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||ec(r,s)||(n=!0,w_(r,s));r=r.next}while(n);bm=!1}}function bI(){ZC()}function ZC(){ud=kp=!1;var t=0;wa!==0&&(RI()&&(t=wa),wa=0);for(var e=oi(),n=null,r=ld;r!==null;){var i=r.next,s=JC(r,e);s===0?(r.next=null,n===null?ld=i:n.next=i,i===null&&(no=n)):(n=r,(t!==0||s&3)&&(ud=!0)),r=i}hc(t)}function JC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-br(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=GL(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(e=bt,n=et,n=Zd(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(ut===2||ut===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Gf(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||ec(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Gf(r),zg(n)){case 2:case 8:n=FS;break;case 32:n=qh;break;case 268435456:n=qS;break;default:n=qh}return r=ex.bind(null,t),n=Ug(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Gf(r),t.callbackPriority=2,t.callbackNode=null,2}function ex(t,e){if(Cn!==0&&Cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(hf()&&t.callbackNode!==n)return null;var r=et;return r=Zd(t,t===bt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(zC(t,r,e),JC(t,oi()),t.callbackNode!=null&&t.callbackNode===n?ex.bind(null,t):null)}function w_(t,e){if(hf())return null;zC(t,e,!0)}function _I(){MI(function(){ct&6?Ug(HS,bI):ZC()})}function wv(){return wa===0&&(wa=GS()),wa}function S_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gh(""+t)}function T_(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function EI(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=S_((i[rr]||null).action),a=r.submitter;a&&(e=(e=a[rr]||null)?S_(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new Jd("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(wa!==0){var l=a?T_(i,a):new FormData(i);Sp(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?T_(i,a):new FormData(i),Sp(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(var _m=0;_m<hp.length;_m++){var Em=hp[_m],wI=Em.toLowerCase(),SI=Em[0].toUpperCase()+Em.slice(1);Zr(wI,"on"+SI)}Zr(pT,"onAnimationEnd");Zr(gT,"onAnimationIteration");Zr(vT,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(zM,"onTransitionRun");Zr(BM,"onTransitionStart");Zr(HM,"onTransitionCancel");Zr(yT,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function tx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(h){nd(h)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(h){nd(h)}i.currentTarget=null,s=l}}}}function Fe(t,e){var n=e[ip];n===void 0&&(n=e[ip]=new Set);var r=t+"__bubble";n.has(r)||(nx(e,t,2,!1),n.add(r))}function wm(t,e,n){var r=0;e&&(r|=4),nx(n,t,r,e)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Sv(t){if(!t[Zc]){t[Zc]=!0,WS.forEach(function(n){n!=="selectionchange"&&(TI.has(n)||wm(n,!1,t),wm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zc]||(e[Zc]=!0,wm("selectionchange",!1,e))}}function nx(t,e,n,r){switch(mx(e)){case 2:var i=XI;break;case 8:i=ZI;break;default:i=Av}n=i.bind(null,e,n,t),i=void 0,!lp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=co(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=s=a;continue e}o=o.parentNode}}r=r.return}iT(function(){var c=s,h=Fg(n),m=[];e:{var f=bT.get(t);if(f!==void 0){var g=Jd,_=t;switch(t){case"keypress":if(yh(n)===0)break e;case"keydown":case"keyup":g=yM;break;case"focusin":_="focus",g=Jf;break;case"focusout":_="blur",g=Jf;break;case"beforeblur":case"afterblur":g=Jf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ib;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=aM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=EM;break;case pT:case gT:case vT:g=uM;break;case yT:g=SM;break;case"scroll":case"scrollend":g=iM;break;case"wheel":g=CM;break;case"copy":case"cut":case"paste":g=hM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Db;break;case"toggle":case"beforetoggle":g=AM}var A=(e&4)!==0,T=!A&&(t==="scroll"||t==="scrollend"),b=A?f!==null?f+"Capture":null:f;A=[];for(var v=c,C;v!==null;){var R=v;if(C=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||C===null||b===null||(R=Cu(v,b),R!=null&&A.push(Ou(v,R,C))),T)break;v=v.return}0<A.length&&(f=new g(f,_,null,n,h),m.push({event:f,listeners:A}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==op&&(_=n.relatedTarget||n.fromElement)&&(co(_)||_[sl]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?co(_):null,_!==null&&(T=Zu(_),A=_.tag,_!==T||A!==5&&A!==27&&A!==6)&&(_=null)):(g=null,_=c),g!==_)){if(A=Ib,R="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(A=Db,R="onPointerLeave",b="onPointerEnter",v="pointer"),T=g==null?f:Gl(g),C=_==null?f:Gl(_),f=new A(R,v+"leave",g,n,h),f.target=T,f.relatedTarget=C,R=null,co(h)===c&&(A=new A(b,v+"enter",_,n,h),A.target=C,A.relatedTarget=T,R=A),T=R,g&&_)t:{for(A=g,b=_,v=0,C=A;C;C=Wa(C))v++;for(C=0,R=b;R;R=Wa(R))C++;for(;0<v-C;)A=Wa(A),v--;for(;0<C-v;)b=Wa(b),C--;for(;v--;){if(A===b||b!==null&&A===b.alternate)break t;A=Wa(A),b=Wa(b)}A=null}else A=null;g!==null&&C_(m,f,g,A,!1),_!==null&&T!==null&&C_(m,T,_,A,!0)}}e:{if(f=c?Gl(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=Vb;else if(Nb(f))if(cT)k=VM;else{k=PM;var L=kM}else g=f.nodeName,!g||g.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&Hg(c.elementType)&&(k=Vb):k=NM;if(k&&(k=k(t,c))){uT(m,k,n,h);break e}L&&L(t,f,c),t==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&ap(f,"number",f.value)}switch(L=c?Gl(c):window,t){case"focusin":(Nb(L)||L.contentEditable==="true")&&(mo=L,up=c,iu=null);break;case"focusout":iu=up=mo=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,Hb(m,n,h);break;case"selectionchange":if(jM)break;case"keydown":case"keyup":Hb(m,n,h)}var S;if($g)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else fo?oT(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(aT&&n.locale!=="ko"&&(fo||E!=="onCompositionStart"?E==="onCompositionEnd"&&fo&&(S=sT()):(ys=h,qg="value"in ys?ys.value:ys.textContent,fo=!0)),L=cd(c,E),0<L.length&&(E=new Ob(E,t,null,n,h),m.push({event:E,listeners:L}),S?E.data=S:(S=lT(n),S!==null&&(E.data=S)))),(S=LM?MM(t,n):IM(t,n))&&(E=cd(c,"onBeforeInput"),0<E.length&&(L=new Ob("onBeforeInput","beforeinput",null,n,h),m.push({event:L,listeners:E}),L.data=S)),EI(m,t,c,n,h)}tx(m,e)})}function Ou(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Cu(t,n),i!=null&&r.unshift(Ou(t,i,s)),i=Cu(t,e),i!=null&&r.push(Ou(t,i,s))),t.tag===3)return r;t=t.return}return[]}function Wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function C_(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=Cu(n,s),c!=null&&a.unshift(Ou(n,c,l))):i||(c=Cu(n,s),c!=null&&a.push(Ou(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var CI=/\r\n?/g,xI=/\u0000|\uFFFD/g;function x_(t){return(typeof t=="string"?t:""+t).replace(CI,`
`).replace(xI,"")}function rx(t,e){return e=x_(e),x_(t)===e}function df(){}function dt(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||jo(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&jo(t,""+r);break;case"className":Gc(t,"class",r);break;case"tabIndex":Gc(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Gc(t,n,r);break;case"style":rT(t,r,s);break;case"data":if(e!=="object"){Gc(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=gh(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&dt(t,e,"name",i.name,i,null),dt(t,e,"formEncType",i.formEncType,i,null),dt(t,e,"formMethod",i.formMethod,i,null),dt(t,e,"formTarget",i.formTarget,i,null)):(dt(t,e,"encType",i.encType,i,null),dt(t,e,"method",i.method,i,null),dt(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=gh(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=df);break;case"onScroll":r!=null&&Fe("scroll",t);break;case"onScrollEnd":r!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Q(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Q(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=gh(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),ph(t,"popover",r);break;case"xlinkActuate":Si(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Si(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Si(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Si(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Si(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Si(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Si(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Si(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Si(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ph(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=nM.get(n)||n,ph(t,n,r))}}function Pp(t,e,n,r,i,s){switch(n){case"style":rT(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Q(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Q(60));t.innerHTML=n}}break;case"children":typeof r=="string"?jo(t,r):(typeof r=="number"||typeof r=="bigint")&&jo(t,""+r);break;case"onScroll":r!=null&&Fe("scroll",t);break;case"onScrollEnd":r!=null&&Fe("scrollend",t);break;case"onClick":r!=null&&(t.onclick=df);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!XS.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[rr]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):ph(t,n,r)}}}function An(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Q(137,e));default:dt(t,e,s,a,n,null)}}i&&dt(t,e,"srcSet",n.srcSet,n,null),r&&dt(t,e,"src",n.src,n,null);return;case"input":Fe("invalid",t);var o=s=a=i=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":i=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Q(137,e));break;default:dt(t,e,r,h,n,null)}}eT(t,s,o,l,c,a,i,!1),Gh(t);return;case"select":Fe("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:dt(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?So(t,!!r,e,!1):n!=null&&So(t,!!r,n,!0);return;case"textarea":Fe("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(Q(91));break;default:dt(t,e,a,o,n,null)}nT(t,r,i,s),Gh(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:dt(t,e,l,r,n,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(r=0;r<Iu.length;r++)Fe(Iu[r],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Q(137,e));default:dt(t,e,c,r,n,null)}return;default:if(Hg(e)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&Pp(t,e,h,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&dt(t,e,o,r,n,null))}function AI(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,l=null,c=null,h=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":l=m;default:r.hasOwnProperty(g)||dt(t,e,g,null,r,m)}}for(var f in r){var g=r[f];if(m=n[f],r.hasOwnProperty(f)&&(g!=null||m!=null))switch(f){case"type":s=g;break;case"name":i=g;break;case"checked":c=g;break;case"defaultChecked":h=g;break;case"value":a=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(Q(137,e));break;default:g!==m&&dt(t,e,f,g,r,m)}}sp(t,a,o,l,c,h,s,i);return;case"select":g=a=o=f=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":g=l;default:r.hasOwnProperty(s)||dt(t,e,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":f=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&dt(t,e,i,s,r,l)}e=o,n=a,r=g,f!=null?So(t,!!n,f,!1):!!r!=!!n&&(e!=null?So(t,!!n,e,!0):So(t,!!n,n?[]:"",!1));return;case"textarea":g=f=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:dt(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":f=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Q(91));break;default:i!==s&&dt(t,e,a,i,r,s)}tT(t,f,g);return;case"option":for(var _ in n)if(f=n[_],n.hasOwnProperty(_)&&f!=null&&!r.hasOwnProperty(_))switch(_){case"selected":t.selected=!1;break;default:dt(t,e,_,null,r,f)}for(l in r)if(f=r[l],g=n[l],r.hasOwnProperty(l)&&f!==g&&(f!=null||g!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:dt(t,e,l,f,r,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)f=n[A],n.hasOwnProperty(A)&&f!=null&&!r.hasOwnProperty(A)&&dt(t,e,A,null,r,f);for(c in r)if(f=r[c],g=n[c],r.hasOwnProperty(c)&&f!==g&&(f!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(Q(137,e));break;default:dt(t,e,c,f,r,g)}return;default:if(Hg(e)){for(var T in n)f=n[T],n.hasOwnProperty(T)&&f!==void 0&&!r.hasOwnProperty(T)&&Pp(t,e,T,void 0,r,f);for(h in r)f=r[h],g=n[h],!r.hasOwnProperty(h)||f===g||f===void 0&&g===void 0||Pp(t,e,h,f,r,g);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&f!=null&&!r.hasOwnProperty(b)&&dt(t,e,b,null,r,f);for(m in r)f=r[m],g=n[m],!r.hasOwnProperty(m)||f===g||f==null&&g==null||dt(t,e,m,f,r,g)}var Np=null,Vp=null;function hd(t){return t.nodeType===9?t:t.ownerDocument}function A_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ix(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Up(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tm=null;function RI(){var t=window.event;return t&&t.type==="popstate"?t===Tm?!1:(Tm=t,!0):(Tm=null,!1)}var sx=typeof setTimeout=="function"?setTimeout:void 0,LI=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,MI=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(t){return R_.resolve(null).then(t).catch(II)}:sx;function II(t){setTimeout(function(){throw t})}function Ws(t){return t==="head"}function L_(t,e){var n=e,r=0,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var a=t.ownerDocument;if(n&1&&pu(a.documentElement),n&2&&pu(a.body),n&4)for(n=a.head,pu(n),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[nc]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(i===0){t.removeChild(s),Vu(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Vu(e)}function jp(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":jp(n),Bg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function OI(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[nc])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Qr(t.nextSibling),t===null)break}return null}function DI(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Qr(t.nextSibling),t===null))return null;return t}function zp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kI(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Bp=null;function M_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function ax(t,e,n){switch(e=hd(n),t){case"html":if(t=e.documentElement,!t)throw Error(Q(452));return t;case"head":if(t=e.head,!t)throw Error(Q(453));return t;case"body":if(t=e.body,!t)throw Error(Q(454));return t;default:throw Error(Q(451))}}function pu(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Bg(t)}var jr=new Map,I_=new Set;function dd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=st.d;st.d={f:PI,r:NI,D:VI,C:UI,L:jI,m:zI,X:HI,S:BI,M:FI};function PI(){var t=Yi.f(),e=uf();return t||e}function NI(t){var e=al(t);e!==null&&e.tag===5&&e.type==="form"?JT(e):Yi.r(t)}var ul=typeof document>"u"?null:document;function ox(t,e,n){var r=ul;if(r&&typeof e=="string"&&e){var i=Ir(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),I_.has(i)||(I_.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),An(e,"link",t),fn(e),r.head.appendChild(e)))}}function VI(t){Yi.D(t),ox("dns-prefetch",t,null)}function UI(t,e){Yi.C(t,e),ox("preconnect",t,e)}function jI(t,e,n){Yi.L(t,e,n);var r=ul;if(r&&t&&e){var i='link[rel="preload"][as="'+Ir(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Ir(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Ir(n.imageSizes)+'"]')):i+='[href="'+Ir(t)+'"]';var s=i;switch(e){case"style":s=Ko(t);break;case"script":s=cl(t)}jr.has(s)||(t=Tt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),jr.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(dc(s))||e==="script"&&r.querySelector(fc(s))||(e=r.createElement("link"),An(e,"link",t),fn(e),r.head.appendChild(e)))}}function zI(t,e){Yi.m(t,e);var n=ul;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Ir(r)+'"][href="'+Ir(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=cl(t)}if(!jr.has(s)&&(t=Tt({rel:"modulepreload",href:t},e),jr.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(fc(s)))return}r=n.createElement("link"),An(r,"link",t),fn(r),n.head.appendChild(r)}}}function BI(t,e,n){Yi.S(t,e,n);var r=ul;if(r&&t){var i=wo(r).hoistableStyles,s=Ko(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(dc(s)))o.loading=5;else{t=Tt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=jr.get(s))&&Tv(t,n);var l=a=r.createElement("link");fn(l),An(l,"link",t),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ch(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function HI(t,e){Yi.X(t,e);var n=ul;if(n&&t){var r=wo(n).hoistableScripts,i=cl(t),s=r.get(i);s||(s=n.querySelector(fc(i)),s||(t=Tt({src:t,async:!0},e),(e=jr.get(i))&&Cv(t,e),s=n.createElement("script"),fn(s),An(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function FI(t,e){Yi.M(t,e);var n=ul;if(n&&t){var r=wo(n).hoistableScripts,i=cl(t),s=r.get(i);s||(s=n.querySelector(fc(i)),s||(t=Tt({src:t,async:!0,type:"module"},e),(e=jr.get(i))&&Cv(t,e),s=n.createElement("script"),fn(s),An(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function O_(t,e,n,r){var i=(i=ws.current)?dd(i):null;if(!i)throw Error(Q(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ko(n.href),n=wo(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ko(n.href);var s=wo(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(dc(t)))&&!s._p&&(a.instance=s,a.state.loading=5),jr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jr.set(t,n),s||qI(i,t,n,a.state))),e&&r===null)throw Error(Q(528,""));return a}if(e&&r!==null)throw Error(Q(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=cl(n),n=wo(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Q(444,t))}}function Ko(t){return'href="'+Ir(t)+'"'}function dc(t){return'link[rel="stylesheet"]['+t+"]"}function lx(t){return Tt({},t,{"data-precedence":t.precedence,precedence:null})}function qI(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),An(e,"link",n),fn(e),t.head.appendChild(e))}function cl(t){return'[src="'+Ir(t)+'"]'}function fc(t){return"script[async]"+t}function D_(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Ir(n.href)+'"]');if(r)return e.instance=r,fn(r),r;var i=Tt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),fn(r),An(r,"style",i),Ch(r,n.precedence,t),e.instance=r;case"stylesheet":i=Ko(n.href);var s=t.querySelector(dc(i));if(s)return e.state.loading|=4,e.instance=s,fn(s),s;r=lx(n),(i=jr.get(i))&&Tv(r,i),s=(t.ownerDocument||t).createElement("link"),fn(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),An(s,"link",r),e.state.loading|=4,Ch(s,n.precedence,t),e.instance=s;case"script":return s=cl(n.src),(i=t.querySelector(fc(s)))?(e.instance=i,fn(i),i):(r=n,(i=jr.get(s))&&(r=Tt({},n),Cv(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),fn(i),An(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(Q(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Ch(r,n.precedence,t));return e.instance}function Ch(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Tv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Cv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var xh=null;function k_(t,e,n){if(xh===null){var r=new Map,i=xh=new Map;i.set(n,r)}else i=xh,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[nc]||s[Vn]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function P_(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function GI(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function ux(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Du=null;function $I(){}function KI(t,e,n){if(Du===null)throw Error(Q(475));var r=Du;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Ko(n.href),s=t.querySelector(dc(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=fd.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,fn(s);return}s=t.ownerDocument||t,n=lx(n),(i=jr.get(i))&&Tv(n,i),s=s.createElement("link"),fn(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),An(s,"link",n),e.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=fd.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function YI(){if(Du===null)throw Error(Q(475));var t=Du;return t.stylesheets&&t.count===0&&Hp(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Hp(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function fd(){if(this.count--,this.count===0){if(this.stylesheets)Hp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var md=null;function Hp(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,md=new Map,e.forEach(QI,t),md=null,fd.call(t))}function QI(t,e){if(!(e.state.loading&4)){var n=md.get(t);if(n)var r=n.get(null);else{n=new Map,md.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=fd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var ku={$$typeof:Li,Provider:null,Consumer:null,_currentValue:ga,_currentValue2:ga,_threadCount:0};function WI(t,e,n,r,i,s,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$f(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.hiddenUpdates=$f(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function cx(t,e,n,r,i,s,a,o,l,c,h,m){return t=new WI(t,e,n,a,o,l,c,m),e=1,s===!0&&(e|=24),s=gr(3,null,null,e),t.current=s,s.stateNode=t,e=Jg(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},tv(s),t}function hx(t){return t?(t=vo,t):vo}function dx(t,e,n,r,i,s){i=hx(i),r.context===null?r.context=i:r.pendingContext=i,r=Ss(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Ts(t,r,e),n!==null&&(Er(n,t,e),ou(n,t,e))}function N_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xv(t,e){N_(t,e),(t=t.alternate)&&N_(t,e)}function fx(t){if(t.tag===13){var e=ol(t,67108864);e!==null&&Er(e,t,67108864),xv(t,67108864)}}var pd=!0;function XI(t,e,n,r){var i=xe.T;xe.T=null;var s=st.p;try{st.p=2,Av(t,e,n,r)}finally{st.p=s,xe.T=i}}function ZI(t,e,n,r){var i=xe.T;xe.T=null;var s=st.p;try{st.p=8,Av(t,e,n,r)}finally{st.p=s,xe.T=i}}function Av(t,e,n,r){if(pd){var i=Fp(r);if(i===null)Sm(t,e,r,gd,n),V_(t,r);else if(eO(i,t,e,n,r))r.stopPropagation();else if(V_(t,r),e&4&&-1<JI.indexOf(t)){for(;i!==null;){var s=al(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=oa(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-br(a);o.entanglements[1]|=l,a&=~l}bi(s),!(ct&6)&&(ad=oi()+500,hc(0))}}break;case 13:o=ol(s,2),o!==null&&Er(o,s,2),uf(),xv(s,2)}if(s=Fp(r),s===null&&Sm(t,e,r,gd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sm(t,e,r,null,n)}}function Fp(t){return t=Fg(t),Rv(t)}var gd=null;function Rv(t){if(gd=null,t=co(t),t!==null){var e=Zu(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=US(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return gd=t,null}function mx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(UL()){case HS:return 2;case FS:return 8;case qh:case jL:return 32;case qS:return 268435456;default:return 32}default:return 32}}var qp=!1,As=null,Rs=null,Ls=null,Pu=new Map,Nu=new Map,hs=[],JI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(e.pointerId)}}function Pl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=al(e),e!==null&&fx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eO(t,e,n,r,i){switch(e){case"focusin":return As=Pl(As,t,e,n,r,i),!0;case"dragenter":return Rs=Pl(Rs,t,e,n,r,i),!0;case"mouseover":return Ls=Pl(Ls,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pu.set(s,Pl(Pu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nu.set(s,Pl(Nu.get(s)||null,t,e,n,r,i)),!0}return!1}function px(t){var e=co(t.target);if(e!==null){var n=Zu(e);if(n!==null){if(e=n.tag,e===13){if(e=US(n),e!==null){t.blockedOn=e,KL(t.priority,function(){if(n.tag===13){var r=_r();r=jg(r);var i=ol(n,r);i!==null&&Er(i,n,r),xv(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ah(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fp(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);op=r,n.target.dispatchEvent(r),op=null}else return e=al(n),e!==null&&fx(e),t.blockedOn=n,!1;e.shift()}return!0}function U_(t,e,n){Ah(t)&&n.delete(e)}function tO(){qp=!1,As!==null&&Ah(As)&&(As=null),Rs!==null&&Ah(Rs)&&(Rs=null),Ls!==null&&Ah(Ls)&&(Ls=null),Pu.forEach(U_),Nu.forEach(U_)}function Jc(t,e){t.blockedOn===e&&(t.blockedOn=null,qp||(qp=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,tO)))}var eh=null;function j_(t){eh!==t&&(eh=t,an.unstable_scheduleCallback(an.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(Rv(r||n)===null)continue;break}var s=al(n);s!==null&&(t.splice(e,3),e-=3,Sp(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vu(t){function e(l){return Jc(l,t)}As!==null&&Jc(As,t),Rs!==null&&Jc(Rs,t),Ls!==null&&Jc(Ls,t),Pu.forEach(e),Nu.forEach(e);for(var n=0;n<hs.length;n++){var r=hs[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)px(n),n.blockedOn===null&&hs.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[rr]||null;if(typeof s=="function")a||j_(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[rr]||null)o=a.formAction;else if(Rv(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),j_(n)}}}function Lv(t){this._internalRoot=t}ff.prototype.render=Lv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));var n=e.current,r=_r();dx(n,r,t,e,null,null)};ff.prototype.unmount=Lv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dx(t.current,2,null,t,null,null),uf(),e[sl]=null}};function ff(t){this._internalRoot=t}ff.prototype.unstable_scheduleHydration=function(t){if(t){var e=QS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hs.length&&e!==0&&e<hs[n].priority;n++);hs.splice(n,0,t),n===0&&px(t)}};var z_=NS.version;if(z_!=="19.1.1")throw Error(Q(527,z_,"19.1.1"));st.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=IL(e),t=t!==null?jS(t):null,t=t===null?null:t.stateNode,t};var nO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:xe,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{Ju=th.inject(nO),yr=th}catch{}}Wd.createRoot=function(t,e){if(!VS(t))throw Error(Q(299));var n=!1,r="",i=cC,s=hC,a=dC,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=cx(t,1,!1,null,null,n,r,i,s,a,o,null),t[sl]=e.current,Sv(t),new Lv(e)};Wd.hydrateRoot=function(t,e,n){if(!VS(t))throw Error(Q(299));var r=!1,i="",s=cC,a=hC,o=dC,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=cx(t,1,!0,e,n??null,r,i,s,a,o,l,c),e.context=hx(null),n=e.current,r=_r(),r=jg(r),i=Ss(r),i.callback=null,Ts(n,i,r),n=r,e.current.lanes=n,tc(e,n),bi(e),t[sl]=e.current,Sv(t),new ff(e)};Wd.version="19.1.1";function gx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gx)}catch(t){console.error(t)}}gx(),MS.exports=Wd;var rO=MS.exports;const iO=Mg(rO);var Mv={};Object.defineProperty(Mv,"__esModule",{value:!0});Mv.parse=hO;Mv.serialize=dO;const sO=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,aO=/^[\u0021-\u003A\u003C-\u007E]*$/,oO=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,lO=/^[\u0020-\u003A\u003D-\u007E]*$/,uO=Object.prototype.toString,cO=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function hO(t,e){const n=new cO,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||fO;let s=0;do{const a=t.indexOf("=",s);if(a===-1)break;const o=t.indexOf(";",s),l=o===-1?r:o;if(a>l){s=t.lastIndexOf(";",a-1)+1;continue}const c=B_(t,s,a),h=H_(t,a,c),m=t.slice(c,h);if(n[m]===void 0){let f=B_(t,a+1,l),g=H_(t,l,f);const _=i(t.slice(f,g));n[m]=_}s=l+1}while(s<r);return n}function B_(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function H_(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function dO(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!sO.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!aO.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!oO.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!lO.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!mO(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function fO(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function mO(t){return uO.call(t)==="[object Date]"}/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vx=t=>{throw TypeError(t)},pO=(t,e,n)=>e.has(t)||vx("Cannot "+n),Cm=(t,e,n)=>(pO(t,e,"read from private field"),n?n.call(t):e.get(t)),gO=(t,e,n)=>e.has(t)?vx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),F_="popstate";function vO(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return Uu("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:js(i)}return bO(e,n,null,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yO(){return Math.random().toString(36).substring(2,10)}function q_(t,e){return{usr:t.state,key:t.key,idx:e}}function Uu(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:n,key:e&&e.key||r||yO()}}function js({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function bO(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=h();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function h(){return(a.state||{idx:null}).idx}function m(){o="POP";let T=h(),b=T==null?null:T-c;c=T,l&&l({action:o,location:A.location,delta:b})}function f(T,b){o="PUSH";let v=Uu(A.location,T,b);c=h()+1;let C=q_(v,c),R=A.createHref(v);try{a.pushState(C,"",R)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(R)}s&&l&&l({action:o,location:A.location,delta:1})}function g(T,b){o="REPLACE";let v=Uu(A.location,T,b);c=h();let C=q_(v,c),R=A.createHref(v);a.replaceState(C,"",R),s&&l&&l({action:o,location:A.location,delta:0})}function _(T){let b=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof T=="string"?T:js(T);return v=v.replace(/ $/,"%20"),Ge(b,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,b)}let A={get action(){return o},get location(){return t(i,a)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(F_,m),l=T,()=>{i.removeEventListener(F_,m),l=null}},createHref(T){return e(i,T)},createURL:_,encodeLocation(T){let b=_(T);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:g,go(T){return a.go(T)}};return A}var Kl,G_=class{constructor(t){if(gO(this,Kl,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Cm(this,Kl).has(t))return Cm(this,Kl).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Cm(this,Kl).set(t,e)}};Kl=new WeakMap;var _O=new Set(["lazy","caseSensitive","path","id","index","children"]);function EO(t){return _O.has(t)}var wO=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function SO(t){return wO.has(t)}function TO(t){return t.index===!0}function vd(t,e,n=[],r={}){return t.map((i,s)=>{let a=[...n,String(s)],o=typeof i.id=="string"?i.id:a.join("-");if(Ge(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ge(!r[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),TO(i)){let l={...i,...e(i),id:o};return r[o]=l,l}else{let l={...i,...e(i),id:o,children:void 0};return r[o]=l,i.children&&(l.children=vd(i.children,e,a,r)),l}})}function ds(t,e,n="/"){return Rh(t,e,n,!1)}function Rh(t,e,n,r){let i=typeof e=="string"?Xs(e):e,s=zr(i.pathname||"/",n);if(s==null)return null;let a=yx(t);xO(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=VO(s);o=PO(a[l],c,r)}return o}function CO(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function yx(t,e=[],n=[],r=""){let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Ge(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=ui([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Ge(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),yx(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:DO(c,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of bx(s.path))i(s,a,l)}),e}function bx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=bx(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function xO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var AO=/^:[\w-]+$/,RO=3,LO=2,MO=1,IO=10,OO=-2,$_=t=>t==="*";function DO(t,e){let n=t.split("/"),r=n.length;return n.some($_)&&(r+=OO),e&&(r+=LO),n.filter(i=>!$_(i)).reduce((i,s)=>i+(AO.test(s)?RO:s===""?MO:IO),r)}function kO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function PO(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",m=yd({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=yd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:ui([s,m.pathname]),pathnameBase:zO(ui([s,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(s=ui([s,m.pathnameBase]))}return a}function yd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:m},f)=>{if(h==="*"){let _=o[f]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=o[f];return m&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function NO(t,e=!1,n=!0){Wt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function VO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UO(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xs(t):t;return{pathname:n?n.startsWith("/")?n:jO(n,e):e,search:BO(r),hash:HO(i)}}function jO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _x(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Iv(t){let e=_x(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ov(t,e,n,r=!1){let i;typeof t=="string"?i=Xs(t):(i={...t},Ge(!i.pathname||!i.pathname.includes("?"),xm("?","pathname","search",i)),Ge(!i.pathname||!i.pathname.includes("#"),xm("#","pathname","hash",i)),Ge(!i.search||!i.search.includes("#"),xm("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),m-=1;i.pathname=f.join("/")}o=m>=0?e[m]:"/"}let l=UO(i,o),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var ui=t=>t.join("/").replace(/\/\/+/g,"/"),zO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,bd=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ju(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Ex=["POST","PUT","PATCH","DELETE"],FO=new Set(Ex),qO=["GET",...Ex],GO=new Set(qO),$O=new Set([301,302,303,307,308]),KO=new Set([307,308]),Am={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},YO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QO=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),wx="remix-router-transitions",Sx=Symbol("ResetLoaderData");function WO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ge(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||QO,s={},a=vd(t.routes,i,void 0,s),o,l=t.basename||"/",c=t.dataStrategy||tD,h={unstable_middleware:!1,...t.future},m=null,f=new Set,g=null,_=null,A=null,T=t.hydrationData!=null,b=ds(a,t.history.location,l),v=!1,C=null;if(b==null&&!t.patchRoutesOnNavigation){let N=Ar(404,{pathname:t.history.location.pathname}),{matches:U,route:z}=iE(a);b=U,C={[z.id]:N}}b&&!t.hydrationData&&Ft(b,a,t.history.location.pathname).active&&(b=null);let R;if(b)if(b.some(N=>N.route.lazy))R=!1;else if(!b.some(N=>N.route.loader))R=!0;else{let N=t.hydrationData?t.hydrationData.loaderData:null,U=t.hydrationData?t.hydrationData.errors:null;if(U){let z=b.findIndex(F=>U[F.route.id]!==void 0);R=b.slice(0,z+1).every(F=>!$p(F.route,N,U))}else R=b.every(z=>!$p(z.route,N,U))}else{R=!1,b=[];let N=Ft(null,a,t.history.location.pathname);N.active&&N.matches&&(v=!0,b=N.matches)}let k,L={historyAction:t.history.action,location:t.history.location,matches:b,initialized:R,navigation:Am,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},S="POP",E=!1,w,M=!1,I=new Map,P=null,D=!1,K=!1,Z=new Set,B=new Map,$=0,H=-1,ne=new Map,ee=new Set,fe=new Map,me=new Map,W=new Set,ae=new Map,V,te=null;function re(){if(m=t.history.listen(({action:N,location:U,delta:z})=>{if(V){V(),V=void 0;return}Wt(ae.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let F=Br({currentLocation:L.location,nextLocation:U,historyAction:N});if(F&&z!=null){let ie=new Promise(de=>{V=de});t.history.go(z*-1),Yn(F,{state:"blocked",location:U,proceed(){Yn(F,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),ie.then(()=>t.history.go(z))},reset(){let de=new Map(L.blockers);de.set(F,Nl),J({blockers:de})}});return}return mt(N,U)}),n){dD(e,I);let N=()=>fD(e,I);e.addEventListener("pagehide",N),P=()=>e.removeEventListener("pagehide",N)}return L.initialized||mt("POP",L.location,{initialHydration:!0}),k}function ge(){m&&m(),P&&P(),f.clear(),w&&w.abort(),L.fetchers.forEach((N,U)=>Ct(U)),L.blockers.forEach((N,U)=>Sr(U))}function Oe(N){return f.add(N),()=>f.delete(N)}function J(N,U={}){L={...L,...N};let z=[],F=[];L.fetchers.forEach((ie,de)=>{ie.state==="idle"&&(W.has(de)?z.push(de):F.push(de))}),W.forEach(ie=>{!L.fetchers.has(ie)&&!B.has(ie)&&z.push(ie)}),[...f].forEach(ie=>ie(L,{deletedFetchers:z,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),z.forEach(ie=>Ct(ie)),F.forEach(ie=>L.fetchers.delete(ie))}function he(N,U,{flushSync:z}={}){var _e,Ce;let F=L.actionData!=null&&L.navigation.formMethod!=null&&fr(L.navigation.formMethod)&&L.navigation.state==="loading"&&((_e=N.state)==null?void 0:_e._isRedirect)!==!0,ie;U.actionData?Object.keys(U.actionData).length>0?ie=U.actionData:ie=null:F?ie=L.actionData:ie=null;let de=U.loaderData?nE(L.loaderData,U.loaderData,U.matches||[],U.errors):L.loaderData,we=L.blockers;we.size>0&&(we=new Map(we),we.forEach((ve,Ae)=>we.set(Ae,Nl)));let le=E===!0||L.navigation.formMethod!=null&&fr(L.navigation.formMethod)&&((Ce=N.state)==null?void 0:Ce._isRedirect)!==!0;o&&(a=o,o=void 0),D||S==="POP"||(S==="PUSH"?t.history.push(N,N.state):S==="REPLACE"&&t.history.replace(N,N.state));let pe;if(S==="POP"){let ve=I.get(L.location.pathname);ve&&ve.has(N.pathname)?pe={currentLocation:L.location,nextLocation:N}:I.has(N.pathname)&&(pe={currentLocation:N,nextLocation:L.location})}else if(M){let ve=I.get(L.location.pathname);ve?ve.add(N.pathname):(ve=new Set([N.pathname]),I.set(L.location.pathname,ve)),pe={currentLocation:L.location,nextLocation:N}}J({...U,actionData:ie,loaderData:de,historyAction:S,location:N,initialized:!0,navigation:Am,revalidation:"idle",restoreScrollPosition:un(N,U.matches||L.matches),preventScrollReset:le,blockers:we},{viewTransitionOpts:pe,flushSync:z===!0}),S="POP",E=!1,M=!1,D=!1,K=!1,te==null||te.resolve(),te=null}async function Qe(N,U){if(typeof N=="number"){t.history.go(N);return}let z=Gp(L.location,L.matches,l,N,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:F,submission:ie,error:de}=K_(!1,z,U),we=L.location,le=Uu(L.location,F,U&&U.state);le={...le,...t.history.encodeLocation(le)};let pe=U&&U.replace!=null?U.replace:void 0,_e="PUSH";pe===!0?_e="REPLACE":pe===!1||ie!=null&&fr(ie.formMethod)&&ie.formAction===L.location.pathname+L.location.search&&(_e="REPLACE");let Ce=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,ve=(U&&U.flushSync)===!0,Ae=Br({currentLocation:we,nextLocation:le,historyAction:_e});if(Ae){Yn(Ae,{state:"blocked",location:le,proceed(){Yn(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),Qe(N,U)},reset(){let tt=new Map(L.blockers);tt.set(Ae,Nl),J({blockers:tt})}});return}await mt(_e,le,{submission:ie,pendingError:de,preventScrollReset:Ce,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:ve})}function Dt(){te||(te=mD()),yn(),J({revalidation:"loading"});let N=te.promise;return L.navigation.state==="submitting"?N:L.navigation.state==="idle"?(mt(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),N):(mt(S||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:M===!0}),N)}async function mt(N,U,z){w&&w.abort(),w=null,S=N,D=(z&&z.startUninterruptedRevalidation)===!0,xt(L.location,L.matches),E=(z&&z.preventScrollReset)===!0,M=(z&&z.enableViewTransition)===!0;let F=o||a,ie=z&&z.overrideNavigation,de=z!=null&&z.initialHydration&&L.matches&&L.matches.length>0&&!v?L.matches:ds(F,U,l),we=(z&&z.flushSync)===!0;if(de&&L.initialized&&!K&&oD(L.location,U)&&!(z&&z.submission&&fr(z.submission.formMethod))){he(U,{matches:de},{flushSync:we});return}let le=Ft(de,F,U.pathname);if(le.active&&le.matches&&(de=le.matches),!de){let{error:ht,notFoundMatches:Pt,route:Be}=Qn(U.pathname);he(U,{matches:Pt,loaderData:{},errors:{[Be.id]:ht}},{flushSync:we});return}w=new AbortController;let pe=ro(t.history,U,w.signal,z&&z.submission),_e=new G_(t.unstable_getContext?await t.unstable_getContext():void 0),Ce;if(z&&z.pendingError)Ce=[ha(de).route.id,{type:"error",error:z.pendingError}];else if(z&&z.submission&&fr(z.submission.formMethod)){let ht=await Me(pe,U,z.submission,de,_e,le.active,z&&z.initialHydration===!0,{replace:z.replace,flushSync:we});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[Pt,Be]=ht.pendingActionResult;if(dr(Be)&&ju(Be.error)&&Be.error.status===404){w=null,he(U,{matches:ht.matches,loaderData:{},errors:{[Pt]:Be.error}});return}}de=ht.matches||de,Ce=ht.pendingActionResult,ie=Rm(U,z.submission),we=!1,le.active=!1,pe=ro(t.history,pe.url,pe.signal)}let{shortCircuited:ve,matches:Ae,loaderData:tt,errors:pt}=await vn(pe,U,de,_e,le.active,ie,z&&z.submission,z&&z.fetcherSubmission,z&&z.replace,z&&z.initialHydration===!0,we,Ce);ve||(w=null,he(U,{matches:Ae||de,...rE(Ce),loaderData:tt,errors:pt}))}async function Me(N,U,z,F,ie,de,we,le={}){yn();let pe=cD(U,z);if(J({navigation:pe},{flushSync:le.flushSync===!0}),de){let ve=await Fn(F,U.pathname,N.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let Ae=ha(ve.partialMatches).route.id;return{matches:ve.partialMatches,pendingActionResult:[Ae,{type:"error",error:ve.error}]}}else if(ve.matches)F=ve.matches;else{let{notFoundMatches:Ae,error:tt,route:pt}=Qn(U.pathname);return{matches:Ae,pendingActionResult:[pt.id,{type:"error",error:tt}]}}}let _e,Ce=Yl(F,U);if(!Ce.route.action&&!Ce.route.lazy)_e={type:"error",error:Ar(405,{method:N.method,pathname:U.pathname,routeId:Ce.route.id})};else{let ve=Mo(i,s,N,F,Ce,we?[]:r,ie),Ae=await _t(N,ve,ie,null);if(_e=Ae[Ce.route.id],!_e){for(let tt of F)if(Ae[tt.route.id]){_e=Ae[tt.route.id];break}}if(N.signal.aborted)return{shortCircuited:!0}}if(fa(_e)){let ve;return le&&le.replace!=null?ve=le.replace:ve=J_(_e.response.headers.get("Location"),new URL(N.url),l)===L.location.pathname+L.location.search,await Xt(N,_e,!0,{submission:z,replace:ve}),{shortCircuited:!0}}if(dr(_e)){let ve=ha(F,Ce.route.id);return(le&&le.replace)!==!0&&(S="PUSH"),{matches:F,pendingActionResult:[ve.route.id,_e]}}return{matches:F,pendingActionResult:[Ce.route.id,_e]}}async function vn(N,U,z,F,ie,de,we,le,pe,_e,Ce,ve){let Ae=de||Rm(U,we),tt=we||le||aE(Ae),pt=!D&&!_e;if(ie){if(pt){let yt=ln(ve);J({navigation:Ae,...yt!==void 0?{actionData:yt}:{}},{flushSync:Ce})}let Re=await Fn(z,U.pathname,N.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let yt=ha(Re.partialMatches).route.id;return{matches:Re.partialMatches,loaderData:{},errors:{[yt]:Re.error}}}else if(Re.matches)z=Re.matches;else{let{error:yt,notFoundMatches:qt,route:_n}=Qn(U.pathname);return{matches:qt,loaderData:{},errors:{[_n.id]:yt}}}}let ht=o||a,{dsMatches:Pt,revalidatingFetchers:Be}=Y_(N,F,i,s,t.history,L,z,tt,U,_e?[]:r,_e===!0,K,Z,W,fe,ee,ht,l,ve);if(H=++$,!t.dataStrategy&&!Pt.some(Re=>Re.shouldLoad)&&Be.length===0){let Re=Hn();return he(U,{matches:z,loaderData:{},errors:ve&&dr(ve[1])?{[ve[0]]:ve[1].error}:null,...rE(ve),...Re?{fetchers:new Map(L.fetchers)}:{}},{flushSync:Ce}),{shortCircuited:!0}}if(pt){let Re={};if(!ie){Re.navigation=Ae;let yt=ln(ve);yt!==void 0&&(Re.actionData=yt)}Be.length>0&&(Re.fetchers=Ln(Be)),J(Re,{flushSync:Ce})}Be.forEach(Re=>{Mt(Re.key),Re.controller&&B.set(Re.key,Re.controller)});let Tr=()=>Be.forEach(Re=>Mt(Re.key));w&&w.signal.addEventListener("abort",Tr);let{loaderResults:Wn,fetcherResults:qr}=await jt(Pt,Be,N,F);if(N.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",Tr),Be.forEach(Re=>B.delete(Re.key));let bn=nh(Wn);if(bn)return await Xt(N,bn.result,!0,{replace:pe}),{shortCircuited:!0};if(bn=nh(qr),bn)return ee.add(bn.key),await Xt(N,bn.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:He,errors:ye}=tE(L,z,Wn,ve,Be,qr);_e&&L.errors&&(ye={...L.errors,...ye});let Ze=Hn(),Xe=ti(H),lt=Ze||Xe||Be.length>0;return{matches:z,loaderData:He,errors:ye,...lt?{fetchers:new Map(L.fetchers)}:{}}}function ln(N){if(N&&!dr(N[1]))return{[N[0]]:N[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Ln(N){return N.forEach(U=>{let z=L.fetchers.get(U.key),F=Vl(void 0,z?z.data:void 0);L.fetchers.set(U.key,F)}),new Map(L.fetchers)}async function kt(N,U,z,F){Mt(N);let ie=(F&&F.flushSync)===!0,de=o||a,we=Gp(L.location,L.matches,l,z,U,F==null?void 0:F.relative),le=ds(de,we,l),pe=Ft(le,de,we);if(pe.active&&pe.matches&&(le=pe.matches),!le){Ne(N,U,Ar(404,{pathname:we}),{flushSync:ie});return}let{path:_e,submission:Ce,error:ve}=K_(!0,we,F);if(ve){Ne(N,U,ve,{flushSync:ie});return}let Ae=Yl(le,_e),tt=new G_(t.unstable_getContext?await t.unstable_getContext():void 0),pt=(F&&F.preventScrollReset)===!0;if(Ce&&fr(Ce.formMethod)){await Bn(N,U,_e,Ae,le,tt,pe.active,ie,pt,Ce);return}fe.set(N,{routeId:U,path:_e}),await Mn(N,U,_e,Ae,le,tt,pe.active,ie,pt,Ce)}async function Bn(N,U,z,F,ie,de,we,le,pe,_e){yn(),fe.delete(N);function Ce(at){if(!at.route.action&&!at.route.lazy){let Jt=Ar(405,{method:_e.formMethod,pathname:z,routeId:U});return Ne(N,U,Jt,{flushSync:le}),!0}return!1}if(!we&&Ce(F))return;let ve=L.fetchers.get(N);We(N,hD(_e,ve),{flushSync:le});let Ae=new AbortController,tt=ro(t.history,z,Ae.signal,_e);if(we){let at=await Fn(ie,z,tt.signal,N);if(at.type==="aborted")return;if(at.type==="error"){Ne(N,U,at.error,{flushSync:le});return}else if(at.matches){if(ie=at.matches,F=Yl(ie,z),Ce(F))return}else{Ne(N,U,Ar(404,{pathname:z}),{flushSync:le});return}}B.set(N,Ae);let pt=$,ht=Mo(i,s,tt,ie,F,r,de),Be=(await _t(tt,ht,de,N))[F.route.id];if(tt.signal.aborted){B.get(N)===Ae&&B.delete(N);return}if(W.has(N)){if(fa(Be)||dr(Be)){We(N,rs(void 0));return}}else{if(fa(Be))if(B.delete(N),H>pt){We(N,rs(void 0));return}else return ee.add(N),We(N,Vl(_e)),Xt(tt,Be,!1,{fetcherSubmission:_e,preventScrollReset:pe});if(dr(Be)){Ne(N,U,Be.error);return}}let Tr=L.navigation.location||L.location,Wn=ro(t.history,Tr,Ae.signal),qr=o||a,bn=L.navigation.state!=="idle"?ds(qr,L.navigation.location,l):L.matches;Ge(bn,"Didn't find any matches after fetcher action");let He=++$;ne.set(N,He);let ye=Vl(_e,Be.data);L.fetchers.set(N,ye);let{dsMatches:Ze,revalidatingFetchers:Xe}=Y_(Wn,de,i,s,t.history,L,bn,_e,Tr,r,!1,K,Z,W,fe,ee,qr,l,[F.route.id,Be]);Xe.filter(at=>at.key!==N).forEach(at=>{let Jt=at.key,Gr=L.fetchers.get(Jt),ta=Vl(void 0,Gr?Gr.data:void 0);L.fetchers.set(Jt,ta),Mt(Jt),at.controller&&B.set(Jt,at.controller)}),J({fetchers:new Map(L.fetchers)});let lt=()=>Xe.forEach(at=>Mt(at.key));Ae.signal.addEventListener("abort",lt);let{loaderResults:Re,fetcherResults:yt}=await jt(Ze,Xe,Wn,de);if(Ae.signal.aborted)return;Ae.signal.removeEventListener("abort",lt),ne.delete(N),B.delete(N),Xe.forEach(at=>B.delete(at.key));let qt=nh(Re);if(qt)return Xt(Wn,qt.result,!1,{preventScrollReset:pe});if(qt=nh(yt),qt)return ee.add(qt.key),Xt(Wn,qt.result,!1,{preventScrollReset:pe});let{loaderData:_n,errors:Xn}=tE(L,bn,Re,void 0,Xe,yt);if(L.fetchers.has(N)){let at=rs(Be.data);L.fetchers.set(N,at)}ti(He),L.navigation.state==="loading"&&He>H?(Ge(S,"Expected pending action"),w&&w.abort(),he(L.navigation.location,{matches:bn,loaderData:_n,errors:Xn,fetchers:new Map(L.fetchers)})):(J({errors:Xn,loaderData:nE(L.loaderData,_n,bn,Xn),fetchers:new Map(L.fetchers)}),K=!1)}async function Mn(N,U,z,F,ie,de,we,le,pe,_e){let Ce=L.fetchers.get(N);We(N,Vl(_e,Ce?Ce.data:void 0),{flushSync:le});let ve=new AbortController,Ae=ro(t.history,z,ve.signal);if(we){let Be=await Fn(ie,z,Ae.signal,N);if(Be.type==="aborted")return;if(Be.type==="error"){Ne(N,U,Be.error,{flushSync:le});return}else if(Be.matches)ie=Be.matches,F=Yl(ie,z);else{Ne(N,U,Ar(404,{pathname:z}),{flushSync:le});return}}B.set(N,ve);let tt=$,pt=Mo(i,s,Ae,ie,F,r,de),Pt=(await _t(Ae,pt,de,N))[F.route.id];if(B.get(N)===ve&&B.delete(N),!Ae.signal.aborted){if(W.has(N)){We(N,rs(void 0));return}if(fa(Pt))if(H>tt){We(N,rs(void 0));return}else{ee.add(N),await Xt(Ae,Pt,!1,{preventScrollReset:pe});return}if(dr(Pt)){Ne(N,U,Pt.error);return}We(N,rs(Pt.data))}}async function Xt(N,U,z,{submission:F,fetcherSubmission:ie,preventScrollReset:de,replace:we}={}){U.response.headers.has("X-Remix-Revalidate")&&(K=!0);let le=U.response.headers.get("Location");Ge(le,"Expected a Location header on the redirect Response"),le=J_(le,new URL(N.url),l);let pe=Uu(L.location,le,{_isRedirect:!0});if(n){let pt=!1;if(U.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(Dv.test(le)){const ht=t.history.createURL(le);pt=ht.origin!==e.location.origin||zr(ht.pathname,l)==null}if(pt){we?e.location.replace(le):e.location.assign(le);return}}w=null;let _e=we===!0||U.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ce,formAction:ve,formEncType:Ae}=L.navigation;!F&&!ie&&Ce&&ve&&Ae&&(F=aE(L.navigation));let tt=F||ie;if(KO.has(U.response.status)&&tt&&fr(tt.formMethod))await mt(_e,pe,{submission:{...tt,formAction:le},preventScrollReset:de||E,enableViewTransition:z?M:void 0});else{let pt=Rm(pe,F);await mt(_e,pe,{overrideNavigation:pt,fetcherSubmission:ie,preventScrollReset:de||E,enableViewTransition:z?M:void 0})}}async function _t(N,U,z,F){let ie,de={};try{ie=await nD(c,N,U,F,z,!1)}catch(we){return U.filter(le=>le.shouldLoad).forEach(le=>{de[le.route.id]={type:"error",error:we}}),de}for(let[we,le]of Object.entries(ie))if(lD(le)){let pe=le.result;de[we]={type:"redirect",response:sD(pe,N,we,U,l)}}else de[we]=await iD(le);return de}async function jt(N,U,z,F){let ie=_t(z,N,F,null),de=Promise.all(U.map(async pe=>{if(pe.matches&&pe.match&&pe.request&&pe.controller){let Ce=(await _t(pe.request,pe.matches,F,pe.key))[pe.match.route.id];return{[pe.key]:Ce}}else return Promise.resolve({[pe.key]:{type:"error",error:Ar(404,{pathname:pe.path})}})})),we=await ie,le=(await de).reduce((pe,_e)=>Object.assign(pe,_e),{});return{loaderResults:we,fetcherResults:le}}function yn(){K=!0,fe.forEach((N,U)=>{B.has(U)&&Z.add(U),Mt(U)})}function We(N,U,z={}){L.fetchers.set(N,U),J({fetchers:new Map(L.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Ne(N,U,z,F={}){let ie=ha(L.matches,U);Ct(N),J({errors:{[ie.route.id]:z},fetchers:new Map(L.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Zt(N){return me.set(N,(me.get(N)||0)+1),W.has(N)&&W.delete(N),L.fetchers.get(N)||YO}function Ct(N){let U=L.fetchers.get(N);B.has(N)&&!(U&&U.state==="loading"&&ne.has(N))&&Mt(N),fe.delete(N),ne.delete(N),ee.delete(N),W.delete(N),Z.delete(N),L.fetchers.delete(N)}function Kn(N){let U=(me.get(N)||0)-1;U<=0?(me.delete(N),W.add(N)):me.set(N,U),J({fetchers:new Map(L.fetchers)})}function Mt(N){let U=B.get(N);U&&(U.abort(),B.delete(N))}function sr(N){for(let U of N){let z=Zt(U),F=rs(z.data);L.fetchers.set(U,F)}}function Hn(){let N=[],U=!1;for(let z of ee){let F=L.fetchers.get(z);Ge(F,`Expected fetcher: ${z}`),F.state==="loading"&&(ee.delete(z),N.push(z),U=!0)}return sr(N),U}function ti(N){let U=[];for(let[z,F]of ne)if(F<N){let ie=L.fetchers.get(z);Ge(ie,`Expected fetcher: ${z}`),ie.state==="loading"&&(Mt(z),ne.delete(z),U.push(z))}return sr(U),U.length>0}function ar(N,U){let z=L.blockers.get(N)||Nl;return ae.get(N)!==U&&ae.set(N,U),z}function Sr(N){L.blockers.delete(N),ae.delete(N)}function Yn(N,U){let z=L.blockers.get(N)||Nl;Ge(z.state==="unblocked"&&U.state==="blocked"||z.state==="blocked"&&U.state==="blocked"||z.state==="blocked"&&U.state==="proceeding"||z.state==="blocked"&&U.state==="unblocked"||z.state==="proceeding"&&U.state==="unblocked",`Invalid blocker state transition: ${z.state} -> ${U.state}`);let F=new Map(L.blockers);F.set(N,U),J({blockers:F})}function Br({currentLocation:N,nextLocation:U,historyAction:z}){if(ae.size===0)return;ae.size>1&&Wt(!1,"A router only supports one blocker at a time");let F=Array.from(ae.entries()),[ie,de]=F[F.length-1],we=L.blockers.get(ie);if(!(we&&we.state==="proceeding")&&de({currentLocation:N,nextLocation:U,historyAction:z}))return ie}function Qn(N){let U=Ar(404,{pathname:N}),z=o||a,{matches:F,route:ie}=iE(z);return{notFoundMatches:F,route:ie,error:U}}function In(N,U,z){if(g=N,A=U,_=z||null,!T&&L.navigation===Am){T=!0;let F=un(L.location,L.matches);F!=null&&J({restoreScrollPosition:F})}return()=>{g=null,A=null,_=null}}function or(N,U){return _&&_(N,U.map(F=>CO(F,L.loaderData)))||N.key}function xt(N,U){if(g&&A){let z=or(N,U);g[z]=A()}}function un(N,U){if(g){let z=or(N,U),F=g[z];if(typeof F=="number")return F}return null}function Ft(N,U,z){if(t.patchRoutesOnNavigation)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:Rh(U,z,l,!0)}}else return{active:!0,matches:Rh(U,z,l,!0)||[]};return{active:!1,matches:null}}async function Fn(N,U,z,F){if(!t.patchRoutesOnNavigation)return{type:"success",matches:N};let ie=N;for(;;){let de=o==null,we=o||a,le=s;try{await t.patchRoutesOnNavigation({signal:z,path:U,matches:ie,fetcherKey:F,patch:(Ce,ve)=>{z.aborted||Q_(Ce,ve,we,le,i)}})}catch(Ce){return{type:"error",error:Ce,partialMatches:ie}}finally{de&&!z.aborted&&(a=[...a])}if(z.aborted)return{type:"aborted"};let pe=ds(we,U,l);if(pe)return{type:"success",matches:pe};let _e=Rh(we,U,l,!0);if(!_e||ie.length===_e.length&&ie.every((Ce,ve)=>Ce.route.id===_e[ve].route.id))return{type:"success",matches:null};ie=_e}}function Hr(N){s={},o=vd(N,i,void 0,s)}function Fr(N,U){let z=o==null;Q_(N,U,o||a,s,i),z&&(a=[...a],J({}))}return k={get basename(){return l},get future(){return h},get state(){return L},get routes(){return a},get window(){return e},initialize:re,subscribe:Oe,enableScrollRestoration:In,navigate:Qe,fetch:kt,revalidate:Dt,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:Zt,deleteFetcher:Kn,dispose:ge,getBlocker:ar,deleteBlocker:Sr,patchRoutes:Fr,_internalFetchControllers:B,_internalSetRoutes:Hr},k}function XO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Gp(t,e,n,r,i,s){let a,o;if(i){a=[];for(let c of e)if(a.push(c),c.route.id===i){o=c;break}}else a=e,o=e[e.length-1];let l=Ov(r||".",Iv(a),zr(t.pathname,n)||t.pathname,s==="path");if(r==null&&(l.search=t.search,l.hash=t.hash),(r==null||r===""||r===".")&&o){let c=kv(l.search);if(o.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&c){let h=new URLSearchParams(l.search),m=h.getAll("index");h.delete("index"),m.filter(g=>g).forEach(g=>h.append("index",g));let f=h.toString();l.search=f?`?${f}`:""}}return n!=="/"&&(l.pathname=l.pathname==="/"?n:ui([n,l.pathname])),js(l)}function K_(t,e,n){if(!n||!XO(n))return{path:e};if(n.formMethod&&!uD(n.formMethod))return{path:e,error:Ar(405,{method:n.formMethod})};let r=()=>({path:e,error:Ar(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),a=Lx(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!fr(s))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,[g,_])=>`${f}${g}=${_}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!fr(s))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}Ge(typeof FormData=="function","FormData is not available in this environment");let o,l;if(n.formData)o=Yp(n.formData),l=n.formData;else if(n.body instanceof FormData)o=Yp(n.body),l=n.body;else if(n.body instanceof URLSearchParams)o=n.body,l=eE(o);else if(n.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(n.body),l=eE(o)}catch{return r()}let c={formMethod:s,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(fr(c.formMethod))return{path:e,submission:c};let h=Xs(e);return t&&h.search&&kv(h.search)&&o.append("index",""),h.search=`?${o}`,{path:js(h),submission:c}}function Y_(t,e,n,r,i,s,a,o,l,c,h,m,f,g,_,A,T,b,v){var P;let C=v?dr(v[1])?v[1].error:v[1].data:void 0,R=i.createURL(s.location),k=i.createURL(l),L;if(h&&s.errors){let D=Object.keys(s.errors)[0];L=a.findIndex(K=>K.route.id===D)}else if(v&&dr(v[1])){let D=v[0];L=a.findIndex(K=>K.route.id===D)-1}let S=v?v[1].statusCode:void 0,E=S&&S>=400,w={currentUrl:R,currentParams:((P=s.matches[0])==null?void 0:P.params)||{},nextUrl:k,nextParams:a[0].params,...o,actionResult:C,actionStatus:S},M=a.map((D,K)=>{let{route:Z}=D,B=null;if(L!=null&&K>L?B=!1:Z.lazy?B=!0:Z.loader==null?B=!1:h?B=$p(Z,s.loaderData,s.errors):ZO(s.loaderData,s.matches[K],D)&&(B=!0),B!==null)return Kp(n,r,t,D,c,e,B);let $=E?!1:m||R.pathname+R.search===k.pathname+k.search||R.search!==k.search||JO(s.matches[K],D),H={...w,defaultShouldRevalidate:$},ne=_d(D,H);return Kp(n,r,t,D,c,e,ne,H)}),I=[];return _.forEach((D,K)=>{if(h||!a.some(fe=>fe.route.id===D.routeId)||g.has(K))return;let Z=ds(T,D.path,b);if(!Z){I.push({key:K,routeId:D.routeId,path:D.path,matches:null,match:null,request:null,controller:null});return}if(A.has(K))return;let B=s.fetchers.get(K),$=Yl(Z,D.path),H=new AbortController,ne=ro(i,D.path,H.signal),ee=null;if(f.has(K))f.delete(K),ee=Mo(n,r,ne,Z,$,c,e);else if(B&&B.state!=="idle"&&B.data===void 0)m&&(ee=Mo(n,r,ne,Z,$,c,e));else{let fe={...w,defaultShouldRevalidate:E?!1:m};_d($,fe)&&(ee=Mo(n,r,ne,Z,$,c,e,fe))}ee&&I.push({key:K,routeId:D.routeId,path:D.path,matches:ee,match:$,request:ne,controller:H})}),{dsMatches:M,revalidatingFetchers:I}}function $p(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function ZO(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function JO(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function _d(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Q_(t,e,n,r,i){let s;if(t){let l=r[t];Ge(l,`No route found to patch children into: routeId = ${t}`),l.children||(l.children=[]),s=l.children}else s=n;let a=e.filter(l=>!s.some(c=>Tx(l,c))),o=vd(a,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...o)}function Tx(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>Tx(n,s))}):!1}var W_=new WeakMap,Cx=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Ge(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let a=W_.get(i);a||(a={},W_.set(i,a));let o=a[t];if(o)return o;let l=(async()=>{let c=EO(t),m=i[t]!==void 0&&t!=="hasErrorBoundary";if(c)Wt(!c,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(m)Wt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let f=await s();f!=null&&(Object.assign(i,{[t]:f}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(f=>f===void 0)&&(i.lazy=void 0))})();return a[t]=l,l},X_=new WeakMap;function eD(t,e,n,r,i){let s=n[t.id];if(Ge(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let h=X_.get(s);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let m=(async()=>{Ge(typeof t.lazy=="function","No lazy route function found");let f=await t.lazy(),g={};for(let _ in f){let A=f[_];if(A===void 0)continue;let T=SO(_),v=s[_]!==void 0&&_!=="hasErrorBoundary";T?Wt(!T,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):v?Wt(!v,`Route "${s.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):g[_]=A}Object.assign(s,g),Object.assign(s,{...r(s),lazy:void 0})})();return X_.set(s,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let a=Object.keys(t.lazy),o=[],l;for(let h of a){if(i&&i.includes(h))continue;let m=Cx({key:h,route:t,manifest:n,mapRouteProperties:r});m&&(o.push(m),h===e&&(l=m))}let c=o.length>0?Promise.all(o).then(()=>{}):void 0;return c==null||c.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function Z_(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function tD(t){return t.matches.some(e=>e.route.unstable_middleware)?xx(t,!1,()=>Z_(t),(e,n)=>({[n]:{type:"error",result:e}})):Z_(t)}async function xx(t,e,n,r){let{matches:i,request:s,params:a,context:o}=t,l={handlerResult:void 0};try{let c=i.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(f=>[m.route.id,f]):[]),h=await Ax({request:s,params:a,context:o},c,e,l,n);return e?h:l.handlerResult}catch(c){if(!l.middlewareError)throw c;let h=await r(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,h):h}}async function Ax(t,e,n,r,i,s=0){let{request:a}=t;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let o=e[s];if(!o)return r.handlerResult=await i(),r.handlerResult;let[l,c]=o,h=!1,m,f=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");h=!0,await Ax(t,e,n,r,i,s+1)};try{let g=await c({request:t.request,params:t.params,context:t.context},f);return h?g===void 0?m:g:f()}catch(g){throw r.middlewareError?r.middlewareError.error!==g&&(r.middlewareError={routeId:l,error:g}):r.middlewareError={routeId:l,error:g},g}}function Rx(t,e,n,r,i){let s=Cx({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),a=eD(r.route,fr(n.method)?"action":"loader",e,t,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Kp(t,e,n,r,i,s,a,o=null){let l=!1,c=Rx(t,e,n,r,i);return{...r,_lazyPromises:c,shouldLoad:a,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(h){return l=!0,o?typeof h=="boolean"?_d(r,{...o,defaultShouldRevalidate:h}):_d(r,o):a},resolve(h){return l||a||h&&n.method==="GET"&&(r.route.lazy||r.route.loader)?rD({request:n,match:r,lazyHandlerPromise:c==null?void 0:c.handler,lazyRoutePromise:c==null?void 0:c.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Mo(t,e,n,r,i,s,a,o=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Rx(t,e,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Kp(t,e,n,l,s,a,!0,o))}async function nD(t,e,n,r,i,s){n.some(c=>{var h;return(h=c._lazyPromises)==null?void 0:h.middleware})&&await Promise.all(n.map(c=>{var h;return(h=c._lazyPromises)==null?void 0:h.middleware}));let a={request:e,params:n[0].params,context:i,matches:n},l=await t({...a,fetcherKey:r,unstable_runClientMiddleware:c=>{let h=a;return xx(h,!1,()=>c({...h,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(m,f)=>({[f]:{type:"error",result:m}}))}});try{await Promise.all(n.flatMap(c=>{var h,m;return[(h=c._lazyPromises)==null?void 0:h.handler,(m=c._lazyPromises)==null?void 0:m.route]}))}catch{}return l}async function rD({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let a,o,l=fr(t.method),c=l?"action":"loader",h=m=>{let f,g=new Promise((T,b)=>f=b);o=()=>f(),t.signal.addEventListener("abort",o);let _=T=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${e.route.id}]`)):m({request:t,params:e.params,context:s},...T!==void 0?[T]:[]),A=(async()=>{try{return{type:"data",result:await(i?i(b=>_(b)):_())}}catch(T){return{type:"error",result:T}}})();return Promise.race([A,g])};try{let m=l?e.route.action:e.route.loader;if(n||r)if(m){let f,[g]=await Promise.all([h(m).catch(_=>{f=_}),n,r]);if(f!==void 0)throw f;a=g}else{await n;let f=l?e.route.action:e.route.loader;if(f)[a]=await Promise.all([h(f),r]);else if(c==="action"){let g=new URL(t.url),_=g.pathname+g.search;throw Ar(405,{method:t.method,pathname:_,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(m)a=await h(m);else{let f=new URL(t.url),g=f.pathname+f.search;throw Ar(404,{pathname:g})}}catch(m){return{type:"error",result:m}}finally{o&&t.signal.removeEventListener("abort",o)}return a}async function iD(t){var r,i,s,a,o,l;let{result:e,type:n}=t;if(Mx(e)){let c;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(h){return{type:"error",error:h}}return n==="error"?{type:"error",error:new bd(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:"data",data:c,statusCode:e.status,headers:e.headers}}return n==="error"?sE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new bd(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:ju(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ju(e)?e.status:void 0}:sE(e)?{type:"data",data:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function sD(t,e,n,r,i){let s=t.headers.get("Location");if(Ge(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Dv.test(s)){let a=r.slice(0,r.findIndex(o=>o.route.id===n)+1);s=Gp(new URL(e.url),a,i,s),t.headers.set("Location",s)}return t}function J_(t,e,n){if(Dv.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=zr(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function ro(t,e,n,r){let i=t.createURL(Lx(e)).toString(),s={signal:n};if(r&&fr(r.formMethod)){let{formMethod:a,formEncType:o}=r;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(r.json)):o==="text/plain"?s.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?s.body=Yp(r.formData):s.body=r.formData}return new Request(i,s)}function Yp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function eE(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function aD(t,e,n,r=!1,i=!1){let s={},a=null,o,l=!1,c={},h=n&&dr(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let f=m.route.id,g=e[f];if(Ge(!fa(g),"Cannot handle redirect results in processLoaderData"),dr(g)){let _=g.error;if(h!==void 0&&(_=h,h=void 0),a=a||{},i)a[f]=_;else{let A=ha(t,f);a[A.route.id]==null&&(a[A.route.id]=_)}r||(s[f]=Sx),l||(l=!0,o=ju(g.error)?g.error.status:500),g.headers&&(c[f]=g.headers)}else s[f]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(o=g.statusCode),g.headers&&(c[f]=g.headers)}),h!==void 0&&n&&(a={[n[0]]:h},s[n[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}function tE(t,e,n,r,i,s){let{loaderData:a,errors:o}=aD(e,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:h,controller:m}=l,f=s[c];if(Ge(f,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(dr(f)){let g=ha(t.matches,h==null?void 0:h.route.id);o&&o[g.route.id]||(o={...o,[g.route.id]:f.error}),t.fetchers.delete(c)}else if(fa(f))Ge(!1,"Unhandled fetcher revalidation redirect");else{let g=rs(f.data);t.fetchers.set(c,g)}}),{loaderData:a,errors:o}}function nE(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==Sx).reduce((s,[a,o])=>(s[a]=o,s),{});for(let s of n){let a=s.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function rE(t){return t?dr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ha(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function iE(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ar(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(a="Bad Request",r&&e&&n?o=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):t===403?(a="Forbidden",o=`Route "${n}" does not match URL "${e}"`):t===404?(a="Not Found",o=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",r&&e&&n?o=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(o=`Invalid request method "${r.toUpperCase()}"`)),new bd(t||500,a,new Error(o),!0)}function nh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(fa(i))return{key:r,result:i}}}function Lx(t){let e=typeof t=="string"?Xs(t):t;return js({...e,hash:""})}function oD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function lD(t){return Mx(t.result)&&$O.has(t.result.status)}function dr(t){return t.type==="error"}function fa(t){return(t&&t.type)==="redirect"}function sE(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Mx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function uD(t){return GO.has(t.toUpperCase())}function fr(t){return FO.has(t.toUpperCase())}function kv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Yl(t,e){let n=typeof e=="string"?Xs(e).search:e.search;if(t[t.length-1].route.index&&kv(n||""))return t[t.length-1];let r=_x(t);return r[r.length-1]}function aE(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function Rm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function cD(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Vl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hD(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function rs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function dD(t,e){try{let n=t.sessionStorage.getItem(wx);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function fD(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(wx,JSON.stringify(n))}catch(r){Wt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function mD(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var ja=d.createContext(null);ja.displayName="DataRouter";var mc=d.createContext(null);mc.displayName="DataRouterState";var Pv=d.createContext({isTransitioning:!1});Pv.displayName="ViewTransition";var Ix=d.createContext(new Map);Ix.displayName="Fetchers";var pD=d.createContext(null);pD.displayName="Await";var _i=d.createContext(null);_i.displayName="Navigation";var mf=d.createContext(null);mf.displayName="Location";var Jr=d.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var Nv=d.createContext(null);Nv.displayName="RouteError";function gD(t,{relative:e}={}){Ge(pc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=d.useContext(_i),{hash:i,pathname:s,search:a}=vc(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:ui([n,s])),r.createHref({pathname:o,search:a,hash:i})}function pc(){return d.useContext(mf)!=null}function ei(){return Ge(pc(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(mf).location}var Ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dx(t){d.useContext(_i).static||d.useLayoutEffect(t)}function gc(){let{isDataRoute:t}=d.useContext(Jr);return t?ID():vD()}function vD(){Ge(pc(),"useNavigate() may be used only in the context of a <Router> component.");let t=d.useContext(ja),{basename:e,navigator:n}=d.useContext(_i),{matches:r}=d.useContext(Jr),{pathname:i}=ei(),s=JSON.stringify(Iv(r)),a=d.useRef(!1);return Dx(()=>{a.current=!0}),d.useCallback((l,c={})=>{if(Wt(a.current,Ox),!a.current)return;if(typeof l=="number"){n.go(l);return}let h=Ov(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ui([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}var yD=d.createContext(null);function bD(t){let e=d.useContext(Jr).outlet;return e&&d.createElement(yD.Provider,{value:t},e)}function kx(){let{matches:t}=d.useContext(Jr),e=t[t.length-1];return e?e.params:{}}function vc(t,{relative:e}={}){let{matches:n}=d.useContext(Jr),{pathname:r}=ei(),i=JSON.stringify(Iv(n));return d.useMemo(()=>Ov(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function _D(t,e,n,r){Ge(pc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=d.useContext(_i),{matches:a}=d.useContext(Jr),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let v=m&&m.path||"";Px(c,!m||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=ei(),g;g=f;let _=g.pathname||"/",A=_;if(h!=="/"){let v=h.replace(/^\//,"").split("/");A="/"+_.replace(/^\//,"").split("/").slice(v.length).join("/")}let T=!s&&n&&n.matches&&n.matches.length>0?n.matches:ds(t,{pathname:A});return Wt(m||T!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Wt(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),CD(T&&T.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ui([h,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?h:ui([h,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r)}function ED(){let t=MD(),e=ju(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=d.createElement(d.Fragment,null,d.createElement("p",null," Hey developer "),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:s},"ErrorBoundary")," or"," ",d.createElement("code",{style:s},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},e),n?d.createElement("pre",{style:i},n):null,a)}var wD=d.createElement(ED,null),SD=class extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?d.createElement(Jr.Provider,{value:this.props.routeContext},d.createElement(Nv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TD({routeContext:t,match:e,children:n}){let r=d.useContext(ja);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),d.createElement(Jr.Provider,{value:t},n)}function CD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Ge(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,o=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:h,errors:m}=n,f=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!m||m[c.route.id]===void 0);if(c.route.lazy||f){a=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,c,h)=>{let m,f=!1,g=null,_=null;n&&(m=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||wD,a&&(o<0&&h===0?(Px("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,_=null):o===h&&(f=!0,_=c.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,h+1)),T=()=>{let b;return m?b=g:f?b=_:c.route.Component?b=d.createElement(c.route.Component,null):c.route.element?b=c.route.element:b=l,d.createElement(TD,{match:c,routeContext:{outlet:l,matches:A,isDataRoute:n!=null},children:b})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?d.createElement(SD,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}function Vv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xD(t){let e=d.useContext(ja);return Ge(e,Vv(t)),e}function AD(t){let e=d.useContext(mc);return Ge(e,Vv(t)),e}function RD(t){let e=d.useContext(Jr);return Ge(e,Vv(t)),e}function Uv(t){let e=RD(t),n=e.matches[e.matches.length-1];return Ge(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function LD(){return Uv("useRouteId")}function MD(){var r;let t=d.useContext(Nv),e=AD("useRouteError"),n=Uv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function ID(){let{router:t}=xD("useNavigate"),e=Uv("useNavigate"),n=d.useRef(!1);return Dx(()=>{n.current=!0}),d.useCallback(async(i,s={})=>{Wt(n.current,Ox),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var oE={};function Px(t,e,n){!e&&!oE[t]&&(oE[t]=!0,Wt(!1,n))}var lE={};function uE(t,e){!t&&!lE[e]&&(lE[e]=!0,console.warn(e))}function OD(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Wt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:d.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Wt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:d.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Wt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:d.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var DD=["HydrateFallback","hydrateFallbackElement"],kD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function PD({router:t,flushSync:e}){let[n,r]=d.useState(t.state),[i,s]=d.useState(),[a,o]=d.useState({isTransitioning:!1}),[l,c]=d.useState(),[h,m]=d.useState(),[f,g]=d.useState(),_=d.useRef(new Map),A=d.useCallback((C,{deletedFetchers:R,flushSync:k,viewTransitionOpts:L})=>{C.fetchers.forEach((E,w)=>{E.data!==void 0&&_.current.set(w,E.data)}),R.forEach(E=>_.current.delete(E)),uE(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let S=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(uE(L==null||S,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!S){e&&k?e(()=>r(C)):d.startTransition(()=>r(C));return}if(e&&k){e(()=>{h&&(l&&l.resolve(),h.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let E=t.window.document.startViewTransition(()=>{e(()=>r(C))});E.finished.finally(()=>{e(()=>{c(void 0),m(void 0),s(void 0),o({isTransitioning:!1})})}),e(()=>m(E));return}h?(l&&l.resolve(),h.skipTransition(),g({state:C,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(s(C),o({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[t.window,e,h,l]);d.useLayoutEffect(()=>t.subscribe(A),[t,A]),d.useEffect(()=>{a.isTransitioning&&!a.flushSync&&c(new kD)},[a]),d.useEffect(()=>{if(l&&i&&t.window){let C=i,R=l.promise,k=t.window.document.startViewTransition(async()=>{d.startTransition(()=>r(C)),await R});k.finished.finally(()=>{c(void 0),m(void 0),s(void 0),o({isTransitioning:!1})}),m(k)}},[i,l,t.window]),d.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,h,n.location,i]),d.useEffect(()=>{!a.isTransitioning&&f&&(s(f.state),o({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),g(void 0))},[a.isTransitioning,f]);let T=d.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:C=>t.navigate(C),push:(C,R,k)=>t.navigate(C,{state:R,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(C,R,k)=>t.navigate(C,{replace:!0,state:R,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[t]),b=t.basename||"/",v=d.useMemo(()=>({router:t,navigator:T,static:!1,basename:b}),[t,T,b]);return d.createElement(d.Fragment,null,d.createElement(ja.Provider,{value:v},d.createElement(mc.Provider,{value:n},d.createElement(Ix.Provider,{value:_.current},d.createElement(Pv.Provider,{value:a},d.createElement(jD,{basename:b,location:n.location,navigationType:n.historyAction,navigator:T},d.createElement(ND,{routes:t.routes,future:t.future,state:n})))))),null)}var ND=d.memo(VD);function VD({routes:t,future:e,state:n}){return _D(t,void 0,n,e)}function UD(t){return bD(t.context)}function jD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ge(!pc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=d.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Xs(n));let{pathname:l="/",search:c="",hash:h="",state:m=null,key:f="default"}=n,g=d.useMemo(()=>{let _=zr(l,a);return _==null?null:{location:{pathname:_,search:c,hash:h,state:m,key:f},navigationType:r}},[a,l,c,h,m,f,r]);return Wt(g!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:d.createElement(_i.Provider,{value:o},d.createElement(mf.Provider,{children:e,value:g}))}var Lh="get",Mh="application/x-www-form-urlencoded";function pf(t){return t!=null&&typeof t.tagName=="string"}function zD(t){return pf(t)&&t.tagName.toLowerCase()==="button"}function BD(t){return pf(t)&&t.tagName.toLowerCase()==="form"}function HD(t){return pf(t)&&t.tagName.toLowerCase()==="input"}function FD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qD(t,e){return t.button===0&&(!e||e==="_self")&&!FD(t)}var rh=null;function GD(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var $D=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lm(t){return t!=null&&!$D.has(t)?(Wt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mh}"`),null):t}function KD(t,e){let n,r,i,s,a;if(BD(t)){let o=t.getAttribute("action");r=o?zr(o,e):null,n=t.getAttribute("method")||Lh,i=Lm(t.getAttribute("enctype"))||Mh,s=new FormData(t)}else if(zD(t)||HD(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?zr(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Lh,i=Lm(t.getAttribute("formenctype"))||Lm(o.getAttribute("enctype"))||Mh,s=new FormData(o,t),!GD()){let{name:c,type:h,value:m}=t;if(h==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,m)}}else{if(pf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lh,r=null,i=Mh,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function jv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function YD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WD(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await YD(s,n);return a.links?a.links():[]}return[]}));return ek(r.flat(1).filter(QD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cE(t,e,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var m;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function XD(t,e,{includeHydrateFallback:n}={}){return ZD(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function ZD(t){return[...new Set(t)]}function JD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ek(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(JD(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}var tk=new Set([100,101,204,205]);function nk(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&zr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Nx(){let t=d.useContext(ja);return jv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rk(){let t=d.useContext(mc);return jv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zv=d.createContext(void 0);zv.displayName="FrameworkContext";function Vx(){let t=d.useContext(zv);return jv(t,"You must render this element inside a <HydratedRouter> element"),t}function ik(t,e){let n=d.useContext(zv),[r,i]=d.useState(!1),[s,a]=d.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:m}=e,f=d.useRef(null);d.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let A=b=>{b.forEach(v=>{a(v.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return f.current&&T.observe(f.current),()=>{T.disconnect()}}},[t]),d.useEffect(()=>{if(r){let A=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(A)}}},[r]);let g=()=>{i(!0)},_=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Ul(o,g),onBlur:Ul(l,_),onMouseEnter:Ul(c,g),onMouseLeave:Ul(h,_),onTouchStart:Ul(m,g)}]:[!1,f,{}]}function Ul(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function sk({page:t,...e}){let{router:n}=Nx(),r=d.useMemo(()=>ds(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?d.createElement(ok,{page:t,matches:r,...e}):null}function ak(t){let{manifest:e,routeModules:n}=Vx(),[r,i]=d.useState([]);return d.useEffect(()=>{let s=!1;return WD(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function ok({page:t,matches:e,...n}){let r=ei(),{manifest:i,routeModules:s}=Vx(),{basename:a}=Nx(),{loaderData:o,matches:l}=rk(),c=d.useMemo(()=>cE(t,e,l,i,r,"data"),[t,e,l,i,r]),h=d.useMemo(()=>cE(t,e,l,i,r,"assets"),[t,e,l,i,r]),m=d.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,A=!1;if(e.forEach(b=>{var C;let v=i.routes[b.route.id];!v||!v.hasLoader||(!c.some(R=>R.route.id===b.route.id)&&b.route.id in o&&((C=s[b.route.id])!=null&&C.shouldRevalidate)||v.hasClientLoader?A=!0:_.add(b.route.id))}),_.size===0)return[];let T=nk(t,a);return A&&_.size>0&&T.searchParams.set("_routes",e.filter(b=>_.has(b.route.id)).map(b=>b.route.id).join(",")),[T.pathname+T.search]},[a,o,r,i,c,e,t,s]),f=d.useMemo(()=>XD(h,i),[h,i]),g=ak(h);return d.createElement(d.Fragment,null,m.map(_=>d.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),f.map(_=>d.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),g.map(({key:_,link:A})=>d.createElement("link",{key:_,...A})))}function lk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ux=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ux&&(window.__reactRouterVersion="7.5.1")}catch{}function uk(t,e){return WO({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:vO({window:e==null?void 0:e.window}),hydrationData:ck(),routes:t,mapRouteProperties:OD,hydrationRouteProperties:DD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function ck(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:hk(t.errors)}),t}function hk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new bd(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gf=d.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:h,viewTransition:m,...f},g){let{basename:_}=d.useContext(_i),A=typeof c=="string"&&jx.test(c),T,b=!1;if(typeof c=="string"&&A&&(T=c,Ux))try{let w=new URL(window.location.href),M=c.startsWith("//")?new URL(w.protocol+c):new URL(c),I=zr(M.pathname,_);M.origin===w.origin&&I!=null?c=I+M.search+M.hash:b=!0}catch{Wt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=gD(c,{relative:i}),[C,R,k]=ik(r,f),L=pk(c,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:m});function S(w){e&&e(w),w.defaultPrevented||L(w)}let E=d.createElement("a",{...f,...k,href:T||v,onClick:b||s?e:S,ref:lk(g,R),target:l,"data-discover":!A&&n==="render"?"true":void 0});return C&&!A?d.createElement(d.Fragment,null,E,d.createElement(sk,{page:v})):E});gf.displayName="Link";var dk=d.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},h){let m=vc(a,{relative:c.relative}),f=ei(),g=d.useContext(mc),{navigator:_,basename:A}=d.useContext(_i),T=g!=null&&_k(m)&&o===!0,b=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,v=f.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(v=v.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&A&&(C=zr(C,A)||C);const R=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=v===b||!i&&v.startsWith(b)&&v.charAt(R)==="/",L=C!=null&&(C===b||!i&&C.startsWith(b)&&C.charAt(b.length)==="/"),S={isActive:k,isPending:L,isTransitioning:T},E=k?e:void 0,w;typeof r=="function"?w=r(S):w=[r,k?"active":null,L?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let M=typeof s=="function"?s(S):s;return d.createElement(gf,{...c,"aria-current":E,className:w,ref:h,style:M,to:a,viewTransition:o},typeof l=="function"?l(S):l)});dk.displayName="NavLink";var fk=d.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Lh,action:o,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:m,...f},g)=>{let _=yk(),A=bk(o,{relative:c}),T=a.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&jx.test(o),v=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let R=C.nativeEvent.submitter,k=(R==null?void 0:R.getAttribute("formmethod"))||a;_(R||C.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:m})};return d.createElement("form",{ref:g,method:T,action:A,onSubmit:r?l:v,...f,"data-discover":!b&&t==="render"?"true":void 0})});fk.displayName="Form";function mk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zx(t){let e=d.useContext(ja);return Ge(e,mk(t)),e}function pk(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=gc(),l=ei(),c=vc(t,{relative:s});return d.useCallback(h=>{if(qD(h,e)){h.preventDefault();let m=n!==void 0?n:js(l)===js(c);o(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,e,t,i,s,a])}var gk=0,vk=()=>`__${String(++gk)}__`;function yk(){let{router:t}=zx("useSubmit"),{basename:e}=d.useContext(_i),n=LD();return d.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=KD(r,e);if(i.navigate===!1){let h=i.fetcherKey||vk();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function bk(t,{relative:e}={}){let{basename:n}=d.useContext(_i),r=d.useContext(Jr);Ge(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...vc(t||".",{relative:e})},a=ei();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ui([n,s.pathname])),js(s)}function _k(t,e={}){let n=d.useContext(Pv);Ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zx("useViewTransitionState"),i=vc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=zr(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=zr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yd(i.pathname,a)!=null||yd(i.pathname,s)!=null}new TextEncoder;[...tk];/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ek(t){return d.createElement(PD,{flushSync:Ki.flushSync,...t})}const Bx=d.createContext(void 0),Hx=({children:t})=>{const[e,n]=d.useState(""),[r,i]=d.useState([]),[s,a]=d.useState([]),[o,l]=d.useState(""),[c,h]=d.useState(null),[m,f]=d.useState(null),[g,_]=d.useState(null),[A,T]=d.useState([]),[b,v]=d.useState([]);return x.jsx(Bx.Provider,{value:{eventType:r,setEventType:i,eventName:e,setEventName:n,theme:s,setTheme:a,location:o,setLocation:l,date:c,setDate:h,startTime:m,setStartTime:f,endTime:g,setEndTime:_,invitees:A,setInvitees:T,activities:b,setActivities:v},children:t})},za=()=>{const t=d.useContext(Bx);if(!t)throw new Error("useInvitation must be used within an InvitationProvider");return t};function wk(){return x.jsx(Hx,{children:x.jsx(UD,{})})}function Fx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Fx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Sk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Fx(t))&&(r&&(r+=" "),r+=e);return r}const Bv="-",Tk=t=>{const e=xk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(Bv);return o[0]===""&&o.length!==1&&o.shift(),qx(o,e)||Ck(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},qx=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?qx(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Bv);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},hE=/^\[(.+)\]$/,Ck=t=>{if(hE.test(t)){const e=hE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xk=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Qp(n[i],r,i,e);return r},Qp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:dE(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Ak(i)){Qp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Qp(a,dE(e,s),n,r)})})},dE=(t,e)=>{let n=t;return e.split(Bv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Ak=t=>t.isThemeGetter,Rk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},Wp="!",Xp=":",Lk=Xp.length,Mk=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,o=0,l=0,c;for(let _=0;_<i.length;_++){let A=i[_];if(a===0&&o===0){if(A===Xp){s.push(i.slice(l,_)),l=_+Lk;continue}if(A==="/"){c=_;continue}}A==="["?a++:A==="]"?a--:A==="("?o++:A===")"&&o--}const h=s.length===0?i:i.substring(l),m=Ik(h),f=m!==h,g=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}};if(e){const i=e+Xp,s=r;r=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},Ik=t=>t.endsWith(Wp)?t.substring(0,t.length-1):t.startsWith(Wp)?t.substring(1):t,Ok=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(a=>{a[0]==="["||e[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},Dk=t=>({cache:Rk(t.cacheSize),parseClassName:Mk(t),sortModifiers:Ok(t),...Tk(t)}),kk=/\s+/,Pk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=t.trim().split(kk);let l="";for(let c=o.length-1;c>=0;c-=1){const h=o[c],{isExternal:m,modifiers:f,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:A}=n(h);if(m){l=h+(l.length>0?" "+l:l);continue}let T=!!A,b=r(T?_.substring(0,A):_);if(!b){if(!T){l=h+(l.length>0?" "+l:l);continue}if(b=r(_),!b){l=h+(l.length>0?" "+l:l);continue}T=!1}const v=s(f).join(":"),C=g?v+Wp:v,R=C+b;if(a.includes(R))continue;a.push(R);const k=i(b,T);for(let L=0;L<k.length;++L){const S=k[L];a.push(C+S)}l=h+(l.length>0?" "+l:l)}return l};function Nk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Gx(e))&&(r&&(r+=" "),r+=n);return r}const Gx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Gx(t[r]))&&(n&&(n+=" "),n+=e);return n};function Vk(t,...e){let n,r,i,s=a;function a(l){const c=e.reduce((h,m)=>m(h),t());return n=Dk(c),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const c=r(l);if(c)return c;const h=Pk(l,n);return i(l,h),h}return function(){return s(Nk.apply(null,arguments))}}const en=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},$x=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Kx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Uk=/^\d+\/\d+$/,jk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Hk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xa=t=>Uk.test(t),Ve=t=>!!t&&!Number.isNaN(Number(t)),es=t=>!!t&&Number.isInteger(Number(t)),Mm=t=>t.endsWith("%")&&Ve(t.slice(0,-1)),xi=t=>jk.test(t),qk=()=>!0,Gk=t=>zk.test(t)&&!Bk.test(t),Yx=()=>!1,$k=t=>Hk.test(t),Kk=t=>Fk.test(t),Yk=t=>!ue(t)&&!ce(t),Qk=t=>hl(t,Xx,Yx),ue=t=>$x.test(t),sa=t=>hl(t,Zx,Gk),Im=t=>hl(t,eP,Ve),fE=t=>hl(t,Qx,Yx),Wk=t=>hl(t,Wx,Kk),ih=t=>hl(t,Jx,$k),ce=t=>Kx.test(t),jl=t=>dl(t,Zx),Xk=t=>dl(t,tP),mE=t=>dl(t,Qx),Zk=t=>dl(t,Xx),Jk=t=>dl(t,Wx),sh=t=>dl(t,Jx,!0),hl=(t,e,n)=>{const r=$x.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},dl=(t,e,n=!1)=>{const r=Kx.exec(t);return r?r[1]?e(r[1]):n:!1},Qx=t=>t==="position"||t==="percentage",Wx=t=>t==="image"||t==="url",Xx=t=>t==="length"||t==="size"||t==="bg-size",Zx=t=>t==="length",eP=t=>t==="number",tP=t=>t==="family-name",Jx=t=>t==="shadow",nP=()=>{const t=en("color"),e=en("font"),n=en("text"),r=en("font-weight"),i=en("tracking"),s=en("leading"),a=en("breakpoint"),o=en("container"),l=en("spacing"),c=en("radius"),h=en("shadow"),m=en("inset-shadow"),f=en("text-shadow"),g=en("drop-shadow"),_=en("blur"),A=en("perspective"),T=en("aspect"),b=en("ease"),v=en("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...R(),ce,ue],L=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],E=()=>[ce,ue,l],w=()=>[Xa,"full","auto",...E()],M=()=>[es,"none","subgrid",ce,ue],I=()=>["auto",{span:["full",es,ce,ue]},es,ce,ue],P=()=>[es,"auto",ce,ue],D=()=>["auto","min","max","fr",ce,ue],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...E()],$=()=>[Xa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],H=()=>[t,ce,ue],ne=()=>[...R(),mE,fE,{position:[ce,ue]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],fe=()=>["auto","cover","contain",Zk,Qk,{size:[ce,ue]}],me=()=>[Mm,jl,sa],W=()=>["","none","full",c,ce,ue],ae=()=>["",Ve,jl,sa],V=()=>["solid","dashed","dotted","double"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[Ve,Mm,mE,fE],ge=()=>["","none",_,ce,ue],Oe=()=>["none",Ve,ce,ue],J=()=>["none",Ve,ce,ue],he=()=>[Ve,ce,ue],Qe=()=>[Xa,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xi],breakpoint:[xi],color:[qk],container:[xi],"drop-shadow":[xi],ease:["in","out","in-out"],font:[Yk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xi],shadow:[xi],spacing:["px",Ve],text:[xi],"text-shadow":[xi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xa,ue,ce,T]}],container:["container"],columns:[{columns:[Ve,ue,ce,o]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[es,"auto",ce,ue]}],basis:[{basis:[Xa,"full","auto",o,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,Xa,"auto","initial","none",ue]}],grow:[{grow:["",Ve,ce,ue]}],shrink:[{shrink:["",Ve,ce,ue]}],order:[{order:[es,"first","last","none",ce,ue]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:$()}],w:[{w:[o,"screen",...$()]}],"min-w":[{"min-w":[o,"screen","none",...$()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...$()]}],h:[{h:["screen",...$()]}],"min-h":[{"min-h":["screen","none",...$()]}],"max-h":[{"max-h":["screen",...$()]}],"font-size":[{text:["base",n,jl,sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ce,Im]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mm,ue]}],"font-family":[{font:[Xk,ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ce,ue]}],"line-clamp":[{"line-clamp":[Ve,"none",ce,Im]}],leading:[{leading:[s,...E()]}],"list-image":[{"list-image":["none",ce,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",ce,sa]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Ve,"auto",ce,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:fe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},es,ce,ue],radial:["",ce,ue],conic:[es,ce,ue]},Jk,Wk]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,ce,ue]}],"outline-w":[{outline:["",Ve,jl,sa]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",h,sh,ih]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",m,sh,ih]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Ve,sa]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",f,sh,ih]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Ve,ce,ue]}],"mix-blend":[{"mix-blend":[...te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[ce,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:fe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,ue]}],filter:[{filter:["","none",ce,ue]}],blur:[{blur:ge()}],brightness:[{brightness:[Ve,ce,ue]}],contrast:[{contrast:[Ve,ce,ue]}],"drop-shadow":[{"drop-shadow":["","none",g,sh,ih]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Ve,ce,ue]}],"hue-rotate":[{"hue-rotate":[Ve,ce,ue]}],invert:[{invert:["",Ve,ce,ue]}],saturate:[{saturate:[Ve,ce,ue]}],sepia:[{sepia:["",Ve,ce,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,ue]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,ce,ue]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,ce,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,ce,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,ce,ue]}],"backdrop-invert":[{"backdrop-invert":["",Ve,ce,ue]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,ce,ue]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,ce,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,ce,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",ce,ue]}],ease:[{ease:["linear","initial",b,ce,ue]}],delay:[{delay:[Ve,ce,ue]}],animate:[{animate:["none",v,ce,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,ce,ue]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Oe()}],"rotate-x":[{"rotate-x":Oe()}],"rotate-y":[{"rotate-y":Oe()}],"rotate-z":[{"rotate-z":Oe()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[ce,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qe()}],"translate-x":[{"translate-x":Qe()}],"translate-y":[{"translate-y":Qe()}],"translate-z":[{"translate-z":Qe()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,ue]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Ve,jl,sa,Im]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},rP=Vk(nP);function vf(...t){return rP(Sk(t))}function De({to:t,className:e,children:n,isSelected:r,onClick:i,...s}){const l=vf("px-4 py-2 rounded-full font-medium text-sm bg-white text-black ring-0 transition-shadow duration-300 hover:ring-1 hover:ring-gray-300",r?"rounded-full px-4 py-2 text-sm ring-4 ring-gray-300 transition-shadow duration-300 hover:ring-2 hover:ring-gray-300":"rounded-full px-4 py-2 text-sm ring-1 ring-gray-300 transition-shadow duration-300 hover:ring-2 hover:ring-gray-300",e);return t?x.jsx(gf,{to:t,className:l,children:n}):x.jsx("button",{className:l,onClick:i,...s,children:n})}const pE=[{label:"Event Name",path:"/eventName"},{label:"Type",path:"/partyType"},{label:"Theme",path:"/theme"},{label:"Date & Time",path:"/dateTime"},{label:"Activities",path:"/activity"},{label:"Invitees",path:"/invitee"},{label:"Location",path:"/location"},{label:"Review",path:"/confirmation"}];function iP(){return x.jsxs("main",{className:"flex flex-col items-center justify-center min-h-screen bg-background px-4",children:[x.jsx("h1",{className:"text-3xl font-bold mb-10 text-black",children:"Create Your Invite"}),x.jsx("div",{className:"flex items-center flex-wrap gap-2 justify-center",children:pE.map((t,e)=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(De,{to:t.path,children:t.label}),e<pE.length-1&&x.jsx("div",{className:"w-10 h-px bg-gray-300 mx-2"})]},t.path))})]})}function sP(){const[t,e]=d.useState([]),[n,r]=d.useState(""),[i,s]=d.useState(""),[a,o]=d.useState(!1),[l,c]=d.useState(!1),[h,m]=d.useState(!1),f="viva:invitees";d.useEffect(()=>{try{const A=localStorage.getItem(f);if(A){const T=JSON.parse(A);Array.isArray(T.invitees)&&e(T.invitees),typeof T.name=="string"&&r(T.name),typeof T.email=="string"&&s(T.email)}}catch{}finally{m(!0)}},[]),d.useEffect(()=>{h&&localStorage.setItem(f,JSON.stringify({invitees:t,name:n,email:i}))},[h,t,n,i]);const g=()=>{!n||!i||(e([...t,{name:n,email:i}]),r(""),s(""))},_=A=>{e(T=>T.filter((b,v)=>v!==A))};return x.jsxs("main",{className:"max-w-md mx-auto p-6 bg-background space-y-6",children:[x.jsx("div",{className:"text-3xl font-bold mb-10 text-black flex items-center",children:"Whos coming"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",placeholder:"Name",className:"border px-2 py-1 rounded w-1/3",value:n,onChange:A=>r(A.target.value)}),x.jsx("input",{type:"email",placeholder:"Email",className:"border px-2 py-1 rounded w-1/3",value:i,onChange:A=>s(A.target.value)}),x.jsx("button",{onClick:g,className:"bg-blue-500 text-white px-4 py-1 rounded",children:"Add"})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((A,T)=>{const v=t.reduce((C,R)=>(C[R.name]=(C[R.name]||0)+1,C),{})[A.name]>1;return x.jsxs("div",{className:"bg-gray-200 px-3 py-1 rounded-full flex items-center gap-2",children:[x.jsxs("span",{children:[A.name,v?` (${A.email})`:""]}),x.jsx("button",{onClick:()=>_(T),className:"text-red-500 font-bold",children:""})]},T)})}),t.length>0&&x.jsx("div",{className:"mt-4",children:x.jsx("button",{onClick:()=>{c(!0),o(!0),setTimeout(()=>c(!1),3e3)},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition",children:"Finish"})}),l&&x.jsx("div",{className:`fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg
            transition-opacity duration-500 opacity-100 animate-fadeIn`,children:"You're ready to send invites!"}),a&&x.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50
                animate-fadeIn`,children:x.jsxs("div",{className:"bg-white p-6 rounded-xl max-w-md w-full shadow-lg",children:[x.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Review Your Invite"}),x.jsx("ul",{className:"mb-4 max-h-40 overflow-y-auto",children:t.map((A,T)=>x.jsxs("li",{className:"text-sm text-gray-700",children:[A.name," (",A.email,")"]},T))}),x.jsx("textarea",{placeholder:"Write your custom message here...",className:"w-full border rounded p-2 mb-4",rows:3}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-black",children:"Cancel"}),x.jsx("button",{onClick:()=>{console.log("Sending emails..."),o(!1)},className:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700",children:"Send"})]})]})}),x.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[x.jsx(De,{to:"/",children:"Home"}),x.jsx(De,{to:"/location",children:"Next"})]})]})}function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function aP(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oP(t){var e=aP(t,"string");return zu(e)=="symbol"?e:e+""}function G(t,e,n){return(e=oP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Om,gE;function lP(){if(gE)return Om;gE=1;var t=function(n,r,i,s,a,o,l,c){if(!n){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[i,s,a,o,l,c],f=0;h=new Error(r.replace(/%s/g,function(){return m[f++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return Om=t,Om}var uP=lP(),on=eA(uP),ke=d.createContext(null);function cP(){on(!!d.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=d.useContext(ke);return on(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function hP(t,e,n){return Object.keys(t).reduce(function(i,s){return e(i,t[s],s)},n)}function dP(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function fP(t,e,n,r){var i={},s=(a,o)=>{var l=n[o];l!==e[o]&&(i[o]=l,a(r,l))};return dP(t,s),i}function mP(t,e,n){var r=hP(n,function(s,a,o){return typeof t[o]=="function"&&s.push(google.maps.event.addListener(e,a,t[o])),s},[]);return r}function pP(t){google.maps.event.removeListener(t)}function $e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(pP)}function ze(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:i,instance:s}=t,a=mP(i,s,n);return fP(e,r,i,s),a}var vE={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},yE={extraMapTypes(t,e){e.forEach(function(r,i){t.mapTypes.set(String(i),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function gP(t){var{children:e,options:n,id:r,mapContainerStyle:i,mapContainerClassName:s,center:a,onClick:o,onDblClick:l,onDrag:c,onDragEnd:h,onDragStart:m,onMouseMove:f,onMouseOut:g,onMouseOver:_,onMouseDown:A,onMouseUp:T,onRightClick:b,onCenterChanged:v,onLoad:C,onUnmount:R}=t,[k,L]=d.useState(null),S=d.useRef(null),[E,w]=d.useState(null),[M,I]=d.useState(null),[P,D]=d.useState(null),[K,Z]=d.useState(null),[B,$]=d.useState(null),[H,ne]=d.useState(null),[ee,fe]=d.useState(null),[me,W]=d.useState(null),[ae,V]=d.useState(null),[te,re]=d.useState(null),[ge,Oe]=d.useState(null),[J,he]=d.useState(null);return d.useEffect(()=>{n&&k!==null&&k.setOptions(n)},[k,n]),d.useEffect(()=>{k!==null&&typeof a<"u"&&k.setCenter(a)},[k,a]),d.useEffect(()=>{k&&l&&(M!==null&&google.maps.event.removeListener(M),I(google.maps.event.addListener(k,"dblclick",l)))},[l]),d.useEffect(()=>{k&&h&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(k,"dragend",h)))},[h]),d.useEffect(()=>{k&&m&&(K!==null&&google.maps.event.removeListener(K),Z(google.maps.event.addListener(k,"dragstart",m)))},[m]),d.useEffect(()=>{k&&A&&(B!==null&&google.maps.event.removeListener(B),$(google.maps.event.addListener(k,"mousedown",A)))},[A]),d.useEffect(()=>{k&&f&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(k,"mousemove",f)))},[f]),d.useEffect(()=>{k&&g&&(ee!==null&&google.maps.event.removeListener(ee),fe(google.maps.event.addListener(k,"mouseout",g)))},[g]),d.useEffect(()=>{k&&_&&(me!==null&&google.maps.event.removeListener(me),W(google.maps.event.addListener(k,"mouseover",_)))},[_]),d.useEffect(()=>{k&&T&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(k,"mouseup",T)))},[T]),d.useEffect(()=>{k&&b&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(k,"rightclick",b)))},[b]),d.useEffect(()=>{k&&o&&(ge!==null&&google.maps.event.removeListener(ge),Oe(google.maps.event.addListener(k,"click",o)))},[o]),d.useEffect(()=>{k&&c&&(J!==null&&google.maps.event.removeListener(J),he(google.maps.event.addListener(k,"drag",c)))},[c]),d.useEffect(()=>{k&&v&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(k,"center_changed",v)))},[o]),d.useEffect(()=>{var Qe=S.current===null?null:new google.maps.Map(S.current,n);return L(Qe),Qe!==null&&C&&C(Qe),()=>{Qe!==null&&R&&R(Qe)}},[]),x.jsx("div",{id:r,ref:S,style:i,className:s,children:x.jsx(ke.Provider,{value:k,children:k!==null?e:null})})}d.memo(gP);class vP extends d.PureComponent{constructor(){super(...arguments),G(this,"state",{map:null}),G(this,"registeredEvents",[]),G(this,"mapRef",null),G(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),G(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),G(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),G(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=ze({updaterMap:yE,eventMap:vE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:yE,eventMap:vE,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),$e(this.registeredEvents))}render(){return x.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:x.jsx(ke.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function bE(t,e,n,r,i,s,a){try{var o=t[s](a),l=o.value}catch(c){return void n(c)}o.done?e(l):Promise.resolve(l).then(r,i)}function tA(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function a(l){bE(s,r,i,a,o,"next",l)}function o(l){bE(s,r,i,a,o,"throw",l)}a(void 0)})}}function nA(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:i,region:s,libraries:a,channel:o,mapIds:l,authReferrerPolicy:c}=t,h=[];return on(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?h.push("key=".concat(e)):n&&h.push("client=".concat(n)),r&&h.push("v=".concat(r)),i&&h.push("language=".concat(i)),s&&h.push("region=".concat(s)),a&&a.length&&h.push("libraries=".concat(a.sort().join(","))),o&&h.push("channel=".concat(o)),l&&l.length&&h.push("map_ids=".concat(l.join(","))),c&&h.push("auth_referrer_policy=".concat(c)),h.push("loading=async"),h.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(h.join("&"))}var ma=typeof document<"u";function rA(t){var{url:e,id:n,nonce:r}=t;return ma?new Promise(function(s,a){var o=document.getElementById(n),l=window;if(o){var c=o.getAttribute("data-state");if(o.src===e&&c!=="error"){if(c==="ready")return s(n);var h=l.initMap,m=o.onerror;l.initMap=function(){h&&h(),s(n)},o.onerror=function(g){m&&m(g),a(g)};return}else o.remove()}var f=document.createElement("script");f.type="text/javascript",f.src=e,f.id=n,f.async=!0,f.nonce=r||"",f.onerror=function(_){f.setAttribute("data-state","error"),a(_)},l.initMap=function(){f.setAttribute("data-state","ready"),s(n)},document.head.appendChild(f)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function _E(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function iA(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,s){return _E(i)||Reflect.apply(e,t,[i,s]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return _E(i)||Reflect.apply(n,t,[i]),i}}}var zl=!1;function sA(){return x.jsx("div",{children:"Loading..."})}var Zp={id:"script-loader",version:"weekly"};class aA extends d.PureComponent{constructor(){super(...arguments),G(this,"check",null),G(this,"state",{loaded:!1}),G(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),G(this,"isCleaningUp",tA(function*(){function e(n){if(!zl)n();else if(ma)var r=window.setInterval(function(){zl||(window.clearInterval(r),n())},1)}return new Promise(e)})),G(this,"cleanup",()=>{zl=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),G(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&iA(),on(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:nA(this.props)};rA(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),G(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ma){if(window.google&&window.google.maps&&!zl){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ma&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ma){this.cleanup();var e=()=>{this.check||(delete window.google,zl=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||x.jsx(sA,{})]})}}G(aA,"defaultProps",Zp);function yP(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Hv(t,e){if(t==null)return{};var n,r,i=yP(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var EE;function bP(t){var{id:e=Zp.id,version:n=Zp.version,nonce:r,googleMapsApiKey:i,googleMapsClientId:s,language:a,region:o,libraries:l,preventGoogleFontsLoading:c,channel:h,mapIds:m,authReferrerPolicy:f}=t,g=d.useRef(!1),[_,A]=d.useState(!1),[T,b]=d.useState(void 0);d.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]),d.useEffect(function(){ma&&c&&iA()},[c]),d.useEffect(function(){_&&on(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[_]);var v=nA({version:n,googleMapsApiKey:i,googleMapsClientId:s,language:a,region:o,libraries:l,channel:h,mapIds:m,authReferrerPolicy:f});d.useEffect(function(){if(!ma)return;function k(){g.current&&(A(!0),EE=v)}if(window.google&&window.google.maps&&EE===v){k();return}rA({id:e,url:v,nonce:r}).then(k).catch(function(S){g.current&&b(S),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(S)})},[e,v,r]);var C=d.useRef(void 0);return d.useEffect(function(){C.current&&l!==C.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),C.current=l},[l]),{isLoaded:_,loadError:T,url:v}}var _P=["loadingElement","onLoad","onError","onUnmount","children"],EP=x.jsx(sA,{});function wP(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:i,children:s}=t,a=Hv(t,_P),{isLoaded:o,loadError:l}=bP(a);return d.useEffect(function(){o&&typeof n=="function"&&n()},[o,n]),d.useEffect(function(){l&&typeof r=="function"&&r(l)},[l,r]),d.useEffect(function(){return()=>{i&&i()}},[i]),o?s:e||EP}d.memo(wP);var wE;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(wE||(wE={}));function SE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var TE={},CE={options(t,e){t.setOptions(e)}};function SP(t){var{options:e,onLoad:n,onUnmount:r}=t,i=d.useContext(ke),[s,a]=d.useState(null);return d.useEffect(()=>{s!==null&&s.setMap(i)},[i]),d.useEffect(()=>{e&&s!==null&&s.setOptions(e)},[s,e]),d.useEffect(()=>{var o=new google.maps.TrafficLayer(Ed(Ed({},e),{},{map:i}));return a(o),n&&n(o),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}d.memo(SP);class TP extends d.PureComponent{constructor(){super(...arguments),G(this,"state",{trafficLayer:null}),G(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),G(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Ed(Ed({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:CE,eventMap:TE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:CE,eventMap:TE,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),$e(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}G(TP,"contextType",ke);function CP(t){var{onLoad:e,onUnmount:n}=t,r=d.useContext(ke),[i,s]=d.useState(null);return d.useEffect(()=>{i!==null&&i.setMap(r)},[r]),d.useEffect(()=>{var a=new google.maps.BicyclingLayer;return s(a),a.setMap(r),e&&e(a),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}d.memo(CP);class xP extends d.PureComponent{constructor(){super(...arguments),G(this,"state",{bicyclingLayer:null}),G(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}G(xP,"contextType",ke);function AP(t){var{onLoad:e,onUnmount:n}=t,r=d.useContext(ke),[i,s]=d.useState(null);return d.useEffect(()=>{i!==null&&i.setMap(r)},[r]),d.useEffect(()=>{var a=new google.maps.TransitLayer;return s(a),a.setMap(r),e&&e(a),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}d.memo(AP);class RP extends d.PureComponent{constructor(){super(...arguments),G(this,"state",{transitLayer:null}),G(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}G(RP,"contextType",ke);function xE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var AE={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},RE={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function LP(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:i,onOverlayComplete:s,onPolygonComplete:a,onPolylineComplete:o,onRectangleComplete:l,onLoad:c,onUnmount:h}=t,m=d.useContext(ke),[f,g]=d.useState(null),[_,A]=d.useState(null),[T,b]=d.useState(null),[v,C]=d.useState(null),[R,k]=d.useState(null),[L,S]=d.useState(null),[E,w]=d.useState(null);return d.useEffect(()=>{f!==null&&f.setMap(m)},[m]),d.useEffect(()=>{e&&f!==null&&f.setOptions(e)},[f,e]),d.useEffect(()=>{f!==null&&f.setDrawingMode(n??null)},[f,n]),d.useEffect(()=>{f&&r&&(_!==null&&google.maps.event.removeListener(_),A(google.maps.event.addListener(f,"circlecomplete",r)))},[f,r]),d.useEffect(()=>{f&&i&&(T!==null&&google.maps.event.removeListener(T),b(google.maps.event.addListener(f,"markercomplete",i)))},[f,i]),d.useEffect(()=>{f&&s&&(v!==null&&google.maps.event.removeListener(v),C(google.maps.event.addListener(f,"overlaycomplete",s)))},[f,s]),d.useEffect(()=>{f&&a&&(R!==null&&google.maps.event.removeListener(R),k(google.maps.event.addListener(f,"polygoncomplete",a)))},[f,a]),d.useEffect(()=>{f&&o&&(L!==null&&google.maps.event.removeListener(L),S(google.maps.event.addListener(f,"polylinecomplete",o)))},[f,o]),d.useEffect(()=>{f&&l&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(f,"rectanglecomplete",l)))},[f,l]),d.useEffect(()=>{on(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var M=new google.maps.drawing.DrawingManager(wd(wd({},e),{},{map:m}));return n&&M.setDrawingMode(n),r&&A(google.maps.event.addListener(M,"circlecomplete",r)),i&&b(google.maps.event.addListener(M,"markercomplete",i)),s&&C(google.maps.event.addListener(M,"overlaycomplete",s)),a&&k(google.maps.event.addListener(M,"polygoncomplete",a)),o&&S(google.maps.event.addListener(M,"polylinecomplete",o)),l&&w(google.maps.event.addListener(M,"rectanglecomplete",l)),g(M),c&&c(M),()=>{f!==null&&(_&&google.maps.event.removeListener(_),T&&google.maps.event.removeListener(T),v&&google.maps.event.removeListener(v),R&&google.maps.event.removeListener(R),L&&google.maps.event.removeListener(L),E&&google.maps.event.removeListener(E),h&&h(f),f.setMap(null))}},[]),null}d.memo(LP);class MP extends d.PureComponent{constructor(e){super(e),G(this,"registeredEvents",[]),G(this,"state",{drawingManager:null}),G(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),on(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(wd(wd({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:RE,eventMap:AE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:RE,eventMap:AE,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),$e(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}G(MP,"contextType",ke);function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ME={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},IE={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Sd={};function IP(t){var{position:e,options:n,clusterer:r,noClustererRedraw:i,children:s,draggable:a,visible:o,animation:l,clickable:c,cursor:h,icon:m,label:f,opacity:g,shape:_,title:A,zIndex:T,onClick:b,onDblClick:v,onDrag:C,onDragEnd:R,onDragStart:k,onMouseOut:L,onMouseOver:S,onMouseUp:E,onMouseDown:w,onRightClick:M,onClickableChanged:I,onCursorChanged:P,onAnimationChanged:D,onDraggableChanged:K,onFlatChanged:Z,onIconChanged:B,onPositionChanged:$,onShapeChanged:H,onTitleChanged:ne,onVisibleChanged:ee,onZindexChanged:fe,onLoad:me,onUnmount:W}=t,ae=d.useContext(ke),[V,te]=d.useState(null),[re,ge]=d.useState(null),[Oe,J]=d.useState(null),[he,Qe]=d.useState(null),[Dt,mt]=d.useState(null),[Me,vn]=d.useState(null),[ln,Ln]=d.useState(null),[kt,Bn]=d.useState(null),[Mn,Xt]=d.useState(null),[_t,jt]=d.useState(null),[yn,We]=d.useState(null),[Ne,Zt]=d.useState(null),[Ct,Kn]=d.useState(null),[Mt,sr]=d.useState(null),[Hn,ti]=d.useState(null),[ar,Sr]=d.useState(null),[Yn,Br]=d.useState(null),[Qn,In]=d.useState(null),[or,xt]=d.useState(null),[un,Ft]=d.useState(null),[Fn,Hr]=d.useState(null),[Fr,N]=d.useState(null);d.useEffect(()=>{V!==null&&V.setMap(ae)},[ae]),d.useEffect(()=>{typeof n<"u"&&V!==null&&V.setOptions(n)},[V,n]),d.useEffect(()=>{typeof a<"u"&&V!==null&&V.setDraggable(a)},[V,a]),d.useEffect(()=>{e&&V!==null&&V.setPosition(e)},[V,e]),d.useEffect(()=>{typeof o<"u"&&V!==null&&V.setVisible(o)},[V,o]),d.useEffect(()=>{V==null||V.setAnimation(l)},[V,l]),d.useEffect(()=>{V&&c!==void 0&&V.setClickable(c)},[V,c]),d.useEffect(()=>{V&&h!==void 0&&V.setCursor(h)},[V,h]),d.useEffect(()=>{V&&m!==void 0&&V.setIcon(m)},[V,m]),d.useEffect(()=>{V&&f!==void 0&&V.setLabel(f)},[V,f]),d.useEffect(()=>{V&&g!==void 0&&V.setOpacity(g)},[V,g]),d.useEffect(()=>{V&&_!==void 0&&V.setShape(_)},[V,_]),d.useEffect(()=>{V&&A!==void 0&&V.setTitle(A)},[V,A]),d.useEffect(()=>{V&&T!==void 0&&V.setZIndex(T)},[V,T]),d.useEffect(()=>{V&&v&&(re!==null&&google.maps.event.removeListener(re),ge(google.maps.event.addListener(V,"dblclick",v)))},[v]),d.useEffect(()=>{V&&R&&(Oe!==null&&google.maps.event.removeListener(Oe),J(google.maps.event.addListener(V,"dragend",R)))},[R]),d.useEffect(()=>{V&&k&&(he!==null&&google.maps.event.removeListener(he),Qe(google.maps.event.addListener(V,"dragstart",k)))},[k]),d.useEffect(()=>{V&&w&&(Dt!==null&&google.maps.event.removeListener(Dt),mt(google.maps.event.addListener(V,"mousedown",w)))},[w]),d.useEffect(()=>{V&&L&&(Me!==null&&google.maps.event.removeListener(Me),vn(google.maps.event.addListener(V,"mouseout",L)))},[L]),d.useEffect(()=>{V&&S&&(ln!==null&&google.maps.event.removeListener(ln),Ln(google.maps.event.addListener(V,"mouseover",S)))},[S]),d.useEffect(()=>{V&&E&&(kt!==null&&google.maps.event.removeListener(kt),Bn(google.maps.event.addListener(V,"mouseup",E)))},[E]),d.useEffect(()=>{V&&M&&(Mn!==null&&google.maps.event.removeListener(Mn),Xt(google.maps.event.addListener(V,"rightclick",M)))},[M]),d.useEffect(()=>{V&&b&&(_t!==null&&google.maps.event.removeListener(_t),jt(google.maps.event.addListener(V,"click",b)))},[b]),d.useEffect(()=>{V&&C&&(yn!==null&&google.maps.event.removeListener(yn),We(google.maps.event.addListener(V,"drag",C)))},[C]),d.useEffect(()=>{V&&I&&(Ne!==null&&google.maps.event.removeListener(Ne),Zt(google.maps.event.addListener(V,"clickable_changed",I)))},[I]),d.useEffect(()=>{V&&P&&(Ct!==null&&google.maps.event.removeListener(Ct),Kn(google.maps.event.addListener(V,"cursor_changed",P)))},[P]),d.useEffect(()=>{V&&D&&(Mt!==null&&google.maps.event.removeListener(Mt),sr(google.maps.event.addListener(V,"animation_changed",D)))},[D]),d.useEffect(()=>{V&&K&&(Hn!==null&&google.maps.event.removeListener(Hn),ti(google.maps.event.addListener(V,"draggable_changed",K)))},[K]),d.useEffect(()=>{V&&Z&&(ar!==null&&google.maps.event.removeListener(ar),Sr(google.maps.event.addListener(V,"flat_changed",Z)))},[Z]),d.useEffect(()=>{V&&B&&(Yn!==null&&google.maps.event.removeListener(Yn),Br(google.maps.event.addListener(V,"icon_changed",B)))},[B]),d.useEffect(()=>{V&&$&&(Qn!==null&&google.maps.event.removeListener(Qn),In(google.maps.event.addListener(V,"position_changed",$)))},[$]),d.useEffect(()=>{V&&H&&(or!==null&&google.maps.event.removeListener(or),xt(google.maps.event.addListener(V,"shape_changed",H)))},[H]),d.useEffect(()=>{V&&ne&&(un!==null&&google.maps.event.removeListener(un),Ft(google.maps.event.addListener(V,"title_changed",ne)))},[ne]),d.useEffect(()=>{V&&ee&&(Fn!==null&&google.maps.event.removeListener(Fn),Hr(google.maps.event.addListener(V,"visible_changed",ee)))},[ee]),d.useEffect(()=>{V&&fe&&(Fr!==null&&google.maps.event.removeListener(Fr),N(google.maps.event.addListener(V,"zindex_changed",fe)))},[fe]),d.useEffect(()=>{var z=Io(Io(Io({},n||Sd),r?Sd:{map:ae}),{},{position:e}),F=new google.maps.Marker(z);return r?r.addMarker(F,!!i):F.setMap(ae),e&&F.setPosition(e),typeof o<"u"&&F.setVisible(o),typeof a<"u"&&F.setDraggable(a),typeof c<"u"&&F.setClickable(c),typeof h=="string"&&F.setCursor(h),m&&F.setIcon(m),typeof f<"u"&&F.setLabel(f),typeof g<"u"&&F.setOpacity(g),_&&F.setShape(_),typeof A=="string"&&F.setTitle(A),typeof T=="number"&&F.setZIndex(T),v&&ge(google.maps.event.addListener(F,"dblclick",v)),R&&J(google.maps.event.addListener(F,"dragend",R)),k&&Qe(google.maps.event.addListener(F,"dragstart",k)),w&&mt(google.maps.event.addListener(F,"mousedown",w)),L&&vn(google.maps.event.addListener(F,"mouseout",L)),S&&Ln(google.maps.event.addListener(F,"mouseover",S)),E&&Bn(google.maps.event.addListener(F,"mouseup",E)),M&&Xt(google.maps.event.addListener(F,"rightclick",M)),b&&jt(google.maps.event.addListener(F,"click",b)),C&&We(google.maps.event.addListener(F,"drag",C)),I&&Zt(google.maps.event.addListener(F,"clickable_changed",I)),P&&Kn(google.maps.event.addListener(F,"cursor_changed",P)),D&&sr(google.maps.event.addListener(F,"animation_changed",D)),K&&ti(google.maps.event.addListener(F,"draggable_changed",K)),Z&&Sr(google.maps.event.addListener(F,"flat_changed",Z)),B&&Br(google.maps.event.addListener(F,"icon_changed",B)),$&&In(google.maps.event.addListener(F,"position_changed",$)),H&&xt(google.maps.event.addListener(F,"shape_changed",H)),ne&&Ft(google.maps.event.addListener(F,"title_changed",ne)),ee&&Hr(google.maps.event.addListener(F,"visible_changed",ee)),fe&&N(google.maps.event.addListener(F,"zindex_changed",fe)),te(F),me&&me(F),()=>{re!==null&&google.maps.event.removeListener(re),Oe!==null&&google.maps.event.removeListener(Oe),he!==null&&google.maps.event.removeListener(he),Dt!==null&&google.maps.event.removeListener(Dt),Me!==null&&google.maps.event.removeListener(Me),ln!==null&&google.maps.event.removeListener(ln),kt!==null&&google.maps.event.removeListener(kt),Mn!==null&&google.maps.event.removeListener(Mn),_t!==null&&google.maps.event.removeListener(_t),Ne!==null&&google.maps.event.removeListener(Ne),Ct!==null&&google.maps.event.removeListener(Ct),Mt!==null&&google.maps.event.removeListener(Mt),Hn!==null&&google.maps.event.removeListener(Hn),ar!==null&&google.maps.event.removeListener(ar),Yn!==null&&google.maps.event.removeListener(Yn),Qn!==null&&google.maps.event.removeListener(Qn),un!==null&&google.maps.event.removeListener(un),Fn!==null&&google.maps.event.removeListener(Fn),Fr!==null&&google.maps.event.removeListener(Fr),W&&W(F),r?r.removeMarker(F,!!i):F&&F.setMap(null)}},[]);var U=d.useMemo(()=>s?d.Children.map(s,z=>{if(!d.isValidElement(z))return z;var F=z;return d.cloneElement(F,{anchor:V})}):null,[s,V]);return x.jsx(x.Fragment,{children:U})||null}d.memo(IP);class oA extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[])}componentDidMount(){var e=this;return tA(function*(){var n=Io(Io(Io({},e.props.options||Sd),e.props.clusterer?Sd:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=ze({updaterMap:IE,eventMap:ME,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:IE,eventMap:ME,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),$e(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?d.Children.map(this.props.children,n=>{if(!d.isValidElement(n))return n;var r=n;return d.cloneElement(r,{anchor:this.marker})}):null;return e||null}}G(oA,"contextType",ke);var OP=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),s=n.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(i);var o=a.getZoom()||0;r!==null&&o>r&&a.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,s,a;if(this.div&&this.center){var o=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),c=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=l[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),m=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(m!==null?"".concat(m.y,"px"):"0","; left: ").concat(m!==null?"".concat(m.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var f=document.createElement("img");f.alt=o,f.src=this.url,f.width=this.width,f.height=this.height,f.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(f.style.clip="rect(-".concat(h,"px, -").concat(c+this.width,"px, -").concat(h+this.height,", -").concat(c,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(g.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(g.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(f),this.div.appendChild(g),this.div.title=o,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),DP=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new OP(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var s=i[r],a=s.getPosition();a&&e.extend(a)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,a=this.markerClusterer.getMaxZoom(),o=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof o<"u"&&o>a)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var l=0,c=this.markers;l<c.length;l++){var h=c[l];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function kP(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var PP=2e3,NP=500,VP="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",UP="png",jP=[53,56,66,78,90],zP="cluster",lA=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||VP,this.imageExtension=r.imageExtension||UP,this.imageSizes=r.imageSizes||jP,this.calculator=r.calculator||kP,this.batchSize=r.batchSize||PP,this.batchSizeIE=r.batchSizeIE||NP,this.clusterClass=r.clusterClass||zP,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var a=s[i];a.remove()}this.clusters=[];for(var o=0,l=this.listeners;o<l.length;o++){var c=l[o];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var s=i[r],a=s.getPosition();a&&n.extend(a)}var o=this.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,s=e;i<s.length;i++){var a=s[i];r=r||this.removeMarker_(a)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=n.fromDivPixelToLatLng(r);s!==null&&e.extend(s)}if(i!==null){var a=n.fromDivPixelToLatLng(i);a!==null&&e.extend(a)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var s=0,a=this.markers;s<a.length;s++){var o=a[s];o.isAdded=!1,e&&o.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,s=(n.lng()-e.lng())*Math.PI/180,a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,s=0,a=this.clusters;s<a.length;s++){var o=a[s];n=o;var l=n.getCenter(),c=e.getPosition();if(l&&c){var h=this.distanceBetweenPoints(l,c);h<r&&(r=h,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new DP(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,a=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(a),l=Math.min(e+this.batchSize,this.markers.length),c=e;c<l;c++){var h=this.markers[c];h&&!h.isAdded&&this.isMarkerInBounds(h,o)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var m=0,f=this.clusters;m<f.length;m++){var g=f[m];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype){var a=s;this.prototype[a]=i.prototype[a]}return this}).apply(e,[n])},t}();function OE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Cr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},rt={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},HP={};function FP(t){var{children:e,options:n,averageCenter:r,batchSizeIE:i,calculator:s,clusterClass:a,enableRetinaIcons:o,gridSize:l,ignoreHidden:c,imageExtension:h,imagePath:m,imageSizes:f,maxZoom:g,minimumClusterSize:_,styles:A,title:T,zoomOnClick:b,onClick:v,onClusteringBegin:C,onClusteringEnd:R,onMouseOver:k,onMouseOut:L,onLoad:S,onUnmount:E}=t,[w,M]=d.useState(null),I=d.useContext(ke),[P,D]=d.useState(null),[K,Z]=d.useState(null),[B,$]=d.useState(null),[H,ne]=d.useState(null),[ee,fe]=d.useState(null);return d.useEffect(()=>{w&&L&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(w,Cr.onMouseOut,L)))},[L]),d.useEffect(()=>{w&&k&&(ee!==null&&google.maps.event.removeListener(ee),fe(google.maps.event.addListener(w,Cr.onMouseOver,k)))},[k]),d.useEffect(()=>{w&&v&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(w,Cr.onClick,v)))},[v]),d.useEffect(()=>{w&&C&&(K!==null&&google.maps.event.removeListener(K),Z(google.maps.event.addListener(w,Cr.onClusteringBegin,C)))},[C]),d.useEffect(()=>{w&&R&&(B!==null&&google.maps.event.removeListener(B),Z(google.maps.event.addListener(w,Cr.onClusteringEnd,R)))},[R]),d.useEffect(()=>{typeof r<"u"&&w!==null&&rt.averageCenter(w,r)},[w,r]),d.useEffect(()=>{typeof i<"u"&&w!==null&&rt.batchSizeIE(w,i)},[w,i]),d.useEffect(()=>{typeof s<"u"&&w!==null&&rt.calculator(w,s)},[w,s]),d.useEffect(()=>{typeof a<"u"&&w!==null&&rt.clusterClass(w,a)},[w,a]),d.useEffect(()=>{typeof o<"u"&&w!==null&&rt.enableRetinaIcons(w,o)},[w,o]),d.useEffect(()=>{typeof l<"u"&&w!==null&&rt.gridSize(w,l)},[w,l]),d.useEffect(()=>{typeof c<"u"&&w!==null&&rt.ignoreHidden(w,c)},[w,c]),d.useEffect(()=>{typeof h<"u"&&w!==null&&rt.imageExtension(w,h)},[w,h]),d.useEffect(()=>{typeof m<"u"&&w!==null&&rt.imagePath(w,m)},[w,m]),d.useEffect(()=>{typeof f<"u"&&w!==null&&rt.imageSizes(w,f)},[w,f]),d.useEffect(()=>{typeof g<"u"&&w!==null&&rt.maxZoom(w,g)},[w,g]),d.useEffect(()=>{typeof _<"u"&&w!==null&&rt.minimumClusterSize(w,_)},[w,_]),d.useEffect(()=>{typeof A<"u"&&w!==null&&rt.styles(w,A)},[w,A]),d.useEffect(()=>{typeof T<"u"&&w!==null&&rt.title(w,T)},[w,T]),d.useEffect(()=>{typeof b<"u"&&w!==null&&rt.zoomOnClick(w,b)},[w,b]),d.useEffect(()=>{if(I){var me=BP({},n||HP),W=new lA(I,[],me);return r&&rt.averageCenter(W,r),i&&rt.batchSizeIE(W,i),s&&rt.calculator(W,s),a&&rt.clusterClass(W,a),o&&rt.enableRetinaIcons(W,o),l&&rt.gridSize(W,l),c&&rt.ignoreHidden(W,c),h&&rt.imageExtension(W,h),m&&rt.imagePath(W,m),f&&rt.imageSizes(W,f),g&&rt.maxZoom(W,g),_&&rt.minimumClusterSize(W,_),A&&rt.styles(W,A),T&&rt.title(W,T),b&&rt.zoomOnClick(W,b),L&&ne(google.maps.event.addListener(W,Cr.onMouseOut,L)),k&&fe(google.maps.event.addListener(W,Cr.onMouseOver,k)),v&&D(google.maps.event.addListener(W,Cr.onClick,v)),C&&Z(google.maps.event.addListener(W,Cr.onClusteringBegin,C)),R&&$(google.maps.event.addListener(W,Cr.onClusteringEnd,R)),M(W),S&&S(W),()=>{H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),P!==null&&google.maps.event.removeListener(P),K!==null&&google.maps.event.removeListener(K),B!==null&&google.maps.event.removeListener(B),E&&E(W)}}},[]),w!==null&&e(w)||null}d.memo(FP);class qP extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{markerClusterer:null}),G(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new lA(this.context,[],this.props.options);this.registeredEvents=ze({updaterMap:rt,eventMap:Cr,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:rt,eventMap:Cr,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),$e(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}G(qP,"contextType",ke);function DE(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var uA=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(h){h.returnValue=!1,h.preventDefault&&h.preventDefault(),e.enableEventPropagation||DE(h)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,o=s;a<o.length;a++){var l=o[a];this.eventListeners.push(google.maps.event.addListener(this.div,l,DE))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,s=n.getBounds();s&&!s.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),o=a.offsetWidth,l=a.offsetHeight,c=this.pixelOffset.width,h=this.pixelOffset.height,m=this.div.offsetWidth,f=this.div.offsetHeight,g=this.infoBoxClearance.width,_=this.infoBoxClearance.height,A=this.getProjection(),T=A.fromLatLngToContainerPixel(this.position);T!==null&&(T.x<-c+g?r=T.x+c-g:T.x+m+c+g>o&&(r=T.x+m+c+g-o),this.alignBottom?T.y<-h+_+f?i=T.y+h-_-f:T.y+h+_>l&&(i=T.y+h+_-l):T.y<-h+_?i=T.y+h-_:T.y+f+h+_>l&&(i=T.y+f+h+_-l)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(e,[n])},t}(),GP=["position"],$P=["position"];function kE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var PE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},NE={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},KP={};function YP(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:a,onDomReady:o,onContentChanged:l,onPositionChanged:c,onZindexChanged:h,onLoad:m,onUnmount:f}=t,g=d.useContext(ke),[_,A]=d.useState(null),[T,b]=d.useState(null),[v,C]=d.useState(null),[R,k]=d.useState(null),[L,S]=d.useState(null),[E,w]=d.useState(null),M=d.useRef(null);return d.useEffect(()=>{g&&_!==null&&(_.close(),n?_.open(g,n):_.getPosition()&&_.open(g))},[g,_,n]),d.useEffect(()=>{r&&_!==null&&_.setOptions(r)},[_,r]),d.useEffect(()=>{if(i&&_!==null){var I=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);_.setPosition(I)}},[i]),d.useEffect(()=>{typeof s=="number"&&_!==null&&_.setZIndex(s)},[s]),d.useEffect(()=>{_&&a&&(T!==null&&google.maps.event.removeListener(T),b(google.maps.event.addListener(_,"closeclick",a)))},[a]),d.useEffect(()=>{_&&o&&(v!==null&&google.maps.event.removeListener(v),C(google.maps.event.addListener(_,"domready",o)))},[o]),d.useEffect(()=>{_&&l&&(R!==null&&google.maps.event.removeListener(R),k(google.maps.event.addListener(_,"content_changed",l)))},[l]),d.useEffect(()=>{_&&c&&(L!==null&&google.maps.event.removeListener(L),S(google.maps.event.addListener(_,"position_changed",c)))},[c]),d.useEffect(()=>{_&&h&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(_,"zindex_changed",h)))},[h]),d.useEffect(()=>{if(g){var I=r||KP,{position:P}=I,D=Hv(I,GP),K;P&&!(P instanceof google.maps.LatLng)&&(K=new google.maps.LatLng(P.lat,P.lng));var Z=new uA(Td(Td({},D),K?{position:K}:{}));M.current=document.createElement("div"),A(Z),a&&b(google.maps.event.addListener(Z,"closeclick",a)),o&&C(google.maps.event.addListener(Z,"domready",o)),l&&k(google.maps.event.addListener(Z,"content_changed",l)),c&&S(google.maps.event.addListener(Z,"position_changed",c)),h&&w(google.maps.event.addListener(Z,"zindex_changed",h)),Z.setContent(M.current),n?Z.open(g,n):Z.getPosition()?Z.open(g):on(!1,"You must provide either an anchor or a position prop for <InfoBox>."),m&&m(Z)}return()=>{_!==null&&(T&&google.maps.event.removeListener(T),R&&google.maps.event.removeListener(R),v&&google.maps.event.removeListener(v),L&&google.maps.event.removeListener(L),E&&google.maps.event.removeListener(E),f&&f(_),_.close())}},[]),M.current?Ki.createPortal(d.Children.only(e),M.current):null}d.memo(YP);class QP extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",null),G(this,"state",{infoBox:null}),G(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):on(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),G(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=Hv(e,$P),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var s=new uA(Td(Td({},r),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ze({updaterMap:NE,eventMap:PE,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:NE,eventMap:PE,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),$e(this.registeredEvents),n.close())}render(){return this.containerElement?Ki.createPortal(d.Children.only(this.props.children),this.containerElement):null}}G(QP,"contextType",ke);var Dm,VE;function WP(){return VE||(VE=1,Dm=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),Dm}var XP=WP(),UE=eA(XP),jE=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],km=1,Bl=8;class Fv{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=r>>4;if(i!==km)throw new Error("Got v".concat(i," data when expected v").concat(km,"."));var s=jE[r&15];if(!s)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(e,2,1),[o]=new Uint32Array(e,4,1);return new Fv(o,a,s,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=jE.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,o=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-o%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(r,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Bl,e),this.coords=new this.ArrayType(this.data,Bl+o+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Bl+a+o+l),this.ids=new this.IndexArrayType(this.data,Bl,e),this.coords=new this.ArrayType(this.data,Bl+o+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(km<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Jp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:a,nodeSize:o}=this,l=[0,s.length-1,0],c=[];l.length;){var h=l.pop()||0,m=l.pop()||0,f=l.pop()||0;if(m-f<=o){for(var g=f;g<=m;g++){var _=a[2*g],A=a[2*g+1];_>=e&&_<=r&&A>=n&&A<=i&&c.push(s[g])}continue}var T=f+m>>1,b=a[2*T],v=a[2*T+1];b>=e&&b<=r&&v>=n&&v<=i&&c.push(s[T]),(h===0?e<=b:n<=v)&&(l.push(f),l.push(T-1),l.push(1-h)),(h===0?r>=b:i>=v)&&(l.push(T+1),l.push(m),l.push(1-h))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:a}=this,o=[0,i.length-1,0],l=[],c=r*r;o.length;){var h=o.pop()||0,m=o.pop()||0,f=o.pop()||0;if(m-f<=a){for(var g=f;g<=m;g++)zE(s[2*g],s[2*g+1],e,n)<=c&&l.push(i[g]);continue}var _=f+m>>1,A=s[2*_],T=s[2*_+1];zE(A,T,e,n)<=c&&l.push(i[_]),(h===0?e-r<=A:n-r<=T)&&(o.push(f),o.push(_-1),o.push(1-h)),(h===0?e+r>=A:n+r>=T)&&(o.push(_+1),o.push(m),o.push(1-h))}return l}}function Jp(t,e,n,r,i,s){if(!(i-r<=n)){var a=r+i>>1;cA(t,e,a,r,i,s),Jp(t,e,n,r,a-1,1-s),Jp(t,e,n,a+1,i,1-s)}}function cA(t,e,n,r,i,s){for(;i>r;){if(i-r>600){var a=i-r+1,o=n-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(a-c)/a)*(o-a/2<0?-1:1),m=Math.max(r,Math.floor(n-o*c/a+h)),f=Math.min(i,Math.floor(n+(a-o)*c/a+h));cA(t,e,n,m,f,s)}var g=e[2*n+s],_=r,A=i;for(Hl(t,e,r,n),e[2*i+s]>g&&Hl(t,e,r,i);_<A;){for(Hl(t,e,_,A),_++,A--;e[2*_+s]<g;)_++;for(;e[2*A+s]>g;)A--}e[2*r+s]===g?Hl(t,e,r,A):(A++,Hl(t,e,A,i)),A<=n&&(r=A+1),n<=A&&(i=A-1)}}function Hl(t,e,n,r){Pm(t,n,r),Pm(e,2*n,2*r),Pm(e,2*n+1,2*r+1)}function Pm(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function zE(t,e,n,r){var i=t-n,s=e-r;return i*i+s*s}var ZP={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},BE=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),aa=2,os=3,Nm=4,is=5,hA=6;class JP{constructor(e){this.options=Object.assign(Object.create(ZP),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");var s="prepare ".concat(e.length," points");n&&console.time(s),this.points=e;for(var a=[],o=0;o<e.length;o++){var l=e[o];if(l.geometry){var[c,h]=l.geometry.coordinates,m=BE(ah(c)),f=BE(oh(h));a.push(m,f,1/0,o,-1,1),this.options.reduce&&a.push(0)}}var g=this.trees[i+1]=this._createTree(a);n&&console.timeEnd(s);for(var _=i;_>=r;_--){var A=+Date.now();g=this.trees[_]=this._createTree(this._cluster(g,_)),n&&console.log("z%d: %d clusters in %dms",_,g.numItems,+Date.now()-A)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){var o=this.getClusters([r,i,180,a],n),l=this.getClusters([-180,i,s,a],n);return o.concat(l)}var c=this.trees[this._limitZoom(n)],h=c.range(ah(r),oh(a),ah(s),oh(i)),m=c.data,f=[];for(var g of h){var _=this.stride*g;f.push(m[_+is]>1?HE(m,_,this.clusterProps):this.points[m[_+os]])}return f}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);var a=s.data;if(n*this.stride>=a.length)throw new Error(i);var o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=a[n*this.stride],c=a[n*this.stride+1],h=s.within(l,c,o),m=[];for(var f of h){var g=f*this.stride;a[g+Nm]===e&&m.push(a[g+is]>1?HE(a,g,this.clusterProps):this.points[a[g+os]])}if(m.length===0)throw new Error(i);return m}getLeaves(e,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){var i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:a,radius:o}=this.options,l=o/a,c=(r-l)/s,h=(r+1+l)/s,m={features:[]};return this._addTileFeatures(i.range((n-l)/s,c,(n+1+l)/s,h),i.data,n,r,s,m),n===0&&this._addTileFeatures(i.range(1-l/s,c,1,h),i.data,s,r,s,m),n===s-1&&this._addTileFeatures(i.range(0,c,l/s,h),i.data,-1,r,s,m),m.features.length?m:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){var a=this.getChildren(n);for(var o of a){var l=o.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,r,i,s):s<i?s++:e.push(o),e.length===r)break}return s}_createTree(e){for(var n=new Fv(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,a){for(var o of e){var l=o*this.stride,c=n[l+is]>1,h=void 0,m=void 0,f=void 0;if(c)h=dA(n,l,this.clusterProps),m=n[l],f=n[l+1];else{var g=this.points[n[l+os]];h=g.properties;var[_,A]=g.geometry.coordinates;m=ah(_),f=oh(A)}var T={type:1,geometry:[[Math.round(this.options.extent*(m*s-r)),Math.round(this.options.extent*(f*s-i))]],tags:h},b=void 0;c||this.options.generateId?b=n[l+os]:b=this.points[n[l+os]].id,b!==void 0&&(T.id=b),a.features.push(T)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:i,reduce:s,minPoints:a}=this.options,o=r/(i*Math.pow(2,n)),l=e.data,c=[],h=this.stride,m=0;m<l.length;m+=h)if(!(l[m+aa]<=n)){l[m+aa]=n;var f=l[m],g=l[m+1],_=e.within(l[m],l[m+1],o),A=l[m+is],T=A;for(var b of _){var v=b*h;l[v+aa]>n&&(T+=l[v+is])}if(T>A&&T>=a){var C=f*A,R=g*A,k=void 0,L=-1,S=((m/h|0)<<5)+(n+1)+this.points.length;for(var E of _){var w=E*h;if(!(l[w+aa]<=n)){l[w+aa]=n;var M=l[w+is];C+=l[w]*M,R+=l[w+1]*M,l[w+Nm]=S,s&&(k||(k=this._map(l,m,!0),L=this.clusterProps.length,this.clusterProps.push(k)),s(k,this._map(l,w)))}}l[m+Nm]=S,c.push(C/T,R/T,1/0,S,-1,T),s&&c.push(L)}else{for(var I=0;I<h;I++)c.push(l[m+I]);if(T>1)for(var P of _){var D=P*h;if(!(l[D+aa]<=n)){l[D+aa]=n;for(var K=0;K<h;K++)c.push(l[D+K])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+is]>1){var i=this.clusterProps[e[n+hA]];return r?Object.assign({},i):i}var s=this.points[e[n+os]].properties,a=this.options.map(s);return r&&a===s?Object.assign({},a):a}}function HE(t,e,n){return{type:"Feature",id:t[e+os],properties:dA(t,e,n),geometry:{type:"Point",coordinates:[eN(t[e]),tN(t[e+1])]}}}function dA(t,e,n){var r=t[e+is],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,s=t[e+hA],a=s===-1?{}:Object.assign({},n[s]);return Object.assign(a,{cluster:!0,cluster_id:t[e+os],point_count:r,point_count_abbreviated:i})}function ah(t){return t/360+.5}function oh(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function eN(t){return(t-.5)*360}function tN(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function nN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class mr{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class eg{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(mr.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>mr.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(mr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class rN{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return iN(n)}}var iN=t=>{var e=t.map(n=>new eg({position:mr.getPosition(n),markers:[n]}));return e};class sN extends rN{constructor(e){var{maxZoom:n,radius:r=60}=e,i=nN(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new JP(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!UE(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var i=this.markers.map(s=>{var a=mr.getPosition(s),o=[a.lng(),a.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:o},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!UE(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:i}=e;if(i.cluster)return new eg({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:n}});var s=i.marker;return new eg({markers:[s],position:mr.getPosition(s)})}}class aN{constructor(e,n){this.markers={sum:e.length};var r=n.map(s=>s.count),i=r.reduce((s,a)=>s+a,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class oN{render(e,n,r){var{count:i,position:s}=e,a=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",o='<svg fill="'.concat(a,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),l="Cluster of ".concat(i," markers"),c=Number(google.maps.Marker.MAX_ZINDEX)+i;if(mr.isAdvancedMarkerAvailable(r)){var h=new DOMParser,m=h.parseFromString(o,"image/svg+xml").documentElement;m.setAttribute("transform","translate(0 25)");var f={map:r,position:s,zIndex:c,title:l,content:m};return new google.maps.marker.AdvancedMarkerElement(f)}var g={position:s,zIndex:c,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(o)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function lN(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class qv{constructor(){lN(qv,google.maps.OverlayView)}}var gu;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(gu||(gu={}));var uN=(t,e,n)=>{n.fitBounds(e.bounds)};class cN extends qv{constructor(e){var{map:n,markers:r=[],algorithmOptions:i={},algorithm:s=new sN(i),renderer:a=new oN,onClusterClick:o=uN}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=s,this.renderer=a,this.onClusterClick=o,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(mr.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,gu.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var i=new Set;for(var s of n)s.markers.length==1&&i.add(s.markers[0]);var a=[];for(var o of this.clusters)o.marker!=null&&(o.markers.length==1?i.has(o.marker)||mr.setMap(o.marker,null):a.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>a.forEach(l=>mr.setMap(l,null)))}google.maps.event.trigger(this,gu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>mr.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new aN(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>mr.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,gu.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),mr.setMap(r.marker,n)})}}function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hN(t){var e=cP(),[n,r]=d.useState(null);return d.useEffect(()=>{if(e&&n===null){var i=new cN(qE(qE({},t),{},{map:e}));r(i)}},[e]),n}function dN(t){var{children:e,options:n}=t,r=hN(n);return r!==null?e(r):null}d.memo(dN);var GE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},$E={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function fN(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:a,onDomReady:o,onContentChanged:l,onPositionChanged:c,onZindexChanged:h,onLoad:m,onUnmount:f}=t,g=d.useContext(ke),[_,A]=d.useState(null),[T,b]=d.useState(null),[v,C]=d.useState(null),[R,k]=d.useState(null),[L,S]=d.useState(null),[E,w]=d.useState(null),M=d.useRef(null);return d.useEffect(()=>{_!==null&&(_.close(),n?_.open(g,n):_.getPosition()&&_.open(g))},[g,_,n]),d.useEffect(()=>{r&&_!==null&&_.setOptions(r)},[_,r]),d.useEffect(()=>{i&&_!==null&&_.setPosition(i)},[i]),d.useEffect(()=>{typeof s=="number"&&_!==null&&_.setZIndex(s)},[s]),d.useEffect(()=>{_&&a&&(T!==null&&google.maps.event.removeListener(T),b(google.maps.event.addListener(_,"closeclick",a)))},[a]),d.useEffect(()=>{_&&o&&(v!==null&&google.maps.event.removeListener(v),C(google.maps.event.addListener(_,"domready",o)))},[o]),d.useEffect(()=>{_&&l&&(R!==null&&google.maps.event.removeListener(R),k(google.maps.event.addListener(_,"content_changed",l)))},[l]),d.useEffect(()=>{_&&c&&(L!==null&&google.maps.event.removeListener(L),S(google.maps.event.addListener(_,"position_changed",c)))},[c]),d.useEffect(()=>{_&&h&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(_,"zindex_changed",h)))},[h]),d.useEffect(()=>{var I=new google.maps.InfoWindow(r);return A(I),M.current=document.createElement("div"),a&&b(google.maps.event.addListener(I,"closeclick",a)),o&&C(google.maps.event.addListener(I,"domready",o)),l&&k(google.maps.event.addListener(I,"content_changed",l)),c&&S(google.maps.event.addListener(I,"position_changed",c)),h&&w(google.maps.event.addListener(I,"zindex_changed",h)),I.setContent(M.current),i&&I.setPosition(i),s&&I.setZIndex(s),n?I.open(g,n):I.getPosition()?I.open(g):on(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),m&&m(I),()=>{T&&google.maps.event.removeListener(T),R&&google.maps.event.removeListener(R),v&&google.maps.event.removeListener(v),L&&google.maps.event.removeListener(L),E&&google.maps.event.removeListener(E),f&&f(I),I.close()}},[]),M.current?Ki.createPortal(d.Children.only(e),M.current):null}d.memo(fN);class mN extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",null),G(this,"state",{infoWindow:null}),G(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):on(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),G(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=ze({updaterMap:$E,eventMap:GE,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:$E,eventMap:GE,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&($e(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Ki.createPortal(d.Children.only(this.props.children),this.containerElement):null}}G(mN,"contextType",ke);function KE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var YE={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},QE={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},pN={};function gN(t){var{options:e,draggable:n,editable:r,visible:i,path:s,onDblClick:a,onDragEnd:o,onDragStart:l,onMouseDown:c,onMouseMove:h,onMouseOut:m,onMouseOver:f,onMouseUp:g,onRightClick:_,onClick:A,onDrag:T,onLoad:b,onUnmount:v}=t,C=d.useContext(ke),[R,k]=d.useState(null),[L,S]=d.useState(null),[E,w]=d.useState(null),[M,I]=d.useState(null),[P,D]=d.useState(null),[K,Z]=d.useState(null),[B,$]=d.useState(null),[H,ne]=d.useState(null),[ee,fe]=d.useState(null),[me,W]=d.useState(null),[ae,V]=d.useState(null),[te,re]=d.useState(null);return d.useEffect(()=>{R!==null&&R.setMap(C)},[C]),d.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),d.useEffect(()=>{typeof n<"u"&&R!==null&&R.setDraggable(n)},[R,n]),d.useEffect(()=>{typeof r<"u"&&R!==null&&R.setEditable(r)},[R,r]),d.useEffect(()=>{typeof i<"u"&&R!==null&&R.setVisible(i)},[R,i]),d.useEffect(()=>{typeof s<"u"&&R!==null&&R.setPath(s)},[R,s]),d.useEffect(()=>{R&&a&&(L!==null&&google.maps.event.removeListener(L),S(google.maps.event.addListener(R,"dblclick",a)))},[a]),d.useEffect(()=>{R&&o&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(R,"dragend",o)))},[o]),d.useEffect(()=>{R&&l&&(M!==null&&google.maps.event.removeListener(M),I(google.maps.event.addListener(R,"dragstart",l)))},[l]),d.useEffect(()=>{R&&c&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(R,"mousedown",c)))},[c]),d.useEffect(()=>{R&&h&&(K!==null&&google.maps.event.removeListener(K),Z(google.maps.event.addListener(R,"mousemove",h)))},[h]),d.useEffect(()=>{R&&m&&(B!==null&&google.maps.event.removeListener(B),$(google.maps.event.addListener(R,"mouseout",m)))},[m]),d.useEffect(()=>{R&&f&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(R,"mouseover",f)))},[f]),d.useEffect(()=>{R&&g&&(ee!==null&&google.maps.event.removeListener(ee),fe(google.maps.event.addListener(R,"mouseup",g)))},[g]),d.useEffect(()=>{R&&_&&(me!==null&&google.maps.event.removeListener(me),W(google.maps.event.addListener(R,"rightclick",_)))},[_]),d.useEffect(()=>{R&&A&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(R,"click",A)))},[A]),d.useEffect(()=>{R&&T&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(R,"drag",T)))},[T]),d.useEffect(()=>{var ge=new google.maps.Polyline(Cd(Cd({},e||pN),{},{map:C}));return s&&ge.setPath(s),typeof i<"u"&&ge.setVisible(i),typeof r<"u"&&ge.setEditable(r),typeof n<"u"&&ge.setDraggable(n),a&&S(google.maps.event.addListener(ge,"dblclick",a)),o&&w(google.maps.event.addListener(ge,"dragend",o)),l&&I(google.maps.event.addListener(ge,"dragstart",l)),c&&D(google.maps.event.addListener(ge,"mousedown",c)),h&&Z(google.maps.event.addListener(ge,"mousemove",h)),m&&$(google.maps.event.addListener(ge,"mouseout",m)),f&&ne(google.maps.event.addListener(ge,"mouseover",f)),g&&fe(google.maps.event.addListener(ge,"mouseup",g)),_&&W(google.maps.event.addListener(ge,"rightclick",_)),A&&V(google.maps.event.addListener(ge,"click",A)),T&&re(google.maps.event.addListener(ge,"drag",T)),k(ge),b&&b(ge),()=>{L!==null&&google.maps.event.removeListener(L),E!==null&&google.maps.event.removeListener(E),M!==null&&google.maps.event.removeListener(M),P!==null&&google.maps.event.removeListener(P),K!==null&&google.maps.event.removeListener(K),B!==null&&google.maps.event.removeListener(B),H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),me!==null&&google.maps.event.removeListener(me),ae!==null&&google.maps.event.removeListener(ae),v&&v(ge),ge.setMap(null)}},[]),null}d.memo(gN);class vN extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{polyline:null}),G(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Cd(Cd({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:QE,eventMap:YE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:QE,eventMap:YE,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),$e(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}G(vN,"contextType",ke);function WE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ZE={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},JE={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function yN(t){var{options:e,draggable:n,editable:r,visible:i,path:s,paths:a,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:h,onMouseMove:m,onMouseOut:f,onMouseOver:g,onMouseUp:_,onRightClick:A,onClick:T,onDrag:b,onLoad:v,onUnmount:C,onEdit:R}=t,k=d.useContext(ke),[L,S]=d.useState(null),[E,w]=d.useState(null),[M,I]=d.useState(null),[P,D]=d.useState(null),[K,Z]=d.useState(null),[B,$]=d.useState(null),[H,ne]=d.useState(null),[ee,fe]=d.useState(null),[me,W]=d.useState(null),[ae,V]=d.useState(null),[te,re]=d.useState(null),[ge,Oe]=d.useState(null);return d.useEffect(()=>{L!==null&&L.setMap(k)},[k]),d.useEffect(()=>{typeof e<"u"&&L!==null&&L.setOptions(e)},[L,e]),d.useEffect(()=>{typeof n<"u"&&L!==null&&L.setDraggable(n)},[L,n]),d.useEffect(()=>{typeof r<"u"&&L!==null&&L.setEditable(r)},[L,r]),d.useEffect(()=>{typeof i<"u"&&L!==null&&L.setVisible(i)},[L,i]),d.useEffect(()=>{typeof s<"u"&&L!==null&&L.setPath(s)},[L,s]),d.useEffect(()=>{typeof a<"u"&&L!==null&&L.setPaths(a)},[L,a]),d.useEffect(()=>{L&&typeof o=="function"&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(L,"dblclick",o)))},[o]),d.useEffect(()=>{L&&(google.maps.event.addListener(L.getPath(),"insert_at",()=>{R==null||R(L)}),google.maps.event.addListener(L.getPath(),"set_at",()=>{R==null||R(L)}),google.maps.event.addListener(L.getPath(),"remove_at",()=>{R==null||R(L)}))},[L,R]),d.useEffect(()=>{L&&typeof l=="function"&&(M!==null&&google.maps.event.removeListener(M),I(google.maps.event.addListener(L,"dragend",l)))},[l]),d.useEffect(()=>{L&&typeof c=="function"&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(L,"dragstart",c)))},[c]),d.useEffect(()=>{L&&typeof h=="function"&&(K!==null&&google.maps.event.removeListener(K),Z(google.maps.event.addListener(L,"mousedown",h)))},[h]),d.useEffect(()=>{L&&typeof m=="function"&&(B!==null&&google.maps.event.removeListener(B),$(google.maps.event.addListener(L,"mousemove",m)))},[m]),d.useEffect(()=>{L&&typeof f=="function"&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(L,"mouseout",f)))},[f]),d.useEffect(()=>{L&&typeof g=="function"&&(ee!==null&&google.maps.event.removeListener(ee),fe(google.maps.event.addListener(L,"mouseover",g)))},[g]),d.useEffect(()=>{L&&typeof _=="function"&&(me!==null&&google.maps.event.removeListener(me),W(google.maps.event.addListener(L,"mouseup",_)))},[_]),d.useEffect(()=>{L&&typeof A=="function"&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(L,"rightclick",A)))},[A]),d.useEffect(()=>{L&&typeof T=="function"&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(L,"click",T)))},[T]),d.useEffect(()=>{L&&typeof b=="function"&&(ge!==null&&google.maps.event.removeListener(ge),Oe(google.maps.event.addListener(L,"drag",b)))},[b]),d.useEffect(()=>{var J=new google.maps.Polygon(XE(XE({},e),{},{map:k}));return s&&J.setPath(s),a&&J.setPaths(a),typeof i<"u"&&J.setVisible(i),typeof r<"u"&&J.setEditable(r),typeof n<"u"&&J.setDraggable(n),o&&w(google.maps.event.addListener(J,"dblclick",o)),l&&I(google.maps.event.addListener(J,"dragend",l)),c&&D(google.maps.event.addListener(J,"dragstart",c)),h&&Z(google.maps.event.addListener(J,"mousedown",h)),m&&$(google.maps.event.addListener(J,"mousemove",m)),f&&ne(google.maps.event.addListener(J,"mouseout",f)),g&&fe(google.maps.event.addListener(J,"mouseover",g)),_&&W(google.maps.event.addListener(J,"mouseup",_)),A&&V(google.maps.event.addListener(J,"rightclick",A)),T&&re(google.maps.event.addListener(J,"click",T)),b&&Oe(google.maps.event.addListener(J,"drag",b)),S(J),v&&v(J),()=>{E!==null&&google.maps.event.removeListener(E),M!==null&&google.maps.event.removeListener(M),P!==null&&google.maps.event.removeListener(P),K!==null&&google.maps.event.removeListener(K),B!==null&&google.maps.event.removeListener(B),H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),me!==null&&google.maps.event.removeListener(me),ae!==null&&google.maps.event.removeListener(ae),te!==null&&google.maps.event.removeListener(te),C&&C(J),J.setMap(null)}},[]),null}d.memo(yN);class bN extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=ze({updaterMap:JE,eventMap:ZE,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:JE,eventMap:ZE,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),$e(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}G(bN,"contextType",ke);function e0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var t0={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},n0={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function _N(t){var{options:e,bounds:n,draggable:r,editable:i,visible:s,onDblClick:a,onDragEnd:o,onDragStart:l,onMouseDown:c,onMouseMove:h,onMouseOut:m,onMouseOver:f,onMouseUp:g,onRightClick:_,onClick:A,onDrag:T,onBoundsChanged:b,onLoad:v,onUnmount:C}=t,R=d.useContext(ke),[k,L]=d.useState(null),[S,E]=d.useState(null),[w,M]=d.useState(null),[I,P]=d.useState(null),[D,K]=d.useState(null),[Z,B]=d.useState(null),[$,H]=d.useState(null),[ne,ee]=d.useState(null),[fe,me]=d.useState(null),[W,ae]=d.useState(null),[V,te]=d.useState(null),[re,ge]=d.useState(null),[Oe,J]=d.useState(null);return d.useEffect(()=>{k!==null&&k.setMap(R)},[R]),d.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),d.useEffect(()=>{typeof r<"u"&&k!==null&&k.setDraggable(r)},[k,r]),d.useEffect(()=>{typeof i<"u"&&k!==null&&k.setEditable(i)},[k,i]),d.useEffect(()=>{typeof s<"u"&&k!==null&&k.setVisible(s)},[k,s]),d.useEffect(()=>{typeof n<"u"&&k!==null&&k.setBounds(n)},[k,n]),d.useEffect(()=>{k&&a&&(S!==null&&google.maps.event.removeListener(S),E(google.maps.event.addListener(k,"dblclick",a)))},[a]),d.useEffect(()=>{k&&o&&(w!==null&&google.maps.event.removeListener(w),M(google.maps.event.addListener(k,"dragend",o)))},[o]),d.useEffect(()=>{k&&l&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(k,"dragstart",l)))},[l]),d.useEffect(()=>{k&&c&&(D!==null&&google.maps.event.removeListener(D),K(google.maps.event.addListener(k,"mousedown",c)))},[c]),d.useEffect(()=>{k&&h&&(Z!==null&&google.maps.event.removeListener(Z),B(google.maps.event.addListener(k,"mousemove",h)))},[h]),d.useEffect(()=>{k&&m&&($!==null&&google.maps.event.removeListener($),H(google.maps.event.addListener(k,"mouseout",m)))},[m]),d.useEffect(()=>{k&&f&&(ne!==null&&google.maps.event.removeListener(ne),ee(google.maps.event.addListener(k,"mouseover",f)))},[f]),d.useEffect(()=>{k&&g&&(fe!==null&&google.maps.event.removeListener(fe),me(google.maps.event.addListener(k,"mouseup",g)))},[g]),d.useEffect(()=>{k&&_&&(W!==null&&google.maps.event.removeListener(W),ae(google.maps.event.addListener(k,"rightclick",_)))},[_]),d.useEffect(()=>{k&&A&&(V!==null&&google.maps.event.removeListener(V),te(google.maps.event.addListener(k,"click",A)))},[A]),d.useEffect(()=>{k&&T&&(re!==null&&google.maps.event.removeListener(re),ge(google.maps.event.addListener(k,"drag",T)))},[T]),d.useEffect(()=>{k&&b&&(Oe!==null&&google.maps.event.removeListener(Oe),J(google.maps.event.addListener(k,"bounds_changed",b)))},[b]),d.useEffect(()=>{var he=new google.maps.Rectangle(xd(xd({},e),{},{map:R}));return typeof s<"u"&&he.setVisible(s),typeof i<"u"&&he.setEditable(i),typeof r<"u"&&he.setDraggable(r),typeof n<"u"&&he.setBounds(n),a&&E(google.maps.event.addListener(he,"dblclick",a)),o&&M(google.maps.event.addListener(he,"dragend",o)),l&&P(google.maps.event.addListener(he,"dragstart",l)),c&&K(google.maps.event.addListener(he,"mousedown",c)),h&&B(google.maps.event.addListener(he,"mousemove",h)),m&&H(google.maps.event.addListener(he,"mouseout",m)),f&&ee(google.maps.event.addListener(he,"mouseover",f)),g&&me(google.maps.event.addListener(he,"mouseup",g)),_&&ae(google.maps.event.addListener(he,"rightclick",_)),A&&te(google.maps.event.addListener(he,"click",A)),T&&ge(google.maps.event.addListener(he,"drag",T)),b&&J(google.maps.event.addListener(he,"bounds_changed",b)),L(he),v&&v(he),()=>{S!==null&&google.maps.event.removeListener(S),w!==null&&google.maps.event.removeListener(w),I!==null&&google.maps.event.removeListener(I),D!==null&&google.maps.event.removeListener(D),Z!==null&&google.maps.event.removeListener(Z),$!==null&&google.maps.event.removeListener($),ne!==null&&google.maps.event.removeListener(ne),fe!==null&&google.maps.event.removeListener(fe),W!==null&&google.maps.event.removeListener(W),V!==null&&google.maps.event.removeListener(V),re!==null&&google.maps.event.removeListener(re),Oe!==null&&google.maps.event.removeListener(Oe),C&&C(he),he.setMap(null)}},[]),null}d.memo(_N);class EN extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{rectangle:null}),G(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(xd(xd({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:n0,eventMap:t0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:n0,eventMap:t0,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),$e(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}G(EN,"contextType",ke);function r0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var i0={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},s0={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},wN={};function SN(t){var{options:e,center:n,radius:r,draggable:i,editable:s,visible:a,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:h,onMouseMove:m,onMouseOut:f,onMouseOver:g,onMouseUp:_,onRightClick:A,onClick:T,onDrag:b,onCenterChanged:v,onRadiusChanged:C,onLoad:R,onUnmount:k}=t,L=d.useContext(ke),[S,E]=d.useState(null),[w,M]=d.useState(null),[I,P]=d.useState(null),[D,K]=d.useState(null),[Z,B]=d.useState(null),[$,H]=d.useState(null),[ne,ee]=d.useState(null),[fe,me]=d.useState(null),[W,ae]=d.useState(null),[V,te]=d.useState(null),[re,ge]=d.useState(null),[Oe,J]=d.useState(null),[he,Qe]=d.useState(null),[Dt,mt]=d.useState(null);return d.useEffect(()=>{S!==null&&S.setMap(L)},[L]),d.useEffect(()=>{typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),d.useEffect(()=>{typeof i<"u"&&S!==null&&S.setDraggable(i)},[S,i]),d.useEffect(()=>{typeof s<"u"&&S!==null&&S.setEditable(s)},[S,s]),d.useEffect(()=>{typeof a<"u"&&S!==null&&S.setVisible(a)},[S,a]),d.useEffect(()=>{typeof r=="number"&&S!==null&&S.setRadius(r)},[S,r]),d.useEffect(()=>{typeof n<"u"&&S!==null&&S.setCenter(n)},[S,n]),d.useEffect(()=>{S&&o&&(w!==null&&google.maps.event.removeListener(w),M(google.maps.event.addListener(S,"dblclick",o)))},[o]),d.useEffect(()=>{S&&l&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(S,"dragend",l)))},[l]),d.useEffect(()=>{S&&c&&(D!==null&&google.maps.event.removeListener(D),K(google.maps.event.addListener(S,"dragstart",c)))},[c]),d.useEffect(()=>{S&&h&&(Z!==null&&google.maps.event.removeListener(Z),B(google.maps.event.addListener(S,"mousedown",h)))},[h]),d.useEffect(()=>{S&&m&&($!==null&&google.maps.event.removeListener($),H(google.maps.event.addListener(S,"mousemove",m)))},[m]),d.useEffect(()=>{S&&f&&(ne!==null&&google.maps.event.removeListener(ne),ee(google.maps.event.addListener(S,"mouseout",f)))},[f]),d.useEffect(()=>{S&&g&&(fe!==null&&google.maps.event.removeListener(fe),me(google.maps.event.addListener(S,"mouseover",g)))},[g]),d.useEffect(()=>{S&&_&&(W!==null&&google.maps.event.removeListener(W),ae(google.maps.event.addListener(S,"mouseup",_)))},[_]),d.useEffect(()=>{S&&A&&(V!==null&&google.maps.event.removeListener(V),te(google.maps.event.addListener(S,"rightclick",A)))},[A]),d.useEffect(()=>{S&&T&&(re!==null&&google.maps.event.removeListener(re),ge(google.maps.event.addListener(S,"click",T)))},[T]),d.useEffect(()=>{S&&b&&(Oe!==null&&google.maps.event.removeListener(Oe),J(google.maps.event.addListener(S,"drag",b)))},[b]),d.useEffect(()=>{S&&v&&(he!==null&&google.maps.event.removeListener(he),Qe(google.maps.event.addListener(S,"center_changed",v)))},[T]),d.useEffect(()=>{S&&C&&(Dt!==null&&google.maps.event.removeListener(Dt),mt(google.maps.event.addListener(S,"radius_changed",C)))},[C]),d.useEffect(()=>{var Me=new google.maps.Circle(Ad(Ad({},e||wN),{},{map:L}));return typeof r=="number"&&Me.setRadius(r),typeof n<"u"&&Me.setCenter(n),typeof r=="number"&&Me.setRadius(r),typeof a<"u"&&Me.setVisible(a),typeof s<"u"&&Me.setEditable(s),typeof i<"u"&&Me.setDraggable(i),o&&M(google.maps.event.addListener(Me,"dblclick",o)),l&&P(google.maps.event.addListener(Me,"dragend",l)),c&&K(google.maps.event.addListener(Me,"dragstart",c)),h&&B(google.maps.event.addListener(Me,"mousedown",h)),m&&H(google.maps.event.addListener(Me,"mousemove",m)),f&&ee(google.maps.event.addListener(Me,"mouseout",f)),g&&me(google.maps.event.addListener(Me,"mouseover",g)),_&&ae(google.maps.event.addListener(Me,"mouseup",_)),A&&te(google.maps.event.addListener(Me,"rightclick",A)),T&&ge(google.maps.event.addListener(Me,"click",T)),b&&J(google.maps.event.addListener(Me,"drag",b)),v&&Qe(google.maps.event.addListener(Me,"center_changed",v)),C&&mt(google.maps.event.addListener(Me,"radius_changed",C)),E(Me),R&&R(Me),()=>{w!==null&&google.maps.event.removeListener(w),I!==null&&google.maps.event.removeListener(I),D!==null&&google.maps.event.removeListener(D),Z!==null&&google.maps.event.removeListener(Z),$!==null&&google.maps.event.removeListener($),ne!==null&&google.maps.event.removeListener(ne),fe!==null&&google.maps.event.removeListener(fe),W!==null&&google.maps.event.removeListener(W),V!==null&&google.maps.event.removeListener(V),re!==null&&google.maps.event.removeListener(re),he!==null&&google.maps.event.removeListener(he),Dt!==null&&google.maps.event.removeListener(Dt),k&&k(Me),Me.setMap(null)}},[]),null}d.memo(SN);class TN extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{circle:null}),G(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Ad(Ad({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:s0,eventMap:i0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:s0,eventMap:i0,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),$e(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}G(TN,"contextType",ke);function a0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var o0={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},l0={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function CN(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:i,onMouseMove:s,onMouseOut:a,onMouseOver:o,onMouseUp:l,onRightClick:c,onAddFeature:h,onRemoveFeature:m,onRemoveProperty:f,onSetGeometry:g,onSetProperty:_,onLoad:A,onUnmount:T}=t,b=d.useContext(ke),[v,C]=d.useState(null),[R,k]=d.useState(null),[L,S]=d.useState(null),[E,w]=d.useState(null),[M,I]=d.useState(null),[P,D]=d.useState(null),[K,Z]=d.useState(null),[B,$]=d.useState(null),[H,ne]=d.useState(null),[ee,fe]=d.useState(null),[me,W]=d.useState(null),[ae,V]=d.useState(null),[te,re]=d.useState(null),[ge,Oe]=d.useState(null);return d.useEffect(()=>{v!==null&&v.setMap(b)},[b]),d.useEffect(()=>{v&&r&&(R!==null&&google.maps.event.removeListener(R),k(google.maps.event.addListener(v,"dblclick",r)))},[r]),d.useEffect(()=>{v&&i&&(L!==null&&google.maps.event.removeListener(L),S(google.maps.event.addListener(v,"mousedown",i)))},[i]),d.useEffect(()=>{v&&s&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(v,"mousemove",s)))},[s]),d.useEffect(()=>{v&&a&&(M!==null&&google.maps.event.removeListener(M),I(google.maps.event.addListener(v,"mouseout",a)))},[a]),d.useEffect(()=>{v&&o&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(v,"mouseover",o)))},[o]),d.useEffect(()=>{v&&l&&(K!==null&&google.maps.event.removeListener(K),Z(google.maps.event.addListener(v,"mouseup",l)))},[l]),d.useEffect(()=>{v&&c&&(B!==null&&google.maps.event.removeListener(B),$(google.maps.event.addListener(v,"rightclick",c)))},[c]),d.useEffect(()=>{v&&n&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(v,"click",n)))},[n]),d.useEffect(()=>{v&&h&&(ee!==null&&google.maps.event.removeListener(ee),fe(google.maps.event.addListener(v,"addfeature",h)))},[h]),d.useEffect(()=>{v&&m&&(me!==null&&google.maps.event.removeListener(me),W(google.maps.event.addListener(v,"removefeature",m)))},[m]),d.useEffect(()=>{v&&f&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(v,"removeproperty",f)))},[f]),d.useEffect(()=>{v&&g&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(v,"setgeometry",g)))},[g]),d.useEffect(()=>{v&&_&&(ge!==null&&google.maps.event.removeListener(ge),Oe(google.maps.event.addListener(v,"setproperty",_)))},[_]),d.useEffect(()=>{if(b!==null){var J=new google.maps.Data(Rd(Rd({},e),{},{map:b}));r&&k(google.maps.event.addListener(J,"dblclick",r)),i&&S(google.maps.event.addListener(J,"mousedown",i)),s&&w(google.maps.event.addListener(J,"mousemove",s)),a&&I(google.maps.event.addListener(J,"mouseout",a)),o&&D(google.maps.event.addListener(J,"mouseover",o)),l&&Z(google.maps.event.addListener(J,"mouseup",l)),c&&$(google.maps.event.addListener(J,"rightclick",c)),n&&ne(google.maps.event.addListener(J,"click",n)),h&&fe(google.maps.event.addListener(J,"addfeature",h)),m&&W(google.maps.event.addListener(J,"removefeature",m)),f&&V(google.maps.event.addListener(J,"removeproperty",f)),g&&re(google.maps.event.addListener(J,"setgeometry",g)),_&&Oe(google.maps.event.addListener(J,"setproperty",_)),C(J),A&&A(J)}return()=>{v&&(R!==null&&google.maps.event.removeListener(R),L!==null&&google.maps.event.removeListener(L),E!==null&&google.maps.event.removeListener(E),M!==null&&google.maps.event.removeListener(M),P!==null&&google.maps.event.removeListener(P),K!==null&&google.maps.event.removeListener(K),B!==null&&google.maps.event.removeListener(B),H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),me!==null&&google.maps.event.removeListener(me),ae!==null&&google.maps.event.removeListener(ae),te!==null&&google.maps.event.removeListener(te),ge!==null&&google.maps.event.removeListener(ge),T&&T(v),v.setMap(null))}},[]),null}d.memo(CN);class xN extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{data:null}),G(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Rd(Rd({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:l0,eventMap:o0,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:l0,eventMap:o0,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),$e(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}G(xN,"contextType",ke);function u0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var h0={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},d0={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class AN extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{kmlLayer:null}),G(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(c0(c0({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:d0,eventMap:h0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:d0,eventMap:h0,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),$e(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}G(AN,"contextType",ke);function fA(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function RN(t,e){return new e(t.lat,t.lng)}function LN(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function MN(t,e,n){return t instanceof e?t:n(t,e)}function IN(t,e,n){return t instanceof e?t:n(t,e)}function ON(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function DN(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:i,y:s}=r;return{left:"".concat(i+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function mA(t,e,n,r){return n!==void 0?ON(t,e,IN(n,google.maps.LatLngBounds,LN)):DN(t,e,MN(r,google.maps.LatLng,RN))}function kN(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function f0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NN(t,e,n,r,i){class s extends google.maps.OverlayView{constructor(o,l,c,h){super(),this.container=o,this.pane=l,this.position=c,this.bounds=h}onAdd(){var o,l=(o=this.getPanes())===null||o===void 0?void 0:o[this.pane];l==null||l.appendChild(this.container)}draw(){var o=this.getProjection(),l=PN({},this.container?fA(this.container,i):{x:0,y:0}),c=mA(o,l,this.bounds,this.position);for(var[h,m]of Object.entries(c))this.container.style[h]=m}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(t,e,n,r)}function m0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p0(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function g0(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function UN(t){var{position:e,bounds:n,mapPaneName:r,zIndex:i,onLoad:s,onUnmount:a,getPixelPositionOffset:o,children:l}=t,c=d.useContext(ke),h=d.useMemo(()=>{var f=document.createElement("div");return f.style.position="absolute",f},[]),m=d.useMemo(()=>NN(h,r,e,n,o),[h,r,e,n]);return d.useEffect(()=>(s==null||s(m),m==null||m.setMap(c),()=>{a==null||a(m),m==null||m.setMap(null)}),[c,m]),d.useEffect(()=>{h.style.zIndex="".concat(i)},[i,h]),Ki.createPortal(l,h)}d.memo(UN);class fl extends d.PureComponent{constructor(e){super(e),G(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),G(this,"updatePane",()=>{var r=this.props.mapPaneName,i=this.overlayView.getPanes();on(!!r,"OverlayView requires props.mapPaneName but got %s",r),i?this.setState({paneEl:i[r]}):this.setState({paneEl:null})}),G(this,"onAdd",()=>{var r,i;this.updatePane(),(r=(i=this.props).onLoad)===null||r===void 0||r.call(i,this.overlayView)}),G(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),i=VN({x:0,y:0},this.containerRef.current?fA(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=mA(r,i,this.props.bounds,this.props.position);if(!kN(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var a,o,l,c;this.setState({containerStyle:{top:(a=s.top)!==null&&a!==void 0?a:0,left:(o=s.left)!==null&&o!==void 0?o:0,width:(l=s.width)!==null&&l!==void 0?l:0,height:(c=s.height)!==null&&c!==void 0?c:0,position:"absolute"}})}}),G(this,"draw",()=>{this.onPositionElement()}),G(this,"onRemove",()=>{var r,i;this.setState(()=>({paneEl:null})),(r=(i=this.props).onUnmount)===null||r===void 0||r.call(i,this.overlayView)}),this.containerRef=d.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=p0(e.position),r=p0(this.props.position),i=g0(e.bounds),s=g0(this.props.bounds);(n!==r||i!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Ki.createPortal(x.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:d.Children.only(this.props.children)}),e):null}}G(fl,"FLOAT_PANE","floatPane");G(fl,"MAP_PANE","mapPane");G(fl,"MARKER_LAYER","markerLayer");G(fl,"OVERLAY_LAYER","overlayLayer");G(fl,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");G(fl,"contextType",ke);function jN(){}function v0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var b0={onDblClick:"dblclick",onClick:"click"},_0={opacity(t,e){t.setOpacity(e)}};function zN(t){var{url:e,bounds:n,options:r,visible:i}=t,s=d.useContext(ke),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),o=d.useMemo(()=>new google.maps.GroundOverlay(e,a,r),[]);return d.useEffect(()=>{o!==null&&o.setMap(s)},[s]),d.useEffect(()=>{typeof e<"u"&&o!==null&&(o.set("url",e),o.setMap(s))},[o,e]),d.useEffect(()=>{typeof i<"u"&&o!==null&&o.setOpacity(i?1:0)},[o,i]),d.useEffect(()=>{var l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&o!==null&&(o.set("bounds",l),o.setMap(s))},[o,n]),null}d.memo(zN);class pA extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{groundOverlay:null}),G(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){on(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,y0(y0({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:_0,eventMap:b0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:_0,eventMap:b0,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}G(pA,"defaultProps",{onLoad:jN});G(pA,"contextType",ke);function E0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var w0={},S0={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function BN(t){var{data:e,onLoad:n,onUnmount:r,options:i}=t,s=d.useContext(ke),[a,o]=d.useState(null);return d.useEffect(()=>{google.maps.visualization||on(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),d.useEffect(()=>{on(!!e,"data property is required in HeatmapLayer %s",e)},[e]),d.useEffect(()=>{a!==null&&a.setMap(s)},[s]),d.useEffect(()=>{i&&a!==null&&a.setOptions(i)},[a,i]),d.useEffect(()=>{var l=new google.maps.visualization.HeatmapLayer(Ld(Ld({},i),{},{data:e,map:s}));return o(l),n&&n(l),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}d.memo(BN);class HN extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{heatmapLayer:null}),G(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){on(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),on(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Ld(Ld({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=ze({updaterMap:S0,eventMap:w0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){$e(this.registeredEvents),this.registeredEvents=ze({updaterMap:S0,eventMap:w0,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),$e(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}G(HN,"contextType",ke);var T0={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},C0={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class FN extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{streetViewPanorama:null}),G(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=ze({updaterMap:C0,eventMap:T0,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:C0,eventMap:T0,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),$e(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}G(FN,"contextType",ke);class qN extends d.PureComponent{constructor(){super(...arguments),G(this,"state",{streetViewService:null}),G(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}G(qN,"contextType",ke);var x0={onDirectionsChanged:"directions_changed"},A0={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class GN extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{directionsRenderer:null}),G(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ze({updaterMap:A0,eventMap:x0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:A0,eventMap:x0,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),$e(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}G(GN,"contextType",ke);var R0={onPlacesChanged:"places_changed"},L0={bounds(t,e){t.setBounds(e)}};class $N extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",d.createRef()),G(this,"state",{searchBox:null}),G(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(on(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=ze({updaterMap:L0,eventMap:R0,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&($e(this.registeredEvents),this.registeredEvents=ze({updaterMap:L0,eventMap:R0,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),$e(this.registeredEvents))}render(){return x.jsx("div",{ref:this.containerElement,children:d.Children.only(this.props.children)})}}G($N,"contextType",ke);var M0={onPlaceChanged:"place_changed"},I0={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class Gv extends d.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",d.createRef()),G(this,"state",{autocomplete:null}),G(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;on(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=ze({updaterMap:I0,eventMap:M0,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){$e(this.registeredEvents),this.registeredEvents=ze({updaterMap:I0,eventMap:M0,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&$e(this.registeredEvents)}render(){return x.jsx("div",{ref:this.containerElement,className:this.props.className,children:d.Children.only(this.props.children)})}}G(Gv,"defaultProps",{className:""});G(Gv,"contextType",ke);const KN={width:"100%",height:"400px",borderRadius:"12px",border:"1px solid #ccc"},YN={lat:47.6062,lng:-122.3321},QN=()=>{const{setLocation:t}=za(),[e,n]=d.useState(YN),[r,i]=d.useState(null),[s,a]=d.useState(null),[o,l]=d.useState(""),[c,h]=d.useState(""),m=_=>{a(_)},f=()=>{if(s){const _=s.getPlace();if(_.geometry&&_.geometry.location){const T=_.geometry.location.lat(),b=_.geometry.location.lng(),v={lat:T,lng:b};n(v),i(v)}const A=_.formatted_address||_.name||"";t(A),h(" Address saved!")}},g=async _=>{var b;_.preventDefault();const T=await(await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(o)}&key=AIzaSyBGzhAda2YZeUPOBCEsH7hCgGWco8K4XFs`)).json();if((b=T.results)!=null&&b[0]){const v=T.results[0],{lat:C,lng:R}=v.geometry.location,k={lat:C,lng:R};n(k),i(k),t(v.formatted_address||""),h(" Address saved!")}};return d.useEffect(()=>{if(c){const _=setTimeout(()=>h(""),2500);return()=>clearTimeout(_)}},[c]),x.jsx("div",{className:"flex flex-col gap-4",children:x.jsxs(aA,{googleMapsApiKey:"AIzaSyBGzhAda2YZeUPOBCEsH7hCgGWco8K4XFs",libraries:["places"],children:[x.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[x.jsx(Gv,{onLoad:m,onPlaceChanged:f,children:x.jsx("input",{type:"text",placeholder:"Enter a location",value:o,onChange:_=>l(_.target.value),style:{padding:"0.5rem",border:"1px solid #ccc",borderRadius:"12px",width:"100%"}})}),x.jsx(De,{type:"submit",children:"Enter"})]}),x.jsx(vP,{mapContainerStyle:KN,center:e,zoom:14,children:r&&x.jsx(oA,{position:r})}),c&&x.jsx("div",{className:"text-green-600 text-sm mt-2 animate-fadeIn",children:c}),o&&x.jsxs("div",{className:"text-sm text-gray-700 mt-1",children:["Selected: ",x.jsx("span",{className:"font-medium",children:o})]})]})})};function WN(){return x.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"Choose a Location"}),x.jsx(QN,{}),x.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[x.jsx(De,{to:"/",children:"Home"}),x.jsx(De,{to:"/confirmation",children:"Next"})]})]})}function XN(){const{date:t,setDate:e,startTime:n,setStartTime:r,endTime:i,setEndTime:s}=za(),[a,o]=d.useState(!1),l="viva:dateTime";return d.useEffect(()=>{try{const c=localStorage.getItem(l);if(c){const h=JSON.parse(c);typeof h.date=="string"&&e(h.date),typeof h.startTime=="string"&&r(h.startTime),typeof h.endTime=="string"&&s(h.endTime)}}catch{}finally{o(!0)}},[]),d.useEffect(()=>{a&&localStorage.setItem(l,JSON.stringify({date:t,startTime:n,endTime:i}))},[a,t,n,i]),x.jsxs("main",{className:"max-w-md mx-auto p-6 space-y-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-center",children:" Date & Time"}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:"When is your event?"}),x.jsx("input",{type:"date",value:t??"",onChange:c=>e(c.target.value),className:"w-full border rounded-lg px-4 py-2"})]}),t&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:"Start Time"}),x.jsx("input",{type:"time",value:n??"",onChange:c=>r(c.target.value),className:"w-full border rounded-lg px-4 py-2"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:"End Time"}),x.jsx("input",{type:"time",value:i??"",onChange:c=>s(c.target.value),className:"w-full border rounded-lg px-4 py-2"})]})]}),x.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[x.jsx(De,{to:"/",children:"Home"}),x.jsx(De,{to:"/activity",children:"Next"})]})]})}function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function ZN(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JN(t){var e=ZN(t,"string");return zs(e)=="symbol"?e:e+""}function Nr(t,e,n){return(e=JN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O0(Object(n),!0).forEach(function(r){Nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function e2(t){if(Array.isArray(t))return tg(t)}function t2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gA(t,e){if(t){if(typeof t=="string")return tg(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tg(t,e):void 0}}function n2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ri(t){return e2(t)||t2(t)||gA(t)||n2()}function r2(t){if(Array.isArray(t))return t}function i2(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function s2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tn(t,e){return r2(t)||i2(t,e)||gA(t,e)||s2()}var vA={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,r(o)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(vA);var a2=vA.exports;const Ra=Mg(a2);function Oo(t){var e=d.useRef();e.current=t;var n=d.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(s))},[]);return n}function o2(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var D0=o2()?d.useLayoutEffect:d.useEffect,yA=function(e,n){var r=d.useRef(!0);D0(function(){return e(r.current)},n),D0(function(){return r.current=!1,function(){r.current=!0}},[])},k0=function(e,n){yA(function(r){if(!r)return e()},n)};function P0(t){var e=d.useRef(!1),n=d.useState(t),r=Tn(n,2),i=r[0],s=r[1];d.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function a(o,l){l&&e.current||s(o)}return[i,a]}function Vm(t){return t!==void 0}function l2(t,e){var n=e||{},r=n.defaultValue,i=n.value,s=n.onChange,a=n.postState,o=P0(function(){return Vm(i)?i:Vm(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=Tn(o,2),c=l[0],h=l[1],m=i!==void 0?i:c,f=a?a(m):m,g=Oo(s),_=P0([m]),A=Tn(_,2),T=A[0],b=A[1];k0(function(){var C=T[0];c!==C&&g(c,C)},[T]),k0(function(){Vm(i)||h(i)},[i]);var v=Oo(function(C,R){h(C,R),b([m],R)});return[f,v]}var ng={},u2=function(e){};function c2(t,e){}function h2(t,e){}function d2(){ng={}}function bA(t,e,n){!e&&!ng[n]&&(t(!1,n),ng[n]=!0)}function Yo(t,e){bA(c2,t,e)}function f2(t,e){bA(h2,t,e)}Yo.preMessage=u2;Yo.resetWarned=d2;Yo.noteOnce=f2;function m2(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(s,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(s);if(Yo(!l,"Warning: There may be circular references"),l)return!1;if(s===a)return!0;if(n&&o>1)return!1;r.add(s);var c=o+1;if(Array.isArray(s)){if(!Array.isArray(a)||s.length!==a.length)return!1;for(var h=0;h<s.length;h++)if(!i(s[h],a[h],c))return!1;return!0}if(s&&a&&zs(s)==="object"&&zs(a)==="object"){var m=Object.keys(s);return m.length!==Object.keys(a).length?!1:m.every(function(f){return i(s[f],a[f],c)})}return!1}return i(t,e)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bu.apply(null,arguments)}function p2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _A(t,e){if(t==null)return{};var n,r,i=p2(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rg(t,e,n){return(t-e)/(n-e)}function $v(t,e,n,r){var i=rg(e,n,r),s={};switch(t){case"rtl":s.right="".concat(i*100,"%"),s.transform="translateX(50%)";break;case"btt":s.bottom="".concat(i*100,"%"),s.transform="translateY(50%)";break;case"ttb":s.top="".concat(i*100,"%"),s.transform="translateY(-50%)";break;default:s.left="".concat(i*100,"%"),s.transform="translateX(-50%)";break}return s}function da(t,e){return Array.isArray(t)?t[e]:t}var cn={BACKSPACE:8,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Ba=d.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),g2=d.createContext({}),v2=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],N0=d.forwardRef(function(t,e){var n=t.prefixCls,r=t.value,i=t.valueIndex,s=t.onStartMove,a=t.onDelete,o=t.style,l=t.render,c=t.dragging,h=t.draggingDelete,m=t.onOffsetChange,f=t.onChangeComplete,g=t.onFocus,_=t.onMouseEnter,A=_A(t,v2),T=d.useContext(Ba),b=T.min,v=T.max,C=T.direction,R=T.disabled,k=T.keyboard,L=T.range,S=T.tabIndex,E=T.ariaLabelForHandle,w=T.ariaLabelledByForHandle,M=T.ariaRequired,I=T.ariaValueTextFormatterForHandle,P=T.styles,D=T.classNames,K="".concat(n,"-handle"),Z=function(V){R||s(V,i)},B=function(V){g==null||g(V,i)},$=function(V){_(V,i)},H=function(V){if(!R&&k){var te=null;switch(V.which||V.keyCode){case cn.LEFT:te=C==="ltr"||C==="btt"?-1:1;break;case cn.RIGHT:te=C==="ltr"||C==="btt"?1:-1;break;case cn.UP:te=C!=="ttb"?1:-1;break;case cn.DOWN:te=C!=="ttb"?-1:1;break;case cn.HOME:te="min";break;case cn.END:te="max";break;case cn.PAGE_UP:te=2;break;case cn.PAGE_DOWN:te=-2;break;case cn.BACKSPACE:case cn.DELETE:a(i);break}te!==null&&(V.preventDefault(),m(te,i))}},ne=function(V){switch(V.which||V.keyCode){case cn.LEFT:case cn.RIGHT:case cn.UP:case cn.DOWN:case cn.HOME:case cn.END:case cn.PAGE_UP:case cn.PAGE_DOWN:f==null||f();break}},ee=$v(C,r,b,v),fe={};if(i!==null){var me;fe={tabIndex:R?null:da(S,i),role:"slider","aria-valuemin":b,"aria-valuemax":v,"aria-valuenow":r,"aria-disabled":R,"aria-label":da(E,i),"aria-labelledby":da(w,i),"aria-required":da(M,i),"aria-valuetext":(me=da(I,i))===null||me===void 0?void 0:me(r),"aria-orientation":C==="ltr"||C==="rtl"?"horizontal":"vertical",onMouseDown:Z,onTouchStart:Z,onFocus:B,onMouseEnter:$,onKeyDown:H,onKeyUp:ne}}var W=d.createElement("div",Bu({ref:e,className:Ra(K,Nr(Nr(Nr({},"".concat(K,"-").concat(i+1),i!==null&&L),"".concat(K,"-dragging"),c),"".concat(K,"-dragging-delete"),h),D.handle),style:jn(jn(jn({},ee),o),P.handle)},fe,A));return l&&(W=l(W,{index:i,prefixCls:n,value:r,dragging:c,draggingDelete:h})),W}),y2=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],b2=d.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.onStartMove,s=t.onOffsetChange,a=t.values,o=t.handleRender,l=t.activeHandleRender,c=t.draggingIndex,h=t.draggingDelete,m=t.onFocus,f=_A(t,y2),g=d.useRef({}),_=d.useState(!1),A=Tn(_,2),T=A[0],b=A[1],v=d.useState(-1),C=Tn(v,2),R=C[0],k=C[1],L=function(I){k(I),b(!0)},S=function(I,P){L(P),m==null||m(I)},E=function(I,P){L(P)};d.useImperativeHandle(e,function(){return{focus:function(I){var P;(P=g.current[I])===null||P===void 0||P.focus()},hideHelp:function(){Ki.flushSync(function(){b(!1)})}}});var w=jn({prefixCls:n,onStartMove:i,onOffsetChange:s,render:o,onFocus:S,onMouseEnter:E},f);return d.createElement(d.Fragment,null,a.map(function(M,I){var P=c===I;return d.createElement(N0,Bu({ref:function(K){K?g.current[I]=K:delete g.current[I]},dragging:P,draggingDelete:P&&h,style:da(r,I),key:I,value:M,valueIndex:I},w))}),l&&T&&d.createElement(N0,Bu({key:"a11y"},w,{value:a[R],valueIndex:null,dragging:c!==-1,draggingDelete:h,render:l,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),_2=function(e){var n=e.prefixCls,r=e.style,i=e.children,s=e.value,a=e.onClick,o=d.useContext(Ba),l=o.min,c=o.max,h=o.direction,m=o.includedStart,f=o.includedEnd,g=o.included,_="".concat(n,"-text"),A=$v(h,s,l,c);return d.createElement("span",{className:Ra(_,Nr({},"".concat(_,"-active"),g&&m<=s&&s<=f)),style:jn(jn({},A),r),onMouseDown:function(b){b.stopPropagation()},onClick:function(){a(s)}},i)},E2=function(e){var n=e.prefixCls,r=e.marks,i=e.onClick,s="".concat(n,"-mark");return r.length?d.createElement("div",{className:s},r.map(function(a){var o=a.value,l=a.style,c=a.label;return d.createElement(_2,{key:o,prefixCls:s,style:l,value:o,onClick:i},c)})):null},w2=function(e){var n=e.prefixCls,r=e.value,i=e.style,s=e.activeStyle,a=d.useContext(Ba),o=a.min,l=a.max,c=a.direction,h=a.included,m=a.includedStart,f=a.includedEnd,g="".concat(n,"-dot"),_=h&&m<=r&&r<=f,A=jn(jn({},$v(c,r,o,l)),typeof i=="function"?i(r):i);return _&&(A=jn(jn({},A),typeof s=="function"?s(r):s)),d.createElement("span",{className:Ra(g,Nr({},"".concat(g,"-active"),_)),style:A})},S2=function(e){var n=e.prefixCls,r=e.marks,i=e.dots,s=e.style,a=e.activeStyle,o=d.useContext(Ba),l=o.min,c=o.max,h=o.step,m=d.useMemo(function(){var f=new Set;if(r.forEach(function(_){f.add(_.value)}),i&&h!==null)for(var g=l;g<=c;)f.add(g),g+=h;return Array.from(f)},[l,c,h,i,r]);return d.createElement("div",{className:"".concat(n,"-step")},m.map(function(f){return d.createElement(w2,{prefixCls:n,key:f,value:f,style:s,activeStyle:a})}))},V0=function(e){var n=e.prefixCls,r=e.style,i=e.start,s=e.end,a=e.index,o=e.onStartMove,l=e.replaceCls,c=d.useContext(Ba),h=c.direction,m=c.min,f=c.max,g=c.disabled,_=c.range,A=c.classNames,T="".concat(n,"-track"),b=rg(i,m,f),v=rg(s,m,f),C=function(S){!g&&o&&o(S,-1)},R={};switch(h){case"rtl":R.right="".concat(b*100,"%"),R.width="".concat(v*100-b*100,"%");break;case"btt":R.bottom="".concat(b*100,"%"),R.height="".concat(v*100-b*100,"%");break;case"ttb":R.top="".concat(b*100,"%"),R.height="".concat(v*100-b*100,"%");break;default:R.left="".concat(b*100,"%"),R.width="".concat(v*100-b*100,"%")}var k=l||Ra(T,Nr(Nr({},"".concat(T,"-").concat(a+1),a!==null&&_),"".concat(n,"-track-draggable"),o),A.track);return d.createElement("div",{className:k,style:jn(jn({},R),r),onMouseDown:C,onTouchStart:C})},T2=function(e){var n=e.prefixCls,r=e.style,i=e.values,s=e.startPoint,a=e.onStartMove,o=d.useContext(Ba),l=o.included,c=o.range,h=o.min,m=o.styles,f=o.classNames,g=d.useMemo(function(){if(!c){if(i.length===0)return[];var A=s??h,T=i[0];return[{start:Math.min(A,T),end:Math.max(A,T)}]}for(var b=[],v=0;v<i.length-1;v+=1)b.push({start:i[v],end:i[v+1]});return b},[i,c,s,h]);if(!l)return null;var _=g!=null&&g.length&&(f.tracks||m.tracks)?d.createElement(V0,{index:null,prefixCls:n,start:g[0].start,end:g[g.length-1].end,replaceCls:Ra(f.tracks,"".concat(n,"-tracks")),style:m.tracks}):null;return d.createElement(d.Fragment,null,_,g.map(function(A,T){var b=A.start,v=A.end;return d.createElement(V0,{index:T,prefixCls:n,style:jn(jn({},da(r,T)),m.track),start:b,end:v,key:T,onStartMove:a})}))},C2=130;function U0(t){var e="targetTouches"in t?t.targetTouches[0]:t;return{pageX:e.pageX,pageY:e.pageY}}function x2(t,e,n,r,i,s,a,o,l,c,h){var m=d.useState(null),f=Tn(m,2),g=f[0],_=f[1],A=d.useState(-1),T=Tn(A,2),b=T[0],v=T[1],C=d.useState(!1),R=Tn(C,2),k=R[0],L=R[1],S=d.useState(n),E=Tn(S,2),w=E[0],M=E[1],I=d.useState(n),P=Tn(I,2),D=P[0],K=P[1],Z=d.useRef(null),B=d.useRef(null),$=d.useRef(null),H=d.useContext(g2),ne=H.onDragStart,ee=H.onDragChange;yA(function(){b===-1&&M(n)},[n,b]),d.useEffect(function(){return function(){document.removeEventListener("mousemove",Z.current),document.removeEventListener("mouseup",B.current),$.current&&($.current.removeEventListener("touchmove",Z.current),$.current.removeEventListener("touchend",B.current))}},[]);var fe=function(te,re,ge){re!==void 0&&_(re),M(te);var Oe=te;ge&&(Oe=te.filter(function(J,he){return he!==b})),a(Oe),ee&&ee({rawValues:te,deleteIndex:ge?b:-1,draggingIndex:b,draggingValue:re})},me=Oo(function(V,te,re){if(V===-1){var ge=D[0],Oe=D[D.length-1],J=r-ge,he=i-Oe,Qe=te*(i-r);Qe=Math.max(Qe,J),Qe=Math.min(Qe,he);var Dt=s(ge+Qe);Qe=Dt-ge;var mt=D.map(function(Ln){return Ln+Qe});fe(mt)}else{var Me=(i-r)*te,vn=Ri(w);vn[V]=D[V];var ln=l(vn,Me,V,"dist");fe(ln.values,ln.value,re)}}),W=function(te,re,ge){te.stopPropagation();var Oe=ge||n,J=Oe[re];v(re),_(J),K(Oe),M(Oe),L(!1);var he=U0(te),Qe=he.pageX,Dt=he.pageY,mt=!1;ne&&ne({rawValues:Oe,draggingIndex:re,draggingValue:J});var Me=function(Ln){Ln.preventDefault();var kt=U0(Ln),Bn=kt.pageX,Mn=kt.pageY,Xt=Bn-Qe,_t=Mn-Dt,jt=t.current.getBoundingClientRect(),yn=jt.width,We=jt.height,Ne,Zt;switch(e){case"btt":Ne=-_t/We,Zt=Xt;break;case"ttb":Ne=_t/We,Zt=Xt;break;case"rtl":Ne=-Xt/yn,Zt=_t;break;default:Ne=Xt/yn,Zt=_t}mt=c?Math.abs(Zt)>C2&&h<w.length:!1,L(mt),me(re,Ne,mt)},vn=function ln(Ln){Ln.preventDefault(),document.removeEventListener("mouseup",ln),document.removeEventListener("mousemove",Me),$.current&&($.current.removeEventListener("touchmove",Z.current),$.current.removeEventListener("touchend",B.current)),Z.current=null,B.current=null,$.current=null,o(mt),v(-1),L(!1)};document.addEventListener("mouseup",vn),document.addEventListener("mousemove",Me),te.currentTarget.addEventListener("touchend",vn),te.currentTarget.addEventListener("touchmove",Me),Z.current=Me,B.current=vn,$.current=te.currentTarget},ae=d.useMemo(function(){var V=Ri(n).sort(function(J,he){return J-he}),te=Ri(w).sort(function(J,he){return J-he}),re={};te.forEach(function(J){re[J]=(re[J]||0)+1}),V.forEach(function(J){re[J]=(re[J]||0)-1});var ge=c?1:0,Oe=Object.values(re).reduce(function(J,he){return J+Math.abs(he)},0);return Oe<=ge?w:n},[n,w,c]);return[b,g,k,ae,W]}function A2(t,e,n,r,i,s){var a=d.useCallback(function(g){return Math.max(t,Math.min(e,g))},[t,e]),o=d.useCallback(function(g){if(n!==null){var _=t+Math.round((a(g)-t)/n)*n,A=function(C){return(String(C).split(".")[1]||"").length},T=Math.max(A(n),A(e),A(t)),b=Number(_.toFixed(T));return t<=b&&b<=e?b:null}return null},[n,t,e,a]),l=d.useCallback(function(g){var _=a(g),A=r.map(function(v){return v.value});n!==null&&A.push(o(g)),A.push(t,e);var T=A[0],b=e-t;return A.forEach(function(v){var C=Math.abs(_-v);C<=b&&(T=v,b=C)}),T},[t,e,r,n,a,o]),c=function g(_,A,T){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof A=="number"){var v,C=_[T],R=C+A,k=[];r.forEach(function(M){k.push(M.value)}),k.push(t,e),k.push(o(C));var L=A>0?1:-1;b==="unit"?k.push(o(C+L*n)):k.push(o(R)),k=k.filter(function(M){return M!==null}).filter(function(M){return A<0?M<=C:M>=C}),b==="unit"&&(k=k.filter(function(M){return M!==C}));var S=b==="unit"?C:R;v=k[0];var E=Math.abs(v-S);if(k.forEach(function(M){var I=Math.abs(M-S);I<E&&(v=M,E=I)}),v===void 0)return A<0?t:e;if(b==="dist")return v;if(Math.abs(A)>1){var w=Ri(_);return w[T]=v,g(w,A-L,T,b)}return v}else{if(A==="min")return t;if(A==="max")return e}},h=function(_,A,T){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",v=_[T],C=c(_,A,T,b);return{value:C,changed:C!==v}},m=function(_){return s===null&&_===0||typeof s=="number"&&_<s},f=function(_,A,T){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",v=_.map(l),C=v[T],R=c(v,A,T,b);if(v[T]=R,i===!1){var k=s||0;T>0&&v[T-1]!==C&&(v[T]=Math.max(v[T],v[T-1]+k)),T<v.length-1&&v[T+1]!==C&&(v[T]=Math.min(v[T],v[T+1]-k))}else if(typeof s=="number"||s===null){for(var L=T+1;L<v.length;L+=1)for(var S=!0;m(v[L]-v[L-1])&&S;){var E=h(v,1,L);v[L]=E.value,S=E.changed}for(var w=T;w>0;w-=1)for(var M=!0;m(v[w]-v[w-1])&&M;){var I=h(v,-1,w-1);v[w-1]=I.value,M=I.changed}for(var P=v.length-1;P>0;P-=1)for(var D=!0;m(v[P]-v[P-1])&&D;){var K=h(v,-1,P-1);v[P-1]=K.value,D=K.changed}for(var Z=0;Z<v.length-1;Z+=1)for(var B=!0;m(v[Z+1]-v[Z])&&B;){var $=h(v,1,Z+1);v[Z+1]=$.value,B=$.changed}}return{value:v[T],values:v}};return[l,f]}function R2(t){return d.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var e=t.editable,n=t.draggableTrack,r=t.minCount,i=t.maxCount;return[!0,e,!e&&n,r||0,i]},[t])}var L2=d.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-slider":n,i=t.className,s=t.style,a=t.classNames,o=t.styles,l=t.id,c=t.disabled,h=c===void 0?!1:c,m=t.keyboard,f=m===void 0?!0:m,g=t.autoFocus,_=t.onFocus,A=t.onBlur,T=t.min,b=T===void 0?0:T,v=t.max,C=v===void 0?100:v,R=t.step,k=R===void 0?1:R,L=t.value,S=t.defaultValue,E=t.range,w=t.count,M=t.onChange,I=t.onBeforeChange,P=t.onAfterChange,D=t.onChangeComplete,K=t.allowCross,Z=K===void 0?!0:K,B=t.pushable,$=B===void 0?!1:B,H=t.reverse,ne=t.vertical,ee=t.included,fe=ee===void 0?!0:ee,me=t.startPoint,W=t.trackStyle,ae=t.handleStyle,V=t.railStyle,te=t.dotStyle,re=t.activeDotStyle,ge=t.marks,Oe=t.dots,J=t.handleRender,he=t.activeHandleRender,Qe=t.track,Dt=t.tabIndex,mt=Dt===void 0?0:Dt,Me=t.ariaLabelForHandle,vn=t.ariaLabelledByForHandle,ln=t.ariaRequired,Ln=t.ariaValueTextFormatterForHandle,kt=d.useRef(null),Bn=d.useRef(null),Mn=d.useMemo(function(){return ne?H?"ttb":"btt":H?"rtl":"ltr"},[H,ne]),Xt=R2(E),_t=Tn(Xt,5),jt=_t[0],yn=_t[1],We=_t[2],Ne=_t[3],Zt=_t[4],Ct=d.useMemo(function(){return isFinite(b)?b:0},[b]),Kn=d.useMemo(function(){return isFinite(C)?C:100},[C]),Mt=d.useMemo(function(){return k!==null&&k<=0?1:k},[k]),sr=d.useMemo(function(){return typeof $=="boolean"?$?Mt:!1:$>=0?$:!1},[$,Mt]),Hn=d.useMemo(function(){return Object.keys(ge||{}).map(function(He){var ye=ge[He],Ze={value:Number(He)};return ye&&zs(ye)==="object"&&!d.isValidElement(ye)&&("label"in ye||"style"in ye)?(Ze.style=ye.style,Ze.label=ye.label):Ze.label=ye,Ze}).filter(function(He){var ye=He.label;return ye||typeof ye=="number"}).sort(function(He,ye){return He.value-ye.value})},[ge]),ti=A2(Ct,Kn,Mt,Hn,Z,sr),ar=Tn(ti,2),Sr=ar[0],Yn=ar[1],Br=l2(S,{value:L}),Qn=Tn(Br,2),In=Qn[0],or=Qn[1],xt=d.useMemo(function(){var He=In==null?[]:Array.isArray(In)?In:[In],ye=Tn(He,1),Ze=ye[0],Xe=Ze===void 0?Ct:Ze,lt=In===null?[]:[Xe];if(jt){if(lt=Ri(He),w||In===void 0){var Re=w>=0?w+1:2;for(lt=lt.slice(0,Re);lt.length<Re;){var yt;lt.push((yt=lt[lt.length-1])!==null&&yt!==void 0?yt:Ct)}}lt.sort(function(qt,_n){return qt-_n})}return lt.forEach(function(qt,_n){lt[_n]=Sr(qt)}),lt},[In,jt,Ct,w,Sr]),un=function(ye){return jt?ye:ye[0]},Ft=Oo(function(He){var ye=Ri(He).sort(function(Ze,Xe){return Ze-Xe});M&&!m2(ye,xt,!0)&&M(un(ye)),or(ye)}),Fn=Oo(function(He){He&&kt.current.hideHelp();var ye=un(xt);P==null||P(ye),Yo(!P,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),D==null||D(ye)}),Hr=function(ye){if(!(h||!yn||xt.length<=Ne)){var Ze=Ri(xt);Ze.splice(ye,1),I==null||I(un(Ze)),Ft(Ze);var Xe=Math.max(0,ye-1);kt.current.hideHelp(),kt.current.focus(Xe)}},Fr=x2(Bn,Mn,xt,Ct,Kn,Sr,Ft,Fn,Yn,yn,Ne),N=Tn(Fr,5),U=N[0],z=N[1],F=N[2],ie=N[3],de=N[4],we=function(ye,Ze){if(!h){var Xe=Ri(xt),lt=0,Re=0,yt=Kn-Ct;xt.forEach(function(Jt,Gr){var ta=Math.abs(ye-Jt);ta<=yt&&(yt=ta,lt=Gr),Jt<ye&&(Re=Gr)});var qt=lt;yn&&yt!==0&&(!Zt||xt.length<Zt)?(Xe.splice(Re+1,0,ye),qt=Re+1):Xe[lt]=ye,jt&&!xt.length&&w===void 0&&Xe.push(ye);var _n=un(Xe);if(I==null||I(_n),Ft(Xe),Ze){var Xn,at;(Xn=document.activeElement)===null||Xn===void 0||(at=Xn.blur)===null||at===void 0||at.call(Xn),kt.current.focus(qt),de(Ze,qt,Xe)}else P==null||P(_n),Yo(!P,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),D==null||D(_n)}},le=function(ye){ye.preventDefault();var Ze=Bn.current.getBoundingClientRect(),Xe=Ze.width,lt=Ze.height,Re=Ze.left,yt=Ze.top,qt=Ze.bottom,_n=Ze.right,Xn=ye.clientX,at=ye.clientY,Jt;switch(Mn){case"btt":Jt=(qt-at)/lt;break;case"ttb":Jt=(at-yt)/lt;break;case"rtl":Jt=(_n-Xn)/Xe;break;default:Jt=(Xn-Re)/Xe}var Gr=Ct+Jt*(Kn-Ct);we(Sr(Gr),ye)},pe=d.useState(null),_e=Tn(pe,2),Ce=_e[0],ve=_e[1],Ae=function(ye,Ze){if(!h){var Xe=Yn(xt,ye,Ze);I==null||I(un(xt)),Ft(Xe.values),ve(Xe.value)}};d.useEffect(function(){if(Ce!==null){var He=xt.indexOf(Ce);He>=0&&kt.current.focus(He)}ve(null)},[Ce]);var tt=d.useMemo(function(){return We&&Mt===null?!1:We},[We,Mt]),pt=Oo(function(He,ye){de(He,ye),I==null||I(un(xt))}),ht=U!==-1;d.useEffect(function(){if(!ht){var He=xt.lastIndexOf(z);kt.current.focus(He)}},[ht]);var Pt=d.useMemo(function(){return Ri(ie).sort(function(He,ye){return He-ye})},[ie]),Be=d.useMemo(function(){return jt?[Pt[0],Pt[Pt.length-1]]:[Ct,Pt[0]]},[Pt,jt,Ct]),Tr=Tn(Be,2),Wn=Tr[0],qr=Tr[1];d.useImperativeHandle(e,function(){return{focus:function(){kt.current.focus(0)},blur:function(){var ye,Ze=document,Xe=Ze.activeElement;(ye=Bn.current)!==null&&ye!==void 0&&ye.contains(Xe)&&(Xe==null||Xe.blur())}}}),d.useEffect(function(){g&&kt.current.focus(0)},[]);var bn=d.useMemo(function(){return{min:Ct,max:Kn,direction:Mn,disabled:h,keyboard:f,step:Mt,included:fe,includedStart:Wn,includedEnd:qr,range:jt,tabIndex:mt,ariaLabelForHandle:Me,ariaLabelledByForHandle:vn,ariaRequired:ln,ariaValueTextFormatterForHandle:Ln,styles:o||{},classNames:a||{}}},[Ct,Kn,Mn,h,f,Mt,fe,Wn,qr,jt,mt,Me,vn,ln,Ln,o,a]);return d.createElement(Ba.Provider,{value:bn},d.createElement("div",{ref:Bn,className:Ra(r,i,Nr(Nr(Nr(Nr({},"".concat(r,"-disabled"),h),"".concat(r,"-vertical"),ne),"".concat(r,"-horizontal"),!ne),"".concat(r,"-with-marks"),Hn.length)),style:s,onMouseDown:le,id:l},d.createElement("div",{className:Ra("".concat(r,"-rail"),a==null?void 0:a.rail),style:jn(jn({},V),o==null?void 0:o.rail)}),Qe!==!1&&d.createElement(T2,{prefixCls:r,style:W,values:xt,startPoint:me,onStartMove:tt?pt:void 0}),d.createElement(S2,{prefixCls:r,marks:Hn,dots:Oe,style:te,activeStyle:re}),d.createElement(b2,{ref:kt,prefixCls:r,style:ae,values:ie,draggingIndex:U,draggingDelete:F,onStartMove:pt,onOffsetChange:Ae,onFocus:_,onBlur:A,handleRender:J,activeHandleRender:he,onChangeComplete:Fn,onDelete:yn?Hr:void 0}),d.createElement(E2,{prefixCls:r,marks:Hn,onClick:we})))});const M2=t=>{const e=Math.floor(t/60),n=t%60,r=e>=12?"PM":"AM";return`${e%12===0?12:e%12}:${n.toString().padStart(2,"0")} ${r}`},Za=(t,e=9*60)=>{if(!t)return e;const n=t.split(":");if(n.length<2)return e;const[r,i]=n.map(s=>Number(s));return Number.isNaN(r)||Number.isNaN(i)?e:r*60+i},j0="09:00",z0="17:00";function I2(){const t=za(),e=ei(),{startTime:n=t.startTime,endTime:r=t.endTime}=e.state||{},i=n??j0,s=r??z0;let a=Za(i,Za(j0)),o=Za(s,Za(z0));o<=a&&(o=a+60);const[l,c]=d.useState([]),[h,m]=d.useState(""),[f,g]=d.useState(""),[_,A]=d.useState(!1),T="viva:activityState";return d.useEffect(()=>{try{const b=localStorage.getItem(T);if(!b)return;const v=JSON.parse(b),C=Za(v.startTime??i,a),R=Za(v.endTime??s,o),k=S=>Math.min(Math.max(S,a),o),L=(v.activities||[]).map(S=>({...S,time:k(S.time)})).sort((S,E)=>S.time===E.time?-1:S.time-E.time);c(L),typeof v.name=="string"&&m(v.name),typeof v.time=="string"&&g(v.time)}catch{}finally{A(!0)}},[]),d.useEffect(()=>{if(!_)return;const b=JSON.stringify({startTime:i,endTime:s,activities:l,name:h,time:f});localStorage.setItem(T,b)},[i,s,l,h,f,_]),x.jsxs("main",{className:"flex flex-col items-center justify-center min-h-screen bg-background px-4 gap-6 pad-6",children:[x.jsx("h1",{className:"text-3xl items-center font-bold",children:"Plan Your Activities"}),x.jsxs("form",{onSubmit:b=>{if(b.preventDefault(),!h||!f)return;const v=Date.now(),[C,R]=f.split(":").map(Number),k=C*60+R;if(k<a||k>o){alert("Time is out of range!");return}c(L=>[...L,{id:v,name:h,time:k}].sort((E,w)=>E.time===w.time?-1:E.time-w.time)),m(""),g("")},className:"flex flex-col md:flex-row gap-4 items-center mb-6",children:[x.jsx("input",{type:"text",value:h,onChange:b=>m(b.target.value),placeholder:"Activity name",className:"border border-gray-300 rounded-md px-4 py-2 w-60",required:!0}),x.jsx("input",{type:"time",value:f,onChange:b=>g(b.target.value),className:"border border-gray-300 rounded-md px-4 py-2",required:!0}),x.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition",children:"Add Activity"})]}),x.jsx("div",{className:"relative w-full max-w-4xl h-28 flex flex-col gap-6",children:l.length>0&&x.jsx(L2,{range:!0,allowCross:!0,step:5,onChange:b=>{if(Array.isArray(b)){const v=l.map((C,R)=>({...C,time:b[R]}));c(v.sort((C,R)=>C.time===R.time?-1:C.time-R.time))}},min:a,max:o,value:l.map(b=>b.time),trackStyle:[{backgroundColor:"#bfdbfe"}],railStyle:{backgroundColor:"#bfdbfe"},handleRender:(b,v)=>{const C=l[v.index],[R,k]=Qm.useState(!1);return Qm.cloneElement(b,{style:{...b.props.style,position:"absolute",top:"-25%",transform:"translateY(0%)",height:"32px",backgroundColor:"#ffffff",border:`2px solid ${R?"#0EA5E9":"#D1D5DB"}`,borderRadius:"9999px",padding:"0 0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",userSelect:"none",fontSize:"14px",fontWeight:500,color:"#1f2937",width:"fit-content",transition:"border-color 0.2s ease"},onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),onClick:()=>{c(L=>L.filter(S=>S.id!==C.id))},children:x.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[x.jsx("div",{style:{fontSize:"14px",alignItems:"center",transform:"translateY(40%)"},children:C.name}),x.jsx("div",{style:{fontSize:"12px",color:"#6B7280",transform:"translateY(75%)"},children:M2(C.time)})]})})}})}),x.jsx(De,{to:"/invitee",children:"Next"}),x.jsx(De,{to:"/",children:" Back to Home"})]})}const O2=["Birthday Party","Dinner Party","Brunch Party","Night Party","Pool Party","Graduation Party","Baby Shower","Housewarming"],B0="viva:partyType";function D2(){const{eventType:t,setEventType:e}=za(),[n,r]=d.useState(""),[i,s]=d.useState(!1);d.useEffect(()=>{try{const l=localStorage.getItem(B0);if(l){const c=JSON.parse(l);Array.isArray(c)&&e(c)}}catch{}finally{s(!0)}},[e]),d.useEffect(()=>{i&&localStorage.setItem(B0,JSON.stringify(t))},[i,t]);const a=l=>{t.includes(l)?e(t.filter(c=>c!==l)):e([...t,l])},o=l=>{l.preventDefault();const c=n.trim();c&&!t.includes(c)&&(e([...t,c]),r(""))};return x.jsxs("main",{children:[x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background px-4 text-center",children:[x.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Whats the Occasion?"}),x.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:O2.map(l=>x.jsx(De,{isSelected:t.includes(l),onClick:()=>a(l),children:l}))}),x.jsxs("form",{onSubmit:o,className:"flex gap-2 mb-6",children:[x.jsx("input",{type:"text",value:n,onChange:l=>r(l.target.value),placeholder:"Add your own...",className:"border border-gray-300 rounded-full px-4 py-2 w-full"}),x.jsx("button",{type:"submit",className:"bg-blue-500 text-white rounded-full px-4 py-2 hover:bg-blue-600",children:"Add"})]}),t&&t.length>0&&x.jsxs("div",{className:"mt-4",children:[x.jsx("h3",{className:"text-lg font-medium mb-2",children:"Your Theme Vibe Preview"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(l=>x.jsx(De,{isSelected:!0,onClick:()=>a(l),children:l},l))})]})]}),x.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[x.jsx(De,{to:"/",children:"Home"}),x.jsx(De,{to:"/theme",children:"Next"})]})]})}function k2({className:t,...e}){return x.jsx("div",{"data-slot":"card",className:vf("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function P2({className:t,...e}){return x.jsx("div",{"data-slot":"card-content",className:vf("px-6",t),...e})}function N2({className:t,type:e,...n}){return x.jsx("input",{type:e,"data-slot":"input",className:vf("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const V2={colors:["Pastel","Neon","Monochrome","Gold & Glitter"],moods:["Romantic","Spooky","Classy","Chill","Dreamy","Playful"],music:["Lo-fi","Dance Pop","Classical","Indie"],style:["Cottagecore","Retro","Sci-fi","Fairytale","Minimalist"]},H0="viva:theme";function U2(){const{theme:t,setTheme:e}=za(),[n,r]=d.useState([]),[i,s]=d.useState(""),[a,o]=d.useState(!1);d.useEffect(()=>{try{const m=localStorage.getItem(H0);if(m){const f=JSON.parse(m);Array.isArray(f.selectedTags)&&r(f.selectedTags),typeof f.customTheme=="string"&&s(f.customTheme)}}catch{}finally{o(!0)}},[]),d.useEffect(()=>{a&&(localStorage.setItem(H0,JSON.stringify({selectedTags:n,customTheme:i})),e([...n,...i?[i]:[]]))},[a,n,i]);const l=m=>{r(f=>f.includes(m)?f.filter(g=>g!==m):[...f,m])},h=n.includes("Romantic")&&n.includes("Red")?"Sounds like youre going for a Valentines Day vibe! Want to switch your Party Type?":n.includes("Spooky")?"Is this a Halloween party? You might want to update your Party Type!":null;return x.jsxs("div",{className:"p-6 space-y-6 max-w-4xl mx-auto",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Pick Your Party Theme"}),x.jsx("p",{className:"text-muted-foreground",children:"What kind of vibe are you going for?"}),Object.entries(V2).map(([m,f])=>x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-semibold capitalize mt-4 mb-2",children:m}),x.jsx("div",{className:"flex flex-wrap gap-3",children:f.map(g=>x.jsx(De,{onClick:()=>l(g),isSelected:n.includes(g),children:g},g))})]},m)),x.jsxs("div",{className:"mt-6",children:[x.jsx("h2",{className:"text-lg font-medium mb-2",children:"Custom Theme Description (optional)"}),x.jsx(N2,{placeholder:"e.g. Pink Galaxy Pajama Party",value:i,onChange:m=>s(m.target.value)})]}),h&&x.jsx(k2,{className:"mt-4 border-dashed border-2 border-pink-500 animate-pulse",children:x.jsx(P2,{className:"p-4 text-pink-700",children:h})}),x.jsxs("div",{className:"mt-8",children:[x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Your Theme Vibe Preview"}),x.jsx("div",{className:"border rounded-xl p-4 bg-muted text-muted-foreground",children:n.length===0&&!i?x.jsx("p",{children:"No vibes selected yet! Pick a few tags or write your own above "}):x.jsxs("div",{className:"space-y-2",children:[n.length>0&&x.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(m=>x.jsx(De,{isSelected:!0,onClick:()=>l(m),children:m},m))}),i&&x.jsxs("p",{children:[x.jsx("strong",{children:"Description:"})," ",i]})]})})]}),x.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[x.jsx(De,{to:"/",children:"Home"}),x.jsx(De,{to:"/dateTime",children:"Next"})]})]})}const j2=()=>{};var F0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},z2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},wA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,m=(s&3)<<4|o>>4;let f=(o&15)<<2|c>>6,g=c&63;l||(g=64,a||(f=64)),r.push(n[h],n[m],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||m==null)throw new B2;const f=s<<2|o>>4;if(r.push(f),c!==64){const g=o<<4&240|c>>2;if(r.push(g),m!==64){const _=c<<6&192|m;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H2=function(t){const e=EA(t);return wA.encodeByteArray(e,!0)},Md=function(t){return H2(t).replace(/\./g,"")},SA=function(t){try{return wA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=()=>F2().__FIREBASE_DEFAULTS__,G2=()=>{if(typeof process>"u"||typeof F0>"u")return;const t=F0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SA(t[1]);return e&&JSON.parse(e)},yf=()=>{try{return j2()||q2()||G2()||$2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TA=t=>{var e,n;return(n=(e=yf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},K2=t=>{const e=TA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CA=()=>{var t;return(t=yf())===null||t===void 0?void 0:t.config},xA=t=>{var e;return(e=yf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Md(JSON.stringify(n)),Md(JSON.stringify(a)),""].join(".")}const vu={};function W2(){const t={prod:[],emulator:[]};for(const e of Object.keys(vu))vu[e]?t.emulator.push(e):t.prod.push(e);return t}function X2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let q0=!1;function RA(t,e){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||vu[t]===e||vu[t]||q0)return;vu[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=W2().prod.length>0;function a(){const f=document.getElementById(r);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{q0=!0,a()},f}function h(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function m(){const f=X2(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),A=n("learnmore"),T=document.getElementById(A)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const C=f.element;o(C),h(T,A);const R=c();l(v,b),C.append(v,_,T,R),document.body.appendChild(C)}s?(_.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function J2(){var t;const e=(t=yf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r4(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function i4(){return!J2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s4(){try{return typeof indexedDB=="object"}catch{return!1}}function a4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="FirebaseError";class Vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o4,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?l4(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Vr(i,o,r)}}function l4(t,e){return t.replace(u4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const u4=/\{\$([^}]+)}/g;function c4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function La(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(G0(s)&&G0(a)){if(!La(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function G0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function h4(t,e){const n=new d4(t,e);return n.subscribe.bind(n)}class d4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Um),i.error===void 0&&(i.error=Um),i.complete===void 0&&(i.complete=Um);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class Ma{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g4(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p4(t){return t===ca?void 0:t}function g4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new m4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const y4={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},b4=Ke.INFO,_4={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},E4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kv{constructor(e){this.name=e,this._logLevel=b4,this._logHandler=E4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const w4=(t,e)=>e.some(n=>t instanceof n);let $0,K0;function S4(){return $0||($0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T4(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LA=new WeakMap,ig=new WeakMap,MA=new WeakMap,jm=new WeakMap,Yv=new WeakMap;function C4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ms(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&LA.set(n,t)}).catch(()=>{}),Yv.set(e,t),e}function x4(t){if(ig.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ig.set(t,e)}let sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A4(t){sg=t(sg)}function R4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zm(this),e,...n);return MA.set(r,e.sort?e.sort():[e]),Ms(r)}:T4().includes(t)?function(...e){return t.apply(zm(this),e),Ms(LA.get(this))}:function(...e){return Ms(t.apply(zm(this),e))}}function L4(t){return typeof t=="function"?R4(t):(t instanceof IDBTransaction&&x4(t),w4(t,S4())?new Proxy(t,sg):t)}function Ms(t){if(t instanceof IDBRequest)return C4(t);if(jm.has(t))return jm.get(t);const e=L4(t);return e!==t&&(jm.set(t,e),Yv.set(e,t)),e}const zm=t=>Yv.get(t);function M4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Ms(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ms(a.result),l.oldVersion,l.newVersion,Ms(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const I4=["get","getKey","getAll","getAllKeys","count"],O4=["put","add","delete","clear"],Bm=new Map;function Y0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bm.get(e))return Bm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=O4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||I4.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Bm.set(e,s),s}A4(t=>({...t,get:(e,n,r)=>Y0(e,n)||t.get(e,n,r),has:(e,n)=>!!Y0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(k4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function k4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ag="@firebase/app",Q0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Kv("@firebase/app"),P4="@firebase/app-compat",N4="@firebase/analytics-compat",V4="@firebase/analytics",U4="@firebase/app-check-compat",j4="@firebase/app-check",z4="@firebase/auth",B4="@firebase/auth-compat",H4="@firebase/database",F4="@firebase/data-connect",q4="@firebase/database-compat",G4="@firebase/functions",$4="@firebase/functions-compat",K4="@firebase/installations",Y4="@firebase/installations-compat",Q4="@firebase/messaging",W4="@firebase/messaging-compat",X4="@firebase/performance",Z4="@firebase/performance-compat",J4="@firebase/remote-config",eV="@firebase/remote-config-compat",tV="@firebase/storage",nV="@firebase/storage-compat",rV="@firebase/firestore",iV="@firebase/ai",sV="@firebase/firestore-compat",aV="firebase",oV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="[DEFAULT]",lV={[ag]:"fire-core",[P4]:"fire-core-compat",[V4]:"fire-analytics",[N4]:"fire-analytics-compat",[j4]:"fire-app-check",[U4]:"fire-app-check-compat",[z4]:"fire-auth",[B4]:"fire-auth-compat",[H4]:"fire-rtdb",[F4]:"fire-data-connect",[q4]:"fire-rtdb-compat",[G4]:"fire-fn",[$4]:"fire-fn-compat",[K4]:"fire-iid",[Y4]:"fire-iid-compat",[Q4]:"fire-fcm",[W4]:"fire-fcm-compat",[X4]:"fire-perf",[Z4]:"fire-perf-compat",[J4]:"fire-rc",[eV]:"fire-rc-compat",[tV]:"fire-gcs",[nV]:"fire-gcs-compat",[rV]:"fire-fst",[sV]:"fire-fst-compat",[iV]:"fire-vertex","fire-js":"fire-js",[aV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Map,uV=new Map,lg=new Map;function W0(t,e){try{t.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qo(t){const e=t.name;if(lg.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,t);for(const n of Hu.values())W0(n,t);for(const n of uV.values())W0(n,t);return!0}function Qv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new yc("app","Firebase",cV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=oV;function IA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:og,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Is.create("bad-app-name",{appName:String(i)});if(n||(n=CA()),!n)throw Is.create("no-options");const s=Hu.get(i);if(s){if(La(n,s.options)&&La(r,s.config))return s;throw Is.create("duplicate-app",{appName:i})}const a=new v4(i);for(const l of lg.values())a.addComponent(l);const o=new hV(n,r,a);return Hu.set(i,o),o}function Wv(t=og){const e=Hu.get(t);if(!e&&t===og&&CA())return IA();if(!e)throw Is.create("no-app",{appName:t});return e}function dV(){return Array.from(Hu.values())}function Os(t,e,n){var r;let i=(r=lV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(o.join(" "));return}Qo(new Ma(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="firebase-heartbeat-database",mV=1,Fu="firebase-heartbeat-store";let Hm=null;function OA(){return Hm||(Hm=M4(fV,mV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Is.create("idb-open",{originalErrorMessage:t.message})})),Hm}async function pV(t){try{const n=(await OA()).transaction(Fu),r=await n.objectStore(Fu).get(DA(t));return await n.done,r}catch(e){if(e instanceof Vr)Fi.warn(e.message);else{const n=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(n.message)}}}async function X0(t,e){try{const r=(await OA()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,DA(t)),await r.done}catch(n){if(n instanceof Vr)Fi.warn(n.message);else{const r=Is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fi.warn(r.message)}}}function DA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=1024,vV=30;class yV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _V(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Z0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>vV){const a=EV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z0(),{heartbeatsToSend:r,unsentEntries:i}=bV(this._heartbeatsCache.heartbeats),s=Md(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fi.warn(n),""}}}function Z0(){return new Date().toISOString().substring(0,10)}function bV(t,e=gV){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),J0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _V{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s4()?a4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return X0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return X0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function J0(t){return Md(JSON.stringify({version:2,heartbeats:t})).length}function EV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){Qo(new Ma("platform-logger",e=>new D4(e),"PRIVATE")),Qo(new Ma("heartbeat",e=>new yV(e),"PRIVATE")),Os(ag,Q0,t),Os(ag,Q0,"esm2017"),Os("fire-js","")}wV("");var SV="firebase",TV="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(SV,TV,"app");function Xv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CV=kA,PA=new yc("auth","Firebase",kA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=new Kv("@firebase/auth");function xV(t,...e){Id.logLevel<=Ke.WARN&&Id.warn(`Auth (${pl}): ${t}`,...e)}function Ih(t,...e){Id.logLevel<=Ke.ERROR&&Id.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,...e){throw Zv(t,...e)}function ci(t,...e){return Zv(t,...e)}function NA(t,e,n){const r=Object.assign(Object.assign({},CV()),{[e]:n});return new yc("auth","Firebase",r).create(e,{appName:t.name})}function Ui(t){return NA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PA.create(t,...e)}function Se(t,e,...n){if(!t)throw Zv(e,...n)}function ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ih(e),new Error(e)}function qi(t,e){t||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AV(){return ew()==="http:"||ew()==="https:"}function ew(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AV()||t4()||"connection"in navigator)?navigator.onLine:!0}function LV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=Z2()||n4()}get(){return RV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OV=new _c(3e4,6e4);function Zs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qi(t,e,n,r,i={}){return UA(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=bc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return e4()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ml(t.emulatorConfig.host)&&(c.credentials="include"),VA.fetch()(await jA(t,t.config.apiHost,n,o),c)})}async function UA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},MV),e);try{const i=new kV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw lh(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw lh(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw lh(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw NA(t,h,c);Xr(t,h)}}catch(i){if(i instanceof Vr)throw i;Xr(t,"network-request-failed",{message:String(i)})}}async function Ec(t,e,n,r,i={}){const s=await Qi(t,e,n,r,i);return"mfaPendingCredential"in s&&Xr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function jA(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?Jv(t.config,i):`${t.config.apiScheme}://${i}`;return IV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function DV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),OV.get())})}}function lh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ci(t,e,r);return i.customData._tokenResponse=n,i}function tw(t){return t!==void 0&&t.enterprise!==void 0}class PV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NV(t,e){return Qi(t,"GET","/v2/recaptchaConfig",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t,e){return Qi(t,"POST","/v1/accounts:delete",e)}async function Od(t,e){return Qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UV(t,e=!1){const n=gn(t),r=await n.getIdToken(e),i=ey(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yu(Fm(i.auth_time)),issuedAtTime:yu(Fm(i.iat)),expirationTime:yu(Fm(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fm(t){return Number(t)*1e3}function ey(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const i=SA(n);return i?JSON.parse(i):(Ih("Failed to decode base64 JWT payload"),null)}catch(i){return Ih("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nw(t){const e=ey(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vr&&jV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wo(t,Od(n,{idToken:r}));Se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?zA(s.providerUserInfo):[],o=HV(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new cg(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function BV(t){const e=gn(t);await Dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zA(t){return t.map(e=>{var{providerId:n}=e,r=Xv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e){const n=await UA(t,{},async()=>{const r=bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await jA(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&ml(t.emulatorConfig.host)&&(l.credentials="include"),VA.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qV(t,e){return Qi(t,"POST","/v2/accounts:revokeToken",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=nw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await FV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Do;return r&&(Se(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Se(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Xv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UV(this,e)}reload(){return BV(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await Wo(this,VV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,c,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,A=(o=n.tenantId)!==null&&o!==void 0?o:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:R,isAnonymous:k,providerData:L,stsTokenManager:S}=n;Se(C&&S,e,"internal-error");const E=Do.fromJSON(this.name,S);Se(typeof C=="string",e,"internal-error"),ts(m,e.name),ts(f,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof k=="boolean",e,"internal-error"),ts(g,e.name),ts(_,e.name),ts(A,e.name),ts(T,e.name),ts(b,e.name),ts(v,e.name);const w=new Yr({uid:C,auth:e,email:f,emailVerified:R,displayName:m,isAnonymous:k,photoURL:_,phoneNumber:g,tenantId:A,stsTokenManager:E,createdAt:b,lastLoginAt:v});return L&&Array.isArray(L)&&(w.providerData=L.map(M=>Object.assign({},M))),T&&(w._redirectEventId=T),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Do;i.updateFromServerResponse(n);const s=new Yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?zA(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Do;o.updateFromIdToken(r);const l=new Yr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new cg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;function Pi(t){qi(t instanceof Function,"Expected a class definition");let e=rw.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BA.type="NONE";const iw=BA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t,e,n){return`firebase:${t}:${e}:${n}`}class ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Oh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Oh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Od(this.auth,{idToken:e}).catch(()=>{});return n?Yr._fromGetAccountInfoResponse(this.auth,n,e):null}return Yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ko(Pi(iw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Pi(iw);const a=Oh(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){let m;if(typeof h=="string"){const f=await Od(e,{idToken:h}).catch(()=>{});if(!f)break;m=await Yr._fromGetAccountInfoResponse(e,f,h)}else m=Yr._fromJSON(e,h);c!==s&&(o=m),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ko(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new ko(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KA(e))return"Blackberry";if(YA(e))return"Webos";if(FA(e))return"Safari";if((e.includes("chrome/")||qA(e))&&!e.includes("edge/"))return"Chrome";if($A(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HA(t=zn()){return/firefox\//i.test(t)}function FA(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qA(t=zn()){return/crios\//i.test(t)}function GA(t=zn()){return/iemobile/i.test(t)}function $A(t=zn()){return/android/i.test(t)}function KA(t=zn()){return/blackberry/i.test(t)}function YA(t=zn()){return/webos/i.test(t)}function ty(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GV(t=zn()){var e;return ty(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $V(){return r4()&&document.documentMode===10}function QA(t=zn()){return ty(t)||$A(t)||YA(t)||KA(t)||/windows phone/i.test(t)||GA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t,e=[]){let n;switch(t){case"Browser":n=sw(zn());break;case"Worker":n=`${sw(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t,e={}){return Qi(t,"GET","/v2/passwordPolicy",Zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=6;class WV{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:QV,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aw(this),this.idTokenSubscription=new aw(this),this.beforeStateQueue=new KV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Od(this,{idToken:e}),r=await Yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(Ui(this));const n=e?gn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YV(this),n=new WV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ha(t){return gn(t)}class aw{constructor(e){this.auth=e,this.observer=null,this.addObserver=h4(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZV(t){bf=t}function XA(t){return bf.loadJS(t)}function JV(){return bf.recaptchaEnterpriseScript}function eU(){return bf.gapiScript}function tU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class nU{constructor(){this.enterprise=new rU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iU="recaptcha-enterprise",ZA="NO_RECAPTCHA";class sU{constructor(e){this.type=iU,this.auth=Ha(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{NV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new PV(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;tw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(ZA)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nU().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&tw(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=JV();l.length!==0&&(l+=o),XA(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function ow(t,e,n,r=!1,i=!1){const s=new sU(t);let a;if(i)a=ZA;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function hg(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ow(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ow(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t,e){const n=Qv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(La(s,e??{}))return i;Xr(i,"already-initialized")}return n.initialize({options:e})}function oU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lU(t,e,n){const r=Ha(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=JA(e),{host:a,port:o}=uU(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(La(c,r.config.emulator)&&La(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ml(a)?(AA(`${s}//${a}${l}`),RA("Auth",!0)):cU()}function JA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uU(t){const e=JA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:lw(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:lw(a)}}}function lw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,n){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function hU(t,e){return Qi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU(t,e){return Ec(t,"POST","/v1/accounts:signInWithPassword",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}async function mU(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends ny{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new qu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,n,"signInWithPassword",dU);case"emailLink":return fU(e,{email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,r,"signUpPassword",hU);case"emailLink":return mU(e,{idToken:n,email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e){return Ec(t,"POST","/v1/accounts:signInWithIdp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="http://localhost";class Ia extends ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Xv(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ia(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}buildRequest(){const e={requestUri:pU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vU(t){const e=Ql(Wl(t)).link,n=e?Ql(Wl(e)).deep_link_id:null,r=Ql(Wl(t)).deep_link_id;return(r?Ql(Wl(r)).link:null)||r||n||e||t}class ry{constructor(e){var n,r,i,s,a,o;const l=Ql(Wl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,m=gU((i=l.mode)!==null&&i!==void 0?i:null);Se(c&&h&&m,"argument-error"),this.apiKey=c,this.operation=m,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=vU(e);try{return new ry(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return qu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ry.parseLink(n);return Se(r,"argument-error"),qu._fromEmailAndCode(e,r.code,r.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends e1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends wc{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends wc{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends wc{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t,e){return Ec(t,"POST","/v1/accounts:signUp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yr._fromIdTokenResponse(e,r,i),a=uw(r);return new Oa({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=uw(r);return new Oa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function uw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends Vr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kd(e,n,r,i)}}function t1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?kd._fromErrorAndOperation(t,s,e,r):s})}async function bU(t,e,n=!1){const r=await Wo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t,e,n=!1){const{auth:r}=t;if(Dr(r.app))return Promise.reject(Ui(r));const i="reauthenticate";try{const s=await Wo(t,t1(r,i,e,t),n);Se(s.idToken,r,"internal-error");const a=ey(s.idToken);Se(a,r,"internal-error");const{sub:o}=a;return Se(t.uid===o,r,"user-mismatch"),Oa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(t,e,n=!1){if(Dr(t.app))return Promise.reject(Ui(t));const r="signIn",i=await t1(t,r,e),s=await Oa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function EU(t,e){return n1(Ha(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(t){const e=Ha(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wU(t,e,n){if(Dr(t.app))return Promise.reject(Ui(t));const r=Ha(t),a=await hg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&r1(t),l}),o=await Oa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function cw(t,e,n){return Dr(t.app)?Promise.reject(Ui(t)):EU(gn(t),gl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&r1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(t,e){return Qi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=gn(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Wo(r,SU(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function CU(t,e,n,r){return gn(t).onIdTokenChanged(e,n,r)}function xU(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}function iy(t,e,n,r){return gn(t).onAuthStateChanged(e,n,r)}function Pd(t){return gn(t).signOut()}const Nd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nd,"1"),this.storage.removeItem(Nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=1e3,RU=10;class s1 extends i1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);$V()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,RU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}s1.type="LOCAL";const LU=s1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends i1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a1.type="SESSION";const o1=a1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _f(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await MU(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=sy("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const f=m;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function OU(t){hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function DU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function PU(){return l1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="firebaseLocalStorageDb",NU=1,Vd="firebaseLocalStorage",c1="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ef(t,e){return t.transaction([Vd],e?"readwrite":"readonly").objectStore(Vd)}function VU(){const t=indexedDB.deleteDatabase(u1);return new Sc(t).toPromise()}function dg(){const t=indexedDB.open(u1,NU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vd,{keyPath:c1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vd)?e(r):(r.close(),await VU(),e(await dg()))})})}async function hw(t,e,n){const r=Ef(t,!0).put({[c1]:e,value:n});return new Sc(r).toPromise()}async function UU(t,e){const n=Ef(t,!1).get(e),r=await new Sc(n).toPromise();return r===void 0?null:r.value}function dw(t,e){const n=Ef(t,!0).delete(e);return new Sc(n).toPromise()}const jU=800,zU=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(PU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DU(),!this.activeServiceWorker)return;this.sender=new IU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await hw(e,Nd,"1"),await dw(e,Nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ef(i,!1).getAll();return new Sc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const BU=h1;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t,e){return e?Pi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay extends ny{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FU(t){return n1(t.auth,new ay(t),t.bypassAuthState)}function qU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),_U(n,new ay(t),t.bypassAuthState)}async function GU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),bU(n,new ay(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FU;case"linkViaPopup":case"linkViaRedirect":return GU;case"reauthViaPopup":case"reauthViaRedirect":return qU;default:Xr(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=new _c(2e3,1e4);class Eo extends d1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$U.get())};e()}}Eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="pendingRedirect",Dh=new Map;class YU extends d1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dh.get(this.auth._key());if(!e){try{const r=await QU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dh.set(this.auth._key(),e)}return this.bypassAuthState||Dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QU(t,e){const n=ZU(e),r=XU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function WU(t,e){Dh.set(t._key(),e)}function XU(t){return Pi(t._redirectPersistence)}function ZU(t){return Oh(KU,t.config.apiKey,t.name)}async function JU(t,e,n=!1){if(Dr(t.app))return Promise.reject(Ui(t));const r=Ha(t),i=HU(r,e),a=await new YU(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=10*60*1e3;class tj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!f1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ej&&this.cachedEventUids.clear(),this.cachedEventUids.has(fw(e))}saveEventToCache(e){this.cachedEventUids.add(fw(e)),this.lastProcessedEventTime=Date.now()}}function fw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function f1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(t,e={}){return Qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sj=/^https?/;async function aj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rj(t);for(const n of e)try{if(oj(n))return}catch{}Xr(t,"unauthorized-domain")}function oj(t){const e=ug(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!sj.test(n))return!1;if(ij.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=new _c(3e4,6e4);function mw(){const t=hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uj(t){return new Promise((e,n)=>{var r,i,s;function a(){mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mw(),n(ci(t,"network-request-failed"))},timeout:lj.get()})}if(!((i=(r=hi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hi().gapi)===null||s===void 0)&&s.load)a();else{const o=tU("iframefcb");return hi()[o]=()=>{gapi.load?a():n(ci(t,"network-request-failed"))},XA(`${eU()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw kh=null,e})}let kh=null;function cj(t){return kh=kh||uj(t),kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new _c(5e3,15e3),dj="__/auth/iframe",fj="emulator/auth/iframe",mj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gj(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jv(e,fj):`https://${t.config.authDomain}/${dj}`,r={apiKey:e.apiKey,appName:t.name,v:pl},i=pj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${bc(r).slice(1)}`}async function vj(t){const e=await cj(t),n=hi().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:gj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ci(t,"network-request-failed"),o=hi().setTimeout(()=>{s(a)},hj.get());function l(){hi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bj=500,_j=600,Ej="_blank",wj="http://localhost";class pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sj(t,e,n,r=bj,i=_j){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},yj),{width:r.toString(),height:i.toString(),top:s,left:a}),c=zn().toLowerCase();n&&(o=qA(c)?Ej:n),HA(c)&&(e=e||wj,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(GV(c)&&o!=="_self")return Tj(e||"",o),new pw(null);const m=window.open(e||"",o,h);Se(m,t,"popup-blocked");try{m.focus()}catch{}return new pw(m)}function Tj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="__/auth/handler",xj="emulator/auth/handler",Aj=encodeURIComponent("fac");async function gw(t,e,n,r,i,s){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pl,eventId:i};if(e instanceof e1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",c4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))a[h]=m}if(e instanceof wc){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${Aj}=${encodeURIComponent(l)}`:"";return`${Rj(t)}?${bc(o).slice(1)}${c}`}function Rj({config:t}){return t.emulator?Jv(t,xj):`https://${t.authDomain}/${Cj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class Lj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o1,this._completeRedirectFn=JU,this._overrideRedirectResult=WU}async _openPopup(e,n,r,i){var s;qi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await gw(e,n,r,ug(),i);return Sj(e,a,sy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gw(e,n,r,ug(),i);return OU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vj(e),r=new tj(e);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qm,{type:qm},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[qm];a!==void 0&&n(!!a),Xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QA()||FA()||ty()}}const Mj=Lj;var vw="@firebase/auth",yw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dj(t){Qo(new Ma("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Se(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WA(t)},c=new XV(r,i,s,l);return oU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qo(new Ma("auth-internal",e=>{const n=Ha(e.getProvider("auth").getImmediate());return(r=>new Ij(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(vw,yw,Oj(t)),Os(vw,yw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=5*60,Pj=xA("authIdTokenMaxAge")||kj;let bw=null;const Nj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Pj)return;const i=n==null?void 0:n.token;bw!==i&&(bw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Vj(t=Wv()){const e=Qv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aU(t,{popupRedirectResolver:Mj,persistence:[BU,LU,o1]}),r=xA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Nj(s.toString());xU(n,a,()=>a(n.currentUser)),CU(n,o=>a(o))}}const i=TA("auth");return i&&lU(n,`http://${i}`),n}function Uj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ci("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Uj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dj("Browser");var _w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,m1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function w(){}w.prototype=E.prototype,S.D=E.prototype,S.prototype=new w,S.prototype.constructor=S,S.C=function(M,I,P){for(var D=Array(arguments.length-2),K=2;K<arguments.length;K++)D[K-2]=arguments[K];return E.prototype[I].apply(M,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,w){w||(w=0);var M=Array(16);if(typeof E=="string")for(var I=0;16>I;++I)M[I]=E.charCodeAt(w++)|E.charCodeAt(w++)<<8|E.charCodeAt(w++)<<16|E.charCodeAt(w++)<<24;else for(I=0;16>I;++I)M[I]=E[w++]|E[w++]<<8|E[w++]<<16|E[w++]<<24;E=S.g[0],w=S.g[1],I=S.g[2];var P=S.g[3],D=E+(P^w&(I^P))+M[0]+3614090360&4294967295;E=w+(D<<7&4294967295|D>>>25),D=P+(I^E&(w^I))+M[1]+3905402710&4294967295,P=E+(D<<12&4294967295|D>>>20),D=I+(w^P&(E^w))+M[2]+606105819&4294967295,I=P+(D<<17&4294967295|D>>>15),D=w+(E^I&(P^E))+M[3]+3250441966&4294967295,w=I+(D<<22&4294967295|D>>>10),D=E+(P^w&(I^P))+M[4]+4118548399&4294967295,E=w+(D<<7&4294967295|D>>>25),D=P+(I^E&(w^I))+M[5]+1200080426&4294967295,P=E+(D<<12&4294967295|D>>>20),D=I+(w^P&(E^w))+M[6]+2821735955&4294967295,I=P+(D<<17&4294967295|D>>>15),D=w+(E^I&(P^E))+M[7]+4249261313&4294967295,w=I+(D<<22&4294967295|D>>>10),D=E+(P^w&(I^P))+M[8]+1770035416&4294967295,E=w+(D<<7&4294967295|D>>>25),D=P+(I^E&(w^I))+M[9]+2336552879&4294967295,P=E+(D<<12&4294967295|D>>>20),D=I+(w^P&(E^w))+M[10]+4294925233&4294967295,I=P+(D<<17&4294967295|D>>>15),D=w+(E^I&(P^E))+M[11]+2304563134&4294967295,w=I+(D<<22&4294967295|D>>>10),D=E+(P^w&(I^P))+M[12]+1804603682&4294967295,E=w+(D<<7&4294967295|D>>>25),D=P+(I^E&(w^I))+M[13]+4254626195&4294967295,P=E+(D<<12&4294967295|D>>>20),D=I+(w^P&(E^w))+M[14]+2792965006&4294967295,I=P+(D<<17&4294967295|D>>>15),D=w+(E^I&(P^E))+M[15]+1236535329&4294967295,w=I+(D<<22&4294967295|D>>>10),D=E+(I^P&(w^I))+M[1]+4129170786&4294967295,E=w+(D<<5&4294967295|D>>>27),D=P+(w^I&(E^w))+M[6]+3225465664&4294967295,P=E+(D<<9&4294967295|D>>>23),D=I+(E^w&(P^E))+M[11]+643717713&4294967295,I=P+(D<<14&4294967295|D>>>18),D=w+(P^E&(I^P))+M[0]+3921069994&4294967295,w=I+(D<<20&4294967295|D>>>12),D=E+(I^P&(w^I))+M[5]+3593408605&4294967295,E=w+(D<<5&4294967295|D>>>27),D=P+(w^I&(E^w))+M[10]+38016083&4294967295,P=E+(D<<9&4294967295|D>>>23),D=I+(E^w&(P^E))+M[15]+3634488961&4294967295,I=P+(D<<14&4294967295|D>>>18),D=w+(P^E&(I^P))+M[4]+3889429448&4294967295,w=I+(D<<20&4294967295|D>>>12),D=E+(I^P&(w^I))+M[9]+568446438&4294967295,E=w+(D<<5&4294967295|D>>>27),D=P+(w^I&(E^w))+M[14]+3275163606&4294967295,P=E+(D<<9&4294967295|D>>>23),D=I+(E^w&(P^E))+M[3]+4107603335&4294967295,I=P+(D<<14&4294967295|D>>>18),D=w+(P^E&(I^P))+M[8]+1163531501&4294967295,w=I+(D<<20&4294967295|D>>>12),D=E+(I^P&(w^I))+M[13]+2850285829&4294967295,E=w+(D<<5&4294967295|D>>>27),D=P+(w^I&(E^w))+M[2]+4243563512&4294967295,P=E+(D<<9&4294967295|D>>>23),D=I+(E^w&(P^E))+M[7]+1735328473&4294967295,I=P+(D<<14&4294967295|D>>>18),D=w+(P^E&(I^P))+M[12]+2368359562&4294967295,w=I+(D<<20&4294967295|D>>>12),D=E+(w^I^P)+M[5]+4294588738&4294967295,E=w+(D<<4&4294967295|D>>>28),D=P+(E^w^I)+M[8]+2272392833&4294967295,P=E+(D<<11&4294967295|D>>>21),D=I+(P^E^w)+M[11]+1839030562&4294967295,I=P+(D<<16&4294967295|D>>>16),D=w+(I^P^E)+M[14]+4259657740&4294967295,w=I+(D<<23&4294967295|D>>>9),D=E+(w^I^P)+M[1]+2763975236&4294967295,E=w+(D<<4&4294967295|D>>>28),D=P+(E^w^I)+M[4]+1272893353&4294967295,P=E+(D<<11&4294967295|D>>>21),D=I+(P^E^w)+M[7]+4139469664&4294967295,I=P+(D<<16&4294967295|D>>>16),D=w+(I^P^E)+M[10]+3200236656&4294967295,w=I+(D<<23&4294967295|D>>>9),D=E+(w^I^P)+M[13]+681279174&4294967295,E=w+(D<<4&4294967295|D>>>28),D=P+(E^w^I)+M[0]+3936430074&4294967295,P=E+(D<<11&4294967295|D>>>21),D=I+(P^E^w)+M[3]+3572445317&4294967295,I=P+(D<<16&4294967295|D>>>16),D=w+(I^P^E)+M[6]+76029189&4294967295,w=I+(D<<23&4294967295|D>>>9),D=E+(w^I^P)+M[9]+3654602809&4294967295,E=w+(D<<4&4294967295|D>>>28),D=P+(E^w^I)+M[12]+3873151461&4294967295,P=E+(D<<11&4294967295|D>>>21),D=I+(P^E^w)+M[15]+530742520&4294967295,I=P+(D<<16&4294967295|D>>>16),D=w+(I^P^E)+M[2]+3299628645&4294967295,w=I+(D<<23&4294967295|D>>>9),D=E+(I^(w|~P))+M[0]+4096336452&4294967295,E=w+(D<<6&4294967295|D>>>26),D=P+(w^(E|~I))+M[7]+1126891415&4294967295,P=E+(D<<10&4294967295|D>>>22),D=I+(E^(P|~w))+M[14]+2878612391&4294967295,I=P+(D<<15&4294967295|D>>>17),D=w+(P^(I|~E))+M[5]+4237533241&4294967295,w=I+(D<<21&4294967295|D>>>11),D=E+(I^(w|~P))+M[12]+1700485571&4294967295,E=w+(D<<6&4294967295|D>>>26),D=P+(w^(E|~I))+M[3]+2399980690&4294967295,P=E+(D<<10&4294967295|D>>>22),D=I+(E^(P|~w))+M[10]+4293915773&4294967295,I=P+(D<<15&4294967295|D>>>17),D=w+(P^(I|~E))+M[1]+2240044497&4294967295,w=I+(D<<21&4294967295|D>>>11),D=E+(I^(w|~P))+M[8]+1873313359&4294967295,E=w+(D<<6&4294967295|D>>>26),D=P+(w^(E|~I))+M[15]+4264355552&4294967295,P=E+(D<<10&4294967295|D>>>22),D=I+(E^(P|~w))+M[6]+2734768916&4294967295,I=P+(D<<15&4294967295|D>>>17),D=w+(P^(I|~E))+M[13]+1309151649&4294967295,w=I+(D<<21&4294967295|D>>>11),D=E+(I^(w|~P))+M[4]+4149444226&4294967295,E=w+(D<<6&4294967295|D>>>26),D=P+(w^(E|~I))+M[11]+3174756917&4294967295,P=E+(D<<10&4294967295|D>>>22),D=I+(E^(P|~w))+M[2]+718787259&4294967295,I=P+(D<<15&4294967295|D>>>17),D=w+(P^(I|~E))+M[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var w=E-this.blockSize,M=this.B,I=this.h,P=0;P<E;){if(I==0)for(;P<=w;)i(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<E;)if(M[I++]=S.charCodeAt(P++),I==this.blockSize){i(this,M),I=0;break}}else for(;P<E;)if(M[I++]=S[P++],I==this.blockSize){i(this,M),I=0;break}}this.h=I,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var w=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=w&255,w/=256;for(this.u(S),S=Array(16),E=w=0;4>E;++E)for(var M=0;32>M;M+=8)S[w++]=this.g[E]>>>M&255;return S};function s(S,E){var w=o;return Object.prototype.hasOwnProperty.call(w,S)?w[S]:w[S]=E(S)}function a(S,E){this.h=E;for(var w=[],M=!0,I=S.length-1;0<=I;I--){var P=S[I]|0;M&&P==E||(w[I]=P,M=!1)}this.g=w}var o={};function l(S){return-128<=S&&128>S?s(S,function(E){return new a([E|0],0>E?-1:0)}):new a([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return m;if(0>S)return T(c(-S));for(var E=[],w=1,M=0;S>=w;M++)E[M]=S/w|0,w*=4294967296;return new a(E,0)}function h(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return T(h(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(E,8)),M=m,I=0;I<S.length;I+=8){var P=Math.min(8,S.length-I),D=parseInt(S.substring(I,I+P),E);8>P?(P=c(Math.pow(E,P)),M=M.j(P).add(c(D))):(M=M.j(w),M=M.add(c(D)))}return M}var m=l(0),f=l(1),g=l(16777216);t=a.prototype,t.m=function(){if(A(this))return-T(this).m();for(var S=0,E=1,w=0;w<this.g.length;w++){var M=this.i(w);S+=(0<=M?M:4294967296+M)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(A(this))return"-"+T(this).toString(S);for(var E=c(Math.pow(S,6)),w=this,M="";;){var I=R(w,E).g;w=b(w,I.j(E));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(S);if(w=I,_(w))return P+M;for(;6>P.length;)P="0"+P;M=P+M}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function A(S){return S.h==-1}t.l=function(S){return S=b(this,S),A(S)?-1:_(S)?0:1};function T(S){for(var E=S.g.length,w=[],M=0;M<E;M++)w[M]=~S.g[M];return new a(w,~S.h).add(f)}t.abs=function(){return A(this)?T(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),w=[],M=0,I=0;I<=E;I++){var P=M+(this.i(I)&65535)+(S.i(I)&65535),D=(P>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);M=D>>>16,P&=65535,D&=65535,w[I]=D<<16|P}return new a(w,w[w.length-1]&-2147483648?-1:0)};function b(S,E){return S.add(T(E))}t.j=function(S){if(_(this)||_(S))return m;if(A(this))return A(S)?T(this).j(T(S)):T(T(this).j(S));if(A(S))return T(this.j(T(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var E=this.g.length+S.g.length,w=[],M=0;M<2*E;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(var I=0;I<S.g.length;I++){var P=this.i(M)>>>16,D=this.i(M)&65535,K=S.i(I)>>>16,Z=S.i(I)&65535;w[2*M+2*I]+=D*Z,v(w,2*M+2*I),w[2*M+2*I+1]+=P*Z,v(w,2*M+2*I+1),w[2*M+2*I+1]+=D*K,v(w,2*M+2*I+1),w[2*M+2*I+2]+=P*K,v(w,2*M+2*I+2)}for(M=0;M<E;M++)w[M]=w[2*M+1]<<16|w[2*M];for(M=E;M<2*E;M++)w[M]=0;return new a(w,0)};function v(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function C(S,E){this.g=S,this.h=E}function R(S,E){if(_(E))throw Error("division by zero");if(_(S))return new C(m,m);if(A(S))return E=R(T(S),E),new C(T(E.g),T(E.h));if(A(E))return E=R(S,T(E)),new C(T(E.g),E.h);if(30<S.g.length){if(A(S)||A(E))throw Error("slowDivide_ only works with positive integers.");for(var w=f,M=E;0>=M.l(S);)w=k(w),M=k(M);var I=L(w,1),P=L(M,1);for(M=L(M,2),w=L(w,2);!_(M);){var D=P.add(M);0>=D.l(S)&&(I=I.add(w),P=D),M=L(M,1),w=L(w,1)}return E=b(S,I.j(E)),new C(I,E)}for(I=m;0<=S.l(E);){for(w=Math.max(1,Math.floor(S.m()/E.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),P=c(w),D=P.j(E);A(D)||0<D.l(S);)w-=M,P=c(w),D=P.j(E);_(P)&&(P=f),I=I.add(P),S=b(S,D)}return new C(I,S)}t.A=function(S){return R(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),w=[],M=0;M<E;M++)w[M]=this.i(M)&S.i(M);return new a(w,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),w=[],M=0;M<E;M++)w[M]=this.i(M)|S.i(M);return new a(w,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),w=[],M=0;M<E;M++)w[M]=this.i(M)^S.i(M);return new a(w,this.h^S.h)};function k(S){for(var E=S.g.length+1,w=[],M=0;M<E;M++)w[M]=S.i(M)<<1|S.i(M-1)>>>31;return new a(w,S.h)}function L(S,E){var w=E>>5;E%=32;for(var M=S.g.length-w,I=[],P=0;P<M;P++)I[P]=0<E?S.i(P+w)>>>E|S.i(P+w+1)<<32-E:S.i(P+w);return new a(I,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,m1=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,Ds=a}).apply(typeof _w<"u"?_w:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p1,Xl,g1,Ph,fg,v1,y1,b1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var y=r;u=u.split(".");for(var O=0;O<u.length-1;O++){var j=u[O];if(!(j in y))break e;y=y[j]}u=u[u.length-1],O=y[u],p=p(O),p!=O&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var y=0,O=!1,j={next:function(){if(!O&&y<u.length){var q=y++;return{value:p(q,u[q]),done:!1}}return O=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,y){return u.call.apply(u.bind,arguments)}function m(u,p,y){if(!u)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,O),u.apply(p,j)}}return function(){return u.apply(p,arguments)}}function f(u,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,f.apply(null,arguments)}function g(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var O=y.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function _(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(O,j,q){for(var se=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)se[gt-2]=arguments[gt];return p.prototype[j].apply(O,se)}}function A(u){const p=u.length;if(0<p){const y=Array(p);for(let O=0;O<p;O++)y[O]=u[O];return y}return[]}function T(u,p){for(let y=1;y<arguments.length;y++){const O=arguments[y];if(l(O)){const j=u.length||0,q=O.length||0;u.length=j+q;for(let se=0;se<q;se++)u[j+se]=O[se]}else u.push(O)}}class b{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(u){return/^[\s\xa0]*$/.test(u)}function C(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var k=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function L(u,p,y){for(const O in u)p.call(y,u[O],O,u)}function S(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function E(u){const p={};for(const y in u)p[y]=u[y];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,p){let y,O;for(let j=1;j<arguments.length;j++){O=arguments[j];for(y in O)u[y]=O[y];for(let q=0;q<w.length;q++)y=w[q],Object.prototype.hasOwnProperty.call(O,y)&&(u[y]=O[y])}}function I(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function P(u){o.setTimeout(()=>{throw u},0)}function D(){var u=ne;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class K{constructor(){this.h=this.g=null}add(p,y){const O=Z.get();O.set(p,y),this.h?this.h.next=O:this.g=O,this.h=O}}var Z=new b(()=>new B,u=>u.reset());class B{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let $,H=!1,ne=new K,ee=()=>{const u=o.Promise.resolve(void 0);$=()=>{u.then(fe)}};var fe=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(y){P(y)}var p=Z;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}H=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};o.addEventListener("test",y,p),o.removeEventListener("test",y,p)}catch{}return u}();function V(u,p){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(k){e:{try{R(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&V.aa.h.call(this)}}_(V,W);var te={2:"touch",3:"pen",4:"mouse"};V.prototype.h=function(){V.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ge=0;function Oe(u,p,y,O,j){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!O,this.ha=j,this.key=++ge,this.da=this.fa=!1}function J(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u){this.src=u,this.g={},this.h=0}he.prototype.add=function(u,p,y,O,j){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var se=Dt(u,p,O,j);return-1<se?(p=u[se],y||(p.fa=!1)):(p=new Oe(p,this.src,q,!!O,j),p.fa=y,u.push(p)),p};function Qe(u,p){var y=p.type;if(y in u.g){var O=u.g[y],j=Array.prototype.indexOf.call(O,p,void 0),q;(q=0<=j)&&Array.prototype.splice.call(O,j,1),q&&(J(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Dt(u,p,y,O){for(var j=0;j<u.length;++j){var q=u[j];if(!q.da&&q.listener==p&&q.capture==!!y&&q.ha==O)return j}return-1}var mt="closure_lm_"+(1e6*Math.random()|0),Me={};function vn(u,p,y,O,j){if(Array.isArray(p)){for(var q=0;q<p.length;q++)vn(u,p[q],y,O,j);return null}return y=yn(y),u&&u[re]?u.K(p,y,c(O)?!!O.capture:!1,j):ln(u,p,y,!1,O,j)}function ln(u,p,y,O,j,q){if(!p)throw Error("Invalid event type");var se=c(j)?!!j.capture:!!j,gt=_t(u);if(gt||(u[mt]=gt=new he(u)),y=gt.add(p,y,O,se,q),y.proxy)return y;if(O=Ln(),y.proxy=O,O.src=u,O.listener=y,u.addEventListener)ae||(j=se),j===void 0&&(j=!1),u.addEventListener(p.toString(),O,j);else if(u.attachEvent)u.attachEvent(Mn(p.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ln(){function u(y){return p.call(u.src,u.listener,y)}const p=Xt;return u}function kt(u,p,y,O,j){if(Array.isArray(p))for(var q=0;q<p.length;q++)kt(u,p[q],y,O,j);else O=c(O)?!!O.capture:!!O,y=yn(y),u&&u[re]?(u=u.i,p=String(p).toString(),p in u.g&&(q=u.g[p],y=Dt(q,y,O,j),-1<y&&(J(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[p],u.h--)))):u&&(u=_t(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Dt(p,y,O,j)),(y=-1<u?p[u]:null)&&Bn(y))}function Bn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[re])Qe(p.i,u);else{var y=u.type,O=u.proxy;p.removeEventListener?p.removeEventListener(y,O,u.capture):p.detachEvent?p.detachEvent(Mn(y),O):p.addListener&&p.removeListener&&p.removeListener(O),(y=_t(p))?(Qe(y,u),y.h==0&&(y.src=null,p[mt]=null)):J(u)}}}function Mn(u){return u in Me?Me[u]:Me[u]="on"+u}function Xt(u,p){if(u.da)u=!0;else{p=new V(p,this);var y=u.listener,O=u.ha||u.src;u.fa&&Bn(u),u=y.call(O,p)}return u}function _t(u){return u=u[mt],u instanceof he?u:null}var jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(u){return typeof u=="function"?u:(u[jt]||(u[jt]=function(p){return u.handleEvent(p)}),u[jt])}function We(){me.call(this),this.i=new he(this),this.M=this,this.F=null}_(We,me),We.prototype[re]=!0,We.prototype.removeEventListener=function(u,p,y,O){kt(this,u,p,y,O)};function Ne(u,p){var y,O=u.F;if(O)for(y=[];O;O=O.F)y.push(O);if(u=u.M,O=p.type||p,typeof p=="string")p=new W(p,u);else if(p instanceof W)p.target=p.target||u;else{var j=p;p=new W(O,u),M(p,j)}if(j=!0,y)for(var q=y.length-1;0<=q;q--){var se=p.g=y[q];j=Zt(se,O,!0,p)&&j}if(se=p.g=u,j=Zt(se,O,!0,p)&&j,j=Zt(se,O,!1,p)&&j,y)for(q=0;q<y.length;q++)se=p.g=y[q],j=Zt(se,O,!1,p)&&j}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],O=0;O<y.length;O++)J(y[O]);delete u.g[p],u.h--}}this.F=null},We.prototype.K=function(u,p,y,O){return this.i.add(String(u),p,!1,y,O)},We.prototype.L=function(u,p,y,O){return this.i.add(String(u),p,!0,y,O)};function Zt(u,p,y,O){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,q=0;q<p.length;++q){var se=p[q];if(se&&!se.da&&se.capture==y){var gt=se.listener,En=se.ha||se.src;se.fa&&Qe(u.i,se),j=gt.call(En,O)!==!1&&j}}return j&&!O.defaultPrevented}function Ct(u,p,y){if(typeof u=="function")y&&(u=f(u,y));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:o.setTimeout(u,p||0)}function Kn(u){u.g=Ct(()=>{u.g=null,u.i&&(u.i=!1,Kn(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Mt extends me{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(u){me.call(this),this.h=u,this.g={}}_(sr,me);var Hn=[];function ti(u){L(u.g,function(p,y){this.g.hasOwnProperty(y)&&Bn(p)},u),u.g={}}sr.prototype.N=function(){sr.aa.N.call(this),ti(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=o.JSON.stringify,Sr=o.JSON.parse,Yn=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Br(){}Br.prototype.h=null;function Qn(u){return u.h||(u.h=u.i())}function In(){}var or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xt(){W.call(this,"d")}_(xt,W);function un(){W.call(this,"c")}_(un,W);var Ft={},Fn=null;function Hr(){return Fn=Fn||new We}Ft.La="serverreachability";function Fr(u){W.call(this,Ft.La,u)}_(Fr,W);function N(u){const p=Hr();Ne(p,new Fr(p))}Ft.STAT_EVENT="statevent";function U(u,p){W.call(this,Ft.STAT_EVENT,u),this.stat=p}_(U,W);function z(u){const p=Hr();Ne(p,new U(p,u))}Ft.Ma="timingevent";function F(u,p){W.call(this,Ft.Ma,u),this.size=p}_(F,W);function ie(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},p)}function de(){this.g=!0}de.prototype.xa=function(){this.g=!1};function we(u,p,y,O,j,q){u.info(function(){if(u.g)if(q)for(var se="",gt=q.split("&"),En=0;En<gt.length;En++){var nt=gt[En].split("=");if(1<nt.length){var On=nt[0];nt=nt[1];var Dn=On.split("_");se=2<=Dn.length&&Dn[1]=="type"?se+(On+"="+nt+"&"):se+(On+"=redacted&")}}else se=null;else se=q;return"XMLHTTP REQ ("+O+") [attempt "+j+"]: "+p+`
`+y+`
`+se})}function le(u,p,y,O,j,q,se){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+j+"]: "+p+`
`+y+`
`+q+" "+se})}function pe(u,p,y,O){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ce(u,y)+(O?" "+O:"")})}function _e(u,p){u.info(function(){return"TIMEOUT: "+p})}de.prototype.info=function(){};function Ce(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var O=y[u];if(!(2>O.length)){var j=O[1];if(Array.isArray(j)&&!(1>j.length)){var q=j[0];if(q!="noop"&&q!="stop"&&q!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return ar(y)}catch{return p}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tt;function pt(){}_(pt,Br),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},tt=new pt;function ht(u,p,y,O){this.j=u,this.i=p,this.l=y,this.R=O||1,this.U=new sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pt}function Pt(){this.i=null,this.g="",this.h=!1}var Be={},Tr={};function Wn(u,p,y){u.L=1,u.v=Oc(Ei(p)),u.m=y,u.P=!0,qr(u,null)}function qr(u,p){u.F=Date.now(),ye(u),u.A=Ei(u.v);var y=u.A,O=u.R;Array.isArray(O)||(O=[String(O)]),Yy(y.i,"t",O),u.C=0,y=u.j.J,u.h=new Pt,u.g=db(u.j,y?p:null,!u.m),0<u.O&&(u.M=new Mt(f(u.Y,u,u.g),u.O)),p=u.U,y=u.g,O=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Hn[0]=j.toString()),j=Hn);for(var q=0;q<j.length;q++){var se=vn(y,j[q],O||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),N(),we(u.i,u.u,u.A,u.l,u.R,u.m)}ht.prototype.ca=function(u){u=u.target;const p=this.M;p&&wi(u)==3?p.j():this.Y(u)},ht.prototype.Y=function(u){try{if(u==this.g)e:{const Dn=wi(this.g);var p=this.g.Ba();const Ya=this.g.Z();if(!(3>Dn)&&(Dn!=3||this.g&&(this.h.h||this.g.oa()||tb(this.g)))){this.J||Dn!=4||p==7||(p==8||0>=Ya?N(3):N(2)),Xe(this);var y=this.g.Z();this.X=y;t:if(bn(this)){var O=tb(this.g);u="";var j=O.length,q=wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Re(this),lt(this);var se="";break t}this.h.i=new o.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,u+=this.h.i.decode(O[p],{stream:!(q&&p==j-1)});O.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=y==200,le(this.i,this.u,this.A,this.l,this.R,Dn,y),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,En=this.g;if((gt=En.g?En.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(gt)){var nt=gt;break t}}nt=null}if(y=nt)pe(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yt(this,y);else{this.o=!1,this.s=3,z(12),Re(this),lt(this);break e}}if(this.P){y=!0;let $r;for(;!this.J&&this.C<se.length;)if($r=He(this,se),$r==Tr){Dn==4&&(this.s=4,z(14),y=!1),pe(this.i,this.l,null,"[Incomplete Response]");break}else if($r==Be){this.s=4,z(15),pe(this.i,this.l,se,"[Invalid Chunk]"),y=!1;break}else pe(this.i,this.l,$r,null),yt(this,$r);if(bn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dn!=4||se.length!=0||this.h.h||(this.s=1,z(16),y=!1),this.o=this.o&&y,!y)pe(this.i,this.l,se,"[Invalid Chunked Response]"),Re(this),lt(this);else if(0<se.length&&!this.W){this.W=!0;var On=this.j;On.g==this&&On.ba&&!On.M&&(On.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Hf(On),On.M=!0,z(11))}}else pe(this.i,this.l,se,null),yt(this,se);Dn==4&&Re(this),this.o&&!this.J&&(Dn==4?lb(this.j,this):(this.o=!1,ye(this)))}else oL(this.g),y==400&&0<se.indexOf("Unknown SID")?(this.s=3,z(12)):(this.s=0,z(13)),Re(this),lt(this)}}}catch{}finally{}};function bn(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function He(u,p){var y=u.C,O=p.indexOf(`
`,y);return O==-1?Tr:(y=Number(p.substring(y,O)),isNaN(y)?Be:(O+=1,O+y>p.length?Tr:(p=p.slice(O,O+y),u.C=O+y,p)))}ht.prototype.cancel=function(){this.J=!0,Re(this)};function ye(u){u.S=Date.now()+u.I,Ze(u,u.I)}function Ze(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ie(f(u.ba,u),p)}function Xe(u){u.B&&(o.clearTimeout(u.B),u.B=null)}ht.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_e(this.i,this.A),this.L!=2&&(N(),z(17)),Re(this),this.s=2,lt(this)):Ze(this,this.S-u)};function lt(u){u.j.G==0||u.J||lb(u.j,u)}function Re(u){Xe(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ti(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function yt(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||Jt(y.h,u))){if(!u.K&&Jt(y.h,u)&&y.G==3){try{var O=y.Da.g.parse(p)}catch{O=null}if(Array.isArray(O)&&O.length==3){var j=O;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Uc(y),Nc(y);else break e;Bf(y),z(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=ie(f(y.Za,y),6e3));if(1>=at(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ra(y,11)}else if((u.K||y.g==u)&&Uc(y),!v(p))for(j=y.Da.g.parse(p),p=0;p<j.length;p++){let nt=j[p];if(y.T=nt[0],nt=nt[1],y.G==2)if(nt[0]=="c"){y.K=nt[1],y.ia=nt[2];const On=nt[3];On!=null&&(y.la=On,y.j.info("VER="+y.la));const Dn=nt[4];Dn!=null&&(y.Aa=Dn,y.j.info("SVER="+y.Aa));const Ya=nt[5];Ya!=null&&typeof Ya=="number"&&0<Ya&&(O=1.5*Ya,y.L=O,y.j.info("backChannelRequestTimeoutMs_="+O)),O=y;const $r=u.g;if($r){const zc=$r.g?$r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zc){var q=O.h;q.g||zc.indexOf("spdy")==-1&&zc.indexOf("quic")==-1&&zc.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Gr(q,q.h),q.h=null))}if(O.D){const Ff=$r.g?$r.g.getResponseHeader("X-HTTP-Session-Id"):null;Ff&&(O.ya=Ff,Et(O.I,O.D,Ff))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),O=y;var se=u;if(O.qa=hb(O,O.J?O.ia:null,O.W),se.K){ta(O.h,se);var gt=se,En=O.L;En&&(gt.I=En),gt.B&&(Xe(gt),ye(gt)),O.g=se}else ab(O);0<y.i.length&&Vc(y)}else nt[0]!="stop"&&nt[0]!="close"||ra(y,7);else y.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ra(y,7):zf(y):nt[0]!="noop"&&y.l&&y.l.ta(nt),y.v=0)}}N(4)}catch{}}var qt=class{constructor(u,p){this.g=u,this.map=p}};function _n(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function at(u){return u.h?1:u.g?u.g.size:0}function Jt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Gr(u,p){u.g?u.g.add(p):u.h=p}function ta(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}_n.prototype.cancel=function(){if(this.i=By(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function By(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return A(u.i)}function $R(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],y=u.length,O=0;O<y;O++)p.push(u[O]);return p}p=[],y=0;for(O in u)p[y++]=u[O];return p}function KR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const O in u)p[y++]=O;return p}}}function Hy(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=KR(u),O=$R(u),j=O.length,q=0;q<j;q++)p.call(void 0,O[q],y&&y[q],u)}var Fy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YR(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var O=u[y].indexOf("="),j=null;if(0<=O){var q=u[y].substring(0,O);j=u[y].substring(O+1)}else q=u[y];p(q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function na(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof na){this.h=u.h,Mc(this,u.j),this.o=u.o,this.g=u.g,Ic(this,u.s),this.l=u.l;var p=u.i,y=new Sl;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),qy(this,y),this.m=u.m}else u&&(p=String(u).match(Fy))?(this.h=!1,Mc(this,p[1]||"",!0),this.o=El(p[2]||""),this.g=El(p[3]||"",!0),Ic(this,p[4]),this.l=El(p[5]||"",!0),qy(this,p[6]||"",!0),this.m=El(p[7]||"")):(this.h=!1,this.i=new Sl(null,this.h))}na.prototype.toString=function(){var u=[],p=this.j;p&&u.push(wl(p,Gy,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(wl(p,Gy,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(wl(y,y.charAt(0)=="/"?XR:WR,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",wl(y,JR)),u.join("")};function Ei(u){return new na(u)}function Mc(u,p,y){u.j=y?El(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ic(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function qy(u,p,y){p instanceof Sl?(u.i=p,eL(u.i,u.h)):(y||(p=wl(p,ZR)),u.i=new Sl(p,u.h))}function Et(u,p,y){u.i.set(p,y)}function Oc(u){return Et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function El(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wl(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,QR),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function QR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gy=/[#\/\?@]/g,WR=/[#\?:]/g,XR=/[#\?]/g,ZR=/[#\?@]/g,JR=/#/g;function Sl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Wi(u){u.g||(u.g=new Map,u.h=0,u.i&&YR(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Sl.prototype,t.add=function(u,p){Wi(this),this.i=null,u=$a(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function $y(u,p){Wi(u),p=$a(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ky(u,p){return Wi(u),p=$a(u,p),u.g.has(p)}t.forEach=function(u,p){Wi(this),this.g.forEach(function(y,O){y.forEach(function(j){u.call(p,j,O,this)},this)},this)},t.na=function(){Wi(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let O=0;O<p.length;O++){const j=u[O];for(let q=0;q<j.length;q++)y.push(p[O])}return y},t.V=function(u){Wi(this);let p=[];if(typeof u=="string")Ky(this,u)&&(p=p.concat(this.g.get($a(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},t.set=function(u,p){return Wi(this),this.i=null,u=$a(this,u),Ky(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Yy(u,p,y){$y(u,p),0<y.length&&(u.i=null,u.g.set($a(u,p),A(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var O=p[y];const q=encodeURIComponent(String(O)),se=this.V(O);for(O=0;O<se.length;O++){var j=q;se[O]!==""&&(j+="="+encodeURIComponent(String(se[O]))),u.push(j)}}return this.i=u.join("&")};function $a(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function eL(u,p){p&&!u.j&&(Wi(u),u.i=null,u.g.forEach(function(y,O){var j=O.toLowerCase();O!=j&&($y(this,O),Yy(this,j,y))},u)),u.j=p}function tL(u,p){const y=new de;if(o.Image){const O=new Image;O.onload=g(Xi,y,"TestLoadImage: loaded",!0,p,O),O.onerror=g(Xi,y,"TestLoadImage: error",!1,p,O),O.onabort=g(Xi,y,"TestLoadImage: abort",!1,p,O),O.ontimeout=g(Xi,y,"TestLoadImage: timeout",!1,p,O),o.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else p(!1)}function nL(u,p){const y=new de,O=new AbortController,j=setTimeout(()=>{O.abort(),Xi(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:O.signal}).then(q=>{clearTimeout(j),q.ok?Xi(y,"TestPingServer: ok",!0,p):Xi(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Xi(y,"TestPingServer: error",!1,p)})}function Xi(u,p,y,O,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),O(y)}catch{}}function rL(){this.g=new Yn}function iL(u,p,y){const O=y||"";try{Hy(u,function(j,q){let se=j;c(j)&&(se=ar(j)),p.push(O+q+"="+encodeURIComponent(se))})}catch(j){throw p.push(O+"type="+encodeURIComponent("_badmap")),j}}function Dc(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Dc,Br),Dc.prototype.g=function(){return new kc(this.l,this.j)},Dc.prototype.i=function(u){return function(){return u}}({});function kc(u,p){We.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(kc,We),t=kc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Cl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||o).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Cl(this)),this.g&&(this.readyState=3,Cl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Tl(this):Cl(this),this.readyState==3&&Qy(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Tl(this))},t.Qa=function(u){this.g&&(this.response=u,Tl(this))},t.ga=function(){this.g&&Tl(this)};function Tl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Cl(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Cl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wy(u){let p="";return L(u,function(y,O){p+=O,p+=":",p+=y,p+=`\r
`}),p}function jf(u,p,y){e:{for(O in y){var O=!1;break e}O=!0}O||(y=Wy(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Et(u,p,y))}function Nt(u){We.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Nt,We);var sL=/^https?$/i,aL=["POST","PUT"];t=Nt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,y,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tt.g(),this.v=this.o?Qn(this.o):Qn(tt),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(q){Xy(this,q);return}if(u=y||"",y=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var j in O)y.set(j,O[j]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const q of O.keys())y.set(q,O.get(q));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),j=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(aL,p,void 0))||O||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of y)this.g.setRequestHeader(q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{eb(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Xy(this,q)}};function Xy(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Zy(u),Pc(u)}function Zy(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ne(this,"complete"),Ne(this,"abort"),Pc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pc(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jy(this):this.bb())},t.bb=function(){Jy(this)};function Jy(u){if(u.h&&typeof a<"u"&&(!u.v[1]||wi(u)!=4||u.Z()!=2)){if(u.u&&wi(u)==4)Ct(u.Ea,0,u);else if(Ne(u,"readystatechange"),wi(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var O;if(O=se===0){var j=String(u.D).match(Fy)[1]||null;!j&&o.self&&o.self.location&&(j=o.self.location.protocol.slice(0,-1)),O=!sL.test(j?j.toLowerCase():"")}y=O}if(y)Ne(u,"complete"),Ne(u,"success");else{u.m=6;try{var q=2<wi(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Zy(u)}}finally{Pc(u)}}}}function Pc(u,p){if(u.g){eb(u);const y=u.g,O=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Ne(u,"ready");try{y.onreadystatechange=O}catch{}}}function eb(u){u.I&&(o.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function wi(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Sr(p)}};function tb(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function oL(u){const p={};u=(u.g&&2<=wi(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(v(u[O]))continue;var y=I(u[O]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=p[j]||[];p[j]=q,q.push(y)}S(p,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xl(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function nb(u){this.Aa=0,this.i=[],this.j=new de,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xl("baseRetryDelayMs",5e3,u),this.cb=xl("retryDelaySeedMs",1e4,u),this.Wa=xl("forwardChannelMaxRetries",2,u),this.wa=xl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _n(u&&u.concurrentRequestLimit),this.Da=new rL,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nb.prototype,t.la=8,t.G=1,t.connect=function(u,p,y,O){z(0),this.W=u,this.H=p||{},y&&O!==void 0&&(this.H.OSID=y,this.H.OAID=O),this.F=this.X,this.I=hb(this,null,this.W),Vc(this)};function zf(u){if(rb(u),u.G==3){var p=u.U++,y=Ei(u.I);if(Et(y,"SID",u.K),Et(y,"RID",p),Et(y,"TYPE","terminate"),Al(u,y),p=new ht(u,u.j,p),p.L=2,p.v=Oc(Ei(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&o.Image&&(new Image().src=p.v,y=!0),y||(p.g=db(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ye(p)}cb(u)}function Nc(u){u.g&&(Hf(u),u.g.cancel(),u.g=null)}function rb(u){Nc(u),u.u&&(o.clearTimeout(u.u),u.u=null),Uc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function Vc(u){if(!Xn(u.h)&&!u.s){u.s=!0;var p=u.Ga;$||ee(),H||($(),H=!0),ne.add(p,u),u.B=0}}function lL(u,p){return at(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ie(f(u.Ga,u,p),ub(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new ht(this,this.j,u);let q=this.o;if(this.S&&(q?(q=E(q),M(q,this.S)):q=this.S),this.m!==null||this.O||(j.H=q,q=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var O=this.i[y];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(p+=O,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=sb(this,j,p),y=Ei(this.I),Et(y,"RID",u),Et(y,"CVER",22),this.D&&Et(y,"X-HTTP-Session-Id",this.D),Al(this,y),q&&(this.O?p="headers="+encodeURIComponent(String(Wy(q)))+"&"+p:this.m&&jf(y,this.m,q)),Gr(this.h,j),this.Ua&&Et(y,"TYPE","init"),this.P?(Et(y,"$req",p),Et(y,"SID","null"),j.T=!0,Wn(j,y,null)):Wn(j,y,p),this.G=2}}else this.G==3&&(u?ib(this,u):this.i.length==0||Xn(this.h)||ib(this))};function ib(u,p){var y;p?y=p.l:y=u.U++;const O=Ei(u.I);Et(O,"SID",u.K),Et(O,"RID",y),Et(O,"AID",u.T),Al(u,O),u.m&&u.o&&jf(O,u.m,u.o),y=new ht(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=sb(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Gr(u.h,y),Wn(y,O,p)}function Al(u,p){u.H&&L(u.H,function(y,O){Et(p,O,y)}),u.l&&Hy({},function(y,O){Et(p,O,y)})}function sb(u,p,y){y=Math.min(u.i.length,y);var O=u.l?f(u.l.Na,u.l,u):null;e:{var j=u.i;let q=-1;for(;;){const se=["count="+y];q==-1?0<y?(q=j[0].g,se.push("ofs="+q)):q=0:se.push("ofs="+q);let gt=!0;for(let En=0;En<y;En++){let nt=j[En].g;const On=j[En].map;if(nt-=q,0>nt)q=Math.max(0,j[En].g-100),gt=!1;else try{iL(On,se,"req"+nt+"_")}catch{O&&O(On)}}if(gt){O=se.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,O}function ab(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;$||ee(),H||($(),H=!0),ne.add(p,u),u.v=0}}function Bf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ie(f(u.Fa,u),ub(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,ob(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ie(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,z(10),Nc(this),ob(this))};function Hf(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function ob(u){u.g=new ht(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Ei(u.qa);Et(p,"RID","rpc"),Et(p,"SID",u.K),Et(p,"AID",u.T),Et(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Et(p,"TO",u.ja),Et(p,"TYPE","xmlhttp"),Al(u,p),u.m&&u.o&&jf(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Oc(Ei(p)),y.m=null,y.P=!0,qr(y,u)}t.Za=function(){this.C!=null&&(this.C=null,Nc(this),Bf(this),z(19))};function Uc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function lb(u,p){var y=null;if(u.g==p){Uc(u),Hf(u),u.g=null;var O=2}else if(Jt(u.h,p))y=p.D,ta(u.h,p),O=1;else return;if(u.G!=0){if(p.o)if(O==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var j=u.B;O=Hr(),Ne(O,new F(O,y)),Vc(u)}else ab(u);else if(j=p.s,j==3||j==0&&0<p.X||!(O==1&&lL(u,p)||O==2&&Bf(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),j){case 1:ra(u,5);break;case 4:ra(u,10);break;case 3:ra(u,6);break;default:ra(u,2)}}}function ub(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function ra(u,p){if(u.j.info("Error code "+p),p==2){var y=f(u.fb,u),O=u.Xa;const j=!O;O=new na(O||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Mc(O,"https"),Oc(O),j?tL(O.toString(),y):nL(O.toString(),y)}else z(2);u.G=0,u.l&&u.l.sa(p),cb(u),rb(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),z(2)):(this.j.info("Failed to ping google.com"),z(1))};function cb(u){if(u.G=0,u.ka=[],u.l){const p=By(u.h);(p.length!=0||u.i.length!=0)&&(T(u.ka,p),T(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function hb(u,p,y){var O=y instanceof na?Ei(y):new na(y);if(O.g!="")p&&(O.g=p+"."+O.g),Ic(O,O.s);else{var j=o.location;O=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var q=new na(null);O&&Mc(q,O),p&&(q.g=p),j&&Ic(q,j),y&&(q.l=y),O=q}return y=u.D,p=u.ya,y&&p&&Et(O,y,p),Et(O,"VER",u.la),Al(u,O),O}function db(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Nt(new Dc({eb:y})):new Nt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fb(){}t=fb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jc(){}jc.prototype.g=function(u,p){return new lr(u,p)};function lr(u,p){We.call(this),this.g=new nb(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!v(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ka(this)}_(lr,We),lr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},lr.prototype.close=function(){zf(this.g)},lr.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=ar(u),u=y);p.i.push(new qt(p.Ya++,u)),p.G==3&&Vc(p)},lr.prototype.N=function(){this.g.l=null,delete this.j,zf(this.g),delete this.g,lr.aa.N.call(this)};function mb(u){xt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}_(mb,xt);function pb(){un.call(this),this.status=1}_(pb,un);function Ka(u){this.g=u}_(Ka,fb),Ka.prototype.ua=function(){Ne(this.g,"a")},Ka.prototype.ta=function(u){Ne(this.g,new mb(u))},Ka.prototype.sa=function(u){Ne(this.g,new pb)},Ka.prototype.ra=function(){Ne(this.g,"b")},jc.prototype.createWebChannel=jc.prototype.g,lr.prototype.send=lr.prototype.o,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,b1=function(){return new jc},y1=function(){return Hr()},v1=Ft,fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Ph=ve,Ae.COMPLETE="complete",g1=Ae,In.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",We.prototype.listen=We.prototype.K,Xl=In,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,p1=Nt}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const Ew="@firebase/firestore",ww="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Kv("@firebase/firestore");function io(){return Da.logLevel}function oe(t,...e){if(Da.logLevel<=Ke.DEBUG){const n=e.map(oy);Da.debug(`Firestore (${vl}): ${t}`,...n)}}function Gi(t,...e){if(Da.logLevel<=Ke.ERROR){const n=e.map(oy);Da.error(`Firestore (${vl}): ${t}`,...n)}}function Bs(t,...e){if(Da.logLevel<=Ke.WARN){const n=e.map(oy);Da.warn(`Firestore (${vl}): ${t}`,...n)}}function oy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_1(t,r,n)}function _1(t,e,n){let r=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Gi(r),new Error(r)}function ot(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||_1(e,i,r)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pn.UNAUTHENTICATED))}shutdown(){}}class zj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bj{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ks,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ks)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string",31837,{l:r}),new E1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class Hj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Fj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Hj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const r=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Sw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Gj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function mg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ue(r,i);{const s=w1(),a=$j(s.encode(Tw(t,n)),s.encode(Tw(e,n)));return a!==0?a:Ue(r,i)}}n+=r>65535?2:1}return Ue(t.length,e.length)}function Tw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function $j(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ue(t[n],e[n]);return Ue(t.length,e.length)}function Xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="__name__";class ri{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ri.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ue(e.length,n.length)}static compareSegments(e,n){const r=ri.isNumericId(e),i=ri.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ri.extractNumericId(e).compare(ri.extractNumericId(n)):mg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ds.fromString(e.substring(4,e.length-2))}}class wt extends ri{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const Kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends ri{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return Kj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cw}static keyField(){return new xn([Cw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new be(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new be(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new be(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new be(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(wt.fromString(e))}static fromName(e){return new Ee(wt.fromString(e).popFirst(5))}static empty(){return new Ee(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e,n){if(!n)throw new be(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Yj(t,e,n,r){if(e===!0&&r===!0)throw new be(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xw(t){if(!Ee.isDocumentKey(t))throw new be(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Aw(t){if(Ee.isDocumentKey(t))throw new be(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function T1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function uy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uy(t);throw new be(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tc(t,e){if(!T1(t))throw new be(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new be(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=-62135596800,Lw=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Lw);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Rw)throw new be(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lw}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tc(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Rw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Kt("string",St._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new St(0,0))}static max(){return new Le(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=-1;function Qj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new Fs(i,Ee.empty(),e)}function Wj(t){return new Fs(t.readTime,t.key,Gu)}class Fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fs(Le.min(),Ee.empty(),Gu)}static max(){return new Fs(Le.max(),Ee.empty(),Gu)}}function Xj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==Zj)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{a[c]=h,++o,o===s&&r(a)},h=>i(h))}})}static doWhile(e,n){return new Y((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function e3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}wf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-1;function Sf(t){return t==null}function Ud(t){return t===0&&1/t==-1/0}function t3(t){return typeof t=="number"&&Number.isInteger(t)&&!Ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="";function n3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Mw(e)),e=r3(t.get(n),e);return Mw(e)}function r3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case C1:n+="";break;default:n+=s}}return n}function Mw(t){return t+C1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Sn.RED,this.left=i??Sn.EMPTY,this.right=s??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Sn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ow(this.data.getIterator())}getIteratorFrom(e){return new Ow(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class Ow{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new vr([])}unionWith(e){let n=new sn(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new A1("Invalid base64 string: "+s):s}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const i3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(t){if(ot(!!t,39018),typeof t=="string"){let e=0;const n=i3.exec(t);if(ot(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gs(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="server_timestamp",L1="__type__",M1="__previous_value__",I1="__local_write_time__";function hy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[L1])===null||n===void 0?void 0:n.stringValue)===R1}function Tf(t){const e=t.mapValue.fields[M1];return hy(e)?Tf(e):e}function $u(t){const e=qs(t.mapValue.fields[I1].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,i,s,a,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const jd="(default)";class Ku{constructor(e,n){this.projectId=e,this.database=n||jd}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===jd}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="__type__",a3="__max__",hh={mapValue:{}},D1="__vector__",zd="value";function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hy(t)?4:l3(t)?9007199254740991:o3(t)?10:11:Te(28295,{value:t})}function gi(t,e){if(t===e)return!0;const n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=qs(i.timestampValue),o=qs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Gs(i.bytesValue).isEqual(Gs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ht(i.geoPointValue.latitude)===Ht(s.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ht(i.integerValue)===Ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Ht(i.doubleValue),o=Ht(s.doubleValue);return a===o?Ud(a)===Ud(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Iw(a)!==Iw(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!gi(a[l],o[l])))return!1;return!0}(t,e);default:return Te(52216,{left:t})}}function Yu(t,e){return(t.values||[]).find(n=>gi(n,e))!==void 0}function Zo(t,e){if(t===e)return 0;const n=$s(t),r=$s(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Ht(s.integerValue||s.doubleValue),l=Ht(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return Dw(t.timestampValue,e.timestampValue);case 4:return Dw($u(t),$u(e));case 5:return mg(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Gs(s),l=Gs(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=Ue(o[c],l[c]);if(h!==0)return h}return Ue(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ue(Ht(s.latitude),Ht(a.latitude));return o!==0?o:Ue(Ht(s.longitude),Ht(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kw(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,h;const m=s.fields||{},f=a.fields||{},g=(o=m[zd])===null||o===void 0?void 0:o.arrayValue,_=(l=f[zd])===null||l===void 0?void 0:l.arrayValue,A=Ue(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:kw(g,_)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===hh.mapValue&&a===hh.mapValue)return 0;if(s===hh.mapValue)return 1;if(a===hh.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let m=0;m<l.length&&m<h.length;++m){const f=mg(l[m],h[m]);if(f!==0)return f;const g=Zo(o[l[m]],c[h[m]]);if(g!==0)return g}return Ue(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Te(23264,{le:n})}}function Dw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=qs(t),r=qs(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function kw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Zo(n[i],r[i]);if(s)return s}return Ue(n.length,r.length)}function Jo(t){return pg(t)}function pg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=pg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${pg(n.fields[a])}`;return i+"}"}(t.mapValue):Te(61005,{value:t})}function Nh(t){switch($s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tf(t);return e?16+Nh(e):16;case 5:return 2*t.stringValue.length;case 6:return Gs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Nh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Js(r.fields,(s,a)=>{i+=s.length+Nh(a)}),i}(t.mapValue);default:throw Te(13486,{value:t})}}function gg(t){return!!t&&"integerValue"in t}function dy(t){return!!t&&"arrayValue"in t}function Pw(t){return!!t&&"nullValue"in t}function Nw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vh(t){return!!t&&"mapValue"in t}function o3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[O1])===null||n===void 0?void 0:n.stringValue)===D1}function bu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function l3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===a3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(n)}setAll(e){let n=xn.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=bu(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Js(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nr(bu(this.value))}}function k1(t){const e=[];return Js(t.fields,(n,r)=>{const i=new xn([n]);if(Vh(r)){const s=k1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Nn(e,0,Le.min(),Le.min(),Le.min(),nr.empty(),0)}static newFoundDocument(e,n,r,i){return new Nn(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new Nn(e,2,n,Le.min(),Le.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Le.min(),Le.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.position=e,this.inclusive=n}}function Vw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Ee.comparator(Ee.fromName(a.referenceValue),n.key):r=Zo(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n="asc"){this.field=e,this.dir=n}}function u3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{}class rn extends P1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new h3(e,n,r):n==="array-contains"?new m3(e,r):n==="in"?new p3(e,r):n==="not-in"?new g3(e,r):n==="array-contains-any"?new v3(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new d3(e,r):new f3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zo(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends P1{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new vi(e,n)}matches(e){return N1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function N1(t){return t.op==="and"}function V1(t){return c3(t)&&N1(t)}function c3(t){for(const e of t.filters)if(e instanceof vi)return!1;return!0}function vg(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Jo(t.value);if(V1(t))return t.filters.map(e=>vg(e)).join(",");{const e=t.filters.map(n=>vg(n)).join(",");return`${t.op}(${e})`}}function U1(t,e){return t instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.field.isEqual(i.field)&&gi(r.value,i.value)}(t,e):t instanceof vi?function(r,i){return i instanceof vi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&U1(a,i.filters[o]),!0):!1}(t,e):void Te(19439)}function j1(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(t):t instanceof vi?function(n){return n.op.toString()+" {"+n.getFilters().map(j1).join(" ,")+"}"}(t):"Filter"}class h3 extends rn{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class d3 extends rn{constructor(e,n){super(e,"in",n),this.keys=z1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f3 extends rn{constructor(e,n){super(e,"not-in",n),this.keys=z1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function z1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class m3 extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dy(n)&&Yu(n.arrayValue,this.value)}}class p3 extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class g3 extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yu(this.value.arrayValue,n)}}class v3 extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Pe=null}}function jw(t,e=null,n=[],r=[],i=null,s=null,a=null){return new y3(t,e,n,r,i,s,a)}function fy(t){const e=Ie(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jo(r)).join(",")),e.Pe=n}return e.Pe}function my(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!U1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uw(t.startAt,e.startAt)&&Uw(t.endAt,e.endAt)}function yg(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function b3(t,e,n,r,i,s,a,o){return new Cf(t,e,n,r,i,s,a,o)}function py(t){return new Cf(t)}function zw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _3(t){return t.collectionGroup!==null}function _u(t){const e=Ie(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new sn(xn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Hd(s,r))}),n.has(xn.keyField().canonicalString())||e.Te.push(new Hd(xn.keyField(),r))}return e.Te}function di(t){const e=Ie(t);return e.Ie||(e.Ie=E3(e,_u(t))),e.Ie}function E3(t,e){if(t.limitType==="F")return jw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Hd(i.field,s)});const n=t.endAt?new Bd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bd(t.startAt.position,t.startAt.inclusive):null;return jw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bg(t,e,n){return new Cf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xf(t,e){return my(di(t),di(e))&&t.limitType===e.limitType}function B1(t){return`${fy(di(t))}|lt:${t.limitType}`}function so(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>j1(i)).join(", ")}]`),Sf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Jo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Jo(i)).join(",")),`Target(${r})`}(di(t))}; limitType=${t.limitType})`}function Af(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of _u(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=Vw(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,_u(r),i)||r.endAt&&!function(a,o,l){const c=Vw(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,_u(r),i))}(t,e)}function w3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H1(t){return(e,n)=>{let r=!1;for(const i of _u(t)){const s=S3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function S3(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Zo(l,c):Te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return x1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new Ot(Ee.comparator);function $i(){return T3}const F1=new Ot(Ee.comparator);function Zl(...t){let e=F1;for(const n of t)e=e.insert(n.key,n);return e}function q1(t){let e=F1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pa(){return Eu()}function G1(){return Eu()}function Eu(){return new Fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const C3=new Ot(Ee.comparator),x3=new sn(Ee.comparator);function Ye(...t){let e=x3;for(const n of t)e=e.add(n);return e}const A3=new sn(Ue);function R3(){return A3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function $1(t){return{integerValue:""+t}}function L3(t,e){return t3(e)?$1(e):gy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this._=void 0}}function M3(t,e,n){return t instanceof Qu?function(i,s){const a={fields:{[L1]:{stringValue:R1},[I1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&hy(s)&&(s=Tf(s)),s&&(a.fields[M1]=s),{mapValue:a}}(n,e):t instanceof Wu?Y1(t,e):t instanceof Xu?Q1(t,e):function(i,s){const a=K1(i,s),o=Bw(a)+Bw(i.Ee);return gg(a)&&gg(i.Ee)?$1(o):gy(i.serializer,o)}(t,e)}function I3(t,e,n){return t instanceof Wu?Y1(t,e):t instanceof Xu?Q1(t,e):n}function K1(t,e){return t instanceof Fd?function(r){return gg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Qu extends Rf{}class Wu extends Rf{constructor(e){super(),this.elements=e}}function Y1(t,e){const n=W1(e);for(const r of t.elements)n.some(i=>gi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xu extends Rf{constructor(e){super(),this.elements=e}}function Q1(t,e){let n=W1(e);for(const r of t.elements)n=n.filter(i=>!gi(i,r));return{arrayValue:{values:n}}}class Fd extends Rf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Bw(t){return Ht(t.integerValue||t.doubleValue)}function W1(t){return dy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n){this.field=e,this.transform=n}}function D3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wu&&i instanceof Wu||r instanceof Xu&&i instanceof Xu?Xo(r.elements,i.elements,gi):r instanceof Fd&&i instanceof Fd?gi(r.Ee,i.Ee):r instanceof Qu&&i instanceof Qu}(t.transform,e.transform)}class k3{constructor(e,n){this.version=e,this.transformResults=n}}class Wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lf{}function X1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new J1(t.key,Wr.none()):new Cc(t.key,t.data,Wr.none());{const n=t.data,r=nr.empty();let i=new sn(xn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ea(t.key,r,new vr(i.toArray()),Wr.none())}}function P3(t,e,n){t instanceof Cc?function(i,s,a){const o=i.value.clone(),l=Fw(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ea?function(i,s,a){if(!Uh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=Fw(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(Z1(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function wu(t,e,n,r){return t instanceof Cc?function(s,a,o,l){if(!Uh(s.precondition,a))return o;const c=s.value.clone(),h=qw(s.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ea?function(s,a,o,l){if(!Uh(s.precondition,a))return o;const c=qw(s.fieldTransforms,l,a),h=a.data;return h.setAll(Z1(s)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,o){return Uh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function N3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=K1(r.transform,i||null);s!=null&&(n===null&&(n=nr.empty()),n.set(r.field,s))}return n||null}function Hw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xo(r,i,(s,a)=>D3(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cc extends Lf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ea extends Lf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Fw(t,e,n){const r=new Map;ot(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,I3(a,o,n[i]))}return r}function qw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,M3(s,a,e))}return r}class J1 extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V3 extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&P3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=G1();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=X1(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ye())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(n,r)=>Hw(n,r))&&Xo(this.baseMutations,e.baseMutations,(n,r)=>Hw(n,r))}}class vy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ot(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return C3}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new vy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Je;function B3(t){switch(t){case X.OK:return Te(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function eR(t){if(t===void 0)return Gi("GRPC error has no .code"),X.UNKNOWN;switch(t){case Gt.OK:return X.OK;case Gt.CANCELLED:return X.CANCELLED;case Gt.UNKNOWN:return X.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return X.INTERNAL;case Gt.UNAVAILABLE:return X.UNAVAILABLE;case Gt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Gt.NOT_FOUND:return X.NOT_FOUND;case Gt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Gt.ABORTED:return X.ABORTED;case Gt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Gt.DATA_LOSS:return X.DATA_LOSS;default:return Te(39323,{code:t})}}(Je=Gt||(Gt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new Ds([4294967295,4294967295],0);function Gw(t){const e=w1().encode(t),n=new m1;return n.update(e),new Uint8Array(n.digest())}function $w(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ds([n,r],0),new Ds([i,s],0)]}class yy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ds.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Ds.fromNumber(r)));return i.compare(H3)===1&&(i=new Ds([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Gw(e),[r,i]=$w(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);if(!this.ye(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new yy(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.fe===0)return;const n=Gw(e),[r,i]=$w(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);this.we(a)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mf(Le.min(),i,new Ot(Ue),$i(),Ye())}}class xc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xc(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class tR{constructor(e,n){this.targetId=e,this.De=n}}class nR{constructor(e,n,r=Rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Kw{constructor(){this.ve=0,this.Ce=Yw(),this.Fe=Rn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ye(),n=Ye(),r=Ye();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te(38017,{changeType:s})}}),new xc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=Yw()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class F3{constructor(e){this.We=e,this.Ge=new Map,this.ze=$i(),this.je=dh(),this.Je=dh(),this.He=new Ot(Ue)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(yg(s))if(r===0){const a=new Ee(s.path);this.Xe(n,a,Nn.newNoDocument(a,Le.min()))}else ot(r===1,20013,{expectedCount:r});else{const a=this.ot(n);if(a!==r){const o=this._t(e),l=o?this.ut(o,e,a):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=Gs(r).toUint8Array()}catch(l){if(l instanceof A1)return Bs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new yy(a,i,s)}catch(l){return Bs(l instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.fe===0?null:o}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,a)=>{const o=this.st(a);if(o){if(s.current&&yg(o.target)){const l=new Ee(o.target.path);this.Tt(l).has(a)||this.It(a,l)||this.Xe(a,l,Nn.newNoDocument(l,e))}s.Ne&&(n.set(a,s.Le()),s.ke())}});let r=Ye();this.Je.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const i=new Mf(e,n,this.He,this.ze,r);return this.ze=$i(),this.je=dh(),this.Je=dh(),this.He=new Ot(Ue),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Kw,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new sn(Ue),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new sn(Ue),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Kw),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function dh(){return new Ot(Ee.comparator)}function Yw(){return new Ot(Ee.comparator)}const q3={asc:"ASCENDING",desc:"DESCENDING"},G3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$3={and:"AND",or:"OR"};class K3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _g(t,e){return t.useProto3Json||Sf(e)?e:{value:e}}function qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Y3(t,e){return qd(t,e.toTimestamp())}function fi(t){return ot(!!t,49232),Le.fromTimestamp(function(n){const r=qs(n);return new St(r.seconds,r.nanos)}(t))}function by(t,e){return Eg(t,e).canonicalString()}function Eg(t,e){const n=function(i){return new wt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iR(t){const e=wt.fromString(t);return ot(uR(e),10190,{key:e.toString()}),e}function wg(t,e){return by(t.databaseId,e.path)}function Gm(t,e){const n=iR(e);if(n.get(1)!==t.databaseId.projectId)throw new be(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(aR(n))}function sR(t,e){return by(t.databaseId,e)}function Q3(t){const e=iR(t);return e.length===4?wt.emptyPath():aR(e)}function Sg(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aR(t){return ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Qw(t,e,n){return{name:wg(t,e),fields:n.value.mapValue.fields}}function W3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Te(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ot(h===void 0||typeof h=="string",58123),Rn.fromBase64String(h||"")):(ot(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Rn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const h=c.code===void 0?X.UNKNOWN:eR(c.code);return new be(h,c.message||"")}(a);n=new nR(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gm(t,r.document.name),s=fi(r.document.updateTime),a=r.document.createTime?fi(r.document.createTime):Le.min(),o=new nr({mapValue:{fields:r.document.fields}}),l=Nn.newFoundDocument(i,s,a,o),c=r.targetIds||[],h=r.removedTargetIds||[];n=new jh(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gm(t,r.document),s=r.readTime?fi(r.readTime):Le.min(),a=Nn.newNoDocument(i,s),o=r.removedTargetIds||[];n=new jh([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gm(t,r.document),s=r.removedTargetIds||[];n=new jh([],s,i,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new z3(i,s),o=r.targetId;n=new tR(o,a)}}return n}function X3(t,e){let n;if(e instanceof Cc)n={update:Qw(t,e.key,e.value)};else if(e instanceof J1)n={delete:wg(t,e.key)};else if(e instanceof ea)n={update:Qw(t,e.key,e.data),updateMask:a6(e.fieldMask)};else{if(!(e instanceof V3))return Te(16599,{Rt:e.type});n={verify:wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Qu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Wu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Xu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Fd)return{fieldPath:a.field.canonicalString(),increment:o.Ee};throw Te(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Y3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Te(27497)}(t,e.precondition)),n}function Z3(t,e){return t&&t.length>0?(ot(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?fi(i.updateTime):fi(s);return a.isEqual(Le.min())&&(a=fi(s)),new k3(a,i.transformResults||[])}(n,e))):[]}function J3(t,e){return{documents:[sR(t,e.path)]}}function e6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sR(t,i);const s=function(c){if(c.length!==0)return lR(vi.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:ao(f.field),direction:r6(f.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=_g(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function t6(t){let e=Q3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ot(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(m){const f=oR(m);return f instanceof vi&&V1(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(f=>function(_){return new Hd(oo(_.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(m){let f;return f=typeof m=="object"?m.value:m,Sf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(m){const f=!!m.before,g=m.values||[];return new Bd(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const f=!m.before,g=m.values||[];return new Bd(g,f)}(n.endAt)),b3(e,i,a,s,o,"F",l,c)}function n6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oo(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=oo(n.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=oo(n.unaryFilter.field);return rn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=oo(n.unaryFilter.field);return rn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(t):t.fieldFilter!==void 0?function(n){return rn.create(oo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vi.create(n.compositeFilter.filters.map(r=>oR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(t):Te(30097,{filter:t})}function r6(t){return q3[t]}function i6(t){return G3[t]}function s6(t){return $3[t]}function ao(t){return{fieldPath:t.canonicalString()}}function oo(t){return xn.fromServerFormat(t.fieldPath)}function lR(t){return t instanceof rn?function(n){if(n.op==="=="){if(Nw(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(Pw(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nw(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(Pw(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:i6(n.op),value:n.value}}}(t):t instanceof vi?function(n){const r=n.getFilters().map(i=>lR(i));return r.length===1?r[0]:{compositeFilter:{op:s6(n.op),filters:r}}}(t):Te(54877,{filter:t})}function a6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r,i,s=Le.min(),a=Le.min(),o=Rn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.gt=e}}function l6(t){const e=t6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.Dn=new c6}addToCollectionParentIndex(e,n){return this.Dn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Fs.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class c6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sn(wt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cR=41943040;class tr{static withCacheSize(e){return new tr(e,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(cR,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new el(0)}static ur(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="LruGarbageCollector",h6=1048576;function Zw([t,e],[n,r]){const i=Ue(t,n);return i===0?Ue(e,r):i}class d6{constructor(e){this.Tr=e,this.buffer=new sn(Zw),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Zw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class f6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){oe(Xw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bl(n)?oe(Xw,"Ignoring IndexedDB error during garbage collection: ",n):await yl(n)}await this.Rr(3e5)})}}class m6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(wf.ue);const r=new d6(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Ww)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ww):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,a,o,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,o=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),io()<=Ke.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${m} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function p6(t,e){return new m6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.changes=new Fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wu(r.mutation,i,vr.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ye()){const i=pa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Zl();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=pa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=$i();const a=Eu(),o=function(){return Eu()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ea)?s=s.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),wu(h.mutation,c,h.mutation.getFieldMask(),St.now())):a.set(c.key,vr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>{var m;return o.set(c,new v6(h,(m=a.get(c))!==null&&m!==void 0?m:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Eu();let i=new Ot((a,o)=>a-o),s=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||vr.empty();h=o.applyToLocalView(c,h),r.set(l,h);const m=(i.get(o.batchId)||Ye()).add(l);i=i.insert(o.batchId,m)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,m=G1();h.forEach(f=>{if(!s.has(f)){const g=X1(n.get(f),r.get(f));g!==null&&m.set(f,g),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,m))}return Y.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Y.resolve(pa());let o=Gu,l=s;return a.next(c=>Y.forEach(c,(h,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(h)?Y.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ye())).next(h=>({batchId:o,changes:q1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let i=Zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Zl();return this.indexManager.getCollectionParents(e,s).next(o=>Y.forEach(o,l=>{const c=function(m,f){return new Cf(f,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((m,f)=>{a=a.insert(m,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,Nn.newInvalidDocument(h)))});let o=Zl();return a.forEach((l,c)=>{const h=s.get(l);h!==void 0&&wu(h.mutation,c,vr.empty(),St.now()),Af(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fi(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:l6(i.bundledQuery),readTime:fi(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.overlays=new Ot(Ee.comparator),this.kr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pa();return Y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=pa(),s=n.length+1,a=new Ee(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ot((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=pa(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=pa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return Y.resolve(o)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new j3(n,r));let s=this.kr.get(n);s===void 0&&(s=Ye(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.qr=new sn(hn.Qr),this.$r=new sn(hn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new hn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ee(new wt([])),r=new hn(n,e),i=new hn(n,e+1),s=[];return this.$r.forEachInRange([r,i],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ee(new wt([])),r=new hn(n,e),i=new hn(n,e+1);let s=Ye();return this.$r.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new hn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ee.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new sn(hn.Qr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new U3(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Yr=this.Yr.add(new hn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Y.resolve(a)}lookupMutationBatch(e,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?cy:this.er-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),i=new hn(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],a=>{const o=this.Zr(a.Hr);s.push(o)}),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Ue);return n.forEach(i=>{const s=new hn(i,0),a=new hn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],o=>{r=r.add(o.Hr)})}),Y.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ee.isDocumentKey(s)||(s=s.child(""));const a=new hn(new Ee(s),0);let o=new sn(Ue);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Hr)),!0)},a),Y.resolve(this.ei(o))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ot(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Y.forEach(n.mutations,i=>{const s=new hn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new hn(n,0),i=this.Yr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.ni=e,this.docs=function(){return new Ot(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nn.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$i();const a=n.path,o=new Ee(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Xj(Wj(h),r)<=0||(i.has(h.key)||Af(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te(9500)}ri(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new T6(this)}getSize(e){return Y.resolve(this.size)}}class T6 extends g6{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.persistence=e,this.ii=new Fa(n=>fy(n),my),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.si=0,this.oi=new _y,this.targetCount=0,this._i=el.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Y.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new el(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.hr(n),Y.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Y.waitFor(s).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.ai={},this.overlays={},this.ui=new wf(0),this.ci=!1,this.ci=!0,this.li=new E6,this.referenceDelegate=e(this),this.hi=new C6(this),this.indexManager=new u6,this.remoteDocumentCache=function(i){return new S6(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new o6(n),this.Ti=new b6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new w6(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new x6(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return Y.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class x6 extends Jj{constructor(e){super(),this.currentSequenceNumber=e}}class Ey{constructor(e){this.persistence=e,this.Ai=new _y,this.Ri=null}static Vi(e){return new Ey(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,r=>{const i=Ee.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,Le.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Y.or([()=>Y.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Gd{constructor(e,n){this.persistence=e,this.gi=new Fa(r=>n3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=p6(this,n)}static Vi(e,n){return new Gd(e,n)}Ii(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Y.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?Y.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,a=>this.Sr(e,a,n).next(o=>{o||(r++,s.removeEntry(a,Le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Y.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nh(e.data.value)),n}Sr(e,n,r){return Y.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Ye(),i=Ye();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new wy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return i4()?8:e3(zn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new A6;return this.ws(e,n,a).next(o=>{if(s.result=o,this.Rs)return this.Ss(e,n,a,o.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(io()<=Ke.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(io()<=Ke.DEBUG&&oe("QueryEngine","Query:",so(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(io()<=Ke.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):Y.resolve())}ps(e,n){if(zw(n))return Y.resolve(null);let r=di(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bg(n,null,"F"),r=di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ye(...s);return this.gs.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,o);return this.Ds(n,c,a,l.readTime)?this.ps(e,bg(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,i){return zw(n)||i.isEqual(Le.min())?Y.resolve(null):this.gs.getDocuments(e,r).next(s=>{const a=this.bs(n,s);return this.Ds(n,a,r,i)?Y.resolve(null):(io()<=Ke.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),so(n)),this.vs(e,a,n,Qj(i,Gu)).next(o=>o))})}bs(e,n){let r=new sn(H1(e));return n.forEach((i,s)=>{Af(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return io()<=Ke.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",so(n)),this.gs.getDocumentsMatchingQuery(e,n,Fs.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="LocalStore",L6=3e8;class M6{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ot(Ue),this.Ms=new Fa(s=>fy(s),my),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y6(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function I6(t,e,n,r){return new M6(t,e,n,r)}async function dR(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Ye();for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:a,addedBatchIds:o}))})})}function O6(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const m=c.batch,f=m.keys();let g=Y.resolve();return f.forEach(_=>{g=g.next(()=>h.getEntry(l,_)).next(A=>{const T=c.docVersions.get(_);ot(T!==null,48541),A.version.compareTo(T)<0&&(m.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),h.addEntry(A)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Ye();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fR(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function D6(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const o=[];e.targetChanges.forEach((h,m)=>{const f=i.get(m);if(!f)return;o.push(n.hi.removeMatchingKeys(s,h.removedDocuments,m).next(()=>n.hi.addMatchingKeys(s,h.addedDocuments,m)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(Rn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(m,g),function(A,T,b){return A.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=L6?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,g,h)&&o.push(n.hi.updateTargetData(s,g))});let l=$i(),c=Ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(k6(s,a,e.documentUpdates).next(h=>{l=h.Ls,c=h.ks})),!r.isEqual(Le.min())){const h=n.hi.getLastRemoteSnapshotVersion(s).next(m=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(h)}return Y.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Fs=i,s))}function k6(t,e,n){let r=Ye(),i=Ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=$i();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Le.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):oe(Sy,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ls:a,ks:i}})}function P6(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function N6(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,Y.resolve(i)):n.hi.allocateTargetId(r).next(a=>(i=new Es(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Tg(t,e,n){const r=Ie(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!bl(a))throw a;oe(Sy,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function Jw(t,e,n){const r=Ie(t);let i=Le.min(),s=Ye();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const m=Ie(l),f=m.Ms.get(h);return f!==void 0?Y.resolve(m.Fs.get(f)):m.hi.getTargetData(c,h)}(r,a,di(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Le.min(),n?s:Ye())).next(o=>(V6(r,w3(e),o),{documents:o,qs:s})))}function V6(t,e,n){let r=t.xs.get(e)||Le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class eS{constructor(){this.activeTargetIds=R3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U6{constructor(){this.Fo=new eS,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new eS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="ConnectivityMonitor";class nS{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){oe(tS,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){oe(tS,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=null;function Cg(){return fh===null?fh=function(){return 268435456+Math.round(2147483648*Math.random())}():fh++,"0x"+fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="RestConnection",z6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B6{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===jd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const a=Cg(),o=this.Go(e,n.toUriEncodedString());oe($m,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(o),h=ml(c);return this.jo(e,o,l,r,h).then(m=>(oe($m,`Received RPC '${e}' ${a}: `,m),m),m=>{throw Bs($m,`RPC '${e}' ${a} failed with error: `,m,"url: ",o,"request:",r),m})}Jo(e,n,r,i,s,a){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=z6[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class F6 extends B6{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const a=Cg();return new Promise((o,l)=>{const c=new p1;c.setWithCredentials(!0),c.listenOnce(g1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ph.NO_ERROR:const m=c.getResponseJson();oe(kn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),o(m);break;case Ph.TIMEOUT:oe(kn,`RPC '${e}' ${a} timed out`),l(new be(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ph.HTTP_ERROR:const f=c.getStatus();if(oe(kn,`RPC '${e}' ${a} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const A=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(v)>=0?v:X.UNKNOWN}(_.status);l(new be(A,_.message))}else l(new be(X.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new be(X.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:a,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{oe(kn,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);oe(kn,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",h,r,15)})}P_(e,n,r){const i=Cg(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=b1(),o=y1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");oe(kn,`Creating RPC '${e}' stream ${i}: ${h}`,l);const m=a.createWebChannel(h,l);this.T_(m);let f=!1,g=!1;const _=new H6({Ho:T=>{g?oe(kn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(oe(kn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),f=!0),oe(kn,`RPC '${e}' stream ${i} sending:`,T),m.send(T))},Yo:()=>m.close()}),A=(T,b,v)=>{T.listen(b,C=>{try{v(C)}catch(R){setTimeout(()=>{throw R},0)}})};return A(m,Xl.EventType.OPEN,()=>{g||(oe(kn,`RPC '${e}' stream ${i} transport opened.`),_.s_())}),A(m,Xl.EventType.CLOSE,()=>{g||(g=!0,oe(kn,`RPC '${e}' stream ${i} transport closed`),_.__(),this.I_(m))}),A(m,Xl.EventType.ERROR,T=>{g||(g=!0,Bs(kn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),_.__(new be(X.UNAVAILABLE,"The operation could not be completed")))}),A(m,Xl.EventType.MESSAGE,T=>{var b;if(!g){const v=T.data[0];ot(!!v,16349);const C=v,R=(C==null?void 0:C.error)||((b=C[0])===null||b===void 0?void 0:b.error);if(R){oe(kn,`RPC '${e}' stream ${i} received error:`,R);const k=R.status;let L=function(w){const M=Gt[w];if(M!==void 0)return eR(M)}(k),S=R.message;L===void 0&&(L=X.INTERNAL,S="Unknown error status: "+k+" with message "+R.message),g=!0,_.__(new be(L,S)),m.close()}else oe(kn,`RPC '${e}' stream ${i} received:`,v),_.a_(v)}}),A(o,v1.STAT_EVENT,T=>{T.stat===fg.PROXY?oe(kn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===fg.NOPROXY&&oe(kn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.o_()},0),_}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){return new K3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="PersistentStream";class pR{constructor(e,n,r,i,s,a,o,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new mR(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new be(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return oe(rS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(oe(rS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q6 extends pR{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=W3(this.serializer,e),r=function(s){if(!("targetChange"in s))return Le.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Le.min():a.readTime?fi(a.readTime):Le.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Sg(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=yg(l)?{documents:J3(s,l)}:{query:e6(s,l).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=rR(s,a.resumeToken);const c=_g(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Le.min())>0){o.readTime=qd(s,a.snapshotVersion.toTimestamp());const c=_g(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=n6(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Sg(this.serializer),n.removeTarget=e,this.k_(n)}}class G6 extends pR{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Z3(e.writeResults,e.commitTime),r=fi(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Sg(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>X3(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{}class K6 extends $6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new be(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,Eg(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(X.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Jo(e,Eg(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(X.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Y6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Gi(n),this._a=!1):oe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="RemoteStore";class Q6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{r.enqueueAndForget(async()=>{qa(this)&&(oe(ka,"Restarting streams for network reachability change."),await async function(l){const c=Ie(l);c.Ia.add(4),await Ac(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Of(c)}(this))})}),this.Aa=new Y6(r,i)}}async function Of(t){if(qa(t))for(const e of t.da)await e(!0)}async function Ac(t){for(const e of t.da)await e(!1)}function gR(t,e){const n=Ie(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Ay(n)?xy(n):_l(n).x_()&&Cy(n,e))}function Ty(t,e){const n=Ie(t),r=_l(n);n.Ta.delete(e),r.x_()&&vR(n,e),n.Ta.size===0&&(r.x_()?r.B_():qa(n)&&n.Aa.set("Unknown"))}function Cy(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).H_(e)}function vR(t,e){t.Ra.$e(e),_l(t).Y_(e)}function xy(t){t.Ra=new F3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.Aa.aa()}function Ay(t){return qa(t)&&!_l(t).M_()&&t.Ta.size>0}function qa(t){return Ie(t).Ia.size===0}function yR(t){t.Ra=void 0}async function W6(t){t.Aa.set("Online")}async function X6(t){t.Ta.forEach((e,n)=>{Cy(t,e)})}async function Z6(t,e){yR(t),Ay(t)?(t.Aa.la(e),xy(t)):t.Aa.set("Unknown")}async function J6(t,e,n){if(t.Aa.set("Online"),e instanceof nR&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ta.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ta.delete(o),i.Ra.removeTarget(o))}(t,e)}catch(r){oe(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $d(t,r)}else if(e instanceof jh?t.Ra.Ye(e):e instanceof tR?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Le.min()))try{const r=await fR(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Ra.Pt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ta.get(c);h&&s.Ta.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=s.Ta.get(l);if(!h)return;s.Ta.set(l,h.withResumeToken(Rn.EMPTY_BYTE_STRING,h.snapshotVersion)),vR(s,l);const m=new Es(h.target,l,c,h.sequenceNumber);Cy(s,m)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){oe(ka,"Failed to raise snapshot:",r),await $d(t,r)}}async function $d(t,e,n){if(!bl(e))throw e;t.Ia.add(1),await Ac(t),t.Aa.set("Offline"),n||(n=()=>fR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe(ka,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Of(t)})}function bR(t,e){return e().catch(n=>$d(t,n,e))}async function Df(t){const e=Ie(t),n=Ks(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:cy;for(;e9(e);)try{const i=await P6(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,t9(e,i)}catch(i){await $d(e,i)}_R(e)&&ER(e)}function e9(t){return qa(t)&&t.Pa.length<10}function t9(t,e){t.Pa.push(e);const n=Ks(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function _R(t){return qa(t)&&!Ks(t).M_()&&t.Pa.length>0}function ER(t){Ks(t).start()}async function n9(t){Ks(t).na()}async function r9(t){const e=Ks(t);for(const n of t.Pa)e.X_(n.mutations)}async function i9(t,e,n){const r=t.Pa.shift(),i=vy.from(r,e,n);await bR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Df(t)}async function s9(t,e){e&&Ks(t).Z_&&await async function(r,i){if(function(a){return B3(a)&&a!==X.ABORTED}(i.code)){const s=r.Pa.shift();Ks(r).N_(),await bR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Df(r)}}(t,e),_R(t)&&ER(t)}async function iS(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),oe(ka,"RemoteStore received new credentials");const r=qa(n);n.Ia.add(3),await Ac(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Of(n)}async function a9(t,e){const n=Ie(t);e?(n.Ia.delete(2),await Of(n)):e||(n.Ia.add(2),await Ac(n),n.Aa.set("Unknown"))}function _l(t){return t.Va||(t.Va=function(n,r,i){const s=Ie(n);return s.ia(),new q6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:W6.bind(null,t),e_:X6.bind(null,t),n_:Z6.bind(null,t),J_:J6.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Ay(t)?xy(t):t.Aa.set("Unknown")):(await t.Va.stop(),yR(t))})),t.Va}function Ks(t){return t.ma||(t.ma=function(n,r,i){const s=Ie(n);return s.ia(),new G6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:n9.bind(null,t),n_:s9.bind(null,t),ea:r9.bind(null,t),ta:i9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Df(t)):(await t.ma.stop(),t.Pa.length>0&&(oe(ka,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new Ry(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ly(t,e){if(Gi("AsyncQueue",`${e}: ${t}`),bl(t))return new be(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.fa=new Ot(Ee.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Te(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class tl{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new tl(e,n,No.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class l9{constructor(){this.queries=aS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Ie(n),s=i.queries;i.queries=aS(),s.forEach((a,o)=>{for(const l of o.wa)l.onError(r)})})(this,new be(X.ABORTED,"Firestore shutting down"))}}function aS(){return new Fa(t=>B1(t),xf)}async function u9(t,e){const n=Ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new o9,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Ly(a,`Initialization of query '${so(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&My(n)}async function c9(t,e){const n=Ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function h9(t,e){const n=Ie(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.wa)o.Ca(i)&&(r=!0);a.ya=i}}r&&My(n)}function d9(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function My(t){t.Da.forEach(e=>{e.next()})}var xg,oS;(oS=xg||(xg={})).Fa="default",oS.Cache="cache";class f9{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==xg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.key=e}}class SR{constructor(e){this.key=e}}class m9{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ye(),this.mutatedKeys=Ye(),this.Xa=H1(e),this.eu=new No(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new sS,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const f=i.get(h),g=Af(this.query,m)?m:null,_=!!f&&this.mutatedKeys.has(f.key),A=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;f&&g?f.data.isEqual(g.data)?_!==A&&(r.track({type:3,doc:g}),T=!0):this.iu(f,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.Xa(g,l)>0||c&&this.Xa(g,c)<0)&&(o=!0)):!f&&g?(r.track({type:0,doc:g}),T=!0):f&&!g&&(r.track({type:1,doc:f}),T=!0,(l||c)&&(o=!0)),T&&(g?(a=a.add(g),s=A?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{eu:a,ru:r,Ds:o,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((h,m)=>function(g,_){const A=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:T})}};return A(g)-A(_)}(h.type,m.type)||this.Xa(h.doc,m.doc)),this.su(r),i=i!=null&&i;const o=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,a.length!==0||c?{snapshot:new tl(this.query,e.eu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new sS,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ye(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new SR(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new wR(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ye();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return tl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Iy="SyncEngine";class p9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class g9{constructor(e){this.key=e,this.lu=!1}}class v9{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new Fa(o=>B1(o),xf),this.Tu=new Map,this.Iu=new Set,this.du=new Ot(Ee.comparator),this.Eu=new Map,this.Au=new _y,this.Ru={},this.Vu=new Map,this.mu=el.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function y9(t,e,n=!0){const r=LR(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await TR(r,e,n,!0),i}async function b9(t,e){const n=LR(t);await TR(n,e,!0,!1)}async function TR(t,e,n,r){const i=await N6(t.localStore,di(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await _9(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&gR(t.remoteStore,i),o}async function _9(t,e,n,r,i){t.gu=(m,f,g)=>async function(A,T,b,v){let C=T.view.nu(b);C.Ds&&(C=await Jw(A.localStore,T.query,!1).then(({documents:S})=>T.view.nu(S,C)));const R=v&&v.targetChanges.get(T.targetId),k=v&&v.targetMismatches.get(T.targetId)!=null,L=T.view.applyChanges(C,A.isPrimaryClient,R,k);return uS(A,T.targetId,L._u),L.snapshot}(t,m,f,g);const s=await Jw(t.localStore,e,!0),a=new m9(e,s.qs),o=a.nu(s.documents),l=xc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);uS(t,n,c._u);const h=new p9(e,n,a);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function E9(t,e,n){const r=Ie(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(a=>!xf(a,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Tg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ty(r.remoteStore,i.targetId),Ag(r,i.targetId)}).catch(yl)):(Ag(r,i.targetId),await Tg(r.localStore,i.targetId,!0))}async function w9(t,e){const n=Ie(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ty(n.remoteStore,r.targetId))}async function S9(t,e,n){const r=M9(t);try{const i=await function(a,o){const l=Ie(a),c=St.now(),h=o.reduce((g,_)=>g.add(_.key),Ye());let m,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=$i(),A=Ye();return l.Os.getEntries(g,h).next(T=>{_=T,_.forEach((b,v)=>{v.isValidDocument()||(A=A.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(T=>{m=T;const b=[];for(const v of o){const C=N3(v,m.get(v.key).overlayedDocument);C!=null&&b.push(new ea(v.key,C,k1(C.value.mapValue),Wr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,b,o)}).next(T=>{f=T;const b=T.applyToLocalDocumentSet(m,A);return l.documentOverlayCache.saveOverlays(g,T.batchId,b)})}).then(()=>({batchId:f.batchId,changes:q1(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Ru[a.currentUser.toKey()];c||(c=new Ot(Ue)),c=c.insert(o,l),a.Ru[a.currentUser.toKey()]=c}(r,i.batchId,n),await Rc(r,i.changes),await Df(r.remoteStore)}catch(i){const s=Ly(i,"Failed to persist write");n.reject(s)}}async function CR(t,e){const n=Ie(t);try{const r=await D6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Eu.get(s);a&&(ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.lu=!0:i.modifiedDocuments.size>0?ot(a.lu,14607):i.removedDocuments.size>0&&(ot(a.lu,42227),a.lu=!1))}),await Rc(n,r,e)}catch(r){await yl(r)}}function lS(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Ie(a);l.onlineState=o;let c=!1;l.queries.forEach((h,m)=>{for(const f of m.wa)f.va(o)&&(c=!0)}),c&&My(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T9(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let a=new Ot(Ee.comparator);a=a.insert(s,Nn.newNoDocument(s,Le.min()));const o=Ye().add(s),l=new Mf(Le.min(),new Map,new Ot(Ue),a,o);await CR(r,l),r.du=r.du.remove(s),r.Eu.delete(e),Oy(r)}else await Tg(r.localStore,e,!1).then(()=>Ag(r,e,n)).catch(yl)}async function C9(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await O6(n.localStore,e);AR(n,r,null),xR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rc(n,i)}catch(i){await yl(i)}}async function x9(t,e,n){const r=Ie(t);try{const i=await function(a,o){const l=Ie(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(m=>(ot(m!==null,37113),h=m.keys(),l.mutationQueue.removeMutationBatch(c,m))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);AR(r,e,n),xR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rc(r,i)}catch(i){await yl(i)}}function xR(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function AR(t,e,n){const r=Ie(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||RR(t,r)})}function RR(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ty(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Oy(t))}function uS(t,e,n){for(const r of n)r instanceof wR?(t.Au.addReference(r.key,e),A9(t,r)):r instanceof SR?(oe(Iy,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||RR(t,r.key)):Te(19791,{yu:r})}function A9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(oe(Iy,"New document in limbo: "+n),t.Iu.add(r),Oy(t))}function Oy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ee(wt.fromString(e)),r=t.mu.next();t.Eu.set(r,new g9(n)),t.du=t.du.insert(n,r),gR(t.remoteStore,new Es(di(py(n.path)),r,"TargetPurposeLimboResolution",wf.ue))}}async function Rc(t,e,n){const r=Ie(t),i=[],s=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((o,l)=>{a.push(r.gu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(c){i.push(c);const m=wy.Es(l.targetId,c);s.push(m)}}))}),await Promise.all(a),r.hu.J_(i),await async function(l,c){const h=Ie(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Y.forEach(c,f=>Y.forEach(f.Is,g=>h.persistence.referenceDelegate.addReference(m,f.targetId,g)).next(()=>Y.forEach(f.ds,g=>h.persistence.referenceDelegate.removeReference(m,f.targetId,g)))))}catch(m){if(!bl(m))throw m;oe(Sy,"Failed to update sequence numbers: "+m)}for(const m of c){const f=m.targetId;if(!m.fromCache){const g=h.Fs.get(f),_=g.snapshotVersion,A=g.withLastLimboFreeSnapshotVersion(_);h.Fs=h.Fs.insert(f,A)}}}(r.localStore,s))}async function R9(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){oe(Iy,"User change. New user:",e.toKey());const r=await dR(n.localStore,e);n.currentUser=e,function(s,a){s.Vu.forEach(o=>{o.forEach(l=>{l.reject(new be(X.CANCELLED,a))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rc(n,r.Bs)}}function L9(t,e){const n=Ie(t),r=n.Eu.get(e);if(r&&r.lu)return Ye().add(r.key);{let i=Ye();const s=n.Tu.get(e);if(!s)return i;for(const a of s){const o=n.Pu.get(a);i=i.unionWith(o.view.tu)}return i}}function LR(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T9.bind(null,e),e.hu.J_=h9.bind(null,e.eventManager),e.hu.pu=d9.bind(null,e.eventManager),e}function M9(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x9.bind(null,e),e}class Kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return I6(this.persistence,new R6,e.initialUser,this.serializer)}Du(e){return new hR(Ey.Vi,this.serializer)}bu(e){return new U6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kd.provider={build:()=>new Kd};class I9 extends Kd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ot(this.persistence.referenceDelegate instanceof Gd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new f6(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?tr.withCacheSize(this.cacheSizeBytes):tr.DEFAULT;return new hR(r=>Gd.Vi(r,n),this.serializer)}}class Rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R9.bind(null,this.syncEngine),await a9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l9}()}createDatastore(e){const n=If(e.databaseInfo.databaseId),r=function(s){return new F6(s)}(e.databaseInfo);return function(s,a,o,l){return new K6(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new Q6(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>lS(this.syncEngine,n,0),function(){return nS.C()?new nS:new j6}())}createSyncEngine(e,n){return function(i,s,a,o,l,c,h){const m=new v9(i,s,a,o,l,c);return h&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ie(i);oe(ka,"RemoteStore shutting down."),s.Ia.add(5),await Ac(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class D9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pn.UNAUTHENTICATED,this.clientId=ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{oe(Ys,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(oe(Ys,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ly(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ym(t,e){t.asyncQueue.verifyOperationInProgress(),oe(Ys,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Bs("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{oe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Bs("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function cS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await k9(t);oe(Ys,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>iS(e.remoteStore,i)),t._onlineComponents=e}async function k9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe(Ys,"Using user provided OfflineComponentProvider");try{await Ym(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),await Ym(t,new Kd)}}else oe(Ys,"Using default OfflineComponentProvider"),await Ym(t,new I9(void 0));return t._offlineComponents}async function MR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe(Ys,"Using user provided OnlineComponentProvider"),await cS(t,t._uninitializedComponentsProvider._online)):(oe(Ys,"Using default OnlineComponentProvider"),await cS(t,new Rg))),t._onlineComponents}function P9(t){return MR(t).then(e=>e.syncEngine)}async function N9(t){const e=await MR(t),n=e.eventManager;return n.onListen=y9.bind(null,e.syncEngine),n.onUnlisten=E9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w9.bind(null,e.syncEngine),n}function V9(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const h=new O9({next:f=>{h.Ou(),a.enqueueAndForget(()=>c9(s,m));const g=f.docs.has(o);!g&&f.fromCache?c.reject(new be(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new be(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),m=new f9(py(o.path),h,{includeMetadataChanges:!0,ka:!0});return u9(s,m)}(await N9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="firestore.googleapis.com",dS=!0;class fS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OR,this.ssl=dS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:dS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h6)throw new be(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Yj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jj;switch(r.type){case"firstParty":return new Fj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hS.get(n);r&&(oe("ComponentProvider","Removing Datastore"),hS.delete(n),r.terminate())}(this),Promise.resolve()}}function U9(t,e,n,r={}){var i;t=Hs(t,kf);const s=ml(e),a=t._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(AA(`https://${l}`),RA("Firestore",!0)),a.host!==OR&&a.host!==l&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!La(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Pn.MOCK_USER;else{h=Q2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new be(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Pn(f)}t._authCredentials=new zj(new E1(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dy(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tc(n,Yt._jsonSchema))return new Yt(e,r||null,new Ee(wt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Kt("string",Yt._jsonSchemaVersion),referencePath:Kt("string")};class Ps extends Dy{constructor(e,n,r){super(e,n,py(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Ee(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function j9(t,e,...n){if(t=gn(t),S1("collection","path",e),t instanceof kf){const r=wt.fromString(e,...n);return Aw(r),new Ps(t,null,r)}{if(!(t instanceof Yt||t instanceof Ps))throw new be(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return Aw(r),new Ps(t.firestore,null,r)}}function nl(t,e,...n){if(t=gn(t),arguments.length===1&&(e=ly.newId()),S1("doc","path",e),t instanceof kf){const r=wt.fromString(e,...n);return xw(r),new Yt(t,null,new Ee(r))}{if(!(t instanceof Yt||t instanceof Ps))throw new be(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return xw(r),new Yt(t.firestore,t instanceof Ps?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="AsyncQueue";class pS{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new mR(this,"async_queue_retry"),this.oc=()=>{const r=Km();r&&oe(mS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ks;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!bl(e))throw e;oe(mS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Gi("INTERNAL UNHANDLED ERROR: ",gS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Ry.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Te(47125,{hc:gS(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function gS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Lc extends kf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pS(e),this._firestoreClient=void 0,await e}}}function z9(t,e){const n=typeof t=="object"?t:Wv(),r=typeof t=="string"?t:jd,i=Qv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=K2("firestore");s&&U9(i,...s)}return i}function DR(t){if(t._terminated)throw new be(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B9(t),t._firestoreClient}function B9(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,c,h){return new s3(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,IR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new D9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kr(Rn.fromBase64String(e))}catch(n){throw new be(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kr(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tc(e,kr._jsonSchema))return kr.fromBase64String(e.bytes)}}kr._jsonSchemaVersion="firestore/bytes/1.0",kr._jsonSchema={type:Kt("string",kr._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mi._jsonSchemaVersion}}static fromJSON(e){if(Tc(e,mi._jsonSchema))return new mi(e.latitude,e.longitude)}}mi._jsonSchemaVersion="firestore/geoPoint/1.0",mi._jsonSchema={type:Kt("string",mi._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tc(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new pi(e.vectorValues);throw new be(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Kt("string",pi._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=/^__.*__$/;class F9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}class kR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:t})}}class ky{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ky(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Yd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(PR(this.Ec)&&H9.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class q9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||If(e)}Dc(e,n,r,i=!1){return new ky({Ec:e,methodName:n,bc:r,path:xn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Py(t){const e=t._freezeSettings(),n=If(t._databaseId);return new q9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NR(t,e,n,r,i,s={}){const a=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);Vy("Data must be an object, but it was:",a,r);const o=VR(r,a);let l,c;if(s.merge)l=new vr(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const f=Lg(e,m,n);if(!a.contains(f))throw new be(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);jR(h,f)||h.push(f)}l=new vr(h),c=a.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=a.fieldTransforms;return new F9(new nr(o),l,c)}class Vf extends Nf{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}class Ny extends Nf{_toFieldTransform(e){return new O3(e.path,new Qu)}isEqual(e){return e instanceof Ny}}function G9(t,e,n,r){const i=t.Dc(1,e,n);Vy("Data must be an object, but it was:",i,r);const s=[],a=nr.empty();Js(r,(l,c)=>{const h=Uy(e,l,n);c=gn(c);const m=i.gc(h);if(c instanceof Vf)s.push(h);else{const f=Uf(c,m);f!=null&&(s.push(h),a.set(h,f))}});const o=new vr(s);return new kR(a,o,i.fieldTransforms)}function $9(t,e,n,r,i,s){const a=t.Dc(1,e,n),o=[Lg(e,r,n)],l=[i];if(s.length%2!=0)throw new be(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)o.push(Lg(e,s[f])),l.push(s[f+1]);const c=[],h=nr.empty();for(let f=o.length-1;f>=0;--f)if(!jR(c,o[f])){const g=o[f];let _=l[f];_=gn(_);const A=a.gc(g);if(_ instanceof Vf)c.push(g);else{const T=Uf(_,A);T!=null&&(c.push(g),h.set(g,T))}}const m=new vr(c);return new kR(h,m,a.fieldTransforms)}function Uf(t,e){if(UR(t=gn(t)))return Vy("Unsupported field value:",e,t),VR(t,e);if(t instanceof Nf)return function(r,i){if(!PR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=Uf(o,i.yc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=St.fromDate(r);return{timestampValue:qd(i.serializer,s)}}if(r instanceof St){const s=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qd(i.serializer,s)}}if(r instanceof mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kr)return{bytesValue:rR(i.serializer,r._byteString)};if(r instanceof Yt){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:by(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pi)return function(a,o){return{mapValue:{fields:{[O1]:{stringValue:D1},[zd]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.wc("VectorValues must only contain numeric values.");return gy(o.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${uy(r)}`)}(t,e)}function VR(t,e){const n={};return x1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(t,(r,i)=>{const s=Uf(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function UR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof mi||t instanceof kr||t instanceof Yt||t instanceof Nf||t instanceof pi)}function Vy(t,e,n){if(!UR(n)||!T1(n)){const r=uy(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Lg(t,e,n){if((e=gn(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return Uy(t,e);throw Yd("Field path arguments must be of type string or ",t,!1,void 0,n)}const K9=new RegExp("[~\\*/\\[\\]]");function Uy(t,e,n){if(e.search(K9)>=0)throw Yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pf(...e.split("."))._internalPath}catch{throw Yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yd(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new be(X.INVALID_ARGUMENT,o+t+l)}function jR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(BR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Y9 extends zR{data(){return super.data()}}function BR(t,e){return typeof e=="string"?Uy(t,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}class Q9{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Js(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[zd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Ht(a.doubleValue));return new pi(s)}convertGeoPoint(e){return new mi(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=qs(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);ot(uR(r),9688,{name:e});const i=new Ku(r.get(1),r.get(3)),s=new Ee(r.popFirst(5));return i.isEqual(n)||Gi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sa extends zR{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(BR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sa._jsonSchema={type:Kt("string",Sa._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class zh extends Sa{data(e={}){return super.data(e)}}class Su{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new eu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zh(this._firestore,this._userDataWriter,r.key,r,new eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new zh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new eu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new zh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new eu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:W9(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Su._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ly.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function W9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){t=Hs(t,Yt);const e=Hs(t.firestore,Lc);return V9(DR(e),t._key).then(n=>tz(e,t,n))}Su._jsonSchemaVersion="firestore/querySnapshot/1.0",Su._jsonSchema={type:Kt("string",Su._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class X9 extends Q9{constructor(e){super(),this.firestore=e}convertBytes(e){return new kr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function Z9(t,e,n){t=Hs(t,Yt);const r=Hs(t.firestore,Lc),i=HR(t.converter,e,n);return zy(r,[NR(Py(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wr.none())])}function J9(t,e,n,...r){t=Hs(t,Yt);const i=Hs(t.firestore,Lc),s=Py(i);let a;return a=typeof(e=gn(e))=="string"||e instanceof Pf?$9(s,"updateDoc",t._key,e,n,r):G9(s,"updateDoc",t._key,e),zy(i,[a.toMutation(t._key,Wr.exists(!0))])}function ez(t,e){const n=Hs(t.firestore,Lc),r=nl(t),i=HR(t.converter,e);return zy(n,[NR(Py(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}function zy(t,e){return function(r,i){const s=new ks;return r.asyncQueue.enqueueAndForget(async()=>S9(await P9(r),i,s)),s.promise}(DR(t),e)}function tz(t,e,n){const r=n.docs.get(e._key),i=new X9(t);return new Sa(t,i,e._key,r,new eu(n.hasPendingWrites,n.fromCache),e.converter)}function nz(){return new Ny("serverTimestamp")}(function(e,n=!0){(function(i){vl=i})(pl),Qo(new Ma("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Lc(new Bj(r.getProvider("auth-internal")),new qj(a,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new be(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(c.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Os(Ew,ww,e),Os(Ew,ww,"esm2017")})();const rz={apiKey:"AIzaSyCYbB3_c5GEync02de8o98_DAR-UCXIrj0",authDomain:"invitation-app-cd62c.firebaseapp.com",projectId:"invitation-app-cd62c",storageBucket:"invitation-app-cd62c.firebasestorage.app",messagingSenderId:"908091091264",appId:"1:908091091264:web:4c7d0763552a83155d32a5",measurementId:"G-H4NCQ8JQX4"},FR=dV().length?Wv():IA(rz),pr=Vj(FR),rl=z9(FR);function iz(){const[t,e]=d.useState(""),n=za(),r=gc(),i=ei(),[s,a]=d.useState(pr.currentUser),[o,l]=d.useState(!1),[c,h]=d.useState(!1),[m,f]=d.useState(null);d.useEffect(()=>{const A=iy(pr,T=>{a(T),l(!0)});return()=>A()},[]);const g=d.useMemo(()=>s?s.displayName?s.displayName:s.email?s.email.split("@")[0]:null:null,[s]),_=async()=>{var T;f(null);const A=((T=n.eventName)==null?void 0:T.trim())??"";if(!A){f("Give your event a name before saving.");return}if(!s){f("Create a host username and password before saving. Each invitation uses its own login.");return}h(!0);try{const v={...Object.fromEntries(Object.entries(n).filter(([R,k])=>typeof k!="function")),eventName:A,hostUid:s.uid,hostUsername:g,hostEmail:s.email,customMessage:t,timestamp:new Date},C=await ez(j9(rl,"invites"),v);await Pd(pr).catch(()=>{}),r(`/guest/${C.id}`)}catch(b){console.error("Error saving invite:",b),f("We couldn't save this invite. Please try again.")}finally{h(!1)}};return x.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-4",children:[x.jsx("h1",{className:"text-2xl font-bold",children:" Review & Confirm"}),x.jsx("textarea",{placeholder:"Leave a message for your guests...",value:t,onChange:A=>e(A.target.value),className:"w-full border rounded-lg px-3 py-2"}),m&&x.jsx("div",{className:"text-sm text-red-600",children:m}),x.jsx(De,{onClick:_,disabled:c||!o,children:c?"Saving...":"Confirm & Generate Link"}),x.jsx("br",{})," ",x.jsx("br",{}),x.jsx("p",{className:"text-sm text-gray-500",children:s?`Signed in as ${g??"your host account"}. Finishing will sign you out.`:"Need a host login? Create a new username and password for this invite."}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(De,{to:`/hostLogIn?redirect=${encodeURIComponent(i.pathname)}`,children:s?"Switch host login":"Log in as a Host"}),x.jsx(De,{to:"/",children:"Home"})]})]})}function sz(){const{inviteId:t}=kx();ei();const[e,n]=d.useState(null),[r,i]=d.useState(null),[s,a]=d.useState(0);d.useEffect(()=>{(async()=>{if(!t)return;const m=await jy(nl(rl,"invites",t));m.exists()&&n(m.data())})()},[t]);const o=window.location.href,l=t?`/host/events/${t}`:"/host/events",c=`/hostLogIn?redirect=${encodeURIComponent(l)}`;return x.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-4",children:[x.jsx("h1",{className:"text-2xl font-bold",children:(e==null?void 0:e.eventName)||"You're Invited!"}),e?x.jsxs(x.Fragment,{children:[e.eventType.length!==0?x.jsxs("p",{children:[x.jsx("strong",{children:"Type:"})," ",e.eventType.join(", ")]}):x.jsxs("p",{children:[x.jsx("strong",{children:"Type:"})," No type specified"]}),e.theme.length!==0?x.jsxs("p",{children:[x.jsx("strong",{children:"Theme:"})," ",e.theme.join(", ")]}):x.jsxs("p",{children:[x.jsx("strong",{children:"Theme:"})," No theme specified"]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Time:"})," "," ",e.date,", ",e.startTime," - ",e.endTime]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Location:"})," ",e.location]}),e.location&&x.jsx("div",{className:"mt-3 rounded-xl overflow-hidden border border-gray-200",children:x.jsx("iframe",{title:"Event location map",src:`https://maps.google.com/maps?q=${encodeURIComponent(e.location)}&z=15&output=embed`,width:"100%",height:"200",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"border-0",allowFullScreen:!0})}),e.customMessage&&x.jsxs("p",{className:"italic",children:[" ",e.customMessage]}),x.jsx("hr",{}),x.jsx("p",{className:"text-sm text-gray-500",children:"Link to this invite:"}),x.jsx("input",{readOnly:!0,value:o,className:"w-full border rounded-lg px-3 py-1"}),x.jsx(De,{onClick:()=>navigator.clipboard.writeText(o),children:"Copy Link "}),x.jsx("hr",{}),x.jsx("p",{children:x.jsx("strong",{children:"Are you attending?"})}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(De,{onClick:()=>i("yes"),children:"Yes"}),x.jsx(De,{onClick:()=>i("no"),children:"No"})]}),r==="yes"&&x.jsxs(x.Fragment,{children:[x.jsx("p",{children:"Bringing people?"}),x.jsx(De,{onClick:()=>a(1),children:" +1"})]})]}):x.jsx("p",{children:"Loading invitation..."}),x.jsx("div",{className:"fixed top-6 right-6 flex gap-2",children:x.jsx(De,{to:c,children:"Log in"})})]})}const az=/^[a-z0-9._-]{3,30}$/,qR="hosts.viva-invite.app",vS=t=>t.trim().toLowerCase(),oz=t=>`${t}@${qR}`;function lz(t){const e=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random()}`;return`${t}+${e}@${qR}`}function uz(){var M;const t=gc(),e=ei(),n=d.useMemo(()=>new URLSearchParams(e.search).get("redirect")||"/confirm",[e.search]),r=d.useMemo(()=>{const I=/^\/host\/events\/([^/?#]+)/.exec(n);return I?I[1]:null},[n]),[i,s]=d.useState(""),[a,o]=d.useState(""),[l,c]=d.useState(!1),[h,m]=d.useState(null),[f,g]=d.useState(pr.currentUser),[_,A]=d.useState(!0),[T,b]=d.useState(null),[v,C]=d.useState(null),[R,k]=d.useState(null),[L,S]=d.useState(!1);d.useEffect(()=>{const I=iy(pr,P=>{g(P),A(!1)});return()=>I()},[]),d.useEffect(()=>{r&&f&&R&&f.uid===R&&t(n,{replace:!0})},[r,f,R,t,n]),d.useEffect(()=>{if(!r){b(null),C(null);return}S(!0),m(null),jy(nl(rl,"invites",r)).then(I=>{if(!I.exists())throw new Error("Invite not found.");const P=I.data();b(P.hostUsername??null),C(P.hostEmail??null),k(P.hostUid??null),P.hostUsername&&s(D=>D||P.hostUsername||"")}).catch(I=>{m(I.message??"Unable to load invite details.")}).finally(()=>S(!1))},[r]);const E=async()=>{c(!0),m(null);try{await Pd(pr)}catch{m("Failed to sign out. Please try again.")}finally{c(!1)}},w=async I=>{if(m(null),L){m("Still loading event details. Please wait a moment.");return}const P=vS(i);if(!P||!a){m("Please enter both username and password.");return}if(!az.test(P)){m("Usernames must be 3-30 characters using letters, numbers, dots, underscores, or dashes.");return}c(!0);try{if(I==="signIn")if(r){if(T&&vS(T)!==P)throw new Vr("auth/invalid-credential","Username does not match this invitation.");if(!v)throw new Vr("auth/missing-email","Host email not found for this invite.");await cw(pr,v,a)}else await cw(pr,oz(P),a);else{const D=lz(P),Z=(await wU(pr,D,a)).user;Z&&await Promise.all([TU(Z,{displayName:P}).catch(()=>{}),Z9(nl(rl,"hosts",Z.uid),{username:P,email:D,createdAt:nz()},{merge:!0})])}t(n,{replace:!0})}catch(D){let K="Unexpected error. Please try again.";if(D instanceof Vr){switch(D.code){case"auth/user-not-found":K="Username doesn't exist, please create an account.";break;case"auth/wrong-password":case"auth/invalid-credential":K="Username or password is incorrect.";break;case"auth/email-already-in-use":K="That username is already taken. Try a different one.";break;case"auth/missing-email":K="We couldn't find host login details for this invite.";break;case"auth/weak-password":K="Password must be at least 6 characters long.";break;case"auth/too-many-requests":K="Too many attempts. Please wait and try again.";break;case"auth/operation-not-allowed":K="Email/password sign-in is disabled for this project. Enable it in Firebase Authentication settings.";break}D.code==="auth/invalid-credential"&&r&&(K="Username or password is incorrect for this invite.")}m(K)}finally{c(!1)}};if(_||r&&L)return x.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-5",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"Host Log In"}),x.jsx("p",{className:"text-sm text-gray-600",children:r?"Loading event access":"Checking your session"})]});if(f){const I=f.displayName||((M=f.email)==null?void 0:M.split("@")[0])||"host",P=!!r,D=P&&r?`/host/events/${r}`:n;return x.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-5",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"You're already signed in"}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Signed in as ",x.jsx("strong",{children:I}),"."," ",P?"This invite is linked to a different host login. Sign out to switch accounts.":"Each invitation uses its own username and passwordcontinue where you left off, or sign out to start a new one."]}),h&&x.jsx("div",{className:"text-sm text-red-600",children:h}),x.jsxs("div",{className:"flex flex-col gap-3 pt-1",children:[x.jsx(De,{type:"button",onClick:()=>t(D,{replace:!0}),disabled:l,children:"Return to your invite"}),x.jsx(De,{type:"button",onClick:E,disabled:l,children:l?"Signing out...":"Sign out to create a new invite"})]})]})}return x.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-5",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"Host Log In"}),x.jsx("p",{className:"text-sm text-gray-600",children:r&&T?x.jsxs(x.Fragment,{children:["Enter the ",x.jsx("strong",{children:T})," host username and its password to manage this invite."]}):x.jsxs(x.Fragment,{children:["Choose a ",x.jsx("strong",{children:"username"})," and ",x.jsx("strong",{children:"password"})," for this invitation. Usernames can be reused on other inviteswell keep them unique for this event."]})}),x.jsxs("form",{onSubmit:I=>{I.preventDefault()},className:"space-y-3",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"block text-sm font-medium",children:"Username"}),x.jsx("input",{className:"w-full border rounded-lg px-3 py-2",placeholder:"username",value:i,onChange:I=>s(I.target.value),autoComplete:"username",disabled:l,required:!0})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"block text-sm font-medium",children:"Password"}),x.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"password",placeholder:"",value:a,onChange:I=>o(I.target.value),autoComplete:"new-password",disabled:l,required:!0,minLength:6})]}),h&&x.jsx("div",{className:"text-sm text-red-600",children:h}),x.jsxs("div",{className:"flex flex-col gap-3 pt-1",children:[x.jsx(De,{type:"button",onClick:()=>w("signIn"),disabled:l,children:l?"Checking...":r?"Open invite":"Log In"}),!r&&x.jsx(De,{type:"button",onClick:()=>w("signUp"),disabled:l,children:l?"Creating...":"Create Account"})]})]}),x.jsx("p",{className:"text-xs text-gray-500",children:r?"Need to switch hosts? Sign out first, then log back in with the correct username.":"Tip: you can reuse a username on another inviteeach one is isolated."})]})}/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),yS=t=>{const e=hz(t);return e.charAt(0).toUpperCase()+e.slice(1)},GR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=d.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>d.createElement("svg",{ref:l,...dz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:GR("lucide",i),...o},[...a.map(([c,h])=>d.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=(t,e)=>{const n=d.forwardRef(({className:r,...i},s)=>d.createElement(fz,{ref:s,iconNode:e,className:GR(`lucide-${cz(yS(t))}`,`lucide-${t}`,r),...i}));return n.displayName=yS(t),n};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pz=Ga("calendar",mz);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vz=Ga("eye",gz);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],bz=Ga("list-checks",yz);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bS=Ga("map-pin",_z);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],mh=Ga("pencil",Ez);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sz=Ga("plus",wz);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],_S=Ga("users",Tz),Cz=[{id:"event-name",label:"Edit event name",to:"/eventName"},{id:"date-time",label:"Edit date & time",to:"/dateTime"},{id:"location",label:"Edit location",to:"/location"},{id:"invitees",label:"Manage invitees",to:"/invitee"},{id:"activities",label:"Edit activities",to:"/activity"}];function xz(){var W,ae;const{inviteId:t}=kx(),e=gc(),[n,r]=d.useState(pr.currentUser),[i,s]=d.useState(!1),[a,o]=d.useState(!0),[l,c]=d.useState(null),[h,m]=d.useState(null),[f,g]=d.useState("none"),[_,A]=d.useState(null),[T,b]=d.useState(""),[v,C]=d.useState(""),[R,k]=d.useState("");d.useEffect(()=>{const V=iy(pr,te=>{if(r(te),s(!0),!te){const re=t?`/host/events/${t}`:"/host/events";e(`/hostLogIn?redirect=${encodeURIComponent(re)}`,{replace:!0})}});return()=>V()},[t,e]),d.useEffect(()=>{if(!t){c("Missing invite id."),o(!1);return}let V=!1;return o(!0),c(null),jy(nl(rl,"invites",t)).then(te=>{if(!te.exists())throw new Error("Invite not found.");if(!V){const re=te.data();m(re),b(re.eventName??""),C(re.location??""),k(typeof re.customMessage=="string"?re.customMessage:"")}}).catch(te=>{V||c(te.message??"Failed to load invite.")}).finally(()=>{V||o(!1)}),()=>{V=!0}},[t]);const L=d.useMemo(()=>!n||!h||!h.hostUid?!0:h.hostUid===n.uid,[n,h]),S=d.useMemo(()=>h?typeof h.eventName=="string"&&h.eventName.trim()?h.eventName.trim():Array.isArray(h.theme)&&h.theme.length?h.theme.join("  "):typeof h.theme=="string"&&h.theme.trim()?h.theme.trim():Array.isArray(h.eventType)&&h.eventType.length?h.eventType.join(", "):"Your Event":"Your Event",[h]),E=((W=h==null?void 0:h.date)==null?void 0:W.trim())||"Date to be decided",w=d.useMemo(()=>h?h.startTime&&h.endTime?`${h.startTime}  ${h.endTime}`:h.startTime?h.startTime:h.endTime?h.endTime:"Time to be decided":"Time to be decided",[h]),M=((ae=h==null?void 0:h.location)==null?void 0:ae.trim())||"Location to be decided",I=d.useMemo(()=>Array.isArray(h==null?void 0:h.invitees)?h.invitees:[],[h]),P=d.useMemo(()=>Array.isArray(h==null?void 0:h.activities)?h.activities.slice().sort((V,te)=>(V.time??"").localeCompare(te.time??"")):[],[h]),D=d.useMemo(()=>h&&Array.isArray(h.eventType)&&h.eventType.length>0?h.eventType.join(", "):"Not specified",[h]),K=d.useMemo(()=>h?Array.isArray(h.theme)&&h.theme.length>0?h.theme.join("  "):typeof h.theme=="string"&&h.theme.trim().length>0?h.theme.trim():"No theme selected":"No theme selected",[h]),Z=d.useMemo(()=>({going:0,maybe:0,declined:0,noResponse:I.length}),[I.length]),B=d.useMemo(()=>n!=null&&n.displayName?n.displayName:n!=null&&n.email?n.email.split("@")[0]:"host",[n]),$=d.useMemo(()=>!t||typeof window>"u"?null:`${window.location.origin}/guest/${t}`,[t]),H=t?`/guest/${t}`:null,ne=d.useMemo(()=>h!=null&&h.location?`https://maps.google.com/maps?q=${encodeURIComponent(h.location)}&z=15&output=embed`:null,[h==null?void 0:h.location]),ee=async(V,te)=>{if(t){A(te);try{await J9(nl(rl,"invites",t),V),m(re=>re&&{...re,...V}),g("none")}catch(re){console.error("Failed to update invite",re)}finally{A(null)}}},fe=async()=>{await Pd(pr).catch(()=>{});const V=t?`/host/events/${t}`:"/host/events";e(`/hostLogIn?redirect=${encodeURIComponent(V)}`)},me=async()=>{if($&&typeof navigator<"u"){const V=navigator.clipboard;if(V!=null&&V.writeText)try{await V.writeText($)}catch(te){console.error("Unable to copy invite link",te)}}await Pd(pr).catch(()=>{}),e("/",{replace:!0})};return!i||a?x.jsxs("div",{className:"p-6 space-y-4",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"Event Dashboard"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Loading invitation details"})]}):l?x.jsxs("div",{className:"p-6 space-y-4",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"Event Dashboard"}),x.jsx("p",{className:"text-sm text-red-600",children:l}),x.jsx(De,{to:"/",children:"Back to start"})]}):L?x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between lg:gap-4",children:[x.jsxs("div",{className:"flex-1 space-y-3",children:[f==="name"?x.jsxs("form",{className:"flex flex-col gap-3 max-w-xl",onSubmit:V=>{V.preventDefault();const te=T.trim();te&&ee({eventName:te},"name")},children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Event title"}),x.jsx("input",{className:"border rounded-lg px-4 py-2 text-2xl font-semibold",value:T,onChange:V=>b(V.target.value),maxLength:100,required:!0}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(De,{type:"submit",disabled:_==="name",children:_==="name"?"Saving":"Save title"}),x.jsx(De,{type:"button",onClick:()=>{g("none"),b((h==null?void 0:h.eventName)??"")},children:"Cancel"})]})]}):x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:S}),x.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:underline",onClick:()=>g("name"),children:[x.jsx(mh,{className:"h-4 w-4"})," Edit title"]})]}),x.jsxs("p",{className:"text-gray-500 flex flex-wrap items-center gap-4",children:[x.jsxs("span",{className:"inline-flex items-center gap-2",children:[x.jsx(pz,{className:"h-4 w-4"}),E,"  ",w]}),x.jsxs("span",{className:"inline-flex items-center gap-2",children:[x.jsx(bS,{className:"h-4 w-4"}),M]})]})]}),x.jsxs("p",{className:"text-xs text-gray-400",children:["Signed in as ",B]})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[H&&x.jsxs(De,{className:"flex items-center gap-2",to:H,children:[x.jsx(vz,{className:"h-4 w-4"})," Preview Invite"]}),x.jsxs(De,{className:"flex items-center gap-2",type:"button",onClick:me,children:[x.jsx(Sz,{className:"h-4 w-4"})," Create New Event"]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"rounded-2xl border bg-white shadow",children:[x.jsxs("div",{className:"p-4 border-b font-semibold inline-flex items-center gap-2",children:[x.jsx(_S,{className:"h-4 w-4"})," Event Snapshot"]}),x.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Event type"}),x.jsx("p",{className:"mt-1 font-medium text-gray-800",children:D})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Theme"}),x.jsx("p",{className:"mt-1 font-medium text-gray-800",children:K})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Guests added"}),x.jsx("p",{className:"mt-1 font-medium text-gray-800",children:I.length})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Date & time"}),x.jsxs("p",{className:"mt-1 font-medium text-gray-800",children:[E,"  ",w]})]})]})]}),x.jsxs("div",{className:"rounded-2xl border bg-white shadow",children:[x.jsxs("div",{className:"p-4 border-b font-semibold inline-flex items-center gap-2 text-gray-800",children:[x.jsx(_S,{className:"h-4 w-4"})," RSVP Overview"]}),x.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3 text-sm",children:[x.jsxs("div",{className:"rounded-xl bg-gray-50 px-4 py-3 border border-gray-200",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600",children:"Going"}),x.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Z.going})]}),x.jsxs("div",{className:"rounded-xl bg-gray-50 px-4 py-3 border border-gray-200",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600",children:"Maybe"}),x.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Z.maybe})]}),x.jsxs("div",{className:"rounded-xl bg-gray-50 px-4 py-3 border border-gray-200",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600",children:"Declined"}),x.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Z.declined})]}),x.jsxs("div",{className:"rounded-xl bg-gray-50 px-4 py-3 border border-gray-200",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600",children:"No response"}),x.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Z.noResponse})]})]})]}),x.jsxs("div",{className:"rounded-2xl border bg-white shadow",children:[x.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[x.jsxs("span",{className:"font-semibold inline-flex items-center gap-2",children:[x.jsx(bS,{className:"h-4 w-4"})," Location & Map"]}),f!=="location"&&x.jsxs("button",{type:"button",className:"text-xs text-blue-600 inline-flex items-center gap-1",onClick:()=>g("location"),children:[x.jsx(mh,{className:"h-3 w-3"})," Edit location"]})]}),x.jsx("div",{className:"p-4 space-y-3 text-sm",children:f==="location"?x.jsxs("form",{className:"space-y-3",onSubmit:V=>{V.preventDefault();const te=v.trim();te&&ee({location:te},"location")},children:[x.jsx("label",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Location"}),x.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:v,onChange:V=>C(V.target.value),maxLength:200,required:!0}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx(De,{type:"button",onClick:()=>{g("none"),C((h==null?void 0:h.location)??"")},children:"Cancel"}),x.jsx(De,{type:"submit",disabled:_==="location",children:_==="location"?"Saving":"Save"})]})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-gray-700",children:M}),ne?x.jsx("div",{className:"w-full overflow-hidden rounded-xl border border-gray-200",children:x.jsx("iframe",{title:"Event location map",src:ne,width:"100%",height:"200",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"border-0",allowFullScreen:!0})}):x.jsx("div",{className:"w-full rounded-xl bg-gray-100 px-4 py-8 text-center text-xs text-gray-500",children:"Add a location to preview it on the map."})]})})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"rounded-2xl border bg-white shadow",children:[x.jsxs("div",{className:"p-4 border-b font-semibold inline-flex items-center gap-2",children:[x.jsx(bz,{className:"h-4 w-4"})," Quick Links"]}),x.jsx("div",{className:"p-4 space-y-2 text-sm",children:Cz.map(V=>x.jsxs(gf,{to:V.to,className:"flex items-center justify-between rounded-lg border px-3 py-2 hover:bg-gray-50 text-blue-600",children:[x.jsx("span",{children:V.label}),x.jsx("span",{className:"text-xs",children:""})]},V.id))})]}),x.jsxs("div",{className:"rounded-2xl border bg-white shadow lg:col-span-2",children:[x.jsx("div",{className:"p-4 border-b font-semibold",children:"Timeline"}),x.jsx("div",{className:"p-4 space-y-3",children:P.length>0?P.map(V=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg border px-3 py-2 text-sm",children:[x.jsx("span",{className:"font-medium",children:V.name||"Untitled activity"}),x.jsx("span",{className:"text-gray-500",children:V.time||"TBD"})]},V.id??V.name)):x.jsx("div",{className:"w-full rounded-xl bg-gray-100 px-4 py-12 text-center text-sm text-gray-500",children:"No activities scheduled yet. Add them on the Activities page."})})]})]}),x.jsxs("div",{className:"rounded-2xl border bg-white shadow",children:[x.jsx("div",{className:"p-4 border-b font-semibold",children:"Guest List"}),x.jsx("div",{className:"p-4 space-y-3 text-sm",children:I.length>0?x.jsx("div",{className:"max-h-72 overflow-y-auto pr-1 space-y-2",children:I.map((V,te)=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg border px-3 py-2",children:[x.jsx("span",{children:V}),x.jsx("span",{className:"text-gray-400 text-xs",children:"No response yet"})]},`${V}-${te}`))}):x.jsx("p",{className:"text-gray-500",children:"No guests added yet. Add them on the Invitees page."})})]}),x.jsxs("div",{className:"rounded-2xl border bg-white shadow",children:[x.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[x.jsxs("span",{className:"font-semibold inline-flex items-center gap-2",children:[x.jsx(mh,{className:"h-4 w-4"})," Host Message"]}),f!=="message"&&x.jsxs("button",{type:"button",className:"text-xs text-blue-600 inline-flex items-center gap-1",onClick:()=>g("message"),children:[x.jsx(mh,{className:"h-3 w-3"})," Edit"]})]}),x.jsx("div",{className:"p-4 space-y-3 text-sm",children:f==="message"?x.jsxs("form",{className:"space-y-3",onSubmit:V=>{V.preventDefault(),ee({customMessage:R},"message")},children:[x.jsx("textarea",{className:"w-full border rounded-lg px-3 py-2",rows:4,value:R,onChange:V=>k(V.target.value)}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx(De,{type:"button",onClick:()=>{g("none"),k(typeof(h==null?void 0:h.customMessage)=="string"?h.customMessage:"")},children:"Cancel"}),x.jsx(De,{type:"submit",disabled:_==="message",children:_==="message"?"Saving":"Save"})]})]}):x.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:(h==null?void 0:h.customMessage)||"Add a custom note for your guests."})})]})]}):x.jsxs("div",{className:"p-6 space-y-4",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"Event Dashboard"}),x.jsx("p",{className:"text-sm text-red-600",children:"This invite belongs to a different host account. Sign out and log in with the correct username to continue."}),x.jsx(De,{type:"button",onClick:fe,children:"Sign out and switch accounts"})]})}const Az=["XXX's Birthday Picnic","Friday Night Karaoke","Team Offsite 2025","Friendsgiving Potluck","Game Night Extravaganza"];function Rz(){const t=gc(),{eventName:e,setEventName:n}=za(),[r,i]=d.useState(!1),s=o=>{o.preventDefault(),e.trim()&&t("/partyType")},a=o=>{n(o),i(!1)};return x.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[x.jsxs("header",{className:"space-y-2",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Name Your Event"}),x.jsx("p",{className:"text-sm text-gray-600 max-w-xl",children:"Choose a short, memorable title that will greet guests on the invitation and dashboard. Keep it friendly and descriptive."})]}),x.jsxs("form",{onSubmit:s,className:"space-y-6",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsx("label",{htmlFor:"event-name",className:"block text-sm font-medium text-gray-700",children:"Event title"}),x.jsx("input",{id:"event-name",className:"w-full border border-gray-300 focus:border-blue-500 focus:ring-blue-200 rounded-lg px-4 py-3 text-lg",placeholder:"e.g. Movie Night with Friends",value:e,onChange:o=>n(o.target.value),minLength:2,maxLength:100,required:!0,autoFocus:!0}),x.jsxs("div",{className:"text-xs text-gray-500 flex items-center justify-between",children:[x.jsxs("span",{children:[e.trim().length,"/100 characters"]}),x.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:()=>i(o=>!o),children:r?"Hide":"Need ideas?"})]})]}),r&&x.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 space-y-3 bg-gray-50",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Try one of these"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:Az.map(o=>x.jsx("button",{type:"button",className:"rounded-full border border-gray-300 px-3 py-1 text-sm hover:border-blue-500 hover:text-blue-600",onClick:()=>a(o),children:o},o))})]}),x.jsxs("div",{className:"flex gap-3 justify-end",children:[x.jsx(De,{to:"/",className:"px-4 py-2",children:"Home"}),x.jsx(De,{type:"submit",disabled:!e.trim(),className:"px-4 py-2",to:"/partyType",children:"Next"})]})]})]})}const Lz=[{path:"/",element:x.jsx(Hx,{children:x.jsx(wk,{})}),children:[{index:!0,element:x.jsx(iP,{})},{path:"eventName",element:x.jsx(Rz,{})},{path:"invitee",element:x.jsx(sP,{})},{path:"location",element:x.jsx(WN,{})},{path:"dateTime",element:x.jsx(XN,{})},{path:"activity",element:x.jsx(I2,{})},{path:"partyType",element:x.jsx(D2,{})},{path:"theme",element:x.jsx(U2,{})},{path:"confirmation",element:x.jsx(iz,{})},{path:"guest/:inviteId",element:x.jsx(sz,{})},{path:"hostLogIn",element:x.jsx(uz,{})},{path:"host/events/:inviteId",element:x.jsx(xz,{})}]}],Mz=uk(Lz);iO.createRoot(document.getElementById("root")).render(x.jsx(Qm.StrictMode,{children:x.jsx(Ek,{router:Mz})}));
