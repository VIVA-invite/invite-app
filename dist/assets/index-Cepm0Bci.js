(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function yg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nS={exports:{}},Bf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=Symbol.for("react.transitional.element"),Gx=Symbol.for("react.fragment");function rS(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:qx,type:t,key:r,ref:e!==void 0?e:null,props:n}}Bf.Fragment=Gx;Bf.jsx=rS;Bf.jsxs=rS;nS.exports=Bf;var N=nS.exports,iS={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g=Symbol.for("react.transitional.element"),$x=Symbol.for("react.portal"),Kx=Symbol.for("react.fragment"),Yx=Symbol.for("react.strict_mode"),Qx=Symbol.for("react.profiler"),Wx=Symbol.for("react.consumer"),Xx=Symbol.for("react.context"),Zx=Symbol.for("react.forward_ref"),Jx=Symbol.for("react.suspense"),eL=Symbol.for("react.memo"),sS=Symbol.for("react.lazy"),i_=Symbol.iterator;function tL(t){return t===null||typeof t!="object"?null:(t=i_&&t[i_]||t["@@iterator"],typeof t=="function"?t:null)}var aS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oS=Object.assign,lS={};function Zo(t,e,n){this.props=t,this.context=e,this.refs=lS,this.updater=n||aS}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uS(){}uS.prototype=Zo.prototype;function bg(t,e,n){this.props=t,this.context=e,this.refs=lS,this.updater=n||aS}var Eg=bg.prototype=new uS;Eg.constructor=bg;oS(Eg,Zo.prototype);Eg.isPureReactComponent=!0;var s_=Array.isArray,xt={H:null,A:null,T:null,S:null,V:null},cS=Object.prototype.hasOwnProperty;function wg(t,e,n,r,i,s){return n=s.ref,{$$typeof:_g,type:t,key:e,ref:n!==void 0?n:null,props:s}}function nL(t,e){return wg(t.type,e,void 0,void 0,void 0,t.props)}function Sg(t){return typeof t=="object"&&t!==null&&t.$$typeof===_g}function rL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var a_=/\/+/g;function Od(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rL(""+t.key):e.toString(36)}function o_(){}function iL(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(o_,o_):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ya(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case _g:case $x:a=!0;break;case sS:return a=t._init,Ya(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+Od(t,0):r,s_(i)?(n="",a!=null&&(n=a.replace(a_,"$&/")+"/"),Ya(i,e,n,"",function(c){return c})):i!=null&&(Sg(i)&&(i=nL(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(a_,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(s_(t))for(var l=0;l<t.length;l++)r=t[l],s=o+Od(r,l),a+=Ya(r,e,n,s,i);else if(l=tL(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,s=o+Od(r,l++),a+=Ya(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Ya(iL(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Dc(t,e,n){if(t==null)return t;var r=[],i=0;return Ya(t,r,"","",function(s){return e.call(n,s,i++)}),r}function sL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var l_=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function aL(){}ke.Children={map:Dc,forEach:function(t,e,n){Dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dc(t,function(){e++}),e},toArray:function(t){return Dc(t,function(e){return e})||[]},only:function(t){if(!Sg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=Zo;ke.Fragment=Kx;ke.Profiler=Qx;ke.PureComponent=bg;ke.StrictMode=Yx;ke.Suspense=Jx;ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xt;ke.__COMPILER_RUNTIME={__proto__:null,c:function(t){return xt.H.useMemoCache(t)}};ke.cache=function(t){return function(){return t.apply(null,arguments)}};ke.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=oS({},t.props),i=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!cS.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}return wg(t.type,i,void 0,void 0,s,r)};ke.createContext=function(t){return t={$$typeof:Xx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Wx,_context:t},t};ke.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)cS.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return wg(t,s,void 0,void 0,null,i)};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:Zx,render:t}};ke.isValidElement=Sg;ke.lazy=function(t){return{$$typeof:sS,_payload:{_status:-1,_result:t},_init:sL}};ke.memo=function(t,e){return{$$typeof:eL,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=xt.T,n={};xt.T=n;try{var r=t(),i=xt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(aL,l_)}catch(s){l_(s)}finally{xt.T=e}};ke.unstable_useCacheRefresh=function(){return xt.H.useCacheRefresh()};ke.use=function(t){return xt.H.use(t)};ke.useActionState=function(t,e,n){return xt.H.useActionState(t,e,n)};ke.useCallback=function(t,e){return xt.H.useCallback(t,e)};ke.useContext=function(t){return xt.H.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t,e){return xt.H.useDeferredValue(t,e)};ke.useEffect=function(t,e,n){var r=xt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};ke.useId=function(){return xt.H.useId()};ke.useImperativeHandle=function(t,e,n){return xt.H.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return xt.H.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return xt.H.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return xt.H.useMemo(t,e)};ke.useOptimistic=function(t,e){return xt.H.useOptimistic(t,e)};ke.useReducer=function(t,e,n){return xt.H.useReducer(t,e,n)};ke.useRef=function(t){return xt.H.useRef(t)};ke.useState=function(t){return xt.H.useState(t)};ke.useSyncExternalStore=function(t,e,n){return xt.H.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return xt.H.useTransition()};ke.version="19.1.1";iS.exports=ke;var f=iS.exports;const Up=yg(f);var hS={exports:{}},Hf={},fS={exports:{}},dS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,$){var H=z.length;z.push($);e:for(;0<H;){var ne=H-1>>>1,ee=z[ne];if(0<i(ee,$))z[ne]=$,z[H]=ee,H=ne;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var $=z[0],H=z.pop();if(H!==$){z[0]=H;e:for(var ne=0,ee=z.length,ge=ee>>>1;ne<ge;){var ve=2*(ne+1)-1,Q=z[ve],se=ve+1,B=z[se];if(0>i(Q,H))se<ee&&0>i(B,Q)?(z[ne]=B,z[se]=H,ne=se):(z[ne]=Q,z[ve]=H,ne=ve);else if(se<ee&&0>i(B,H))z[ne]=B,z[se]=H,ne=se;else break e}}return $}function i(z,$){var H=z.sortIndex-$.sortIndex;return H!==0?H:z.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,p=null,d=3,g=!1,_=!1,A=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(z){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=z)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function D(z){if(A=!1,R(z),!_)if(n(l)!==null)_=!0,x||(x=!0,k());else{var $=n(c);$!==null&&J(D,$.startTime-z)}}var x=!1,T=-1,E=5,w=-1;function L(){return S?!0:!(t.unstable_now()-w<E)}function O(){if(S=!1,x){var z=t.unstable_now();w=z;var $=!0;try{e:{_=!1,A&&(A=!1,v(T),T=-1),g=!0;var H=d;try{t:{for(R(z),p=n(l);p!==null&&!(p.expirationTime>z&&L());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,d=p.priorityLevel;var ee=ne(p.expirationTime<=z);if(z=t.unstable_now(),typeof ee=="function"){p.callback=ee,R(z),$=!0;break t}p===n(l)&&r(l),R(z)}else r(l);p=n(l)}if(p!==null)$=!0;else{var ge=n(c);ge!==null&&J(D,ge.startTime-z),$=!1}}break e}finally{p=null,d=H,g=!1}$=void 0}}finally{$?k():x=!1}}}var k;if(typeof C=="function")k=function(){C(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,X=I.port2;I.port1.onmessage=O,k=function(){X.postMessage(null)}}else k=function(){b(O,0)};function J(z,$){T=b(function(){z(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(z){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var H=d;d=$;try{return z()}finally{d=H}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=d;d=z;try{return $()}finally{d=H}},t.unstable_scheduleCallback=function(z,$,H){var ne=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ne+H:ne):H=ne,z){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=H+ee,z={id:h++,callback:$,priorityLevel:z,startTime:H,expirationTime:ee,sortIndex:-1},H>ne?(z.sortIndex=H,e(c,z),n(l)===null&&z===n(c)&&(A?(v(T),T=-1):A=!0,J(D,H-ne))):(z.sortIndex=ee,e(l,z),_||g||(_=!0,x||(x=!0,k()))),z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(z){var $=d;return function(){var H=d;d=$;try{return z.apply(this,arguments)}finally{d=H}}}})(dS);fS.exports=dS;var oL=fS.exports,pS={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lL=f;function mS(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Xi(){}var qn={d:{f:Xi,r:function(){throw Error(mS(522))},D:Xi,C:Xi,L:Xi,m:Xi,X:Xi,S:Xi,M:Xi},p:0,findDOMNode:null},uL=Symbol.for("react.portal");function cL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uL,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Ql=lL.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ff(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qn;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(mS(299));return cL(t,e,null,n)};Gn.flushSync=function(t){var e=Ql.T,n=qn.p;try{if(Ql.T=null,qn.p=2,t)return t()}finally{Ql.T=e,qn.p=n,qn.d.f()}};Gn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qn.d.C(t,e))};Gn.prefetchDNS=function(t){typeof t=="string"&&qn.d.D(t)};Gn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Ff(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?qn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&qn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Gn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Ff(e.as,e.crossOrigin);qn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qn.d.M(t)};Gn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Ff(n,e.crossOrigin);qn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Gn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Ff(e.as,e.crossOrigin);qn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qn.d.m(t)};Gn.requestFormReset=function(t){qn.d.r(t)};Gn.unstable_batchedUpdates=function(t,e){return t(e)};Gn.useFormState=function(t,e,n){return Ql.H.useFormState(t,e,n)};Gn.useFormStatus=function(){return Ql.H.useHostTransitionStatus()};Gn.version="19.1.1";function gS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gS)}catch(t){console.error(t)}}gS(),pS.exports=Gn;var Gi=pS.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var an=oL,vS=f,hL=Gi;function Y(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $u(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _S(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u_(t){if($u(t)!==t)throw Error(Y(188))}function fL(t){var e=t.alternate;if(!e){if(e=$u(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u_(i),t;if(s===r)return u_(i),e;s=s.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function bS(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=bS(t),e!==null)return e;t=t.sibling}return null}var Tt=Object.assign,dL=Symbol.for("react.element"),kc=Symbol.for("react.transitional.element"),Vl=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),ES=Symbol.for("react.strict_mode"),jp=Symbol.for("react.profiler"),pL=Symbol.for("react.provider"),wS=Symbol.for("react.consumer"),Ri=Symbol.for("react.context"),Tg=Symbol.for("react.forward_ref"),zp=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),Cg=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),Hp=Symbol.for("react.activity"),mL=Symbol.for("react.memo_cache_sentinel"),c_=Symbol.iterator;function wl(t){return t===null||typeof t!="object"?null:(t=c_&&t[c_]||t["@@iterator"],typeof t=="function"?t:null)}var gL=Symbol.for("react.client.reference");function Fp(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===gL?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ro:return"Fragment";case jp:return"Profiler";case ES:return"StrictMode";case zp:return"Suspense";case Bp:return"SuspenseList";case Hp:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Vl:return"Portal";case Ri:return(t.displayName||"Context")+".Provider";case wS:return(t._context.displayName||"Context")+".Consumer";case Tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cg:return e=t.displayName||null,e!==null?e:Fp(t.type)||"Memo";case is:e=t._payload,t=t._init;try{return Fp(t(e))}catch{}}return null}var Ul=Array.isArray,Ae=vS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=hL.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fa={pending:!1,data:null,method:null,action:null},qp=[],io=-1;function mi(t){return{current:t}}function mn(t){0>io||(t.current=qp[io],qp[io]=null,io--)}function Lt(t,e){io++,qp[io]=t.current,t.current=e}var ni=mi(null),yu=mi(null),Es=mi(null),Dh=mi(null);function kh(t,e){switch(Lt(Es,e),Lt(yu,t),Lt(ni,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?mb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=mb(e),t=jC(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}mn(ni),Lt(ni,t)}function Oo(){mn(ni),mn(yu),mn(Es)}function Gp(t){t.memoizedState!==null&&Lt(Dh,t);var e=ni.current,n=jC(e,t.type);e!==n&&(Lt(yu,t),Lt(ni,n))}function Ph(t){yu.current===t&&(mn(ni),mn(yu)),Dh.current===t&&(mn(Dh),xu._currentValue=fa)}var $p=Object.prototype.hasOwnProperty,Ag=an.unstable_scheduleCallback,Dd=an.unstable_cancelCallback,vL=an.unstable_shouldYield,yL=an.unstable_requestPaint,ri=an.unstable_now,_L=an.unstable_getCurrentPriorityLevel,SS=an.unstable_ImmediatePriority,TS=an.unstable_UserBlockingPriority,Nh=an.unstable_NormalPriority,bL=an.unstable_LowPriority,CS=an.unstable_IdlePriority,EL=an.log,wL=an.unstable_setDisableYieldValue,Ku=null,mr=null;function gs(t){if(typeof EL=="function"&&wL(t),mr&&typeof mr.setStrictMode=="function")try{mr.setStrictMode(Ku,t)}catch{}}var gr=Math.clz32?Math.clz32:CL,SL=Math.log,TL=Math.LN2;function CL(t){return t>>>=0,t===0?32:31-(SL(t)/TL|0)|0}var Pc=256,Nc=4194304;function ra(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function qf(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=ra(r):(a&=o,a!==0?i=ra(a):n||(n=o&~t,n!==0&&(i=ra(n))))):(o=r&~s,o!==0?i=ra(o):a!==0?i=ra(a):n||(n=r&~t,n!==0&&(i=ra(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function Yu(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function AL(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AS(){var t=Pc;return Pc<<=1,!(Pc&4194048)&&(Pc=256),t}function RS(){var t=Nc;return Nc<<=1,!(Nc&62914560)&&(Nc=4194304),t}function kd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function RL(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var h=31-gr(n),p=1<<h;o[h]=0,l[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var g=d[h];g!==null&&(g.lane&=-536870913)}n&=~p}r!==0&&xS(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function xS(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-gr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function LS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function Rg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function MS(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:QC(t.type))}function xL(t,e){var n=it.p;try{return it.p=t,e()}finally{it.p=n}}var Ks=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Ks,tr="__reactProps$"+Ks,Jo="__reactContainer$"+Ks,Kp="__reactEvents$"+Ks,LL="__reactListeners$"+Ks,ML="__reactHandles$"+Ks,h_="__reactResources$"+Ks,Wu="__reactMarker$"+Ks;function Lg(t){delete t[Nn],delete t[tr],delete t[Kp],delete t[LL],delete t[ML]}function so(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jo]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yb(t);t!==null;){if(n=t[Nn])return n;t=yb(t)}return e}t=n,n=t.parentNode}return null}function el(t){if(t=t[Nn]||t[Jo]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function jl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Y(33))}function vo(t){var e=t[h_];return e||(e=t[h_]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function dn(t){t[Wu]=!0}var IS=new Set,OS={};function Ia(t,e){Do(t,e),Do(t+"Capture",e)}function Do(t,e){for(OS[t]=e,t=0;t<e.length;t++)IS.add(e[t])}var IL=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),f_={},d_={};function OL(t){return $p.call(d_,t)?!0:$p.call(f_,t)?!1:IL.test(t)?d_[t]=!0:(f_[t]=!0,!1)}function oh(t,e,n){if(OL(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Vc(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Ei(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Pd,p_;function Qa(t){if(Pd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pd=e&&e[1]||"",p_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pd+t+p_}var Nd=!1;function Vd(t,e){if(!t||Nd)return"";Nd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(g){var d=g}Reflect.construct(t,[],p)}else{try{p.call()}catch(g){d=g}t.call(p.prototype)}}else{try{throw Error()}catch(g){d=g}(p=t())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(g){if(g&&d&&typeof g.stack=="string")return[g.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var h=`
`+l[r].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=r&&0<=i);break}}}finally{Nd=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Qa(n):""}function DL(t){switch(t.tag){case 26:case 27:case 5:return Qa(t.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 15:return Vd(t.type,!1);case 11:return Vd(t.type.render,!1);case 1:return Vd(t.type,!0);case 31:return Qa("Activity");default:return""}}function m_(t){try{var e="";do e+=DL(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Cr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kL(t){var e=DS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vh(t){t._valueTracker||(t._valueTracker=kL(t))}function kS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Uh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var PL=/[\n"\\]/g;function xr(t){return t.replace(PL,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Yp(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Cr(e)):t.value!==""+Cr(e)&&(t.value=""+Cr(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Qp(t,a,Cr(e)):n!=null?Qp(t,a,Cr(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Cr(o):t.removeAttribute("name")}function PS(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+Cr(n):"",e=e!=null?""+Cr(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function Qp(t,e,n){e==="number"&&Uh(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function yo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function NS(t,e,n){if(e!=null&&(e=""+Cr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Cr(n):""}function VS(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(Y(92));if(Ul(r)){if(1<r.length)throw Error(Y(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Cr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function ko(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var NL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function g_(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||NL.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function US(t,e,n){if(e!=null&&typeof e!="object")throw Error(Y(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&g_(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&g_(t,s,e[s])}function Mg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),UL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lh(t){return UL.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Wp=null;function Ig(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ao=null,_o=null;function v_(t){var e=el(t);if(e&&(t=e.stateNode)){var n=t[tr]||null;e:switch(t=e.stateNode,e.type){case"input":if(Yp(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+xr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[tr]||null;if(!i)throw Error(Y(90));Yp(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&kS(r)}break e;case"textarea":NS(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&yo(t,!!n.multiple,e,!1)}}}var Ud=!1;function jS(t,e,n){if(Ud)return t(e,n);Ud=!0;try{var r=t(e);return r}finally{if(Ud=!1,(ao!==null||_o!==null)&&(ed(),ao&&(e=ao,t=_o,_o=ao=null,v_(e),t)))for(e=0;e<t.length;e++)v_(t[e])}}function _u(t,e){var n=t.stateNode;if(n===null)return null;var r=n[tr]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=!1;if(Vi)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){Xp=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{Xp=!1}var vs=null,Og=null,uh=null;function zS(){if(uh)return uh;var t,e=Og,n=e.length,r,i="value"in vs?vs.value:vs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return uh=i.slice(t,1<r?1-r:void 0)}function ch(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uc(){return!0}function y_(){return!1}function rr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Uc:y_,this.isPropagationStopped=y_,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),e}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gf=rr(Oa),Xu=Tt({},Oa,{view:0,detail:0}),jL=rr(Xu),jd,zd,Tl,$f=Tt({},Xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tl&&(Tl&&t.type==="mousemove"?(jd=t.screenX-Tl.screenX,zd=t.screenY-Tl.screenY):zd=jd=0,Tl=t),jd)},movementY:function(t){return"movementY"in t?t.movementY:zd}}),__=rr($f),zL=Tt({},$f,{dataTransfer:0}),BL=rr(zL),HL=Tt({},Xu,{relatedTarget:0}),Bd=rr(HL),FL=Tt({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),qL=rr(FL),GL=Tt({},Oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$L=rr(GL),KL=Tt({},Oa,{data:0}),b_=rr(KL),YL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WL[t])?!!e[t]:!1}function Dg(){return XL}var ZL=Tt({},Xu,{key:function(t){if(t.key){var e=YL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ch(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dg,charCode:function(t){return t.type==="keypress"?ch(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ch(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JL=rr(ZL),eM=Tt({},$f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E_=rr(eM),tM=Tt({},Xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dg}),nM=rr(tM),rM=Tt({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),iM=rr(rM),sM=Tt({},$f,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aM=rr(sM),oM=Tt({},Oa,{newState:0,oldState:0}),lM=rr(oM),uM=[9,13,27,32],kg=Vi&&"CompositionEvent"in window,Wl=null;Vi&&"documentMode"in document&&(Wl=document.documentMode);var cM=Vi&&"TextEvent"in window&&!Wl,BS=Vi&&(!kg||Wl&&8<Wl&&11>=Wl),w_=" ",S_=!1;function HS(t,e){switch(t){case"keyup":return uM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function hM(t,e){switch(t){case"compositionend":return FS(e);case"keypress":return e.which!==32?null:(S_=!0,w_);case"textInput":return t=e.data,t===w_&&S_?null:t;default:return null}}function fM(t,e){if(oo)return t==="compositionend"||!kg&&HS(t,e)?(t=zS(),uh=Og=vs=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BS&&e.locale!=="ko"?null:e.data;default:return null}}var dM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dM[t.type]:e==="textarea"}function qS(t,e,n,r){ao?_o?_o.push(r):_o=[r]:ao=r,e=nf(e,"onChange"),0<e.length&&(n=new Gf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xl=null,bu=null;function pM(t){NC(t,0)}function Kf(t){var e=jl(t);if(kS(e))return t}function C_(t,e){if(t==="change")return e}var GS=!1;if(Vi){var Hd;if(Vi){var Fd="oninput"in document;if(!Fd){var A_=document.createElement("div");A_.setAttribute("oninput","return;"),Fd=typeof A_.oninput=="function"}Hd=Fd}else Hd=!1;GS=Hd&&(!document.documentMode||9<document.documentMode)}function R_(){Xl&&(Xl.detachEvent("onpropertychange",$S),bu=Xl=null)}function $S(t){if(t.propertyName==="value"&&Kf(bu)){var e=[];qS(e,bu,t,Ig(t)),jS(pM,e)}}function mM(t,e,n){t==="focusin"?(R_(),Xl=e,bu=n,Xl.attachEvent("onpropertychange",$S)):t==="focusout"&&R_()}function gM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kf(bu)}function vM(t,e){if(t==="click")return Kf(e)}function yM(t,e){if(t==="input"||t==="change")return Kf(e)}function _M(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _r=typeof Object.is=="function"?Object.is:_M;function Eu(t,e){if(_r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$p.call(e,i)||!_r(t[i],e[i]))return!1}return!0}function x_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L_(t,e){var n=x_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=x_(n)}}function KS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YS(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Uh(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uh(t.document)}return e}function Pg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var bM=Vi&&"documentMode"in document&&11>=document.documentMode,lo=null,Zp=null,Zl=null,Jp=!1;function M_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jp||lo==null||lo!==Uh(r)||(r=lo,"selectionStart"in r&&Pg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zl&&Eu(Zl,r)||(Zl=r,r=nf(Zp,"onSelect"),0<r.length&&(e=new Gf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lo)))}function ea(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uo={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},qd={},QS={};Vi&&(QS=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Da(t){if(qd[t])return qd[t];if(!uo[t])return t;var e=uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in QS)return qd[t]=e[n];return t}var WS=Da("animationend"),XS=Da("animationiteration"),ZS=Da("animationstart"),EM=Da("transitionrun"),wM=Da("transitionstart"),SM=Da("transitioncancel"),JS=Da("transitionend"),eT=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");em.push("scrollEnd");function Qr(t,e){eT.set(t,e),Ia(e,[t])}var I_=new WeakMap;function Lr(t,e){if(typeof t=="object"&&t!==null){var n=I_.get(t);return n!==void 0?n:(e={value:t,source:e,stack:m_(e)},I_.set(t,e),e)}return{value:t,source:e,stack:m_(e)}}var Sr=[],co=0,Ng=0;function Yf(){for(var t=co,e=Ng=co=0;e<t;){var n=Sr[e];Sr[e++]=null;var r=Sr[e];Sr[e++]=null;var i=Sr[e];Sr[e++]=null;var s=Sr[e];if(Sr[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&tT(n,i,s)}}function Qf(t,e,n,r){Sr[co++]=t,Sr[co++]=e,Sr[co++]=n,Sr[co++]=r,Ng|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Vg(t,e,n,r){return Qf(t,e,n,r),jh(t)}function tl(t,e){return Qf(t,null,null,e),jh(t)}function tT(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-gr(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function jh(t){if(50<lu)throw lu=0,Em=null,Error(Y(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ho={};function TM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(t,e,n,r){return new TM(t,e,n,r)}function Ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,e){var n=t.alternate;return n===null?(n=pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function nT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function hh(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")Ug(t)&&(a=1);else if(typeof t=="string")a=AI(t,n,ni.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Hp:return t=pr(31,n,e,i),t.elementType=Hp,t.lanes=s,t;case ro:return da(n.children,i,s,e);case ES:a=8,i|=24;break;case jp:return t=pr(12,n,e,i|2),t.elementType=jp,t.lanes=s,t;case zp:return t=pr(13,n,e,i),t.elementType=zp,t.lanes=s,t;case Bp:return t=pr(19,n,e,i),t.elementType=Bp,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pL:case Ri:a=10;break e;case wS:a=9;break e;case Tg:a=11;break e;case Cg:a=14;break e;case is:a=16,r=null;break e}a=29,n=Error(Y(130,t===null?"null":typeof t,"")),r=null}return e=pr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function da(t,e,n,r){return t=pr(7,t,r,e),t.lanes=n,t}function Gd(t,e,n){return t=pr(6,t,null,e),t.lanes=n,t}function $d(t,e,n){return e=pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var fo=[],po=0,zh=null,Bh=0,Ar=[],Rr=0,pa=null,xi=1,Li="";function ia(t,e){fo[po++]=Bh,fo[po++]=zh,zh=t,Bh=e}function rT(t,e,n){Ar[Rr++]=xi,Ar[Rr++]=Li,Ar[Rr++]=pa,pa=t;var r=xi;t=Li;var i=32-gr(r)-1;r&=~(1<<i),n+=1;var s=32-gr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,xi=1<<32-gr(e)+i|n<<i|r,Li=s+t}else xi=1<<s|n<<i|r,Li=t}function jg(t){t.return!==null&&(ia(t,1),rT(t,1,0))}function zg(t){for(;t===zh;)zh=fo[--po],fo[po]=null,Bh=fo[--po],fo[po]=null;for(;t===pa;)pa=Ar[--Rr],Ar[Rr]=null,Li=Ar[--Rr],Ar[Rr]=null,xi=Ar[--Rr],Ar[Rr]=null}var Fn=null,Vt=null,rt=!1,ma=null,ei=!1,tm=Error(Y(519));function ba(t){var e=Error(Y(418,""));throw wu(Lr(e,t)),tm}function O_(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Nn]=t,e[tr]=r,n){case"dialog":He("cancel",e),He("close",e);break;case"iframe":case"object":case"embed":He("load",e);break;case"video":case"audio":for(n=0;n<Cu.length;n++)He(Cu[n],e);break;case"source":He("error",e);break;case"img":case"image":case"link":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"input":He("invalid",e),PS(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Vh(e);break;case"select":He("invalid",e);break;case"textarea":He("invalid",e),VS(e,r.value,r.defaultValue,r.children),Vh(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||UC(e.textContent,n)?(r.popover!=null&&(He("beforetoggle",e),He("toggle",e)),r.onScroll!=null&&He("scroll",e),r.onScrollEnd!=null&&He("scrollend",e),r.onClick!=null&&(e.onclick=rd),e=!0):e=!1,e||ba(t)}function D_(t){for(Fn=t.return;Fn;)switch(Fn.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:Fn=Fn.return}}function Cl(t){if(t!==Fn)return!1;if(!rt)return D_(t),rt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Rm(t.type,t.memoizedProps)),n=!n),n&&Vt&&ba(t),D_(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Vt=Kr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Vt=null}}else e===27?(e=Vt,Ys(t.type)?(t=Mm,Mm=null,Vt=t):Vt=e):Vt=Fn?Kr(t.stateNode.nextSibling):null;return!0}function Zu(){Vt=Fn=null,rt=!1}function k_(){var t=ma;return t!==null&&(Jn===null?Jn=t:Jn.push.apply(Jn,t),ma=null),t}function wu(t){ma===null?ma=[t]:ma.push(t)}var nm=mi(null),ka=null,Mi=null;function os(t,e,n){Lt(nm,e._currentValue),e._currentValue=n}function Pi(t){t._currentValue=nm.current,mn(nm)}function rm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function im(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),rm(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(Y(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),rm(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Ju(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(Y(387));if(a=a.memoizedProps,a!==null){var o=i.type;_r(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===Dh.current){if(a=i.alternate,a===null)throw Error(Y(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(xu):t=[xu])}i=i.return}t!==null&&im(e,t,n,r),e.flags|=262144}function Hh(t){for(t=t.firstContext;t!==null;){if(!_r(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ea(t){ka=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Vn(t){return iT(ka,t)}function jc(t,e){return ka===null&&Ea(t),iT(t,e)}function iT(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Mi===null){if(t===null)throw Error(Y(308));Mi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Mi=Mi.next=e;return n}var CM=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},AM=an.unstable_scheduleCallback,RM=an.unstable_NormalPriority,en={$$typeof:Ri,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bg(){return{controller:new CM,data:new Map,refCount:0}}function ec(t){t.refCount--,t.refCount===0&&AM(RM,function(){t.controller.abort()})}var Jl=null,sm=0,Po=0,bo=null;function xM(t,e){if(Jl===null){var n=Jl=[];sm=0,Po=cv(),bo={status:"pending",value:void 0,then:function(r){n.push(r)}}}return sm++,e.then(P_,P_),e}function P_(){if(--sm===0&&Jl!==null){bo!==null&&(bo.status="fulfilled");var t=Jl;Jl=null,Po=0,bo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function LM(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var N_=Ae.S;Ae.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&xM(t,e),N_!==null&&N_(t,e)};var ga=mi(null);function Hg(){var t=ga.current;return t!==null?t:_t.pooledCache}function fh(t,e){e===null?Lt(ga,ga.current):Lt(ga,e.pool)}function sT(){var t=Hg();return t===null?null:{parent:en._currentValue,pool:t}}var tc=Error(Y(460)),aT=Error(Y(474)),Wf=Error(Y(542)),am={then:function(){}};function V_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zc(){}function oT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(zc,zc),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,j_(t),t;default:if(typeof e.status=="string")e.then(zc,zc);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(Y(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,j_(t),t}throw eu=e,tc}}var eu=null;function U_(){if(eu===null)throw Error(Y(459));var t=eu;return eu=null,t}function j_(t){if(t===tc||t===Wf)throw Error(Y(483))}var ss=!1;function Fg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function om(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=jh(t),tT(t,null,n),e}return Qf(t,r,e,n),jh(t)}function tu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,LS(t,n)}}function Kd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var lm=!1;function nu(){if(lm){var t=bo;if(t!==null)throw t}}function ru(t,e,n,r){lm=!1;var i=t.updateQueue;ss=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;a=0,h=c=l=null,o=s;do{var d=o.lane&-536870913,g=d!==o.lane;if(g?(Je&d)===d:(r&d)===d){d!==0&&d===Po&&(lm=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var _=t,A=o;d=e;var S=n;switch(A.tag){case 1:if(_=A.payload,typeof _=="function"){p=_.call(S,p,d);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=A.payload,d=typeof _=="function"?_.call(S,p,d):_,d==null)break e;p=Tt({},p,d);break e;case 2:ss=!0}}d=o.callback,d!==null&&(t.flags|=64,g&&(t.flags|=8192),g=i.callbacks,g===null?i.callbacks=[d]:g.push(d))}else g={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,l=p):h=h.next=g,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),Vs|=a,t.lanes=a,t.memoizedState=p}}function lT(t,e){if(typeof t!="function")throw Error(Y(191,t));t.call(e)}function uT(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)lT(n[t],e)}var No=mi(null),Fh=mi(0);function z_(t,e){t=zi,Lt(Fh,t),Lt(No,e),zi=t|e.baseLanes}function um(){Lt(Fh,zi),Lt(No,No.current)}function qg(){zi=Fh.current,mn(No),mn(Fh)}var Ps=0,Ue=null,ft=null,$t=null,qh=!1,Eo=!1,wa=!1,Gh=0,Su=0,wo=null,MM=0;function zt(){throw Error(Y(321))}function Gg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_r(t[n],e[n]))return!1;return!0}function $g(t,e,n,r,i,s){return Ps=s,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ae.H=t===null||t.memoizedState===null?zT:BT,wa=!1,s=n(r,i),wa=!1,Eo&&(s=hT(e,n,r,i)),cT(t),s}function cT(t){Ae.H=$h;var e=ft!==null&&ft.next!==null;if(Ps=0,$t=ft=Ue=null,qh=!1,Su=0,wo=null,e)throw Error(Y(300));t===null||pn||(t=t.dependencies,t!==null&&Hh(t)&&(pn=!0))}function hT(t,e,n,r){Ue=t;var i=0;do{if(Eo&&(wo=null),Su=0,Eo=!1,25<=i)throw Error(Y(301));if(i+=1,$t=ft=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Ae.H=VM,s=e(n,r)}while(Eo);return s}function IM(){var t=Ae.H,e=t.useState()[0];return e=typeof e.then=="function"?nc(e):e,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(Ue.flags|=1024),e}function Kg(){var t=Gh!==0;return Gh=0,t}function Yg(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Qg(t){if(qh){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}qh=!1}Ps=0,$t=ft=Ue=null,Eo=!1,Su=Gh=0,wo=null}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ue.memoizedState=$t=t:$t=$t.next=t,$t}function Yt(){if(ft===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=$t===null?Ue.memoizedState:$t.next;if(e!==null)$t=e,ft=t;else{if(t===null)throw Ue.alternate===null?Error(Y(467)):Error(Y(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},$t===null?Ue.memoizedState=$t=t:$t=$t.next=t}return $t}function Wg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(t){var e=Su;return Su+=1,wo===null&&(wo=[]),t=oT(wo,t,e),e=Ue,($t===null?e.memoizedState:$t.next)===null&&(e=e.alternate,Ae.H=e===null||e.memoizedState===null?zT:BT),t}function Xf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nc(t);if(t.$$typeof===Ri)return Vn(t)}throw Error(Y(438,String(t)))}function Xg(t){var e=null,n=Ue.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Ue.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Wg(),Ue.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=mL;return e.index++,n}function Ui(t,e){return typeof e=="function"?e(t):e}function dh(t){var e=Yt();return Zg(e,ft,t)}function Zg(t,e,n){var r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,l=null,c=e,h=!1;do{var p=c.lane&-536870913;if(p!==c.lane?(Je&p)===p:(Ps&p)===p){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Po&&(h=!0);else if((Ps&d)===d){c=c.next,d===Po&&(h=!0);continue}else p={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=p,a=s):l=l.next=p,Ue.lanes|=d,Vs|=d;p=c.action,wa&&n(s,p),s=c.hasEagerState?c.eagerState:n(s,p)}else d={lane:p,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,a=s):l=l.next=d,Ue.lanes|=p,Vs|=p;c=c.next}while(c!==null&&c!==e);if(l===null?a=s:l.next=o,!_r(s,t.memoizedState)&&(pn=!0,h&&(n=bo,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=l,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Yd(t){var e=Yt(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);_r(s,e.memoizedState)||(pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function fT(t,e,n){var r=Ue,i=Yt(),s=rt;if(s){if(n===void 0)throw Error(Y(407));n=n()}else n=e();var a=!_r((ft||i).memoizedState,n);a&&(i.memoizedState=n,pn=!0),i=i.queue;var o=mT.bind(null,r,i,t);if(rc(2048,8,o,[t]),i.getSnapshot!==e||a||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,Vo(9,Zf(),pT.bind(null,r,i,n,e),null),_t===null)throw Error(Y(349));s||Ps&124||dT(r,e,n)}return n}function dT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e=Wg(),Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pT(t,e,n,r){e.value=n,e.getSnapshot=r,gT(e)&&vT(t)}function mT(t,e,n){return n(function(){gT(e)&&vT(t)})}function gT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_r(t,n)}catch{return!0}}function vT(t){var e=tl(t,2);e!==null&&yr(e,t,2)}function cm(t){var e=Xn();if(typeof t=="function"){var n=t;if(t=n(),wa){gs(!0);try{n()}finally{gs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},e}function yT(t,e,n,r){return t.baseState=n,Zg(t,ft,typeof r=="function"?r:Ui)}function OM(t,e,n,r,i){if(Jf(t))throw Error(Y(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Ae.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,_T(e,s)):(s.next=n.next,e.pending=n.next=s)}}function _T(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=Ae.T,a={};Ae.T=a;try{var o=n(i,r),l=Ae.S;l!==null&&l(a,o),B_(t,e,o)}catch(c){hm(t,e,c)}finally{Ae.T=s}}else try{s=n(i,r),B_(t,e,s)}catch(c){hm(t,e,c)}}function B_(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){H_(t,e,r)},function(r){return hm(t,e,r)}):H_(t,e,n)}function H_(t,e,n){e.status="fulfilled",e.value=n,bT(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,_T(t,n)))}function hm(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,bT(e),e=e.next;while(e!==r)}t.action=null}function bT(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function ET(t,e){return e}function F_(t,e){if(rt){var n=_t.formState;if(n!==null){e:{var r=Ue;if(rt){if(Vt){t:{for(var i=Vt,s=ei;i.nodeType!==8;){if(!s){i=null;break t}if(i=Kr(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Vt=Kr(i.nextSibling),r=i.data==="F!";break e}}ba(r)}r=!1}r&&(e=n[0])}}return n=Xn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ET,lastRenderedState:e},n.queue=r,n=VT.bind(null,Ue,r),r.dispatch=n,r=cm(!1),s=nv.bind(null,Ue,!1,r.queue),r=Xn(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=OM.bind(null,Ue,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function q_(t){var e=Yt();return wT(e,ft,t)}function wT(t,e,n){if(e=Zg(t,e,ET)[0],t=dh(Ui)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=nc(e)}catch(a){throw a===tc?Wf:a}else r=e;e=Yt();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(Ue.flags|=2048,Vo(9,Zf(),DM.bind(null,i,n),null)),[r,s,t]}function DM(t,e){t.action=e}function G_(t){var e=Yt(),n=ft;if(n!==null)return wT(e,n,t);Yt(),e=e.memoizedState,n=Yt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Vo(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Ue.updateQueue,e===null&&(e=Wg(),Ue.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Zf(){return{destroy:void 0,resource:void 0}}function ST(){return Yt().memoizedState}function ph(t,e,n,r){var i=Xn();r=r===void 0?null:r,Ue.flags|=t,i.memoizedState=Vo(1|e,Zf(),n,r)}function rc(t,e,n,r){var i=Yt();r=r===void 0?null:r;var s=i.memoizedState.inst;ft!==null&&r!==null&&Gg(r,ft.memoizedState.deps)?i.memoizedState=Vo(e,s,n,r):(Ue.flags|=t,i.memoizedState=Vo(1|e,s,n,r))}function $_(t,e){ph(8390656,8,t,e)}function TT(t,e){rc(2048,8,t,e)}function CT(t,e){return rc(4,2,t,e)}function AT(t,e){return rc(4,4,t,e)}function RT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xT(t,e,n){n=n!=null?n.concat([t]):null,rc(4,4,RT.bind(null,e,t),n)}function Jg(){}function LT(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Gg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function MT(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Gg(e,r[1]))return r[0];if(r=t(),wa){gs(!0);try{t()}finally{gs(!1)}}return n.memoizedState=[r,e],r}function ev(t,e,n){return n===void 0||Ps&1073741824?t.memoizedState=e:(t.memoizedState=n,t=bC(),Ue.lanes|=t,Vs|=t,n)}function IT(t,e,n,r){return _r(n,e)?n:No.current!==null?(t=ev(t,n,r),_r(t,e)||(pn=!0),t):Ps&42?(t=bC(),Ue.lanes|=t,Vs|=t,e):(pn=!0,t.memoizedState=n)}function OT(t,e,n,r,i){var s=it.p;it.p=s!==0&&8>s?s:8;var a=Ae.T,o={};Ae.T=o,nv(t,!1,e,n);try{var l=i(),c=Ae.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=LM(l,r);iu(t,e,h,vr(t))}else iu(t,e,r,vr(t))}catch(p){iu(t,e,{then:function(){},status:"rejected",reason:p},vr())}finally{it.p=s,Ae.T=a}}function kM(){}function fm(t,e,n,r){if(t.tag!==5)throw Error(Y(476));var i=DT(t).queue;OT(t,i,e,fa,n===null?kM:function(){return kT(t),n(r)})}function DT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:fa,baseState:fa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:fa},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function kT(t){var e=DT(t).next.queue;iu(t,e,{},vr())}function tv(){return Vn(xu)}function PT(){return Yt().memoizedState}function NT(){return Yt().memoizedState}function PM(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=vr();t=ws(n);var r=Ss(e,t,n);r!==null&&(yr(r,e,n),tu(r,e,n)),e={cache:Bg()},t.payload=e;return}e=e.return}}function NM(t,e,n){var r=vr();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Jf(t)?UT(e,n):(n=Vg(t,e,n,r),n!==null&&(yr(n,t,r),jT(n,e,r)))}function VT(t,e,n){var r=vr();iu(t,e,n,r)}function iu(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jf(t))UT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,_r(o,a))return Qf(t,e,i,0),_t===null&&Yf(),!1}catch{}finally{}if(n=Vg(t,e,i,r),n!==null)return yr(n,t,r),jT(n,e,r),!0}return!1}function nv(t,e,n,r){if(r={lane:2,revertLane:cv(),action:r,hasEagerState:!1,eagerState:null,next:null},Jf(t)){if(e)throw Error(Y(479))}else e=Vg(t,n,r,2),e!==null&&yr(e,t,2)}function Jf(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function UT(t,e){Eo=qh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jT(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,LS(t,n)}}var $h={readContext:Vn,use:Xf,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},zT={readContext:Vn,use:Xf,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:$_,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,ph(4194308,4,RT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ph(4194308,4,t,e)},useInsertionEffect:function(t,e){ph(4,2,t,e)},useMemo:function(t,e){var n=Xn();e=e===void 0?null:e;var r=t();if(wa){gs(!0);try{t()}finally{gs(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Xn();if(n!==void 0){var i=n(e);if(wa){gs(!0);try{n(e)}finally{gs(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=NM.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:function(t){t=cm(t);var e=t.queue,n=VT.bind(null,Ue,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Jg,useDeferredValue:function(t,e){var n=Xn();return ev(n,t,e)},useTransition:function(){var t=cm(!1);return t=OT.bind(null,Ue,t.queue,!0,!1),Xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Ue,i=Xn();if(rt){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),_t===null)throw Error(Y(349));Je&124||dT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,$_(mT.bind(null,r,s,t),[t]),r.flags|=2048,Vo(9,Zf(),pT.bind(null,r,s,n,e),null),n},useId:function(){var t=Xn(),e=_t.identifierPrefix;if(rt){var n=Li,r=xi;n=(r&~(1<<32-gr(r)-1)).toString(32)+n,e=""+e+"R"+n,n=Gh++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=MM++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:tv,useFormState:F_,useActionState:F_,useOptimistic:function(t){var e=Xn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=nv.bind(null,Ue,!0,n),n.dispatch=e,[t,e]},useMemoCache:Xg,useCacheRefresh:function(){return Xn().memoizedState=PM.bind(null,Ue)}},BT={readContext:Vn,use:Xf,useCallback:LT,useContext:Vn,useEffect:TT,useImperativeHandle:xT,useInsertionEffect:CT,useLayoutEffect:AT,useMemo:MT,useReducer:dh,useRef:ST,useState:function(){return dh(Ui)},useDebugValue:Jg,useDeferredValue:function(t,e){var n=Yt();return IT(n,ft.memoizedState,t,e)},useTransition:function(){var t=dh(Ui)[0],e=Yt().memoizedState;return[typeof t=="boolean"?t:nc(t),e]},useSyncExternalStore:fT,useId:PT,useHostTransitionStatus:tv,useFormState:q_,useActionState:q_,useOptimistic:function(t,e){var n=Yt();return yT(n,ft,t,e)},useMemoCache:Xg,useCacheRefresh:NT},VM={readContext:Vn,use:Xf,useCallback:LT,useContext:Vn,useEffect:TT,useImperativeHandle:xT,useInsertionEffect:CT,useLayoutEffect:AT,useMemo:MT,useReducer:Yd,useRef:ST,useState:function(){return Yd(Ui)},useDebugValue:Jg,useDeferredValue:function(t,e){var n=Yt();return ft===null?ev(n,t,e):IT(n,ft.memoizedState,t,e)},useTransition:function(){var t=Yd(Ui)[0],e=Yt().memoizedState;return[typeof t=="boolean"?t:nc(t),e]},useSyncExternalStore:fT,useId:PT,useHostTransitionStatus:tv,useFormState:G_,useActionState:G_,useOptimistic:function(t,e){var n=Yt();return ft!==null?yT(n,ft,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Xg,useCacheRefresh:NT},So=null,Tu=0;function Bc(t){var e=Tu;return Tu+=1,So===null&&(So=[]),oT(So,t,e)}function Al(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Hc(t,e){throw e.$$typeof===dL?Error(Y(525)):(t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function K_(t){var e=t._init;return e(t._payload)}function HT(t){function e(b,v){if(t){var C=b.deletions;C===null?(b.deletions=[v],b.flags|=16):C.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(b,v){return b=ki(b,v),b.index=0,b.sibling=null,b}function s(b,v,C){return b.index=C,t?(C=b.alternate,C!==null?(C=C.index,C<v?(b.flags|=67108866,v):C):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function a(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function o(b,v,C,R){return v===null||v.tag!==6?(v=Gd(C,b.mode,R),v.return=b,v):(v=i(v,C),v.return=b,v)}function l(b,v,C,R){var D=C.type;return D===ro?h(b,v,C.props.children,R,C.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===is&&K_(D)===v.type)?(v=i(v,C.props),Al(v,C),v.return=b,v):(v=hh(C.type,C.key,C.props,null,b.mode,R),Al(v,C),v.return=b,v)}function c(b,v,C,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==C.containerInfo||v.stateNode.implementation!==C.implementation?(v=$d(C,b.mode,R),v.return=b,v):(v=i(v,C.children||[]),v.return=b,v)}function h(b,v,C,R,D){return v===null||v.tag!==7?(v=da(C,b.mode,R,D),v.return=b,v):(v=i(v,C),v.return=b,v)}function p(b,v,C){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Gd(""+v,b.mode,C),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case kc:return C=hh(v.type,v.key,v.props,null,b.mode,C),Al(C,v),C.return=b,C;case Vl:return v=$d(v,b.mode,C),v.return=b,v;case is:var R=v._init;return v=R(v._payload),p(b,v,C)}if(Ul(v)||wl(v))return v=da(v,b.mode,C,null),v.return=b,v;if(typeof v.then=="function")return p(b,Bc(v),C);if(v.$$typeof===Ri)return p(b,jc(b,v),C);Hc(b,v)}return null}function d(b,v,C,R){var D=v!==null?v.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return D!==null?null:o(b,v,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case kc:return C.key===D?l(b,v,C,R):null;case Vl:return C.key===D?c(b,v,C,R):null;case is:return D=C._init,C=D(C._payload),d(b,v,C,R)}if(Ul(C)||wl(C))return D!==null?null:h(b,v,C,R,null);if(typeof C.then=="function")return d(b,v,Bc(C),R);if(C.$$typeof===Ri)return d(b,v,jc(b,C),R);Hc(b,C)}return null}function g(b,v,C,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return b=b.get(C)||null,o(v,b,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case kc:return b=b.get(R.key===null?C:R.key)||null,l(v,b,R,D);case Vl:return b=b.get(R.key===null?C:R.key)||null,c(v,b,R,D);case is:var x=R._init;return R=x(R._payload),g(b,v,C,R,D)}if(Ul(R)||wl(R))return b=b.get(C)||null,h(v,b,R,D,null);if(typeof R.then=="function")return g(b,v,C,Bc(R),D);if(R.$$typeof===Ri)return g(b,v,C,jc(v,R),D);Hc(v,R)}return null}function _(b,v,C,R){for(var D=null,x=null,T=v,E=v=0,w=null;T!==null&&E<C.length;E++){T.index>E?(w=T,T=null):w=T.sibling;var L=d(b,T,C[E],R);if(L===null){T===null&&(T=w);break}t&&T&&L.alternate===null&&e(b,T),v=s(L,v,E),x===null?D=L:x.sibling=L,x=L,T=w}if(E===C.length)return n(b,T),rt&&ia(b,E),D;if(T===null){for(;E<C.length;E++)T=p(b,C[E],R),T!==null&&(v=s(T,v,E),x===null?D=T:x.sibling=T,x=T);return rt&&ia(b,E),D}for(T=r(T);E<C.length;E++)w=g(T,b,E,C[E],R),w!==null&&(t&&w.alternate!==null&&T.delete(w.key===null?E:w.key),v=s(w,v,E),x===null?D=w:x.sibling=w,x=w);return t&&T.forEach(function(O){return e(b,O)}),rt&&ia(b,E),D}function A(b,v,C,R){if(C==null)throw Error(Y(151));for(var D=null,x=null,T=v,E=v=0,w=null,L=C.next();T!==null&&!L.done;E++,L=C.next()){T.index>E?(w=T,T=null):w=T.sibling;var O=d(b,T,L.value,R);if(O===null){T===null&&(T=w);break}t&&T&&O.alternate===null&&e(b,T),v=s(O,v,E),x===null?D=O:x.sibling=O,x=O,T=w}if(L.done)return n(b,T),rt&&ia(b,E),D;if(T===null){for(;!L.done;E++,L=C.next())L=p(b,L.value,R),L!==null&&(v=s(L,v,E),x===null?D=L:x.sibling=L,x=L);return rt&&ia(b,E),D}for(T=r(T);!L.done;E++,L=C.next())L=g(T,b,E,L.value,R),L!==null&&(t&&L.alternate!==null&&T.delete(L.key===null?E:L.key),v=s(L,v,E),x===null?D=L:x.sibling=L,x=L);return t&&T.forEach(function(k){return e(b,k)}),rt&&ia(b,E),D}function S(b,v,C,R){if(typeof C=="object"&&C!==null&&C.type===ro&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case kc:e:{for(var D=C.key;v!==null;){if(v.key===D){if(D=C.type,D===ro){if(v.tag===7){n(b,v.sibling),R=i(v,C.props.children),R.return=b,b=R;break e}}else if(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===is&&K_(D)===v.type){n(b,v.sibling),R=i(v,C.props),Al(R,C),R.return=b,b=R;break e}n(b,v);break}else e(b,v);v=v.sibling}C.type===ro?(R=da(C.props.children,b.mode,R,C.key),R.return=b,b=R):(R=hh(C.type,C.key,C.props,null,b.mode,R),Al(R,C),R.return=b,b=R)}return a(b);case Vl:e:{for(D=C.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===C.containerInfo&&v.stateNode.implementation===C.implementation){n(b,v.sibling),R=i(v,C.children||[]),R.return=b,b=R;break e}else{n(b,v);break}else e(b,v);v=v.sibling}R=$d(C,b.mode,R),R.return=b,b=R}return a(b);case is:return D=C._init,C=D(C._payload),S(b,v,C,R)}if(Ul(C))return _(b,v,C,R);if(wl(C)){if(D=wl(C),typeof D!="function")throw Error(Y(150));return C=D.call(C),A(b,v,C,R)}if(typeof C.then=="function")return S(b,v,Bc(C),R);if(C.$$typeof===Ri)return S(b,v,jc(b,C),R);Hc(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,v!==null&&v.tag===6?(n(b,v.sibling),R=i(v,C),R.return=b,b=R):(n(b,v),R=Gd(C,b.mode,R),R.return=b,b=R),a(b)):n(b,v)}return function(b,v,C,R){try{Tu=0;var D=S(b,v,C,R);return So=null,D}catch(T){if(T===tc||T===Wf)throw T;var x=pr(29,T,null,b.mode);return x.lanes=R,x.return=b,x}finally{}}}var Uo=HT(!0),FT=HT(!1),Pr=mi(null),ii=null;function ls(t){var e=t.alternate;Lt(tn,tn.current&1),Lt(Pr,t),ii===null&&(e===null||No.current!==null||e.memoizedState!==null)&&(ii=t)}function qT(t){if(t.tag===22){if(Lt(tn,tn.current),Lt(Pr,t),ii===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ii=t)}}else us()}function us(){Lt(tn,tn.current),Lt(Pr,Pr.current)}function Ii(t){mn(Pr),ii===t&&(ii=null),mn(tn)}var tn=mi(0);function Kh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Lm(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Qd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dm={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vr(),i=ws(r);i.payload=e,n!=null&&(i.callback=n),e=Ss(t,i,r),e!==null&&(yr(e,t,r),tu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vr(),i=ws(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ss(t,i,r),e!==null&&(yr(e,t,r),tu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vr(),r=ws(n);r.tag=2,e!=null&&(r.callback=e),e=Ss(t,r,n),e!==null&&(yr(e,t,n),tu(e,t,n))}};function Y_(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Eu(n,r)||!Eu(i,s):!0}function Q_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dm.enqueueReplaceState(e,e.state,null)}function Sa(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Tt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var Yh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function GT(t){Yh(t)}function $T(t){console.error(t)}function KT(t){Yh(t)}function Qh(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function W_(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function pm(t,e,n){return n=ws(n),n.tag=3,n.payload={element:null},n.callback=function(){Qh(t,e)},n}function YT(t){return t=ws(t),t.tag=3,t}function QT(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){W_(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){W_(e,n,r),typeof i!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function UM(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Ju(e,n,i,!0),n=Pr.current,n!==null){switch(n.tag){case 13:return ii===null?wm():n.alternate===null&&Ut===0&&(Ut=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===am?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),ap(t,r,i)),!1;case 22:return n.flags|=65536,r===am?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),ap(t,r,i)),!1}throw Error(Y(435,n.tag))}return ap(t,r,i),wm(),!1}if(rt)return e=Pr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==tm&&(t=Error(Y(422),{cause:r}),wu(Lr(t,n)))):(r!==tm&&(e=Error(Y(423),{cause:r}),wu(Lr(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Lr(r,n),i=pm(t.stateNode,r,i),Kd(t,i),Ut!==4&&(Ut=2)),!1;var s=Error(Y(520),{cause:r});if(s=Lr(s,n),ou===null?ou=[s]:ou.push(s),Ut!==4&&(Ut=2),e===null)return!0;r=Lr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=pm(n.stateNode,r,t),Kd(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ts===null||!Ts.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=YT(i),QT(i,t,n,r),Kd(n,i),!1}n=n.return}while(n!==null);return!1}var WT=Error(Y(461)),pn=!1;function En(t,e,n,r){e.child=t===null?FT(e,null,n,r):Uo(e,t.child,n,r)}function X_(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return Ea(e),r=$g(t,e,n,a,s,i),o=Kg(),t!==null&&!pn?(Yg(t,e,i),ji(t,e,i)):(rt&&o&&jg(e),e.flags|=1,En(t,e,r,i),e.child)}function Z_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ug(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,XT(t,e,s,r,i)):(t=hh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!rv(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Eu,n(a,r)&&t.ref===e.ref)return ji(t,e,i)}return e.flags|=1,t=ki(s,r),t.ref=e.ref,t.return=e,e.child=t}function XT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Eu(s,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=s,rv(t,i))t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,ji(t,e,i)}return mm(t,e,n,r,i)}function ZT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return J_(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&fh(e,s!==null?s.cachePool:null),s!==null?z_(e,s):um(),qT(e);else return e.lanes=e.childLanes=536870912,J_(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(fh(e,s.cachePool),z_(e,s),us(),e.memoizedState=null):(t!==null&&fh(e,null),um(),us());return En(t,e,i,n),e.child}function J_(t,e,n,r){var i=Hg();return i=i===null?null:{parent:en._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&fh(e,null),um(),qT(e),t!==null&&Ju(t,e,r,!0),null}function mh(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Y(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function mm(t,e,n,r,i){return Ea(e),n=$g(t,e,n,r,void 0,i),r=Kg(),t!==null&&!pn?(Yg(t,e,i),ji(t,e,i)):(rt&&r&&jg(e),e.flags|=1,En(t,e,n,i),e.child)}function eb(t,e,n,r,i,s){return Ea(e),e.updateQueue=null,n=hT(e,r,n,i),cT(t),r=Kg(),t!==null&&!pn?(Yg(t,e,s),ji(t,e,s)):(rt&&r&&jg(e),e.flags|=1,En(t,e,n,s),e.child)}function tb(t,e,n,r,i){if(Ea(e),e.stateNode===null){var s=ho,a=n.contextType;typeof a=="object"&&a!==null&&(s=Vn(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=dm,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},Fg(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?Vn(a):ho,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Qd(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&dm.enqueueReplaceState(s,s.state,null),ru(e,r,s,i),nu(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,l=Sa(n,o);s.props=l;var c=s.context,h=n.contextType;a=ho,typeof h=="object"&&h!==null&&(a=Vn(h));var p=n.getDerivedStateFromProps;h=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||c!==a)&&Q_(e,s,r,a),ss=!1;var d=e.memoizedState;s.state=d,ru(e,r,s,i),nu(),c=e.memoizedState,o||d!==c||ss?(typeof p=="function"&&(Qd(e,n,p,r),c=e.memoizedState),(l=ss||Y_(e,n,l,r,d,c,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,om(t,e),a=e.memoizedProps,h=Sa(n,a),s.props=h,p=e.pendingProps,d=s.context,c=n.contextType,l=ho,typeof c=="object"&&c!==null&&(l=Vn(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||d!==l)&&Q_(e,s,r,l),ss=!1,d=e.memoizedState,s.state=d,ru(e,r,s,i),nu();var g=e.memoizedState;a!==p||d!==g||ss||t!==null&&t.dependencies!==null&&Hh(t.dependencies)?(typeof o=="function"&&(Qd(e,n,o,r),g=e.memoizedState),(h=ss||Y_(e,n,h,r,d,g,l)||t!==null&&t.dependencies!==null&&Hh(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=h):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,mh(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=Uo(e,t.child,null,i),e.child=Uo(e,null,n,i)):En(t,e,n,i),e.memoizedState=s.state,t=e.child):t=ji(t,e,i),t}function nb(t,e,n,r){return Zu(),e.flags|=256,En(t,e,n,r),e.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xd(t){return{baseLanes:t,cachePool:sT()}}function Zd(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Dr),t}function JT(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(tn.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(rt){if(i?ls(e):us(),rt){var o=Vt,l;if(l=o){e:{for(l=o,o=ei;l.nodeType!==8;){if(!o){o=null;break e}if(l=Kr(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:pa!==null?{id:xi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},l=pr(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,Fn=e,Vt=null,l=!0):l=!1}l||ba(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Lm(o)?e.lanes=32:e.lanes=536870912,null;Ii(e)}return o=r.children,r=r.fallback,i?(us(),i=e.mode,o=Wh({mode:"hidden",children:o},i),r=da(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,i=e.child,i.memoizedState=Xd(n),i.childLanes=Zd(t,a,n),e.memoizedState=Wd,r):(ls(e),gm(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(ls(e),e.flags&=-257,e=Jd(t,e,n)):e.memoizedState!==null?(us(),e.child=t.child,e.flags|=128,e=null):(us(),i=r.fallback,o=e.mode,r=Wh({mode:"visible",children:r.children},o),i=da(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Uo(e,t.child,null,n),r=e.child,r.memoizedState=Xd(n),r.childLanes=Zd(t,a,n),e.memoizedState=Wd,e=i);else if(ls(e),Lm(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(Y(419)),r.stack="",r.digest=a,wu({value:r,source:null,stack:null}),e=Jd(t,e,n)}else if(pn||Ju(t,e,n,!1),a=(n&t.childLanes)!==0,pn||a){if(a=_t,a!==null&&(r=n&-n,r=r&42?1:Rg(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,tl(t,r),yr(a,t,r),WT;o.data==="$?"||wm(),e=Jd(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Vt=Kr(o.nextSibling),Fn=e,rt=!0,ma=null,ei=!1,t!==null&&(Ar[Rr++]=xi,Ar[Rr++]=Li,Ar[Rr++]=pa,xi=t.id,Li=t.overflow,pa=e),e=gm(e,r.children),e.flags|=4096);return e}return i?(us(),i=r.fallback,o=e.mode,l=t.child,c=l.sibling,r=ki(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?i=ki(c,i):(i=da(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o===null?o=Xd(n):(l=o.cachePool,l!==null?(c=en._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=sT(),o={baseLanes:o.baseLanes|n,cachePool:l}),i.memoizedState=o,i.childLanes=Zd(t,a,n),e.memoizedState=Wd,r):(ls(e),n=t.child,t=n.sibling,n=ki(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function gm(t,e){return e=Wh({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Wh(t,e){return t=pr(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Jd(t,e,n){return Uo(e,t.child,null,n),t=gm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rm(t.return,e,n)}function ep(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function eC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(En(t,e,r.children,n),r=tn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rb(t,n,e);else if(t.tag===19)rb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Lt(tn,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ep(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ep(e,!0,n,null,s);break;case"together":ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ji(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vs|=e.lanes,!(n&e.childLanes))if(t!==null){if(Ju(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rv(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Hh(t)))}function jM(t,e,n){switch(e.tag){case 3:kh(e,e.stateNode.containerInfo),os(e,en,t.memoizedState.cache),Zu();break;case 27:case 5:Gp(e);break;case 4:kh(e,e.stateNode.containerInfo);break;case 10:os(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(ls(e),e.flags|=128,null):n&e.child.childLanes?JT(t,e,n):(ls(e),t=ji(t,e,n),t!==null?t.sibling:null);ls(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Ju(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return eC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Lt(tn,tn.current),r)break;return null;case 22:case 23:return e.lanes=0,ZT(t,e,n);case 24:os(e,en,t.memoizedState.cache)}return ji(t,e,n)}function tC(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)pn=!0;else{if(!rv(t,n)&&!(e.flags&128))return pn=!1,jM(t,e,n);pn=!!(t.flags&131072)}else pn=!1,rt&&e.flags&1048576&&rT(e,Bh,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")Ug(r)?(t=Sa(r,t),e.tag=1,e=tb(null,e,r,t,n)):(e.tag=0,e=mm(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===Tg){e.tag=11,e=X_(null,e,r,t,n);break e}else if(i===Cg){e.tag=14,e=Z_(null,e,r,t,n);break e}}throw e=Fp(r)||r,Error(Y(306,e,""))}}return e;case 0:return mm(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Sa(r,e.pendingProps),tb(t,e,r,i,n);case 3:e:{if(kh(e,e.stateNode.containerInfo),t===null)throw Error(Y(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,om(t,e),ru(e,r,null,n);var a=e.memoizedState;if(r=a.cache,os(e,en,r),r!==s.cache&&im(e,[en],n,!0),nu(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=nb(t,e,r,n);break e}else if(r!==i){i=Lr(Error(Y(424)),e),wu(i),e=nb(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Vt=Kr(t.firstChild),Fn=e,rt=!0,ma=null,ei=!0,n=FT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Zu(),r===i){e=ji(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 26:return mh(t,e),t===null?(n=bb(e.type,null,e.pendingProps,null))?e.memoizedState=n:rt||(n=e.type,t=e.pendingProps,r=rf(Es.current).createElement(n),r[Nn]=e,r[tr]=t,An(r,n,t),dn(r),e.stateNode=r):e.memoizedState=bb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Gp(e),t===null&&rt&&(r=e.stateNode=BC(e.type,e.pendingProps,Es.current),Fn=e,ei=!0,i=Vt,Ys(e.type)?(Mm=i,Vt=Kr(r.firstChild)):Vt=i),En(t,e,e.pendingProps.children,n),mh(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&rt&&((i=r=Vt)&&(r=dI(r,e.type,e.pendingProps,ei),r!==null?(e.stateNode=r,Fn=e,Vt=Kr(r.firstChild),ei=!1,i=!0):i=!1),i||ba(e)),Gp(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,Rm(i,s)?r=null:a!==null&&Rm(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=$g(t,e,IM,null,null,n),xu._currentValue=i),mh(t,e),En(t,e,r,n),e.child;case 6:return t===null&&rt&&((t=n=Vt)&&(n=pI(n,e.pendingProps,ei),n!==null?(e.stateNode=n,Fn=e,Vt=null,t=!0):t=!1),t||ba(e)),null;case 13:return JT(t,e,n);case 4:return kh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uo(e,null,r,n):En(t,e,r,n),e.child;case 11:return X_(t,e,e.type,e.pendingProps,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,os(e,e.type,r.value),En(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Ea(e),i=Vn(i),r=r(i),e.flags|=1,En(t,e,r,n),e.child;case 14:return Z_(t,e,e.type,e.pendingProps,n);case 15:return XT(t,e,e.type,e.pendingProps,n);case 19:return eC(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Wh(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=ki(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return ZT(t,e,n);case 24:return Ea(e),r=Vn(en),t===null?(i=Hg(),i===null&&(i=_t,s=Bg(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},Fg(e),os(e,en,i)):(t.lanes&n&&(om(t,e),ru(e,null,null,n),nu()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),os(e,en,r)):(r=s.cache,os(e,en,r),r!==i.cache&&im(e,[en],n,!0))),En(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Y(156,e.tag))}function wi(t){t.flags|=4}function ib(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!qC(e)){if(e=Pr.current,e!==null&&((Je&4194048)===Je?ii!==null:(Je&62914560)!==Je&&!(Je&536870912)||e!==ii))throw eu=am,aT;t.flags|=8192}}function Fc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?RS():536870912,t.lanes|=e,jo|=e)}function Rl(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zM(t,e,n){var r=e.pendingProps;switch(zg(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return It(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Pi(en),Oo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Cl(e)?wi(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,k_())),It(e),null;case 26:return n=e.memoizedState,t===null?(wi(e),n!==null?(It(e),ib(e,n)):(It(e),e.flags&=-16777217)):n?n!==t.memoizedState?(wi(e),It(e),ib(e,n)):(It(e),e.flags&=-16777217):(t.memoizedProps!==r&&wi(e),It(e),e.flags&=-16777217),null;case 27:Ph(e),n=Es.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&wi(e);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return It(e),null}t=ni.current,Cl(e)?O_(e):(t=BC(i,r,n),e.stateNode=t,wi(e))}return It(e),null;case 5:if(Ph(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&wi(e);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return It(e),null}if(t=ni.current,Cl(e))O_(e);else{switch(i=rf(Es.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[Nn]=e,t[tr]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(An(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&wi(e)}}return It(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&wi(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(t=Es.current,Cl(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Fn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Nn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||UC(t.nodeValue,n)),t||ba(e)}else t=rf(t).createTextNode(r),t[Nn]=e,e.stateNode=t}return It(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Cl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Nn]=e}else Zu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),i=!1}else i=k_(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Ii(e),e):(Ii(e),null)}if(Ii(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Fc(e,e.updateQueue),It(e),null;case 4:return Oo(),t===null&&hv(e.stateNode.containerInfo),It(e),null;case 10:return Pi(e.type),It(e),null;case 19:if(mn(tn),i=e.memoizedState,i===null)return It(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Rl(i,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Kh(t),s!==null){for(e.flags|=128,Rl(i,!1),t=s.updateQueue,e.updateQueue=t,Fc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)nT(n,t),n=n.sibling;return Lt(tn,tn.current&1|2),e.child}t=t.sibling}i.tail!==null&&ri()>Zh&&(e.flags|=128,r=!0,Rl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Kh(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Fc(e,t),Rl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!rt)return It(e),null}else 2*ri()-i.renderingStartTime>Zh&&n!==536870912&&(e.flags|=128,r=!0,Rl(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ri(),e.sibling=null,t=tn.current,Lt(tn,r?t&1|2:t&1),e):(It(e),null);case 22:case 23:return Ii(e),qg(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),n=e.updateQueue,n!==null&&Fc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&mn(ga),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Pi(en),It(e),null;case 25:return null;case 30:return null}throw Error(Y(156,e.tag))}function BM(t,e){switch(zg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pi(en),Oo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ph(e),null;case 13:if(Ii(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Zu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mn(tn),null;case 4:return Oo(),null;case 10:return Pi(e.type),null;case 22:case 23:return Ii(e),qg(),t!==null&&mn(ga),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Pi(en),null;case 25:return null;default:return null}}function nC(t,e){switch(zg(e),e.tag){case 3:Pi(en),Oo();break;case 26:case 27:case 5:Ph(e);break;case 4:Oo();break;case 13:Ii(e);break;case 19:mn(tn);break;case 10:Pi(e.type);break;case 22:case 23:Ii(e),qg(),t!==null&&mn(ga);break;case 24:Pi(en)}}function ic(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){gt(e,e.return,o)}}function Ns(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var l=n,c=o;try{c()}catch(h){gt(i,l,h)}}}r=r.next}while(r!==s)}}catch(h){gt(e,e.return,h)}}function rC(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{uT(e,n)}catch(r){gt(t,t.return,r)}}}function iC(t,e,n){n.props=Sa(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){gt(t,e,r)}}function su(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){gt(t,e,i)}}function ti(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){gt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){gt(t,e,i)}else n.current=null}function sC(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){gt(t,t.return,i)}}function tp(t,e,n){try{var r=t.stateNode;lI(r,t.type,n,e),r[tr]=e}catch(i){gt(t,t.return,i)}}function aC(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function np(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rd));else if(r!==4&&(r===27&&Ys(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(vm(t,e,n),t=t.sibling;t!==null;)vm(t,e,n),t=t.sibling}function Xh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Ys(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Xh(t,e,n),t=t.sibling;t!==null;)Xh(t,e,n),t=t.sibling}function oC(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);An(e,r,n),e[Nn]=t,e[tr]=n}catch(s){gt(t,t.return,s)}}var Ci=!1,Bt=!1,rp=!1,sb=typeof WeakSet=="function"?WeakSet:Set,fn=null;function HM(t,e){if(t=t.containerInfo,Cm=lf,t=YS(t),Pg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,h=0,p=t,d=null;t:for(;;){for(var g;p!==n||i!==0&&p.nodeType!==3||(o=a+i),p!==s||r!==0&&p.nodeType!==3||(l=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)d=p,p=g;for(;;){if(p===t)break t;if(d===n&&++c===i&&(o=a),d===s&&++h===r&&(l=a),(g=p.nextSibling)!==null)break;p=d,d=p.parentNode}p=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Am={focusedElem:t,selectionRange:n},lf=!1,fn=e;fn!==null;)if(e=fn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,fn=t;else for(;fn!==null;){switch(e=fn,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var _=Sa(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(_,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(A){gt(n,n.return,A)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)xm(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Y(163))}if(t=e.sibling,t!==null){t.return=e.return,fn=t;break}fn=e.return}}function lC(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Zi(t,n),r&4&&ic(5,n);break;case 1:if(Zi(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){gt(n,n.return,a)}else{var i=Sa(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){gt(n,n.return,a)}}r&64&&rC(n),r&512&&su(n,n.return);break;case 3:if(Zi(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{uT(t,e)}catch(a){gt(n,n.return,a)}}break;case 27:e===null&&r&4&&oC(n);case 26:case 5:Zi(t,n),e===null&&r&4&&sC(n),r&512&&su(n,n.return);break;case 12:Zi(t,n);break;case 13:Zi(t,n),r&4&&hC(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=XM.bind(null,n),mI(t,n))));break;case 22:if(r=n.memoizedState!==null||Ci,!r){e=e!==null&&e.memoizedState!==null||Bt,i=Ci;var s=Bt;Ci=r,(Bt=e)&&!s?ts(t,n,(n.subtreeFlags&8772)!==0):Zi(t,n),Ci=i,Bt=s}break;case 30:break;default:Zi(t,n)}}function uC(t){var e=t.alternate;e!==null&&(t.alternate=null,uC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Lg(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Zn=!1;function Si(t,e,n){for(n=n.child;n!==null;)cC(t,e,n),n=n.sibling}function cC(t,e,n){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(Ku,n)}catch{}switch(n.tag){case 26:Bt||ti(n,e),Si(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Bt||ti(n,e);var r=Rt,i=Zn;Ys(n.type)&&(Rt=n.stateNode,Zn=!1),Si(t,e,n),uu(n.stateNode),Rt=r,Zn=i;break;case 5:Bt||ti(n,e);case 6:if(r=Rt,i=Zn,Rt=null,Si(t,e,n),Rt=r,Zn=i,Rt!==null)if(Zn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(n.stateNode)}catch(s){gt(n,e,s)}else try{Rt.removeChild(n.stateNode)}catch(s){gt(n,e,s)}break;case 18:Rt!==null&&(Zn?(t=Rt,vb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Iu(t)):vb(Rt,n.stateNode));break;case 4:r=Rt,i=Zn,Rt=n.stateNode.containerInfo,Zn=!0,Si(t,e,n),Rt=r,Zn=i;break;case 0:case 11:case 14:case 15:Bt||Ns(2,n,e),Bt||Ns(4,n,e),Si(t,e,n);break;case 1:Bt||(ti(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&iC(n,e,r)),Si(t,e,n);break;case 21:Si(t,e,n);break;case 22:Bt=(r=Bt)||n.memoizedState!==null,Si(t,e,n),Bt=r;break;default:Si(t,e,n)}}function hC(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Iu(t)}catch(n){gt(e,e.return,n)}}function FM(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new sb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new sb),e;default:throw Error(Y(435,t.tag))}}function ip(t,e){var n=FM(t);e.forEach(function(r){var i=ZM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Ys(o.type)){Rt=o.stateNode,Zn=!1;break e}break;case 5:Rt=o.stateNode,Zn=!1;break e;case 3:case 4:Rt=o.stateNode.containerInfo,Zn=!0;break e}o=o.return}if(Rt===null)throw Error(Y(160));cC(s,a,i),Rt=null,Zn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)fC(e,t),e=e.sibling}var qr=null;function fC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:lr(e,t),ur(t),r&4&&(Ns(3,t,t.return),ic(3,t),Ns(5,t,t.return));break;case 1:lr(e,t),ur(t),r&512&&(Bt||n===null||ti(n,n.return)),r&64&&Ci&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=qr;if(lr(e,t),ur(t),r&512&&(Bt||n===null||ti(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Wu]||s[Nn]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),An(s,r,n),s[Nn]=t,dn(s),r=s;break e;case"link":var a=wb("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),An(s,r,n),i.head.appendChild(s);break;case"meta":if(a=wb("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),An(s,r,n),i.head.appendChild(s);break;default:throw Error(Y(468,r))}s[Nn]=t,dn(s),r=s}t.stateNode=r}else Sb(i,t.type,t.stateNode);else t.stateNode=Eb(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?Sb(i,t.type,t.stateNode):Eb(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&tp(t,t.memoizedProps,n.memoizedProps)}break;case 27:lr(e,t),ur(t),r&512&&(Bt||n===null||ti(n,n.return)),n!==null&&r&4&&tp(t,t.memoizedProps,n.memoizedProps);break;case 5:if(lr(e,t),ur(t),r&512&&(Bt||n===null||ti(n,n.return)),t.flags&32){i=t.stateNode;try{ko(i,"")}catch(g){gt(t,t.return,g)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,tp(t,i,n!==null?n.memoizedProps:i)),r&1024&&(rp=!0);break;case 6:if(lr(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(Y(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(g){gt(t,t.return,g)}}break;case 3:if(yh=null,i=qr,qr=sf(e.containerInfo),lr(e,t),qr=i,ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(e.containerInfo)}catch(g){gt(t,t.return,g)}rp&&(rp=!1,dC(t));break;case 4:r=qr,qr=sf(t.stateNode.containerInfo),lr(e,t),ur(t),qr=r;break;case 12:lr(e,t),ur(t);break;case 13:lr(e,t),ur(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(lv=ri()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ip(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Ci,h=Bt;if(Ci=c||i,Bt=h||l,lr(e,t),Bt=h,Ci=c,ur(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Ci||Bt||sa(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(s=l.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var p=l.memoizedProps.style,d=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(g){gt(l,l.return,g)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){gt(l,l.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ip(t,n))));break;case 19:lr(e,t),ur(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ip(t,r)));break;case 30:break;case 21:break;default:lr(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(aC(r)){n=r;break}r=r.return}if(n==null)throw Error(Y(160));switch(n.tag){case 27:var i=n.stateNode,s=np(t);Xh(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(ko(a,""),n.flags&=-33);var o=np(t);Xh(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=np(t);vm(t,c,l);break;default:throw Error(Y(161))}}catch(h){gt(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dC(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;dC(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Zi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)lC(t,e.alternate,e),e=e.sibling}function sa(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ns(4,e,e.return),sa(e);break;case 1:ti(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&iC(e,e.return,n),sa(e);break;case 27:uu(e.stateNode);case 26:case 5:ti(e,e.return),sa(e);break;case 22:e.memoizedState===null&&sa(e);break;case 30:sa(e);break;default:sa(e)}t=t.sibling}}function ts(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:ts(i,s,n),ic(4,s);break;case 1:if(ts(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){gt(r,r.return,c)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)lT(l[i],o)}catch(c){gt(r,r.return,c)}}n&&a&64&&rC(s),su(s,s.return);break;case 27:oC(s);case 26:case 5:ts(i,s,n),n&&r===null&&a&4&&sC(s),su(s,s.return);break;case 12:ts(i,s,n);break;case 13:ts(i,s,n),n&&a&4&&hC(i,s);break;case 22:s.memoizedState===null&&ts(i,s,n),su(s,s.return);break;case 30:break;default:ts(i,s,n)}e=e.sibling}}function iv(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ec(n))}function sv(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ec(t))}function Zr(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pC(t,e,n,r),e=e.sibling}function pC(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Zr(t,e,n,r),i&2048&&ic(9,e);break;case 1:Zr(t,e,n,r);break;case 3:Zr(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ec(t)));break;case 12:if(i&2048){Zr(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){gt(e,e.return,l)}}else Zr(t,e,n,r);break;case 13:Zr(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?Zr(t,e,n,r):au(t,e):s._visibility&2?Zr(t,e,n,r):(s._visibility|=2,Wa(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&iv(a,e);break;case 24:Zr(t,e,n,r),i&2048&&sv(e.alternate,e);break;default:Zr(t,e,n,r)}}function Wa(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Wa(s,a,o,l,i),ic(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Wa(s,a,o,l,i):au(s,a):(h._visibility|=2,Wa(s,a,o,l,i)),i&&c&2048&&iv(a.alternate,a);break;case 24:Wa(s,a,o,l,i),i&&c&2048&&sv(a.alternate,a);break;default:Wa(s,a,o,l,i)}e=e.sibling}}function au(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:au(n,r),i&2048&&iv(r.alternate,r);break;case 24:au(n,r),i&2048&&sv(r.alternate,r);break;default:au(n,r)}e=e.sibling}}var zl=8192;function Ga(t){if(t.subtreeFlags&zl)for(t=t.child;t!==null;)mC(t),t=t.sibling}function mC(t){switch(t.tag){case 26:Ga(t),t.flags&zl&&t.memoizedState!==null&&xI(qr,t.memoizedState,t.memoizedProps);break;case 5:Ga(t);break;case 3:case 4:var e=qr;qr=sf(t.stateNode.containerInfo),Ga(t),qr=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=zl,zl=16777216,Ga(t),zl=e):Ga(t));break;default:Ga(t)}}function gC(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function xl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];fn=r,yC(r,t)}gC(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vC(t),t=t.sibling}function vC(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&Ns(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,gh(t)):xl(t);break;default:xl(t)}}function gh(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];fn=r,yC(r,t)}gC(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ns(8,e,e.return),gh(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,gh(e));break;default:gh(e)}t=t.sibling}}function yC(t,e){for(;fn!==null;){var n=fn;switch(n.tag){case 0:case 11:case 15:Ns(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ec(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,fn=r;else e:for(n=t;fn!==null;){r=fn;var i=r.sibling,s=r.return;if(uC(r),r===n){fn=null;break e}if(i!==null){i.return=s,fn=i;break e}fn=s}}}var qM={getCacheForType:function(t){var e=Vn(en),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},GM=typeof WeakMap=="function"?WeakMap:Map,ut=0,_t=null,Fe=null,Je=0,lt=0,cr=null,ys=!1,nl=!1,av=!1,zi=0,Ut=0,Vs=0,va=0,ov=0,Dr=0,jo=0,ou=null,Jn=null,ym=!1,lv=0,Zh=1/0,Jh=null,Ts=null,Tn=0,Cs=null,zo=null,To=0,_m=0,bm=null,_C=null,lu=0,Em=null;function vr(){if(ut&2&&Je!==0)return Je&-Je;if(Ae.T!==null){var t=Po;return t!==0?t:cv()}return MS()}function bC(){Dr===0&&(Dr=!(Je&536870912)||rt?AS():536870912);var t=Pr.current;return t!==null&&(t.flags|=32),Dr}function yr(t,e,n){(t===_t&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(Bo(t,0),_s(t,Je,Dr,!1)),Qu(t,n),(!(ut&2)||t!==_t)&&(t===_t&&(!(ut&2)&&(va|=n),Ut===4&&_s(t,Je,Dr,!1)),gi(t))}function EC(t,e,n){if(ut&6)throw Error(Y(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Yu(t,e),i=r?YM(t,e):sp(t,e,!0),s=r;do{if(i===0){nl&&!r&&_s(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!$M(n)){i=sp(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=ou;var l=o.current.memoizedState.isDehydrated;if(l&&(Bo(o,a).flags|=256),a=sp(o,a,!1),a!==2){if(av&&!l){o.errorRecoveryDisabledLanes|=s,va|=s,i=4;break e}s=Jn,Jn=i,s!==null&&(Jn===null?Jn=s:Jn.push.apply(Jn,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Bo(t,0),_s(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(Y(345));case 4:if((e&4194048)!==e)break;case 6:_s(r,e,Dr,!ys);break e;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(Y(329))}if((e&62914560)===e&&(i=lv+300-ri(),10<i)){if(_s(r,e,Dr,!ys),qf(r,0,!0)!==0)break e;r.timeoutHandle=zC(ab.bind(null,r,n,Jn,Jh,ym,e,Dr,va,jo,ys,s,2,-0,0),i);break e}ab(r,n,Jn,Jh,ym,e,Dr,va,jo,ys,s,0,-0,0)}}break}while(!0);gi(t)}function ab(t,e,n,r,i,s,a,o,l,c,h,p,d,g){if(t.timeoutHandle=-1,p=e.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(Ru={stylesheets:null,count:0,unsuspend:RI},mC(e),p=LI(),p!==null)){t.cancelPendingCommit=p(lb.bind(null,t,e,s,n,r,i,a,o,l,h,1,d,g)),_s(t,s,a,!c);return}lb(t,e,s,n,r,i,a,o,l)}function $M(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_r(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _s(t,e,n,r){e&=~ov,e&=~va,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-gr(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&xS(t,n,e)}function ed(){return ut&6?!0:(sc(0),!1)}function uv(){if(Fe!==null){if(lt===0)var t=Fe.return;else t=Fe,Mi=ka=null,Qg(t),So=null,Tu=0,t=Fe;for(;t!==null;)nC(t.alternate,t),t=t.return;Fe=null}}function Bo(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,cI(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),uv(),_t=t,Fe=n=ki(t.current,null),Je=e,lt=0,cr=null,ys=!1,nl=Yu(t,e),av=!1,jo=Dr=ov=va=Vs=Ut=0,Jn=ou=null,ym=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-gr(r),s=1<<i;e|=t[i],r&=~s}return zi=e,Yf(),n}function wC(t,e){Ue=null,Ae.H=$h,e===tc||e===Wf?(e=U_(),lt=3):e===aT?(e=U_(),lt=4):lt=e===WT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,cr=e,Fe===null&&(Ut=1,Qh(t,Lr(e,t.current)))}function SC(){var t=Ae.H;return Ae.H=$h,t===null?$h:t}function TC(){var t=Ae.A;return Ae.A=qM,t}function wm(){Ut=4,ys||(Je&4194048)!==Je&&Pr.current!==null||(nl=!0),!(Vs&134217727)&&!(va&134217727)||_t===null||_s(_t,Je,Dr,!1)}function sp(t,e,n){var r=ut;ut|=2;var i=SC(),s=TC();(_t!==t||Je!==e)&&(Jh=null,Bo(t,e)),e=!1;var a=Ut;e:do try{if(lt!==0&&Fe!==null){var o=Fe,l=cr;switch(lt){case 8:uv(),a=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(e=!0);var c=lt;if(lt=0,cr=null,mo(t,o,l,c),n&&nl){a=0;break e}break;default:c=lt,lt=0,cr=null,mo(t,o,l,c)}}KM(),a=Ut;break}catch(h){wC(t,h)}while(!0);return e&&t.shellSuspendCounter++,Mi=ka=null,ut=r,Ae.H=i,Ae.A=s,Fe===null&&(_t=null,Je=0,Yf()),a}function KM(){for(;Fe!==null;)CC(Fe)}function YM(t,e){var n=ut;ut|=2;var r=SC(),i=TC();_t!==t||Je!==e?(Jh=null,Zh=ri()+500,Bo(t,e)):nl=Yu(t,e);e:do try{if(lt!==0&&Fe!==null){e=Fe;var s=cr;t:switch(lt){case 1:lt=0,cr=null,mo(t,e,s,1);break;case 2:case 9:if(V_(s)){lt=0,cr=null,ob(e);break}e=function(){lt!==2&&lt!==9||_t!==t||(lt=7),gi(t)},s.then(e,e);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:V_(s)?(lt=0,cr=null,ob(e)):(lt=0,cr=null,mo(t,e,s,7));break;case 5:var a=null;switch(Fe.tag){case 26:a=Fe.memoizedState;case 5:case 27:var o=Fe;if(!a||qC(a)){lt=0,cr=null;var l=o.sibling;if(l!==null)Fe=l;else{var c=o.return;c!==null?(Fe=c,td(c)):Fe=null}break t}}lt=0,cr=null,mo(t,e,s,5);break;case 6:lt=0,cr=null,mo(t,e,s,6);break;case 8:uv(),Ut=6;break e;default:throw Error(Y(462))}}QM();break}catch(h){wC(t,h)}while(!0);return Mi=ka=null,Ae.H=r,Ae.A=i,ut=n,Fe!==null?0:(_t=null,Je=0,Yf(),Ut)}function QM(){for(;Fe!==null&&!vL();)CC(Fe)}function CC(t){var e=tC(t.alternate,t,zi);t.memoizedProps=t.pendingProps,e===null?td(t):Fe=e}function ob(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=eb(n,e,e.pendingProps,e.type,void 0,Je);break;case 11:e=eb(n,e,e.pendingProps,e.type.render,e.ref,Je);break;case 5:Qg(e);default:nC(n,e),e=Fe=nT(e,zi),e=tC(n,e,zi)}t.memoizedProps=t.pendingProps,e===null?td(t):Fe=e}function mo(t,e,n,r){Mi=ka=null,Qg(e),So=null,Tu=0;var i=e.return;try{if(UM(t,i,e,n,Je)){Ut=1,Qh(t,Lr(n,t.current)),Fe=null;return}}catch(s){if(i!==null)throw Fe=i,s;Ut=1,Qh(t,Lr(n,t.current)),Fe=null;return}e.flags&32768?(rt||r===1?t=!0:nl||Je&536870912?t=!1:(ys=t=!0,(r===2||r===9||r===3||r===6)&&(r=Pr.current,r!==null&&r.tag===13&&(r.flags|=16384))),AC(e,t)):td(e)}function td(t){var e=t;do{if(e.flags&32768){AC(e,ys);return}t=e.return;var n=zM(e.alternate,e,zi);if(n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Ut===0&&(Ut=5)}function AC(t,e){do{var n=BM(t.alternate,t);if(n!==null){n.flags&=32767,Fe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=n}while(t!==null);Ut=6,Fe=null}function lb(t,e,n,r,i,s,a,o,l){t.cancelPendingCommit=null;do nd();while(Tn!==0);if(ut&6)throw Error(Y(327));if(e!==null){if(e===t.current)throw Error(Y(177));if(s=e.lanes|e.childLanes,s|=Ng,RL(t,n,s,a,o,l),t===_t&&(Fe=_t=null,Je=0),zo=e,Cs=t,To=n,_m=s,bm=i,_C=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,JM(Nh,function(){return IC(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Ae.T,Ae.T=null,i=it.p,it.p=2,a=ut,ut|=4;try{HM(t,e,n)}finally{ut=a,it.p=i,Ae.T=r}}Tn=1,RC(),xC(),LC()}}function RC(){if(Tn===1){Tn=0;var t=Cs,e=zo,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Ae.T,Ae.T=null;var r=it.p;it.p=2;var i=ut;ut|=4;try{fC(e,t);var s=Am,a=YS(t.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&KS(o.ownerDocument.documentElement,o)){if(l!==null&&Pg(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var p=o.ownerDocument||document,d=p&&p.defaultView||window;if(d.getSelection){var g=d.getSelection(),_=o.textContent.length,A=Math.min(l.start,_),S=l.end===void 0?A:Math.min(l.end,_);!g.extend&&A>S&&(a=S,S=A,A=a);var b=L_(o,A),v=L_(o,S);if(b&&v&&(g.rangeCount!==1||g.anchorNode!==b.node||g.anchorOffset!==b.offset||g.focusNode!==v.node||g.focusOffset!==v.offset)){var C=p.createRange();C.setStart(b.node,b.offset),g.removeAllRanges(),A>S?(g.addRange(C),g.extend(v.node,v.offset)):(C.setEnd(v.node,v.offset),g.addRange(C))}}}}for(p=[],g=o;g=g.parentNode;)g.nodeType===1&&p.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var R=p[o];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}lf=!!Cm,Am=Cm=null}finally{ut=i,it.p=r,Ae.T=n}}t.current=e,Tn=2}}function xC(){if(Tn===2){Tn=0;var t=Cs,e=zo,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Ae.T,Ae.T=null;var r=it.p;it.p=2;var i=ut;ut|=4;try{lC(t,e.alternate,e)}finally{ut=i,it.p=r,Ae.T=n}}Tn=3}}function LC(){if(Tn===4||Tn===3){Tn=0,yL();var t=Cs,e=zo,n=To,r=_C;e.subtreeFlags&10256||e.flags&10256?Tn=5:(Tn=0,zo=Cs=null,MC(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Ts=null),xg(n),e=e.stateNode,mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(Ku,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Ae.T,i=it.p,it.p=2,Ae.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{Ae.T=e,it.p=i}}To&3&&nd(),gi(t),i=t.pendingLanes,n&4194090&&i&42?t===Em?lu++:(lu=0,Em=t):lu=0,sc(0)}}function MC(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ec(e)))}function nd(t){return RC(),xC(),LC(),IC()}function IC(){if(Tn!==5)return!1;var t=Cs,e=_m;_m=0;var n=xg(To),r=Ae.T,i=it.p;try{it.p=32>n?32:n,Ae.T=null,n=bm,bm=null;var s=Cs,a=To;if(Tn=0,zo=Cs=null,To=0,ut&6)throw Error(Y(331));var o=ut;if(ut|=4,vC(s.current),pC(s,s.current,a,n),ut=o,sc(0,!1),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(Ku,s)}catch{}return!0}finally{it.p=i,Ae.T=r,MC(t,e)}}function ub(t,e,n){e=Lr(n,e),e=pm(t.stateNode,e,2),t=Ss(t,e,2),t!==null&&(Qu(t,2),gi(t))}function gt(t,e,n){if(t.tag===3)ub(t,t,n);else for(;e!==null;){if(e.tag===3){ub(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ts===null||!Ts.has(r))){t=Lr(n,t),n=YT(2),r=Ss(e,n,2),r!==null&&(QT(n,r,e,t),Qu(r,2),gi(r));break}}e=e.return}}function ap(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new GM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(av=!0,i.add(n),t=WM.bind(null,t,e,n),e.then(t,t))}function WM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,_t===t&&(Je&n)===n&&(Ut===4||Ut===3&&(Je&62914560)===Je&&300>ri()-lv?!(ut&2)&&Bo(t,0):ov|=n,jo===Je&&(jo=0)),gi(t)}function OC(t,e){e===0&&(e=RS()),t=tl(t,e),t!==null&&(Qu(t,e),gi(t))}function XM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),OC(t,n)}function ZM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(Y(314))}r!==null&&r.delete(e),OC(t,n)}function JM(t,e){return Ag(t,e)}var ef=null,Xa=null,Sm=!1,tf=!1,op=!1,ya=0;function gi(t){t!==Xa&&t.next===null&&(Xa===null?ef=Xa=t:Xa=Xa.next=t),tf=!0,Sm||(Sm=!0,tI())}function sc(t,e){if(!op&&tf){op=!0;do for(var n=!1,r=ef;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-gr(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,cb(r,s))}else s=Je,s=qf(r,r===_t?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||Yu(r,s)||(n=!0,cb(r,s));r=r.next}while(n);op=!1}}function eI(){DC()}function DC(){tf=Sm=!1;var t=0;ya!==0&&(uI()&&(t=ya),ya=0);for(var e=ri(),n=null,r=ef;r!==null;){var i=r.next,s=kC(r,e);s===0?(r.next=null,n===null?ef=i:n.next=i,i===null&&(Xa=n)):(n=r,(t!==0||s&3)&&(tf=!0)),r=i}sc(t)}function kC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-gr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=AL(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(e=_t,n=Je,n=qf(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Dd(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Yu(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Dd(r),xg(n)){case 2:case 8:n=TS;break;case 32:n=Nh;break;case 268435456:n=CS;break;default:n=Nh}return r=PC.bind(null,t),n=Ag(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Dd(r),t.callbackPriority=2,t.callbackNode=null,2}function PC(t,e){if(Tn!==0&&Tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(nd()&&t.callbackNode!==n)return null;var r=Je;return r=qf(t,t===_t?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(EC(t,r,e),kC(t,ri()),t.callbackNode!=null&&t.callbackNode===n?PC.bind(null,t):null)}function cb(t,e){if(nd())return null;EC(t,e,!0)}function tI(){hI(function(){ut&6?Ag(SS,eI):DC()})}function cv(){return ya===0&&(ya=AS()),ya}function hb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:lh(""+t)}function fb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function nI(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=hb((i[tr]||null).action),a=r.submitter;a&&(e=(e=a[tr]||null)?hb(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new Gf("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ya!==0){var l=a?fb(i,a):new FormData(i);fm(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?fb(i,a):new FormData(i),fm(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(var lp=0;lp<em.length;lp++){var up=em[lp],rI=up.toLowerCase(),iI=up[0].toUpperCase()+up.slice(1);Qr(rI,"on"+iI)}Qr(WS,"onAnimationEnd");Qr(XS,"onAnimationIteration");Qr(ZS,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(EM,"onTransitionRun");Qr(wM,"onTransitionStart");Qr(SM,"onTransitionCancel");Qr(JS,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function NC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(h){Yh(h)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(h){Yh(h)}i.currentTarget=null,s=l}}}}function He(t,e){var n=e[Kp];n===void 0&&(n=e[Kp]=new Set);var r=t+"__bubble";n.has(r)||(VC(e,t,2,!1),n.add(r))}function cp(t,e,n){var r=0;e&&(r|=4),VC(n,t,r,e)}var qc="_reactListening"+Math.random().toString(36).slice(2);function hv(t){if(!t[qc]){t[qc]=!0,IS.forEach(function(n){n!=="selectionchange"&&(sI.has(n)||cp(n,!1,t),cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qc]||(e[qc]=!0,cp("selectionchange",!1,e))}}function VC(t,e,n,r){switch(QC(e)){case 2:var i=OI;break;case 8:i=DI;break;default:i=mv}n=i.bind(null,e,n,t),i=void 0,!Xp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=so(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=s=a;continue e}o=o.parentNode}}r=r.return}jS(function(){var c=s,h=Ig(n),p=[];e:{var d=eT.get(t);if(d!==void 0){var g=Gf,_=t;switch(t){case"keypress":if(ch(n)===0)break e;case"keydown":case"keyup":g=JL;break;case"focusin":_="focus",g=Bd;break;case"focusout":_="blur",g=Bd;break;case"beforeblur":case"afterblur":g=Bd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=__;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=BL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=nM;break;case WS:case XS:case ZS:g=qL;break;case JS:g=iM;break;case"scroll":case"scrollend":g=jL;break;case"wheel":g=aM;break;case"copy":case"cut":case"paste":g=$L;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=E_;break;case"toggle":case"beforetoggle":g=lM}var A=(e&4)!==0,S=!A&&(t==="scroll"||t==="scrollend"),b=A?d!==null?d+"Capture":null:d;A=[];for(var v=c,C;v!==null;){var R=v;if(C=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||C===null||b===null||(R=_u(v,b),R!=null&&A.push(Au(v,R,C))),S)break;v=v.return}0<A.length&&(d=new g(d,_,null,n,h),p.push({event:d,listeners:A}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==Wp&&(_=n.relatedTarget||n.fromElement)&&(so(_)||_[Jo]))break e;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?so(_):null,_!==null&&(S=$u(_),A=_.tag,_!==S||A!==5&&A!==27&&A!==6)&&(_=null)):(g=null,_=c),g!==_)){if(A=__,R="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(A=E_,R="onPointerLeave",b="onPointerEnter",v="pointer"),S=g==null?d:jl(g),C=_==null?d:jl(_),d=new A(R,v+"leave",g,n,h),d.target=S,d.relatedTarget=C,R=null,so(h)===c&&(A=new A(b,v+"enter",_,n,h),A.target=C,A.relatedTarget=S,R=A),S=R,g&&_)t:{for(A=g,b=_,v=0,C=A;C;C=$a(C))v++;for(C=0,R=b;R;R=$a(R))C++;for(;0<v-C;)A=$a(A),v--;for(;0<C-v;)b=$a(b),C--;for(;v--;){if(A===b||b!==null&&A===b.alternate)break t;A=$a(A),b=$a(b)}A=null}else A=null;g!==null&&db(p,d,g,A,!1),_!==null&&S!==null&&db(p,S,_,A,!0)}}e:{if(d=c?jl(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var D=C_;else if(T_(d))if(GS)D=yM;else{D=gM;var x=mM}else g=d.nodeName,!g||g.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&Mg(c.elementType)&&(D=C_):D=vM;if(D&&(D=D(t,c))){qS(p,D,n,h);break e}x&&x(t,d,c),t==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Qp(d,"number",d.value)}switch(x=c?jl(c):window,t){case"focusin":(T_(x)||x.contentEditable==="true")&&(lo=x,Zp=c,Zl=null);break;case"focusout":Zl=Zp=lo=null;break;case"mousedown":Jp=!0;break;case"contextmenu":case"mouseup":case"dragend":Jp=!1,M_(p,n,h);break;case"selectionchange":if(bM)break;case"keydown":case"keyup":M_(p,n,h)}var T;if(kg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else oo?HS(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(BS&&n.locale!=="ko"&&(oo||E!=="onCompositionStart"?E==="onCompositionEnd"&&oo&&(T=zS()):(vs=h,Og="value"in vs?vs.value:vs.textContent,oo=!0)),x=nf(c,E),0<x.length&&(E=new b_(E,t,null,n,h),p.push({event:E,listeners:x}),T?E.data=T:(T=FS(n),T!==null&&(E.data=T)))),(T=cM?hM(t,n):fM(t,n))&&(E=nf(c,"onBeforeInput"),0<E.length&&(x=new b_("onBeforeInput","beforeinput",null,n,h),p.push({event:x,listeners:E}),x.data=T)),nI(p,t,c,n,h)}NC(p,e)})}function Au(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=_u(t,n),i!=null&&r.unshift(Au(t,i,s)),i=_u(t,e),i!=null&&r.push(Au(t,i,s))),t.tag===3)return r;t=t.return}return[]}function $a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function db(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=_u(n,s),c!=null&&a.unshift(Au(n,c,l))):i||(c=_u(n,s),c!=null&&a.push(Au(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var aI=/\r\n?/g,oI=/\u0000|\uFFFD/g;function pb(t){return(typeof t=="string"?t:""+t).replace(aI,`
`).replace(oI,"")}function UC(t,e){return e=pb(e),pb(t)===e}function rd(){}function ht(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||ko(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&ko(t,""+r);break;case"className":Vc(t,"class",r);break;case"tabIndex":Vc(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Vc(t,n,r);break;case"style":US(t,r,s);break;case"data":if(e!=="object"){Vc(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=lh(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ht(t,e,"name",i.name,i,null),ht(t,e,"formEncType",i.formEncType,i,null),ht(t,e,"formMethod",i.formMethod,i,null),ht(t,e,"formTarget",i.formTarget,i,null)):(ht(t,e,"encType",i.encType,i,null),ht(t,e,"method",i.method,i,null),ht(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=lh(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=rd);break;case"onScroll":r!=null&&He("scroll",t);break;case"onScrollEnd":r!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Y(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Y(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=lh(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":He("beforetoggle",t),He("toggle",t),oh(t,"popover",r);break;case"xlinkActuate":Ei(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ei(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ei(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ei(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ei(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ei(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ei(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ei(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ei(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":oh(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=VL.get(n)||n,oh(t,n,r))}}function Tm(t,e,n,r,i,s){switch(n){case"style":US(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Y(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Y(60));t.innerHTML=n}}break;case"children":typeof r=="string"?ko(t,r):(typeof r=="number"||typeof r=="bigint")&&ko(t,""+r);break;case"onScroll":r!=null&&He("scroll",t);break;case"onScrollEnd":r!=null&&He("scrollend",t);break;case"onClick":r!=null&&(t.onclick=rd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!OS.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[tr]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):oh(t,n,r)}}}function An(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,e));default:ht(t,e,s,a,n,null)}}i&&ht(t,e,"srcSet",n.srcSet,n,null),r&&ht(t,e,"src",n.src,n,null);return;case"input":He("invalid",t);var o=s=a=i=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":i=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Y(137,e));break;default:ht(t,e,r,h,n,null)}}PS(t,s,o,l,c,a,i,!1),Vh(t);return;case"select":He("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:ht(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?yo(t,!!r,e,!1):n!=null&&yo(t,!!r,n,!0);return;case"textarea":He("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(Y(91));break;default:ht(t,e,a,o,n,null)}VS(t,r,i,s),Vh(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ht(t,e,l,r,n,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(r=0;r<Cu.length;r++)He(Cu[r],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,e));default:ht(t,e,c,r,n,null)}return;default:if(Mg(e)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&Tm(t,e,h,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&ht(t,e,o,r,n,null))}function lI(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,l=null,c=null,h=null;for(g in n){var p=n[g];if(n.hasOwnProperty(g)&&p!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":l=p;default:r.hasOwnProperty(g)||ht(t,e,g,null,r,p)}}for(var d in r){var g=r[d];if(p=n[d],r.hasOwnProperty(d)&&(g!=null||p!=null))switch(d){case"type":s=g;break;case"name":i=g;break;case"checked":c=g;break;case"defaultChecked":h=g;break;case"value":a=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(Y(137,e));break;default:g!==p&&ht(t,e,d,g,r,p)}}Yp(t,a,o,l,c,h,s,i);return;case"select":g=a=o=d=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":g=l;default:r.hasOwnProperty(s)||ht(t,e,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":d=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&ht(t,e,i,s,r,l)}e=o,n=a,r=g,d!=null?yo(t,!!n,d,!1):!!r!=!!n&&(e!=null?yo(t,!!n,e,!0):yo(t,!!n,n?[]:"",!1));return;case"textarea":g=d=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ht(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":d=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Y(91));break;default:i!==s&&ht(t,e,a,i,r,s)}NS(t,d,g);return;case"option":for(var _ in n)if(d=n[_],n.hasOwnProperty(_)&&d!=null&&!r.hasOwnProperty(_))switch(_){case"selected":t.selected=!1;break;default:ht(t,e,_,null,r,d)}for(l in r)if(d=r[l],g=n[l],r.hasOwnProperty(l)&&d!==g&&(d!=null||g!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ht(t,e,l,d,r,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)d=n[A],n.hasOwnProperty(A)&&d!=null&&!r.hasOwnProperty(A)&&ht(t,e,A,null,r,d);for(c in r)if(d=r[c],g=n[c],r.hasOwnProperty(c)&&d!==g&&(d!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Y(137,e));break;default:ht(t,e,c,d,r,g)}return;default:if(Mg(e)){for(var S in n)d=n[S],n.hasOwnProperty(S)&&d!==void 0&&!r.hasOwnProperty(S)&&Tm(t,e,S,void 0,r,d);for(h in r)d=r[h],g=n[h],!r.hasOwnProperty(h)||d===g||d===void 0&&g===void 0||Tm(t,e,h,d,r,g);return}}for(var b in n)d=n[b],n.hasOwnProperty(b)&&d!=null&&!r.hasOwnProperty(b)&&ht(t,e,b,null,r,d);for(p in r)d=r[p],g=n[p],!r.hasOwnProperty(p)||d===g||d==null&&g==null||ht(t,e,p,d,r,g)}var Cm=null,Am=null;function rf(t){return t.nodeType===9?t:t.ownerDocument}function mb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jC(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Rm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fp=null;function uI(){var t=window.event;return t&&t.type==="popstate"?t===fp?!1:(fp=t,!0):(fp=null,!1)}var zC=typeof setTimeout=="function"?setTimeout:void 0,cI=typeof clearTimeout=="function"?clearTimeout:void 0,gb=typeof Promise=="function"?Promise:void 0,hI=typeof queueMicrotask=="function"?queueMicrotask:typeof gb<"u"?function(t){return gb.resolve(null).then(t).catch(fI)}:zC;function fI(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function vb(t,e){var n=e,r=0,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var a=t.ownerDocument;if(n&1&&uu(a.documentElement),n&2&&uu(a.body),n&4)for(n=a.head,uu(n),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Wu]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(i===0){t.removeChild(s),Iu(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Iu(e)}function xm(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xm(n),Lg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function dI(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Wu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Kr(t.nextSibling),t===null)break}return null}function pI(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Kr(t.nextSibling),t===null))return null;return t}function Lm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function mI(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Mm=null;function yb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function BC(t,e,n){switch(e=rf(n),t){case"html":if(t=e.documentElement,!t)throw Error(Y(452));return t;case"head":if(t=e.head,!t)throw Error(Y(453));return t;case"body":if(t=e.body,!t)throw Error(Y(454));return t;default:throw Error(Y(451))}}function uu(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Lg(t)}var Nr=new Map,_b=new Set;function sf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=it.d;it.d={f:gI,r:vI,D:yI,C:_I,L:bI,m:EI,X:SI,S:wI,M:TI};function gI(){var t=$i.f(),e=ed();return t||e}function vI(t){var e=el(t);e!==null&&e.tag===5&&e.type==="form"?kT(e):$i.r(t)}var rl=typeof document>"u"?null:document;function HC(t,e,n){var r=rl;if(r&&typeof e=="string"&&e){var i=xr(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),_b.has(i)||(_b.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),An(e,"link",t),dn(e),r.head.appendChild(e)))}}function yI(t){$i.D(t),HC("dns-prefetch",t,null)}function _I(t,e){$i.C(t,e),HC("preconnect",t,e)}function bI(t,e,n){$i.L(t,e,n);var r=rl;if(r&&t&&e){var i='link[rel="preload"][as="'+xr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+xr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+xr(n.imageSizes)+'"]')):i+='[href="'+xr(t)+'"]';var s=i;switch(e){case"style":s=Ho(t);break;case"script":s=il(t)}Nr.has(s)||(t=Tt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Nr.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(ac(s))||e==="script"&&r.querySelector(oc(s))||(e=r.createElement("link"),An(e,"link",t),dn(e),r.head.appendChild(e)))}}function EI(t,e){$i.m(t,e);var n=rl;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+xr(r)+'"][href="'+xr(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=il(t)}if(!Nr.has(s)&&(t=Tt({rel:"modulepreload",href:t},e),Nr.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(oc(s)))return}r=n.createElement("link"),An(r,"link",t),dn(r),n.head.appendChild(r)}}}function wI(t,e,n){$i.S(t,e,n);var r=rl;if(r&&t){var i=vo(r).hoistableStyles,s=Ho(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(ac(s)))o.loading=5;else{t=Tt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Nr.get(s))&&fv(t,n);var l=a=r.createElement("link");dn(l),An(l,"link",t),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,vh(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function SI(t,e){$i.X(t,e);var n=rl;if(n&&t){var r=vo(n).hoistableScripts,i=il(t),s=r.get(i);s||(s=n.querySelector(oc(i)),s||(t=Tt({src:t,async:!0},e),(e=Nr.get(i))&&dv(t,e),s=n.createElement("script"),dn(s),An(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function TI(t,e){$i.M(t,e);var n=rl;if(n&&t){var r=vo(n).hoistableScripts,i=il(t),s=r.get(i);s||(s=n.querySelector(oc(i)),s||(t=Tt({src:t,async:!0,type:"module"},e),(e=Nr.get(i))&&dv(t,e),s=n.createElement("script"),dn(s),An(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function bb(t,e,n,r){var i=(i=Es.current)?sf(i):null;if(!i)throw Error(Y(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ho(n.href),n=vo(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ho(n.href);var s=vo(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(ac(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Nr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nr.set(t,n),s||CI(i,t,n,a.state))),e&&r===null)throw Error(Y(528,""));return a}if(e&&r!==null)throw Error(Y(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=il(n),n=vo(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Y(444,t))}}function Ho(t){return'href="'+xr(t)+'"'}function ac(t){return'link[rel="stylesheet"]['+t+"]"}function FC(t){return Tt({},t,{"data-precedence":t.precedence,precedence:null})}function CI(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),An(e,"link",n),dn(e),t.head.appendChild(e))}function il(t){return'[src="'+xr(t)+'"]'}function oc(t){return"script[async]"+t}function Eb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+xr(n.href)+'"]');if(r)return e.instance=r,dn(r),r;var i=Tt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),dn(r),An(r,"style",i),vh(r,n.precedence,t),e.instance=r;case"stylesheet":i=Ho(n.href);var s=t.querySelector(ac(i));if(s)return e.state.loading|=4,e.instance=s,dn(s),s;r=FC(n),(i=Nr.get(i))&&fv(r,i),s=(t.ownerDocument||t).createElement("link"),dn(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),An(s,"link",r),e.state.loading|=4,vh(s,n.precedence,t),e.instance=s;case"script":return s=il(n.src),(i=t.querySelector(oc(s)))?(e.instance=i,dn(i),i):(r=n,(i=Nr.get(s))&&(r=Tt({},n),dv(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),dn(i),An(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(Y(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,vh(r,n.precedence,t));return e.instance}function vh(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function fv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function dv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var yh=null;function wb(t,e,n){if(yh===null){var r=new Map,i=yh=new Map;i.set(n,r)}else i=yh,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[Wu]||s[Nn]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Sb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function AI(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function qC(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Ru=null;function RI(){}function xI(t,e,n){if(Ru===null)throw Error(Y(475));var r=Ru;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Ho(n.href),s=t.querySelector(ac(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=af.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,dn(s);return}s=t.ownerDocument||t,n=FC(n),(i=Nr.get(i))&&fv(n,i),s=s.createElement("link"),dn(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),An(s,"link",n),e.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=af.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function LI(){if(Ru===null)throw Error(Y(475));var t=Ru;return t.stylesheets&&t.count===0&&Im(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Im(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function af(){if(this.count--,this.count===0){if(this.stylesheets)Im(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var of=null;function Im(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,of=new Map,e.forEach(MI,t),of=null,af.call(t))}function MI(t,e){if(!(e.state.loading&4)){var n=of.get(t);if(n)var r=n.get(null);else{n=new Map,of.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=af.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var xu={$$typeof:Ri,Provider:null,Consumer:null,_currentValue:fa,_currentValue2:fa,_threadCount:0};function II(t,e,n,r,i,s,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kd(0),this.hiddenUpdates=kd(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function GC(t,e,n,r,i,s,a,o,l,c,h,p){return t=new II(t,e,n,a,o,l,c,p),e=1,s===!0&&(e|=24),s=pr(3,null,null,e),t.current=s,s.stateNode=t,e=Bg(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},Fg(s),t}function $C(t){return t?(t=ho,t):ho}function KC(t,e,n,r,i,s){i=$C(i),r.context===null?r.context=i:r.pendingContext=i,r=ws(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Ss(t,r,e),n!==null&&(yr(n,t,e),tu(n,t,e))}function Tb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pv(t,e){Tb(t,e),(t=t.alternate)&&Tb(t,e)}function YC(t){if(t.tag===13){var e=tl(t,67108864);e!==null&&yr(e,t,67108864),pv(t,67108864)}}var lf=!0;function OI(t,e,n,r){var i=Ae.T;Ae.T=null;var s=it.p;try{it.p=2,mv(t,e,n,r)}finally{it.p=s,Ae.T=i}}function DI(t,e,n,r){var i=Ae.T;Ae.T=null;var s=it.p;try{it.p=8,mv(t,e,n,r)}finally{it.p=s,Ae.T=i}}function mv(t,e,n,r){if(lf){var i=Om(r);if(i===null)hp(t,e,r,uf,n),Cb(t,r);else if(PI(i,t,e,n,r))r.stopPropagation();else if(Cb(t,r),e&4&&-1<kI.indexOf(t)){for(;i!==null;){var s=el(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=ra(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-gr(a);o.entanglements[1]|=l,a&=~l}gi(s),!(ut&6)&&(Zh=ri()+500,sc(0))}}break;case 13:o=tl(s,2),o!==null&&yr(o,s,2),ed(),pv(s,2)}if(s=Om(r),s===null&&hp(t,e,r,uf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hp(t,e,r,null,n)}}function Om(t){return t=Ig(t),gv(t)}var uf=null;function gv(t){if(uf=null,t=so(t),t!==null){var e=$u(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=_S(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return uf=t,null}function QC(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_L()){case SS:return 2;case TS:return 8;case Nh:case bL:return 32;case CS:return 268435456;default:return 32}default:return 32}}var Dm=!1,As=null,Rs=null,xs=null,Lu=new Map,Mu=new Map,cs=[],kI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cb(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Lu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(e.pointerId)}}function Ll(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=el(e),e!==null&&YC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PI(t,e,n,r,i){switch(e){case"focusin":return As=Ll(As,t,e,n,r,i),!0;case"dragenter":return Rs=Ll(Rs,t,e,n,r,i),!0;case"mouseover":return xs=Ll(xs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lu.set(s,Ll(Lu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mu.set(s,Ll(Mu.get(s)||null,t,e,n,r,i)),!0}return!1}function WC(t){var e=so(t.target);if(e!==null){var n=$u(e);if(n!==null){if(e=n.tag,e===13){if(e=_S(n),e!==null){t.blockedOn=e,xL(t.priority,function(){if(n.tag===13){var r=vr();r=Rg(r);var i=tl(n,r);i!==null&&yr(i,n,r),pv(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _h(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Om(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wp=r,n.target.dispatchEvent(r),Wp=null}else return e=el(n),e!==null&&YC(e),t.blockedOn=n,!1;e.shift()}return!0}function Ab(t,e,n){_h(t)&&n.delete(e)}function NI(){Dm=!1,As!==null&&_h(As)&&(As=null),Rs!==null&&_h(Rs)&&(Rs=null),xs!==null&&_h(xs)&&(xs=null),Lu.forEach(Ab),Mu.forEach(Ab)}function Gc(t,e){t.blockedOn===e&&(t.blockedOn=null,Dm||(Dm=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,NI)))}var $c=null;function Rb(t){$c!==t&&($c=t,an.unstable_scheduleCallback(an.unstable_NormalPriority,function(){$c===t&&($c=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(gv(r||n)===null)continue;break}var s=el(n);s!==null&&(t.splice(e,3),e-=3,fm(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Iu(t){function e(l){return Gc(l,t)}As!==null&&Gc(As,t),Rs!==null&&Gc(Rs,t),xs!==null&&Gc(xs,t),Lu.forEach(e),Mu.forEach(e);for(var n=0;n<cs.length;n++){var r=cs[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<cs.length&&(n=cs[0],n.blockedOn===null);)WC(n),n.blockedOn===null&&cs.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[tr]||null;if(typeof s=="function")a||Rb(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[tr]||null)o=a.formAction;else if(gv(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),Rb(n)}}}function vv(t){this._internalRoot=t}id.prototype.render=vv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));var n=e.current,r=vr();KC(n,r,t,e,null,null)};id.prototype.unmount=vv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;KC(t.current,2,null,t,null,null),ed(),e[Jo]=null}};function id(t){this._internalRoot=t}id.prototype.unstable_scheduleHydration=function(t){if(t){var e=MS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cs.length&&e!==0&&e<cs[n].priority;n++);cs.splice(n,0,t),n===0&&WC(t)}};var xb=vS.version;if(xb!=="19.1.1")throw Error(Y(527,xb,"19.1.1"));it.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=fL(e),t=t!==null?bS(t):null,t=t===null?null:t.stateNode,t};var VI={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Ae,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Ku=Kc.inject(VI),mr=Kc}catch{}}Hf.createRoot=function(t,e){if(!yS(t))throw Error(Y(299));var n=!1,r="",i=GT,s=$T,a=KT,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=GC(t,1,!1,null,null,n,r,i,s,a,o,null),t[Jo]=e.current,hv(t),new vv(e)};Hf.hydrateRoot=function(t,e,n){if(!yS(t))throw Error(Y(299));var r=!1,i="",s=GT,a=$T,o=KT,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=GC(t,1,!0,e,n??null,r,i,s,a,o,l,c),e.context=$C(null),n=e.current,r=vr(),r=Rg(r),i=ws(r),i.callback=null,Ss(n,i,r),n=r,e.current.lanes=n,Qu(e,n),gi(e),t[Jo]=e.current,hv(t),new id(e)};Hf.version="19.1.1";function XC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XC)}catch(t){console.error(t)}}XC(),hS.exports=Hf;var UI=hS.exports;const jI=yg(UI);var yv={};Object.defineProperty(yv,"__esModule",{value:!0});yv.parse=$I;yv.serialize=KI;const zI=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,BI=/^[\u0021-\u003A\u003C-\u007E]*$/,HI=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,FI=/^[\u0020-\u003A\u003D-\u007E]*$/,qI=Object.prototype.toString,GI=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function $I(t,e){const n=new GI,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||YI;let s=0;do{const a=t.indexOf("=",s);if(a===-1)break;const o=t.indexOf(";",s),l=o===-1?r:o;if(a>l){s=t.lastIndexOf(";",a-1)+1;continue}const c=Lb(t,s,a),h=Mb(t,a,c),p=t.slice(c,h);if(n[p]===void 0){let d=Lb(t,a+1,l),g=Mb(t,l,d);const _=i(t.slice(d,g));n[p]=_}s=l+1}while(s<r);return n}function Lb(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Mb(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function KI(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!zI.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!BI.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!HI.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!FI.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!QI(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function YI(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function QI(t){return qI.call(t)==="[object Date]"}/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZC=t=>{throw TypeError(t)},WI=(t,e,n)=>e.has(t)||ZC("Cannot "+n),dp=(t,e,n)=>(WI(t,e,"read from private field"),n?n.call(t):e.get(t)),XI=(t,e,n)=>e.has(t)?ZC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ib="popstate";function ZI(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return Ou("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Us(i)}return eO(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JI(){return Math.random().toString(36).substring(2,10)}function Ob(t,e){return{usr:t.state,key:t.key,idx:e}}function Ou(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Qs(e):e,state:n,key:e&&e.key||r||JI()}}function Us({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function eO(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=h();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function h(){return(a.state||{idx:null}).idx}function p(){o="POP";let S=h(),b=S==null?null:S-c;c=S,l&&l({action:o,location:A.location,delta:b})}function d(S,b){o="PUSH";let v=Ou(A.location,S,b);c=h()+1;let C=Ob(v,c),R=A.createHref(v);try{a.pushState(C,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(R)}s&&l&&l({action:o,location:A.location,delta:1})}function g(S,b){o="REPLACE";let v=Ou(A.location,S,b);c=h();let C=Ob(v,c),R=A.createHref(v);a.replaceState(C,"",R),s&&l&&l({action:o,location:A.location,delta:0})}function _(S){let b=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof S=="string"?S:Us(S);return v=v.replace(/ $/,"%20"),qe(b,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,b)}let A={get action(){return o},get location(){return t(i,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ib,p),l=S,()=>{i.removeEventListener(Ib,p),l=null}},createHref(S){return e(i,S)},createURL:_,encodeLocation(S){let b=_(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:d,replace:g,go(S){return a.go(S)}};return A}var Bl,Db=class{constructor(t){if(XI(this,Bl,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(dp(this,Bl).has(t))return dp(this,Bl).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){dp(this,Bl).set(t,e)}};Bl=new WeakMap;var tO=new Set(["lazy","caseSensitive","path","id","index","children"]);function nO(t){return tO.has(t)}var rO=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function iO(t){return rO.has(t)}function sO(t){return t.index===!0}function cf(t,e,n=[],r={}){return t.map((i,s)=>{let a=[...n,String(s)],o=typeof i.id=="string"?i.id:a.join("-");if(qe(i.index!==!0||!i.children,"Cannot specify children on an index route"),qe(!r[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),sO(i)){let l={...i,...e(i),id:o};return r[o]=l,l}else{let l={...i,...e(i),id:o,children:void 0};return r[o]=l,i.children&&(l.children=cf(i.children,e,a,r)),l}})}function hs(t,e,n="/"){return bh(t,e,n,!1)}function bh(t,e,n,r){let i=typeof e=="string"?Qs(e):e,s=Vr(i.pathname||"/",n);if(s==null)return null;let a=JC(t);oO(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=yO(s);o=gO(a[l],c,r)}return o}function aO(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function JC(t,e=[],n=[],r=""){let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=si([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(qe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),JC(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:pO(c,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of eA(s.path))i(s,a,l)}),e}function eA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=eA(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function oO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var lO=/^:[\w-]+$/,uO=3,cO=2,hO=1,fO=10,dO=-2,kb=t=>t==="*";function pO(t,e){let n=t.split("/"),r=n.length;return n.some(kb)&&(r+=dO),e&&(r+=cO),n.filter(i=>!kb(i)).reduce((i,s)=>i+(lO.test(s)?uO:s===""?hO:fO),r)}function mO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function gO(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=hf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=hf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:si([s,p.pathname]),pathnameBase:EO(si([s,p.pathnameBase])),route:d}),p.pathnameBase!=="/"&&(s=si([s,p.pathnameBase]))}return a}function hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:p},d)=>{if(h==="*"){let _=o[d]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function vO(t,e=!1,n=!0){Qt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _O(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qs(t):t;return{pathname:n?n.startsWith("/")?n:bO(n,e):e,search:wO(r),hash:SO(i)}}function bO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function pp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _v(t){let e=tA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function bv(t,e,n,r=!1){let i;typeof t=="string"?i=Qs(t):(i={...t},qe(!i.pathname||!i.pathname.includes("?"),pp("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),pp("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),pp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),p-=1;i.pathname=d.join("/")}o=p>=0?e[p]:"/"}let l=_O(i,o),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var si=t=>t.join("/").replace(/\/\/+/g,"/"),EO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,ff=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Du(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var nA=["POST","PUT","PATCH","DELETE"],TO=new Set(nA),CO=["GET",...nA],AO=new Set(CO),RO=new Set([301,302,303,307,308]),xO=new Set([307,308]),mp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},LO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ml={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MO=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),rA="remix-router-transitions",iA=Symbol("ResetLoaderData");function IO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";qe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||MO,s={},a=cf(t.routes,i,void 0,s),o,l=t.basename||"/",c=t.dataStrategy||NO,h={unstable_middleware:!1,...t.future},p=null,d=new Set,g=null,_=null,A=null,S=t.hydrationData!=null,b=hs(a,t.history.location,l),v=!1,C=null;if(b==null&&!t.patchRoutesOnNavigation){let P=Tr(404,{pathname:t.history.location.pathname}),{matches:V,route:j}=$b(a);b=V,C={[j.id]:P}}b&&!t.hydrationData&&Ft(b,a,t.history.location.pathname).active&&(b=null);let R;if(b)if(b.some(P=>P.route.lazy))R=!1;else if(!b.some(P=>P.route.loader))R=!0;else{let P=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null;if(V){let j=b.findIndex(F=>V[F.route.id]!==void 0);R=b.slice(0,j+1).every(F=>!Pm(F.route,P,V))}else R=b.every(j=>!Pm(j.route,P,V))}else{R=!1,b=[];let P=Ft(null,a,t.history.location.pathname);P.active&&P.matches&&(v=!0,b=P.matches)}let D,x={historyAction:t.history.action,location:t.history.location,matches:b,initialized:R,navigation:mp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},T="POP",E=!1,w,L=!1,O=new Map,k=null,I=!1,X=!1,J=new Set,z=new Map,$=0,H=-1,ne=new Map,ee=new Set,ge=new Map,ve=new Map,Q=new Set,se=new Map,B,le=null;function ie(){if(p=t.history.listen(({action:P,location:V,delta:j})=>{if(B){B(),B=void 0;return}Qt(se.size===0||j!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let F=Ur({currentLocation:x.location,nextLocation:V,historyAction:P});if(F&&j!=null){let te=new Promise(fe=>{B=fe});t.history.go(j*-1),Kn(F,{state:"blocked",location:V,proceed(){Kn(F,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),te.then(()=>t.history.go(j))},reset(){let fe=new Map(x.blockers);fe.set(F,Ml),Z({blockers:fe})}});return}return dt(P,V)}),n){KO(e,O);let P=()=>YO(e,O);e.addEventListener("pagehide",P),k=()=>e.removeEventListener("pagehide",P)}return x.initialized||dt("POP",x.location,{initialHydration:!0}),D}function pe(){p&&p(),k&&k(),d.clear(),w&&w.abort(),x.fetchers.forEach((P,V)=>Ct(V)),x.blockers.forEach((P,V)=>br(V))}function Oe(P){return d.add(P),()=>d.delete(P)}function Z(P,V={}){x={...x,...P};let j=[],F=[];x.fetchers.forEach((te,fe)=>{te.state==="idle"&&(Q.has(fe)?j.push(fe):F.push(fe))}),Q.forEach(te=>{!x.fetchers.has(te)&&!z.has(te)&&j.push(te)}),[...d].forEach(te=>te(x,{deletedFetchers:j,viewTransitionOpts:V.viewTransitionOpts,flushSync:V.flushSync===!0})),j.forEach(te=>Ct(te)),F.forEach(te=>x.fetchers.delete(te))}function he(P,V,{flushSync:j}={}){var be,Ce;let F=x.actionData!=null&&x.navigation.formMethod!=null&&fr(x.navigation.formMethod)&&x.navigation.state==="loading"&&((be=P.state)==null?void 0:be._isRedirect)!==!0,te;V.actionData?Object.keys(V.actionData).length>0?te=V.actionData:te=null:F?te=x.actionData:te=null;let fe=V.loaderData?qb(x.loaderData,V.loaderData,V.matches||[],V.errors):x.loaderData,we=x.blockers;we.size>0&&(we=new Map(we),we.forEach((me,Re)=>we.set(Re,Ml)));let oe=E===!0||x.navigation.formMethod!=null&&fr(x.navigation.formMethod)&&((Ce=P.state)==null?void 0:Ce._isRedirect)!==!0;o&&(a=o,o=void 0),I||T==="POP"||(T==="PUSH"?t.history.push(P,P.state):T==="REPLACE"&&t.history.replace(P,P.state));let de;if(T==="POP"){let me=O.get(x.location.pathname);me&&me.has(P.pathname)?de={currentLocation:x.location,nextLocation:P}:O.has(P.pathname)&&(de={currentLocation:P,nextLocation:x.location})}else if(L){let me=O.get(x.location.pathname);me?me.add(P.pathname):(me=new Set([P.pathname]),O.set(x.location.pathname,me)),de={currentLocation:x.location,nextLocation:P}}Z({...V,actionData:te,loaderData:fe,historyAction:T,location:P,initialized:!0,navigation:mp,revalidation:"idle",restoreScrollPosition:un(P,V.matches||x.matches),preventScrollReset:oe,blockers:we},{viewTransitionOpts:de,flushSync:j===!0}),T="POP",E=!1,L=!1,I=!1,X=!1,le==null||le.resolve(),le=null}async function Ye(P,V){if(typeof P=="number"){t.history.go(P);return}let j=km(x.location,x.matches,l,P,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:F,submission:te,error:fe}=Pb(!1,j,V),we=x.location,oe=Ou(x.location,F,V&&V.state);oe={...oe,...t.history.encodeLocation(oe)};let de=V&&V.replace!=null?V.replace:void 0,be="PUSH";de===!0?be="REPLACE":de===!1||te!=null&&fr(te.formMethod)&&te.formAction===x.location.pathname+x.location.search&&(be="REPLACE");let Ce=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,me=(V&&V.flushSync)===!0,Re=Ur({currentLocation:we,nextLocation:oe,historyAction:be});if(Re){Kn(Re,{state:"blocked",location:oe,proceed(){Kn(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),Ye(P,V)},reset(){let et=new Map(x.blockers);et.set(Re,Ml),Z({blockers:et})}});return}await dt(be,oe,{submission:te,pendingError:fe,preventScrollReset:Ce,replace:V&&V.replace,enableViewTransition:V&&V.viewTransition,flushSync:me})}function Dt(){le||(le=QO()),vn(),Z({revalidation:"loading"});let P=le.promise;return x.navigation.state==="submitting"?P:x.navigation.state==="idle"?(dt(x.historyAction,x.location,{startUninterruptedRevalidation:!0}),P):(dt(T||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:L===!0}),P)}async function dt(P,V,j){w&&w.abort(),w=null,T=P,I=(j&&j.startUninterruptedRevalidation)===!0,At(x.location,x.matches),E=(j&&j.preventScrollReset)===!0,L=(j&&j.enableViewTransition)===!0;let F=o||a,te=j&&j.overrideNavigation,fe=j!=null&&j.initialHydration&&x.matches&&x.matches.length>0&&!v?x.matches:hs(F,V,l),we=(j&&j.flushSync)===!0;if(fe&&x.initialized&&!X&&HO(x.location,V)&&!(j&&j.submission&&fr(j.submission.formMethod))){he(V,{matches:fe},{flushSync:we});return}let oe=Ft(fe,F,V.pathname);if(oe.active&&oe.matches&&(fe=oe.matches),!fe){let{error:ct,notFoundMatches:Pt,route:ze}=Yn(V.pathname);he(V,{matches:Pt,loaderData:{},errors:{[ze.id]:ct}},{flushSync:we});return}w=new AbortController;let de=Za(t.history,V,w.signal,j&&j.submission),be=new Db(t.unstable_getContext?await t.unstable_getContext():void 0),Ce;if(j&&j.pendingError)Ce=[oa(fe).route.id,{type:"error",error:j.pendingError}];else if(j&&j.submission&&fr(j.submission.formMethod)){let ct=await Me(de,V,j.submission,fe,be,oe.active,j&&j.initialHydration===!0,{replace:j.replace,flushSync:we});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[Pt,ze]=ct.pendingActionResult;if(hr(ze)&&Du(ze.error)&&ze.error.status===404){w=null,he(V,{matches:ct.matches,loaderData:{},errors:{[Pt]:ze.error}});return}}fe=ct.matches||fe,Ce=ct.pendingActionResult,te=gp(V,j.submission),we=!1,oe.active=!1,de=Za(t.history,de.url,de.signal)}let{shortCircuited:me,matches:Re,loaderData:et,errors:pt}=await gn(de,V,fe,be,oe.active,te,j&&j.submission,j&&j.fetcherSubmission,j&&j.replace,j&&j.initialHydration===!0,we,Ce);me||(w=null,he(V,{matches:Re||fe,...Gb(Ce),loaderData:et,errors:pt}))}async function Me(P,V,j,F,te,fe,we,oe={}){vn();let de=GO(V,j);if(Z({navigation:de},{flushSync:oe.flushSync===!0}),fe){let me=await Hn(F,V.pathname,P.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let Re=oa(me.partialMatches).route.id;return{matches:me.partialMatches,pendingActionResult:[Re,{type:"error",error:me.error}]}}else if(me.matches)F=me.matches;else{let{notFoundMatches:Re,error:et,route:pt}=Yn(V.pathname);return{matches:Re,pendingActionResult:[pt.id,{type:"error",error:et}]}}}let be,Ce=Hl(F,V);if(!Ce.route.action&&!Ce.route.lazy)be={type:"error",error:Tr(405,{method:P.method,pathname:V.pathname,routeId:Ce.route.id})};else{let me=Co(i,s,P,F,Ce,we?[]:r,te),Re=await bt(P,me,te,null);if(be=Re[Ce.route.id],!be){for(let et of F)if(Re[et.route.id]){be=Re[et.route.id];break}}if(P.signal.aborted)return{shortCircuited:!0}}if(ua(be)){let me;return oe&&oe.replace!=null?me=oe.replace:me=Bb(be.response.headers.get("Location"),new URL(P.url),l)===x.location.pathname+x.location.search,await Wt(P,be,!0,{submission:j,replace:me}),{shortCircuited:!0}}if(hr(be)){let me=oa(F,Ce.route.id);return(oe&&oe.replace)!==!0&&(T="PUSH"),{matches:F,pendingActionResult:[me.route.id,be]}}return{matches:F,pendingActionResult:[Ce.route.id,be]}}async function gn(P,V,j,F,te,fe,we,oe,de,be,Ce,me){let Re=fe||gp(V,we),et=we||oe||Yb(Re),pt=!I&&!be;if(te){if(pt){let yt=ln(me);Z({navigation:Re,...yt!==void 0?{actionData:yt}:{}},{flushSync:Ce})}let xe=await Hn(j,V.pathname,P.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let yt=oa(xe.partialMatches).route.id;return{matches:xe.partialMatches,loaderData:{},errors:{[yt]:xe.error}}}else if(xe.matches)j=xe.matches;else{let{error:yt,notFoundMatches:qt,route:_n}=Yn(V.pathname);return{matches:qt,loaderData:{},errors:{[_n.id]:yt}}}}let ct=o||a,{dsMatches:Pt,revalidatingFetchers:ze}=Nb(P,F,i,s,t.history,x,j,et,V,be?[]:r,be===!0,X,J,Q,ge,ee,ct,l,me);if(H=++$,!t.dataStrategy&&!Pt.some(xe=>xe.shouldLoad)&&ze.length===0){let xe=Bn();return he(V,{matches:j,loaderData:{},errors:me&&hr(me[1])?{[me[0]]:me[1].error}:null,...Gb(me),...xe?{fetchers:new Map(x.fetchers)}:{}},{flushSync:Ce}),{shortCircuited:!0}}if(pt){let xe={};if(!te){xe.navigation=Re;let yt=ln(me);yt!==void 0&&(xe.actionData=yt)}ze.length>0&&(xe.fetchers=xn(ze)),Z(xe,{flushSync:Ce})}ze.forEach(xe=>{Mt(xe.key),xe.controller&&z.set(xe.key,xe.controller)});let Er=()=>ze.forEach(xe=>Mt(xe.key));w&&w.signal.addEventListener("abort",Er);let{loaderResults:Qn,fetcherResults:Br}=await jt(Pt,ze,P,F);if(P.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",Er),ze.forEach(xe=>z.delete(xe.key));let yn=Yc(Qn);if(yn)return await Wt(P,yn.result,!0,{replace:de}),{shortCircuited:!0};if(yn=Yc(Br),yn)return ee.add(yn.key),await Wt(P,yn.result,!0,{replace:de}),{shortCircuited:!0};let{loaderData:Be,errors:ye}=Fb(x,j,Qn,me,ze,Br);be&&x.errors&&(ye={...x.errors,...ye});let Xe=Bn(),We=Xr(H),ot=Xe||We||ze.length>0;return{matches:j,loaderData:Be,errors:ye,...ot?{fetchers:new Map(x.fetchers)}:{}}}function ln(P){if(P&&!hr(P[1]))return{[P[0]]:P[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function xn(P){return P.forEach(V=>{let j=x.fetchers.get(V.key),F=Il(void 0,j?j.data:void 0);x.fetchers.set(V.key,F)}),new Map(x.fetchers)}async function kt(P,V,j,F){Mt(P);let te=(F&&F.flushSync)===!0,fe=o||a,we=km(x.location,x.matches,l,j,V,F==null?void 0:F.relative),oe=hs(fe,we,l),de=Ft(oe,fe,we);if(de.active&&de.matches&&(oe=de.matches),!oe){Pe(P,V,Tr(404,{pathname:we}),{flushSync:te});return}let{path:be,submission:Ce,error:me}=Pb(!0,we,F);if(me){Pe(P,V,me,{flushSync:te});return}let Re=Hl(oe,be),et=new Db(t.unstable_getContext?await t.unstable_getContext():void 0),pt=(F&&F.preventScrollReset)===!0;if(Ce&&fr(Ce.formMethod)){await zn(P,V,be,Re,oe,et,de.active,te,pt,Ce);return}ge.set(P,{routeId:V,path:be}),await Ln(P,V,be,Re,oe,et,de.active,te,pt,Ce)}async function zn(P,V,j,F,te,fe,we,oe,de,be){vn(),ge.delete(P);function Ce(st){if(!st.route.action&&!st.route.lazy){let Zt=Tr(405,{method:be.formMethod,pathname:j,routeId:V});return Pe(P,V,Zt,{flushSync:oe}),!0}return!1}if(!we&&Ce(F))return;let me=x.fetchers.get(P);Qe(P,$O(be,me),{flushSync:oe});let Re=new AbortController,et=Za(t.history,j,Re.signal,be);if(we){let st=await Hn(te,j,et.signal,P);if(st.type==="aborted")return;if(st.type==="error"){Pe(P,V,st.error,{flushSync:oe});return}else if(st.matches){if(te=st.matches,F=Hl(te,j),Ce(F))return}else{Pe(P,V,Tr(404,{pathname:j}),{flushSync:oe});return}}z.set(P,Re);let pt=$,ct=Co(i,s,et,te,F,r,fe),ze=(await bt(et,ct,fe,P))[F.route.id];if(et.signal.aborted){z.get(P)===Re&&z.delete(P);return}if(Q.has(P)){if(ua(ze)||hr(ze)){Qe(P,ns(void 0));return}}else{if(ua(ze))if(z.delete(P),H>pt){Qe(P,ns(void 0));return}else return ee.add(P),Qe(P,Il(be)),Wt(et,ze,!1,{fetcherSubmission:be,preventScrollReset:de});if(hr(ze)){Pe(P,V,ze.error);return}}let Er=x.navigation.location||x.location,Qn=Za(t.history,Er,Re.signal),Br=o||a,yn=x.navigation.state!=="idle"?hs(Br,x.navigation.location,l):x.matches;qe(yn,"Didn't find any matches after fetcher action");let Be=++$;ne.set(P,Be);let ye=Il(be,ze.data);x.fetchers.set(P,ye);let{dsMatches:Xe,revalidatingFetchers:We}=Nb(Qn,fe,i,s,t.history,x,yn,be,Er,r,!1,X,J,Q,ge,ee,Br,l,[F.route.id,ze]);We.filter(st=>st.key!==P).forEach(st=>{let Zt=st.key,Hr=x.fetchers.get(Zt),Xs=Il(void 0,Hr?Hr.data:void 0);x.fetchers.set(Zt,Xs),Mt(Zt),st.controller&&z.set(Zt,st.controller)}),Z({fetchers:new Map(x.fetchers)});let ot=()=>We.forEach(st=>Mt(st.key));Re.signal.addEventListener("abort",ot);let{loaderResults:xe,fetcherResults:yt}=await jt(Xe,We,Qn,fe);if(Re.signal.aborted)return;Re.signal.removeEventListener("abort",ot),ne.delete(P),z.delete(P),We.forEach(st=>z.delete(st.key));let qt=Yc(xe);if(qt)return Wt(Qn,qt.result,!1,{preventScrollReset:de});if(qt=Yc(yt),qt)return ee.add(qt.key),Wt(Qn,qt.result,!1,{preventScrollReset:de});let{loaderData:_n,errors:Wn}=Fb(x,yn,xe,void 0,We,yt);if(x.fetchers.has(P)){let st=ns(ze.data);x.fetchers.set(P,st)}Xr(Be),x.navigation.state==="loading"&&Be>H?(qe(T,"Expected pending action"),w&&w.abort(),he(x.navigation.location,{matches:yn,loaderData:_n,errors:Wn,fetchers:new Map(x.fetchers)})):(Z({errors:Wn,loaderData:qb(x.loaderData,_n,yn,Wn),fetchers:new Map(x.fetchers)}),X=!1)}async function Ln(P,V,j,F,te,fe,we,oe,de,be){let Ce=x.fetchers.get(P);Qe(P,Il(be,Ce?Ce.data:void 0),{flushSync:oe});let me=new AbortController,Re=Za(t.history,j,me.signal);if(we){let ze=await Hn(te,j,Re.signal,P);if(ze.type==="aborted")return;if(ze.type==="error"){Pe(P,V,ze.error,{flushSync:oe});return}else if(ze.matches)te=ze.matches,F=Hl(te,j);else{Pe(P,V,Tr(404,{pathname:j}),{flushSync:oe});return}}z.set(P,me);let et=$,pt=Co(i,s,Re,te,F,r,fe),Pt=(await bt(Re,pt,fe,P))[F.route.id];if(z.get(P)===me&&z.delete(P),!Re.signal.aborted){if(Q.has(P)){Qe(P,ns(void 0));return}if(ua(Pt))if(H>et){Qe(P,ns(void 0));return}else{ee.add(P),await Wt(Re,Pt,!1,{preventScrollReset:de});return}if(hr(Pt)){Pe(P,V,Pt.error);return}Qe(P,ns(Pt.data))}}async function Wt(P,V,j,{submission:F,fetcherSubmission:te,preventScrollReset:fe,replace:we}={}){V.response.headers.has("X-Remix-Revalidate")&&(X=!0);let oe=V.response.headers.get("Location");qe(oe,"Expected a Location header on the redirect Response"),oe=Bb(oe,new URL(P.url),l);let de=Ou(x.location,oe,{_isRedirect:!0});if(n){let pt=!1;if(V.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(Ev.test(oe)){const ct=t.history.createURL(oe);pt=ct.origin!==e.location.origin||Vr(ct.pathname,l)==null}if(pt){we?e.location.replace(oe):e.location.assign(oe);return}}w=null;let be=we===!0||V.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ce,formAction:me,formEncType:Re}=x.navigation;!F&&!te&&Ce&&me&&Re&&(F=Yb(x.navigation));let et=F||te;if(xO.has(V.response.status)&&et&&fr(et.formMethod))await dt(be,de,{submission:{...et,formAction:oe},preventScrollReset:fe||E,enableViewTransition:j?L:void 0});else{let pt=gp(de,F);await dt(be,de,{overrideNavigation:pt,fetcherSubmission:te,preventScrollReset:fe||E,enableViewTransition:j?L:void 0})}}async function bt(P,V,j,F){let te,fe={};try{te=await VO(c,P,V,F,j,!1)}catch(we){return V.filter(oe=>oe.shouldLoad).forEach(oe=>{fe[oe.route.id]={type:"error",error:we}}),fe}for(let[we,oe]of Object.entries(te))if(FO(oe)){let de=oe.result;fe[we]={type:"redirect",response:zO(de,P,we,V,l)}}else fe[we]=await jO(oe);return fe}async function jt(P,V,j,F){let te=bt(j,P,F,null),fe=Promise.all(V.map(async de=>{if(de.matches&&de.match&&de.request&&de.controller){let Ce=(await bt(de.request,de.matches,F,de.key))[de.match.route.id];return{[de.key]:Ce}}else return Promise.resolve({[de.key]:{type:"error",error:Tr(404,{pathname:de.path})}})})),we=await te,oe=(await fe).reduce((de,be)=>Object.assign(de,be),{});return{loaderResults:we,fetcherResults:oe}}function vn(){X=!0,ge.forEach((P,V)=>{z.has(V)&&J.add(V),Mt(V)})}function Qe(P,V,j={}){x.fetchers.set(P,V),Z({fetchers:new Map(x.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function Pe(P,V,j,F={}){let te=oa(x.matches,V);Ct(P),Z({errors:{[te.route.id]:j},fetchers:new Map(x.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Xt(P){return ve.set(P,(ve.get(P)||0)+1),Q.has(P)&&Q.delete(P),x.fetchers.get(P)||LO}function Ct(P){let V=x.fetchers.get(P);z.has(P)&&!(V&&V.state==="loading"&&ne.has(P))&&Mt(P),ge.delete(P),ne.delete(P),ee.delete(P),Q.delete(P),J.delete(P),x.fetchers.delete(P)}function $n(P){let V=(ve.get(P)||0)-1;V<=0?(ve.delete(P),Q.add(P)):ve.set(P,V),Z({fetchers:new Map(x.fetchers)})}function Mt(P){let V=z.get(P);V&&(V.abort(),z.delete(P))}function ir(P){for(let V of P){let j=Xt(V),F=ns(j.data);x.fetchers.set(V,F)}}function Bn(){let P=[],V=!1;for(let j of ee){let F=x.fetchers.get(j);qe(F,`Expected fetcher: ${j}`),F.state==="loading"&&(ee.delete(j),P.push(j),V=!0)}return ir(P),V}function Xr(P){let V=[];for(let[j,F]of ne)if(F<P){let te=x.fetchers.get(j);qe(te,`Expected fetcher: ${j}`),te.state==="loading"&&(Mt(j),ne.delete(j),V.push(j))}return ir(V),V.length>0}function sr(P,V){let j=x.blockers.get(P)||Ml;return se.get(P)!==V&&se.set(P,V),j}function br(P){x.blockers.delete(P),se.delete(P)}function Kn(P,V){let j=x.blockers.get(P)||Ml;qe(j.state==="unblocked"&&V.state==="blocked"||j.state==="blocked"&&V.state==="blocked"||j.state==="blocked"&&V.state==="proceeding"||j.state==="blocked"&&V.state==="unblocked"||j.state==="proceeding"&&V.state==="unblocked",`Invalid blocker state transition: ${j.state} -> ${V.state}`);let F=new Map(x.blockers);F.set(P,V),Z({blockers:F})}function Ur({currentLocation:P,nextLocation:V,historyAction:j}){if(se.size===0)return;se.size>1&&Qt(!1,"A router only supports one blocker at a time");let F=Array.from(se.entries()),[te,fe]=F[F.length-1],we=x.blockers.get(te);if(!(we&&we.state==="proceeding")&&fe({currentLocation:P,nextLocation:V,historyAction:j}))return te}function Yn(P){let V=Tr(404,{pathname:P}),j=o||a,{matches:F,route:te}=$b(j);return{notFoundMatches:F,route:te,error:V}}function Mn(P,V,j){if(g=P,A=V,_=j||null,!S&&x.navigation===mp){S=!0;let F=un(x.location,x.matches);F!=null&&Z({restoreScrollPosition:F})}return()=>{g=null,A=null,_=null}}function ar(P,V){return _&&_(P,V.map(F=>aO(F,x.loaderData)))||P.key}function At(P,V){if(g&&A){let j=ar(P,V);g[j]=A()}}function un(P,V){if(g){let j=ar(P,V),F=g[j];if(typeof F=="number")return F}return null}function Ft(P,V,j){if(t.patchRoutesOnNavigation)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:bh(V,j,l,!0)}}else return{active:!0,matches:bh(V,j,l,!0)||[]};return{active:!1,matches:null}}async function Hn(P,V,j,F){if(!t.patchRoutesOnNavigation)return{type:"success",matches:P};let te=P;for(;;){let fe=o==null,we=o||a,oe=s;try{await t.patchRoutesOnNavigation({signal:j,path:V,matches:te,fetcherKey:F,patch:(Ce,me)=>{j.aborted||Vb(Ce,me,we,oe,i)}})}catch(Ce){return{type:"error",error:Ce,partialMatches:te}}finally{fe&&!j.aborted&&(a=[...a])}if(j.aborted)return{type:"aborted"};let de=hs(we,V,l);if(de)return{type:"success",matches:de};let be=bh(we,V,l,!0);if(!be||te.length===be.length&&te.every((Ce,me)=>Ce.route.id===be[me].route.id))return{type:"success",matches:null};te=be}}function jr(P){s={},o=cf(P,i,void 0,s)}function zr(P,V){let j=o==null;Vb(P,V,o||a,s,i),j&&(a=[...a],Z({}))}return D={get basename(){return l},get future(){return h},get state(){return x},get routes(){return a},get window(){return e},initialize:ie,subscribe:Oe,enableScrollRestoration:Mn,navigate:Ye,fetch:kt,revalidate:Dt,createHref:P=>t.history.createHref(P),encodeLocation:P=>t.history.encodeLocation(P),getFetcher:Xt,deleteFetcher:$n,dispose:pe,getBlocker:sr,deleteBlocker:br,patchRoutes:zr,_internalFetchControllers:z,_internalSetRoutes:jr},D}function OO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function km(t,e,n,r,i,s){let a,o;if(i){a=[];for(let c of e)if(a.push(c),c.route.id===i){o=c;break}}else a=e,o=e[e.length-1];let l=bv(r||".",_v(a),Vr(t.pathname,n)||t.pathname,s==="path");if(r==null&&(l.search=t.search,l.hash=t.hash),(r==null||r===""||r===".")&&o){let c=wv(l.search);if(o.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&c){let h=new URLSearchParams(l.search),p=h.getAll("index");h.delete("index"),p.filter(g=>g).forEach(g=>h.append("index",g));let d=h.toString();l.search=d?`?${d}`:""}}return n!=="/"&&(l.pathname=l.pathname==="/"?n:si([n,l.pathname])),Us(l)}function Pb(t,e,n){if(!n||!OO(n))return{path:e};if(n.formMethod&&!qO(n.formMethod))return{path:e,error:Tr(405,{method:n.formMethod})};let r=()=>({path:e,error:Tr(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),a=cA(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!fr(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((d,[g,_])=>`${d}${g}=${_}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!fr(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}qe(typeof FormData=="function","FormData is not available in this environment");let o,l;if(n.formData)o=Vm(n.formData),l=n.formData;else if(n.body instanceof FormData)o=Vm(n.body),l=n.body;else if(n.body instanceof URLSearchParams)o=n.body,l=Hb(o);else if(n.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(n.body),l=Hb(o)}catch{return r()}let c={formMethod:s,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(fr(c.formMethod))return{path:e,submission:c};let h=Qs(e);return t&&h.search&&wv(h.search)&&o.append("index",""),h.search=`?${o}`,{path:Us(h),submission:c}}function Nb(t,e,n,r,i,s,a,o,l,c,h,p,d,g,_,A,S,b,v){var k;let C=v?hr(v[1])?v[1].error:v[1].data:void 0,R=i.createURL(s.location),D=i.createURL(l),x;if(h&&s.errors){let I=Object.keys(s.errors)[0];x=a.findIndex(X=>X.route.id===I)}else if(v&&hr(v[1])){let I=v[0];x=a.findIndex(X=>X.route.id===I)-1}let T=v?v[1].statusCode:void 0,E=T&&T>=400,w={currentUrl:R,currentParams:((k=s.matches[0])==null?void 0:k.params)||{},nextUrl:D,nextParams:a[0].params,...o,actionResult:C,actionStatus:T},L=a.map((I,X)=>{let{route:J}=I,z=null;if(x!=null&&X>x?z=!1:J.lazy?z=!0:J.loader==null?z=!1:h?z=Pm(J,s.loaderData,s.errors):DO(s.loaderData,s.matches[X],I)&&(z=!0),z!==null)return Nm(n,r,t,I,c,e,z);let $=E?!1:p||R.pathname+R.search===D.pathname+D.search||R.search!==D.search||kO(s.matches[X],I),H={...w,defaultShouldRevalidate:$},ne=df(I,H);return Nm(n,r,t,I,c,e,ne,H)}),O=[];return _.forEach((I,X)=>{if(h||!a.some(ge=>ge.route.id===I.routeId)||g.has(X))return;let J=hs(S,I.path,b);if(!J){O.push({key:X,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(A.has(X))return;let z=s.fetchers.get(X),$=Hl(J,I.path),H=new AbortController,ne=Za(i,I.path,H.signal),ee=null;if(d.has(X))d.delete(X),ee=Co(n,r,ne,J,$,c,e);else if(z&&z.state!=="idle"&&z.data===void 0)p&&(ee=Co(n,r,ne,J,$,c,e));else{let ge={...w,defaultShouldRevalidate:E?!1:p};df($,ge)&&(ee=Co(n,r,ne,J,$,c,e,ge))}ee&&O.push({key:X,routeId:I.routeId,path:I.path,matches:ee,match:$,request:ne,controller:H})}),{dsMatches:L,revalidatingFetchers:O}}function Pm(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function DO(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function kO(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function df(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Vb(t,e,n,r,i){let s;if(t){let l=r[t];qe(l,`No route found to patch children into: routeId = ${t}`),l.children||(l.children=[]),s=l.children}else s=n;let a=e.filter(l=>!s.some(c=>sA(l,c))),o=cf(a,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...o)}function sA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>sA(n,s))}):!1}var Ub=new WeakMap,aA=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(qe(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let a=Ub.get(i);a||(a={},Ub.set(i,a));let o=a[t];if(o)return o;let l=(async()=>{let c=nO(t),p=i[t]!==void 0&&t!=="hasErrorBoundary";if(c)Qt(!c,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(p)Qt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let d=await s();d!=null&&(Object.assign(i,{[t]:d}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(d=>d===void 0)&&(i.lazy=void 0))})();return a[t]=l,l},jb=new WeakMap;function PO(t,e,n,r,i){let s=n[t.id];if(qe(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let h=jb.get(s);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let p=(async()=>{qe(typeof t.lazy=="function","No lazy route function found");let d=await t.lazy(),g={};for(let _ in d){let A=d[_];if(A===void 0)continue;let S=iO(_),v=s[_]!==void 0&&_!=="hasErrorBoundary";S?Qt(!S,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):v?Qt(!v,`Route "${s.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):g[_]=A}Object.assign(s,g),Object.assign(s,{...r(s),lazy:void 0})})();return jb.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let a=Object.keys(t.lazy),o=[],l;for(let h of a){if(i&&i.includes(h))continue;let p=aA({key:h,route:t,manifest:n,mapRouteProperties:r});p&&(o.push(p),h===e&&(l=p))}let c=o.length>0?Promise.all(o).then(()=>{}):void 0;return c==null||c.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function zb(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function NO(t){return t.matches.some(e=>e.route.unstable_middleware)?oA(t,!1,()=>zb(t),(e,n)=>({[n]:{type:"error",result:e}})):zb(t)}async function oA(t,e,n,r){let{matches:i,request:s,params:a,context:o}=t,l={handlerResult:void 0};try{let c=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(d=>[p.route.id,d]):[]),h=await lA({request:s,params:a,context:o},c,e,l,n);return e?h:l.handlerResult}catch(c){if(!l.middlewareError)throw c;let h=await r(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,h):h}}async function lA(t,e,n,r,i,s=0){let{request:a}=t;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let o=e[s];if(!o)return r.handlerResult=await i(),r.handlerResult;let[l,c]=o,h=!1,p,d=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");h=!0,await lA(t,e,n,r,i,s+1)};try{let g=await c({request:t.request,params:t.params,context:t.context},d);return h?g===void 0?p:g:d()}catch(g){throw r.middlewareError?r.middlewareError.error!==g&&(r.middlewareError={routeId:l,error:g}):r.middlewareError={routeId:l,error:g},g}}function uA(t,e,n,r,i){let s=aA({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),a=PO(r.route,fr(n.method)?"action":"loader",e,t,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Nm(t,e,n,r,i,s,a,o=null){let l=!1,c=uA(t,e,n,r,i);return{...r,_lazyPromises:c,shouldLoad:a,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(h){return l=!0,o?typeof h=="boolean"?df(r,{...o,defaultShouldRevalidate:h}):df(r,o):a},resolve(h){return l||a||h&&n.method==="GET"&&(r.route.lazy||r.route.loader)?UO({request:n,match:r,lazyHandlerPromise:c==null?void 0:c.handler,lazyRoutePromise:c==null?void 0:c.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Co(t,e,n,r,i,s,a,o=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:uA(t,e,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Nm(t,e,n,l,s,a,!0,o))}async function VO(t,e,n,r,i,s){n.some(c=>{var h;return(h=c._lazyPromises)==null?void 0:h.middleware})&&await Promise.all(n.map(c=>{var h;return(h=c._lazyPromises)==null?void 0:h.middleware}));let a={request:e,params:n[0].params,context:i,matches:n},l=await t({...a,fetcherKey:r,unstable_runClientMiddleware:c=>{let h=a;return oA(h,!1,()=>c({...h,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,d)=>({[d]:{type:"error",result:p}}))}});try{await Promise.all(n.flatMap(c=>{var h,p;return[(h=c._lazyPromises)==null?void 0:h.handler,(p=c._lazyPromises)==null?void 0:p.route]}))}catch{}return l}async function UO({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let a,o,l=fr(t.method),c=l?"action":"loader",h=p=>{let d,g=new Promise((S,b)=>d=b);o=()=>d(),t.signal.addEventListener("abort",o);let _=S=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${e.route.id}]`)):p({request:t,params:e.params,context:s},...S!==void 0?[S]:[]),A=(async()=>{try{return{type:"data",result:await(i?i(b=>_(b)):_())}}catch(S){return{type:"error",result:S}}})();return Promise.race([A,g])};try{let p=l?e.route.action:e.route.loader;if(n||r)if(p){let d,[g]=await Promise.all([h(p).catch(_=>{d=_}),n,r]);if(d!==void 0)throw d;a=g}else{await n;let d=l?e.route.action:e.route.loader;if(d)[a]=await Promise.all([h(d),r]);else if(c==="action"){let g=new URL(t.url),_=g.pathname+g.search;throw Tr(405,{method:t.method,pathname:_,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(p)a=await h(p);else{let d=new URL(t.url),g=d.pathname+d.search;throw Tr(404,{pathname:g})}}catch(p){return{type:"error",result:p}}finally{o&&t.signal.removeEventListener("abort",o)}return a}async function jO(t){var r,i,s,a,o,l;let{result:e,type:n}=t;if(hA(e)){let c;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(h){return{type:"error",error:h}}return n==="error"?{type:"error",error:new ff(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:"data",data:c,statusCode:e.status,headers:e.headers}}return n==="error"?Kb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new ff(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:Du(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Du(e)?e.status:void 0}:Kb(e)?{type:"data",data:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function zO(t,e,n,r,i){let s=t.headers.get("Location");if(qe(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ev.test(s)){let a=r.slice(0,r.findIndex(o=>o.route.id===n)+1);s=km(new URL(e.url),a,i,s),t.headers.set("Location",s)}return t}function Bb(t,e,n){if(Ev.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Vr(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Za(t,e,n,r){let i=t.createURL(cA(e)).toString(),s={signal:n};if(r&&fr(r.formMethod)){let{formMethod:a,formEncType:o}=r;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(r.json)):o==="text/plain"?s.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?s.body=Vm(r.formData):s.body=r.formData}return new Request(i,s)}function Vm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Hb(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function BO(t,e,n,r=!1,i=!1){let s={},a=null,o,l=!1,c={},h=n&&hr(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let d=p.route.id,g=e[d];if(qe(!ua(g),"Cannot handle redirect results in processLoaderData"),hr(g)){let _=g.error;if(h!==void 0&&(_=h,h=void 0),a=a||{},i)a[d]=_;else{let A=oa(t,d);a[A.route.id]==null&&(a[A.route.id]=_)}r||(s[d]=iA),l||(l=!0,o=Du(g.error)?g.error.status:500),g.headers&&(c[d]=g.headers)}else s[d]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(o=g.statusCode),g.headers&&(c[d]=g.headers)}),h!==void 0&&n&&(a={[n[0]]:h},s[n[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}function Fb(t,e,n,r,i,s){let{loaderData:a,errors:o}=BO(e,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:h,controller:p}=l,d=s[c];if(qe(d,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(hr(d)){let g=oa(t.matches,h==null?void 0:h.route.id);o&&o[g.route.id]||(o={...o,[g.route.id]:d.error}),t.fetchers.delete(c)}else if(ua(d))qe(!1,"Unhandled fetcher revalidation redirect");else{let g=ns(d.data);t.fetchers.set(c,g)}}),{loaderData:a,errors:o}}function qb(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==iA).reduce((s,[a,o])=>(s[a]=o,s),{});for(let s of n){let a=s.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function Gb(t){return t?hr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function oa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function $b(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Tr(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(a="Bad Request",r&&e&&n?o=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):t===403?(a="Forbidden",o=`Route "${n}" does not match URL "${e}"`):t===404?(a="Not Found",o=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",r&&e&&n?o=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(o=`Invalid request method "${r.toUpperCase()}"`)),new ff(t||500,a,new Error(o),!0)}function Yc(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ua(i))return{key:r,result:i}}}function cA(t){let e=typeof t=="string"?Qs(t):t;return Us({...e,hash:""})}function HO(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function FO(t){return hA(t.result)&&RO.has(t.result.status)}function hr(t){return t.type==="error"}function ua(t){return(t&&t.type)==="redirect"}function Kb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function hA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function qO(t){return AO.has(t.toUpperCase())}function fr(t){return TO.has(t.toUpperCase())}function wv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Hl(t,e){let n=typeof e=="string"?Qs(e).search:e.search;if(t[t.length-1].route.index&&wv(n||""))return t[t.length-1];let r=tA(t);return r[r.length-1]}function Yb(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function gp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function GO(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Il(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $O(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ns(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function KO(t,e){try{let n=t.sessionStorage.getItem(rA);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function YO(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(rA,JSON.stringify(n))}catch(r){Qt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function QO(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Pa=f.createContext(null);Pa.displayName="DataRouter";var lc=f.createContext(null);lc.displayName="DataRouterState";var Sv=f.createContext({isTransitioning:!1});Sv.displayName="ViewTransition";var fA=f.createContext(new Map);fA.displayName="Fetchers";var WO=f.createContext(null);WO.displayName="Await";var vi=f.createContext(null);vi.displayName="Navigation";var sd=f.createContext(null);sd.displayName="Location";var Wr=f.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var Tv=f.createContext(null);Tv.displayName="RouteError";function XO(t,{relative:e}={}){qe(uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=f.useContext(vi),{hash:i,pathname:s,search:a}=cc(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:si([n,s])),r.createHref({pathname:o,search:a,hash:i})}function uc(){return f.useContext(sd)!=null}function Ki(){return qe(uc(),"useLocation() may be used only in the context of a <Router> component."),f.useContext(sd).location}var dA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pA(t){f.useContext(vi).static||f.useLayoutEffect(t)}function Cv(){let{isDataRoute:t}=f.useContext(Wr);return t?dD():ZO()}function ZO(){qe(uc(),"useNavigate() may be used only in the context of a <Router> component.");let t=f.useContext(Pa),{basename:e,navigator:n}=f.useContext(vi),{matches:r}=f.useContext(Wr),{pathname:i}=Ki(),s=JSON.stringify(_v(r)),a=f.useRef(!1);return pA(()=>{a.current=!0}),f.useCallback((l,c={})=>{if(Qt(a.current,dA),!a.current)return;if(typeof l=="number"){n.go(l);return}let h=bv(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:si([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}var JO=f.createContext(null);function eD(t){let e=f.useContext(Wr).outlet;return e&&f.createElement(JO.Provider,{value:t},e)}function tD(){let{matches:t}=f.useContext(Wr),e=t[t.length-1];return e?e.params:{}}function cc(t,{relative:e}={}){let{matches:n}=f.useContext(Wr),{pathname:r}=Ki(),i=JSON.stringify(_v(n));return f.useMemo(()=>bv(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function nD(t,e,n,r){qe(uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=f.useContext(vi),{matches:a}=f.useContext(Wr),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",h=o?o.pathnameBase:"/",p=o&&o.route;{let v=p&&p.path||"";mA(c,!p||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let d=Ki(),g;g=d;let _=g.pathname||"/",A=_;if(h!=="/"){let v=h.replace(/^\//,"").split("/");A="/"+_.replace(/^\//,"").split("/").slice(v.length).join("/")}let S=!s&&n&&n.matches&&n.matches.length>0?n.matches:hs(t,{pathname:A});return Qt(p||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Qt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),oD(S&&S.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:si([h,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?h:si([h,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r)}function rD(){let t=fD(),e=Du(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=f.createElement(f.Fragment,null,f.createElement("p",null," Hey developer "),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",f.createElement("code",{style:s},"ErrorBoundary")," or"," ",f.createElement("code",{style:s},"errorElement")," prop on your route.")),f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:i},n):null,a)}var iD=f.createElement(rD,null),sD=class extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?f.createElement(Wr.Provider,{value:this.props.routeContext},f.createElement(Tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aD({routeContext:t,match:e,children:n}){let r=f.useContext(Pa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),f.createElement(Wr.Provider,{value:t},n)}function oD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);qe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,o=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:h,errors:p}=n,d=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||d){a=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,c,h)=>{let p,d=!1,g=null,_=null;n&&(p=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||iD,a&&(o<0&&h===0?(mA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,_=null):o===h&&(d=!0,_=c.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,h+1)),S=()=>{let b;return p?b=g:d?b=_:c.route.Component?b=f.createElement(c.route.Component,null):c.route.element?b=c.route.element:b=l,f.createElement(aD,{match:c,routeContext:{outlet:l,matches:A,isDataRoute:n!=null},children:b})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?f.createElement(sD,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:S(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):S()},null)}function Av(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lD(t){let e=f.useContext(Pa);return qe(e,Av(t)),e}function uD(t){let e=f.useContext(lc);return qe(e,Av(t)),e}function cD(t){let e=f.useContext(Wr);return qe(e,Av(t)),e}function Rv(t){let e=cD(t),n=e.matches[e.matches.length-1];return qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function hD(){return Rv("useRouteId")}function fD(){var r;let t=f.useContext(Tv),e=uD("useRouteError"),n=Rv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function dD(){let{router:t}=lD("useNavigate"),e=Rv("useNavigate"),n=f.useRef(!1);return pA(()=>{n.current=!0}),f.useCallback(async(i,s={})=>{Qt(n.current,dA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Qb={};function mA(t,e,n){!e&&!Qb[t]&&(Qb[t]=!0,Qt(!1,n))}var Wb={};function Xb(t,e){!t&&!Wb[e]&&(Wb[e]=!0,console.warn(e))}function pD(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:f.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:f.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:f.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var mD=["HydrateFallback","hydrateFallbackElement"],gD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function vD({router:t,flushSync:e}){let[n,r]=f.useState(t.state),[i,s]=f.useState(),[a,o]=f.useState({isTransitioning:!1}),[l,c]=f.useState(),[h,p]=f.useState(),[d,g]=f.useState(),_=f.useRef(new Map),A=f.useCallback((C,{deletedFetchers:R,flushSync:D,viewTransitionOpts:x})=>{C.fetchers.forEach((E,w)=>{E.data!==void 0&&_.current.set(w,E.data)}),R.forEach(E=>_.current.delete(E)),Xb(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let T=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Xb(x==null||T,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!x||!T){e&&D?e(()=>r(C)):f.startTransition(()=>r(C));return}if(e&&D){e(()=>{h&&(l&&l.resolve(),h.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:x.currentLocation,nextLocation:x.nextLocation})});let E=t.window.document.startViewTransition(()=>{e(()=>r(C))});E.finished.finally(()=>{e(()=>{c(void 0),p(void 0),s(void 0),o({isTransitioning:!1})})}),e(()=>p(E));return}h?(l&&l.resolve(),h.skipTransition(),g({state:C,currentLocation:x.currentLocation,nextLocation:x.nextLocation})):(s(C),o({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}))},[t.window,e,h,l]);f.useLayoutEffect(()=>t.subscribe(A),[t,A]),f.useEffect(()=>{a.isTransitioning&&!a.flushSync&&c(new gD)},[a]),f.useEffect(()=>{if(l&&i&&t.window){let C=i,R=l.promise,D=t.window.document.startViewTransition(async()=>{f.startTransition(()=>r(C)),await R});D.finished.finally(()=>{c(void 0),p(void 0),s(void 0),o({isTransitioning:!1})}),p(D)}},[i,l,t.window]),f.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,h,n.location,i]),f.useEffect(()=>{!a.isTransitioning&&d&&(s(d.state),o({isTransitioning:!0,flushSync:!1,currentLocation:d.currentLocation,nextLocation:d.nextLocation}),g(void 0))},[a.isTransitioning,d]);let S=f.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:C=>t.navigate(C),push:(C,R,D)=>t.navigate(C,{state:R,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(C,R,D)=>t.navigate(C,{replace:!0,state:R,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[t]),b=t.basename||"/",v=f.useMemo(()=>({router:t,navigator:S,static:!1,basename:b}),[t,S,b]);return f.createElement(f.Fragment,null,f.createElement(Pa.Provider,{value:v},f.createElement(lc.Provider,{value:n},f.createElement(fA.Provider,{value:_.current},f.createElement(Sv.Provider,{value:a},f.createElement(ED,{basename:b,location:n.location,navigationType:n.historyAction,navigator:S},f.createElement(yD,{routes:t.routes,future:t.future,state:n})))))),null)}var yD=f.memo(_D);function _D({routes:t,future:e,state:n}){return nD(t,void 0,n,e)}function bD(t){return eD(t.context)}function ED({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){qe(!uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=f.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Qs(n));let{pathname:l="/",search:c="",hash:h="",state:p=null,key:d="default"}=n,g=f.useMemo(()=>{let _=Vr(l,a);return _==null?null:{location:{pathname:_,search:c,hash:h,state:p,key:d},navigationType:r}},[a,l,c,h,p,d,r]);return Qt(g!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:f.createElement(vi.Provider,{value:o},f.createElement(sd.Provider,{children:e,value:g}))}var Eh="get",wh="application/x-www-form-urlencoded";function ad(t){return t!=null&&typeof t.tagName=="string"}function wD(t){return ad(t)&&t.tagName.toLowerCase()==="button"}function SD(t){return ad(t)&&t.tagName.toLowerCase()==="form"}function TD(t){return ad(t)&&t.tagName.toLowerCase()==="input"}function CD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AD(t,e){return t.button===0&&(!e||e==="_self")&&!CD(t)}var Qc=null;function RD(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var xD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vp(t){return t!=null&&!xD.has(t)?(Qt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):t}function LD(t,e){let n,r,i,s,a;if(SD(t)){let o=t.getAttribute("action");r=o?Vr(o,e):null,n=t.getAttribute("method")||Eh,i=vp(t.getAttribute("enctype"))||wh,s=new FormData(t)}else if(wD(t)||TD(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Vr(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Eh,i=vp(t.getAttribute("formenctype"))||vp(o.getAttribute("enctype"))||wh,s=new FormData(o,t),!RD()){let{name:c,type:h,value:p}=t;if(h==="image"){let d=c?`${c}.`:"";s.append(`${d}x`,"0"),s.append(`${d}y`,"0")}else c&&s.append(c,p)}}else{if(ad(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Eh,r=null,i=wh,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function xv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function MD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ID(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function OD(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await MD(s,n);return a.links?a.links():[]}return[]}));return ND(r.flat(1).filter(ID).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Zb(t,e,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var p;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function DD(t,e,{includeHydrateFallback:n}={}){return kD(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function kD(t){return[...new Set(t)]}function PD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ND(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(PD(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}var VD=new Set([100,101,204,205]);function UD(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Vr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function gA(){let t=f.useContext(Pa);return xv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jD(){let t=f.useContext(lc);return xv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lv=f.createContext(void 0);Lv.displayName="FrameworkContext";function vA(){let t=f.useContext(Lv);return xv(t,"You must render this element inside a <HydratedRouter> element"),t}function zD(t,e){let n=f.useContext(Lv),[r,i]=f.useState(!1),[s,a]=f.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:p}=e,d=f.useRef(null);f.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let A=b=>{b.forEach(v=>{a(v.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return d.current&&S.observe(d.current),()=>{S.disconnect()}}},[t]),f.useEffect(()=>{if(r){let A=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(A)}}},[r]);let g=()=>{i(!0)},_=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,d,{}]:[s,d,{onFocus:Ol(o,g),onBlur:Ol(l,_),onMouseEnter:Ol(c,g),onMouseLeave:Ol(h,_),onTouchStart:Ol(p,g)}]:[!1,d,{}]}function Ol(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function BD({page:t,...e}){let{router:n}=gA(),r=f.useMemo(()=>hs(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?f.createElement(FD,{page:t,matches:r,...e}):null}function HD(t){let{manifest:e,routeModules:n}=vA(),[r,i]=f.useState([]);return f.useEffect(()=>{let s=!1;return OD(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function FD({page:t,matches:e,...n}){let r=Ki(),{manifest:i,routeModules:s}=vA(),{basename:a}=gA(),{loaderData:o,matches:l}=jD(),c=f.useMemo(()=>Zb(t,e,l,i,r,"data"),[t,e,l,i,r]),h=f.useMemo(()=>Zb(t,e,l,i,r,"assets"),[t,e,l,i,r]),p=f.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,A=!1;if(e.forEach(b=>{var C;let v=i.routes[b.route.id];!v||!v.hasLoader||(!c.some(R=>R.route.id===b.route.id)&&b.route.id in o&&((C=s[b.route.id])!=null&&C.shouldRevalidate)||v.hasClientLoader?A=!0:_.add(b.route.id))}),_.size===0)return[];let S=UD(t,a);return A&&_.size>0&&S.searchParams.set("_routes",e.filter(b=>_.has(b.route.id)).map(b=>b.route.id).join(",")),[S.pathname+S.search]},[a,o,r,i,c,e,t,s]),d=f.useMemo(()=>DD(h,i),[h,i]),g=HD(h);return f.createElement(f.Fragment,null,p.map(_=>f.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),d.map(_=>f.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),g.map(({key:_,link:A})=>f.createElement("link",{key:_,...A})))}function qD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yA&&(window.__reactRouterVersion="7.5.1")}catch{}function GD(t,e){return IO({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:ZI({window:e==null?void 0:e.window}),hydrationData:$D(),routes:t,mapRouteProperties:pD,hydrationRouteProperties:mD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function $D(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:KD(t.errors)}),t}function KD(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new ff(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var _A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mv=f.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:h,viewTransition:p,...d},g){let{basename:_}=f.useContext(vi),A=typeof c=="string"&&_A.test(c),S,b=!1;if(typeof c=="string"&&A&&(S=c,yA))try{let w=new URL(window.location.href),L=c.startsWith("//")?new URL(w.protocol+c):new URL(c),O=Vr(L.pathname,_);L.origin===w.origin&&O!=null?c=O+L.search+L.hash:b=!0}catch{Qt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=XO(c,{relative:i}),[C,R,D]=zD(r,d),x=XD(c,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:p});function T(w){e&&e(w),w.defaultPrevented||x(w)}let E=f.createElement("a",{...d,...D,href:S||v,onClick:b||s?e:T,ref:qD(g,R),target:l,"data-discover":!A&&n==="render"?"true":void 0});return C&&!A?f.createElement(f.Fragment,null,E,f.createElement(BD,{page:v})):E});Mv.displayName="Link";var YD=f.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},h){let p=cc(a,{relative:c.relative}),d=Ki(),g=f.useContext(lc),{navigator:_,basename:A}=f.useContext(vi),S=g!=null&&nk(p)&&o===!0,b=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,v=d.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(v=v.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&A&&(C=Vr(C,A)||C);const R=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let D=v===b||!i&&v.startsWith(b)&&v.charAt(R)==="/",x=C!=null&&(C===b||!i&&C.startsWith(b)&&C.charAt(b.length)==="/"),T={isActive:D,isPending:x,isTransitioning:S},E=D?e:void 0,w;typeof r=="function"?w=r(T):w=[r,D?"active":null,x?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(T):s;return f.createElement(Mv,{...c,"aria-current":E,className:w,ref:h,style:L,to:a,viewTransition:o},typeof l=="function"?l(T):l)});YD.displayName="NavLink";var QD=f.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Eh,action:o,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:p,...d},g)=>{let _=ek(),A=tk(o,{relative:c}),S=a.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&_A.test(o),v=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let R=C.nativeEvent.submitter,D=(R==null?void 0:R.getAttribute("formmethod"))||a;_(R||C.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:p})};return f.createElement("form",{ref:g,method:S,action:A,onSubmit:r?l:v,...d,"data-discover":!b&&t==="render"?"true":void 0})});QD.displayName="Form";function WD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bA(t){let e=f.useContext(Pa);return qe(e,WD(t)),e}function XD(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=Cv(),l=Ki(),c=cc(t,{relative:s});return f.useCallback(h=>{if(AD(h,e)){h.preventDefault();let p=n!==void 0?n:Us(l)===Us(c);o(t,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,e,t,i,s,a])}var ZD=0,JD=()=>`__${String(++ZD)}__`;function ek(){let{router:t}=bA("useSubmit"),{basename:e}=f.useContext(vi),n=hD();return f.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=LD(r,e);if(i.navigate===!1){let h=i.fetcherKey||JD();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function tk(t,{relative:e}={}){let{basename:n}=f.useContext(vi),r=f.useContext(Wr);qe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...cc(t||".",{relative:e})},a=Ki();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(p=>p).forEach(p=>o.append("index",p));let h=o.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:si([n,s.pathname])),Us(s)}function nk(t,e={}){let n=f.useContext(Sv);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bA("useViewTransitionState"),i=cc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Vr(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Vr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hf(i.pathname,a)!=null||hf(i.pathname,s)!=null}new TextEncoder;[...VD];/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rk(t){return f.createElement(vD,{flushSync:Gi.flushSync,...t})}const EA=f.createContext(void 0),wA=({children:t})=>{const[e,n]=f.useState([]),[r,i]=f.useState(""),[s,a]=f.useState(""),[o,l]=f.useState(null),[c,h]=f.useState(null),[p,d]=f.useState(null),[g,_]=f.useState([]),[A,S]=f.useState([]);return N.jsx(EA.Provider,{value:{eventType:e,setEventType:n,theme:r,setTheme:i,location:s,setLocation:a,date:o,setDate:l,startTime:c,setStartTime:h,endTime:p,setEndTime:d,invitees:g,setInvitees:_,activities:A,setActivities:S},children:t})},od=()=>{const t=f.useContext(EA);if(!t)throw new Error("useInvitation must be used within an InvitationProvider");return t};function ik(){return N.jsx(wA,{children:N.jsx(bD,{})})}function SA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SA(t))&&(r&&(r+=" "),r+=e);return r}const Iv="-",ak=t=>{const e=lk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(Iv);return o[0]===""&&o.length!==1&&o.shift(),TA(o,e)||ok(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},TA=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?TA(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Iv);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},Jb=/^\[(.+)\]$/,ok=t=>{if(Jb.test(t)){const e=Jb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},lk=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Um(n[i],r,i,e);return r},Um=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:eE(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(uk(i)){Um(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Um(a,eE(e,s),n,r)})})},eE=(t,e)=>{let n=t;return e.split(Iv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},uk=t=>t.isThemeGetter,ck=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},jm="!",zm=":",hk=zm.length,fk=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,o=0,l=0,c;for(let _=0;_<i.length;_++){let A=i[_];if(a===0&&o===0){if(A===zm){s.push(i.slice(l,_)),l=_+hk;continue}if(A==="/"){c=_;continue}}A==="["?a++:A==="]"?a--:A==="("?o++:A===")"&&o--}const h=s.length===0?i:i.substring(l),p=dk(h),d=p!==h,g=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:g}};if(e){const i=e+zm,s=r;r=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},dk=t=>t.endsWith(jm)?t.substring(0,t.length-1):t.startsWith(jm)?t.substring(1):t,pk=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(a=>{a[0]==="["||e[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},mk=t=>({cache:ck(t.cacheSize),parseClassName:fk(t),sortModifiers:pk(t),...ak(t)}),gk=/\s+/,vk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=t.trim().split(gk);let l="";for(let c=o.length-1;c>=0;c-=1){const h=o[c],{isExternal:p,modifiers:d,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:A}=n(h);if(p){l=h+(l.length>0?" "+l:l);continue}let S=!!A,b=r(S?_.substring(0,A):_);if(!b){if(!S){l=h+(l.length>0?" "+l:l);continue}if(b=r(_),!b){l=h+(l.length>0?" "+l:l);continue}S=!1}const v=s(d).join(":"),C=g?v+jm:v,R=C+b;if(a.includes(R))continue;a.push(R);const D=i(b,S);for(let x=0;x<D.length;++x){const T=D[x];a.push(C+T)}l=h+(l.length>0?" "+l:l)}return l};function yk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=CA(e))&&(r&&(r+=" "),r+=n);return r}const CA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=CA(t[r]))&&(n&&(n+=" "),n+=e);return n};function _k(t,...e){let n,r,i,s=a;function a(l){const c=e.reduce((h,p)=>p(h),t());return n=mk(c),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const c=r(l);if(c)return c;const h=vk(l,n);return i(l,h),h}return function(){return s(yk.apply(null,arguments))}}const Jt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},AA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,bk=/^\d+\/\d+$/,Ek=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Tk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ck=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ka=t=>bk.test(t),Ne=t=>!!t&&!Number.isNaN(Number(t)),Ji=t=>!!t&&Number.isInteger(Number(t)),yp=t=>t.endsWith("%")&&Ne(t.slice(0,-1)),Ti=t=>Ek.test(t),Ak=()=>!0,Rk=t=>wk.test(t)&&!Sk.test(t),xA=()=>!1,xk=t=>Tk.test(t),Lk=t=>Ck.test(t),Mk=t=>!ue(t)&&!ce(t),Ik=t=>sl(t,IA,xA),ue=t=>AA.test(t),ta=t=>sl(t,OA,Rk),_p=t=>sl(t,Nk,Ne),tE=t=>sl(t,LA,xA),Ok=t=>sl(t,MA,Lk),Wc=t=>sl(t,DA,xk),ce=t=>RA.test(t),Dl=t=>al(t,OA),Dk=t=>al(t,Vk),nE=t=>al(t,LA),kk=t=>al(t,IA),Pk=t=>al(t,MA),Xc=t=>al(t,DA,!0),sl=(t,e,n)=>{const r=AA.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},al=(t,e,n=!1)=>{const r=RA.exec(t);return r?r[1]?e(r[1]):n:!1},LA=t=>t==="position"||t==="percentage",MA=t=>t==="image"||t==="url",IA=t=>t==="length"||t==="size"||t==="bg-size",OA=t=>t==="length",Nk=t=>t==="number",Vk=t=>t==="family-name",DA=t=>t==="shadow",Uk=()=>{const t=Jt("color"),e=Jt("font"),n=Jt("text"),r=Jt("font-weight"),i=Jt("tracking"),s=Jt("leading"),a=Jt("breakpoint"),o=Jt("container"),l=Jt("spacing"),c=Jt("radius"),h=Jt("shadow"),p=Jt("inset-shadow"),d=Jt("text-shadow"),g=Jt("drop-shadow"),_=Jt("blur"),A=Jt("perspective"),S=Jt("aspect"),b=Jt("ease"),v=Jt("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...R(),ce,ue],x=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],E=()=>[ce,ue,l],w=()=>[Ka,"full","auto",...E()],L=()=>[Ji,"none","subgrid",ce,ue],O=()=>["auto",{span:["full",Ji,ce,ue]},Ji,ce,ue],k=()=>[Ji,"auto",ce,ue],I=()=>["auto","min","max","fr",ce,ue],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...E()],$=()=>[Ka,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],H=()=>[t,ce,ue],ne=()=>[...R(),nE,tE,{position:[ce,ue]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ge=()=>["auto","cover","contain",kk,Ik,{size:[ce,ue]}],ve=()=>[yp,Dl,ta],Q=()=>["","none","full",c,ce,ue],se=()=>["",Ne,Dl,ta],B=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[Ne,yp,nE,tE],pe=()=>["","none",_,ce,ue],Oe=()=>["none",Ne,ce,ue],Z=()=>["none",Ne,ce,ue],he=()=>[Ne,ce,ue],Ye=()=>[Ka,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ti],breakpoint:[Ti],color:[Ak],container:[Ti],"drop-shadow":[Ti],ease:["in","out","in-out"],font:[Mk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ti],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ti],shadow:[Ti],spacing:["px",Ne],text:[Ti],"text-shadow":[Ti],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ka,ue,ce,S]}],container:["container"],columns:[{columns:[Ne,ue,ce,o]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[Ji,"auto",ce,ue]}],basis:[{basis:[Ka,"full","auto",o,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ne,Ka,"auto","initial","none",ue]}],grow:[{grow:["",Ne,ce,ue]}],shrink:[{shrink:["",Ne,ce,ue]}],order:[{order:[Ji,"first","last","none",ce,ue]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:$()}],w:[{w:[o,"screen",...$()]}],"min-w":[{"min-w":[o,"screen","none",...$()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...$()]}],h:[{h:["screen",...$()]}],"min-h":[{"min-h":["screen","none",...$()]}],"max-h":[{"max-h":["screen",...$()]}],"font-size":[{text:["base",n,Dl,ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ce,_p]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yp,ue]}],"font-family":[{font:[Dk,ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ce,ue]}],"line-clamp":[{"line-clamp":[Ne,"none",ce,_p]}],leading:[{leading:[s,...E()]}],"list-image":[{"list-image":["none",ce,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ne,"from-font","auto",ce,ta]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Ne,"auto",ce,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:ge()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ji,ce,ue],radial:["",ce,ue],conic:[Ji,ce,ue]},Pk,Ok]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:ve()}],"gradient-via-pos":[{via:ve()}],"gradient-to-pos":[{to:ve()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ne,ce,ue]}],"outline-w":[{outline:["",Ne,Dl,ta]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",h,Xc,Wc]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",p,Xc,Wc]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Ne,ta]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",d,Xc,Wc]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Ne,ce,ue]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ne]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[ce,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Ne]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:ge()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,ue]}],filter:[{filter:["","none",ce,ue]}],blur:[{blur:pe()}],brightness:[{brightness:[Ne,ce,ue]}],contrast:[{contrast:[Ne,ce,ue]}],"drop-shadow":[{"drop-shadow":["","none",g,Xc,Wc]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Ne,ce,ue]}],"hue-rotate":[{"hue-rotate":[Ne,ce,ue]}],invert:[{invert:["",Ne,ce,ue]}],saturate:[{saturate:[Ne,ce,ue]}],sepia:[{sepia:["",Ne,ce,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,ue]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Ne,ce,ue]}],"backdrop-contrast":[{"backdrop-contrast":[Ne,ce,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ne,ce,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ne,ce,ue]}],"backdrop-invert":[{"backdrop-invert":["",Ne,ce,ue]}],"backdrop-opacity":[{"backdrop-opacity":[Ne,ce,ue]}],"backdrop-saturate":[{"backdrop-saturate":[Ne,ce,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",Ne,ce,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ne,"initial",ce,ue]}],ease:[{ease:["linear","initial",b,ce,ue]}],delay:[{delay:[Ne,ce,ue]}],animate:[{animate:["none",v,ce,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,ce,ue]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Oe()}],"rotate-x":[{"rotate-x":Oe()}],"rotate-y":[{"rotate-y":Oe()}],"rotate-z":[{"rotate-z":Oe()}],scale:[{scale:Z()}],"scale-x":[{"scale-x":Z()}],"scale-y":[{"scale-y":Z()}],"scale-z":[{"scale-z":Z()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[ce,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ye()}],"translate-x":[{"translate-x":Ye()}],"translate-y":[{"translate-y":Ye()}],"translate-z":[{"translate-z":Ye()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,ue]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Ne,Dl,ta,_p]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jk=_k(Uk);function ld(...t){return jk(sk(t))}function vt({to:t,className:e,children:n,isSelected:r,onClick:i,...s}){const l=ld("px-4 py-2 rounded-full font-medium text-sm bg-white text-black ring-0 transition-shadow duration-300 hover:ring-1 hover:ring-gray-300",r?"rounded-full px-4 py-2 text-sm ring-4 ring-gray-300 transition-shadow duration-300 hover:ring-2 hover:ring-gray-300":"rounded-full px-4 py-2 text-sm ring-1 ring-gray-300 transition-shadow duration-300 hover:ring-2 hover:ring-gray-300",e);return t?N.jsx(Mv,{to:t,className:l,children:n}):N.jsx("button",{className:l,onClick:i,...s,children:n})}const rE=[{label:"Type",path:"/partyType"},{label:"Theme",path:"/theme"},{label:"Date & Time",path:"/dateTime"},{label:"Activities",path:"/activity"},{label:"Invitees",path:"/invitee"},{label:"Location",path:"/location"},{label:"Review",path:"/confirmation"}];function zk(){return N.jsxs("main",{className:"flex flex-col items-center justify-center min-h-screen bg-background px-4",children:[N.jsx("h1",{className:"text-3xl font-bold mb-10 text-black",children:"Create Your Invite"}),N.jsx("div",{className:"flex items-center flex-wrap gap-2 justify-center",children:rE.map((t,e)=>N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(vt,{to:t.path,children:t.label}),e<rE.length-1&&N.jsx("div",{className:"w-10 h-px bg-gray-300 mx-2"})]},t.path))})]})}function Bk(){const[t,e]=f.useState([]),[n,r]=f.useState(""),[i,s]=f.useState(""),[a,o]=f.useState(!1),[l,c]=f.useState(!1),[h,p]=f.useState(!1),d="viva:invitees";f.useEffect(()=>{try{const A=localStorage.getItem(d);if(A){const S=JSON.parse(A);Array.isArray(S.invitees)&&e(S.invitees),typeof S.name=="string"&&r(S.name),typeof S.email=="string"&&s(S.email)}}catch{}finally{p(!0)}},[]),f.useEffect(()=>{h&&localStorage.setItem(d,JSON.stringify({invitees:t,name:n,email:i}))},[h,t,n,i]);const g=()=>{!n||!i||(e([...t,{name:n,email:i}]),r(""),s(""))},_=A=>{e(S=>S.filter((b,v)=>v!==A))};return N.jsxs("main",{className:"max-w-md mx-auto p-6 bg-background space-y-6",children:[N.jsx("div",{className:"text-3xl font-bold mb-10 text-black flex items-center",children:"Whos coming"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("input",{type:"text",placeholder:"Name",className:"border px-2 py-1 rounded w-1/3",value:n,onChange:A=>r(A.target.value)}),N.jsx("input",{type:"email",placeholder:"Email",className:"border px-2 py-1 rounded w-1/3",value:i,onChange:A=>s(A.target.value)}),N.jsx("button",{onClick:g,className:"bg-blue-500 text-white px-4 py-1 rounded",children:"Add"})]}),N.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((A,S)=>{const v=t.reduce((C,R)=>(C[R.name]=(C[R.name]||0)+1,C),{})[A.name]>1;return N.jsxs("div",{className:"bg-gray-200 px-3 py-1 rounded-full flex items-center gap-2",children:[N.jsxs("span",{children:[A.name,v?` (${A.email})`:""]}),N.jsx("button",{onClick:()=>_(S),className:"text-red-500 font-bold",children:""})]},S)})}),t.length>0&&N.jsx("div",{className:"mt-4",children:N.jsx("button",{onClick:()=>{c(!0),o(!0),setTimeout(()=>c(!1),3e3)},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition",children:"Finish"})}),l&&N.jsx("div",{className:`fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg
            transition-opacity duration-500 opacity-100 animate-fadeIn`,children:"You're ready to send invites!"}),a&&N.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50
                animate-fadeIn`,children:N.jsxs("div",{className:"bg-white p-6 rounded-xl max-w-md w-full shadow-lg",children:[N.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Review Your Invite"}),N.jsx("ul",{className:"mb-4 max-h-40 overflow-y-auto",children:t.map((A,S)=>N.jsxs("li",{className:"text-sm text-gray-700",children:[A.name," (",A.email,")"]},S))}),N.jsx("textarea",{placeholder:"Write your custom message here...",className:"w-full border rounded p-2 mb-4",rows:3}),N.jsxs("div",{className:"flex justify-end gap-2",children:[N.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-black",children:"Cancel"}),N.jsx("button",{onClick:()=>{console.log("Sending emails..."),o(!1)},className:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700",children:"Send"})]})]})}),N.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[N.jsx(vt,{to:"/",children:"Home"}),N.jsx(vt,{to:"/location",children:"Next"})]})]})}function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Hk(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fk(t){var e=Hk(t,"string");return ku(e)=="symbol"?e:e+""}function G(t,e,n){return(e=Fk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bp,iE;function qk(){if(iE)return bp;iE=1;var t=function(n,r,i,s,a,o,l,c){if(!n){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[i,s,a,o,l,c],d=0;h=new Error(r.replace(/%s/g,function(){return p[d++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return bp=t,bp}var Gk=qk(),on=kA(Gk),De=f.createContext(null);function $k(){on(!!f.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=f.useContext(De);return on(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function Kk(t,e,n){return Object.keys(t).reduce(function(i,s){return e(i,t[s],s)},n)}function Yk(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function Qk(t,e,n,r){var i={},s=(a,o)=>{var l=n[o];l!==e[o]&&(i[o]=l,a(r,l))};return Yk(t,s),i}function Wk(t,e,n){var r=Kk(n,function(s,a,o){return typeof t[o]=="function"&&s.push(google.maps.event.addListener(e,a,t[o])),s},[]);return r}function Xk(t){google.maps.event.removeListener(t)}function Ge(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(Xk)}function je(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:i,instance:s}=t,a=Wk(i,s,n);return Qk(e,r,i,s),a}var sE={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},aE={extraMapTypes(t,e){e.forEach(function(r,i){t.mapTypes.set(String(i),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function Zk(t){var{children:e,options:n,id:r,mapContainerStyle:i,mapContainerClassName:s,center:a,onClick:o,onDblClick:l,onDrag:c,onDragEnd:h,onDragStart:p,onMouseMove:d,onMouseOut:g,onMouseOver:_,onMouseDown:A,onMouseUp:S,onRightClick:b,onCenterChanged:v,onLoad:C,onUnmount:R}=t,[D,x]=f.useState(null),T=f.useRef(null),[E,w]=f.useState(null),[L,O]=f.useState(null),[k,I]=f.useState(null),[X,J]=f.useState(null),[z,$]=f.useState(null),[H,ne]=f.useState(null),[ee,ge]=f.useState(null),[ve,Q]=f.useState(null),[se,B]=f.useState(null),[le,ie]=f.useState(null),[pe,Oe]=f.useState(null),[Z,he]=f.useState(null);return f.useEffect(()=>{n&&D!==null&&D.setOptions(n)},[D,n]),f.useEffect(()=>{D!==null&&typeof a<"u"&&D.setCenter(a)},[D,a]),f.useEffect(()=>{D&&l&&(L!==null&&google.maps.event.removeListener(L),O(google.maps.event.addListener(D,"dblclick",l)))},[l]),f.useEffect(()=>{D&&h&&(k!==null&&google.maps.event.removeListener(k),I(google.maps.event.addListener(D,"dragend",h)))},[h]),f.useEffect(()=>{D&&p&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(D,"dragstart",p)))},[p]),f.useEffect(()=>{D&&A&&(z!==null&&google.maps.event.removeListener(z),$(google.maps.event.addListener(D,"mousedown",A)))},[A]),f.useEffect(()=>{D&&d&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(D,"mousemove",d)))},[d]),f.useEffect(()=>{D&&g&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(D,"mouseout",g)))},[g]),f.useEffect(()=>{D&&_&&(ve!==null&&google.maps.event.removeListener(ve),Q(google.maps.event.addListener(D,"mouseover",_)))},[_]),f.useEffect(()=>{D&&S&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(D,"mouseup",S)))},[S]),f.useEffect(()=>{D&&b&&(le!==null&&google.maps.event.removeListener(le),ie(google.maps.event.addListener(D,"rightclick",b)))},[b]),f.useEffect(()=>{D&&o&&(pe!==null&&google.maps.event.removeListener(pe),Oe(google.maps.event.addListener(D,"click",o)))},[o]),f.useEffect(()=>{D&&c&&(Z!==null&&google.maps.event.removeListener(Z),he(google.maps.event.addListener(D,"drag",c)))},[c]),f.useEffect(()=>{D&&v&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(D,"center_changed",v)))},[o]),f.useEffect(()=>{var Ye=T.current===null?null:new google.maps.Map(T.current,n);return x(Ye),Ye!==null&&C&&C(Ye),()=>{Ye!==null&&R&&R(Ye)}},[]),N.jsx("div",{id:r,ref:T,style:i,className:s,children:N.jsx(De.Provider,{value:D,children:D!==null?e:null})})}f.memo(Zk);class Jk extends f.PureComponent{constructor(){super(...arguments),G(this,"state",{map:null}),G(this,"registeredEvents",[]),G(this,"mapRef",null),G(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),G(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),G(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),G(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=je({updaterMap:aE,eventMap:sE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:aE,eventMap:sE,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ge(this.registeredEvents))}render(){return N.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:N.jsx(De.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function oE(t,e,n,r,i,s,a){try{var o=t[s](a),l=o.value}catch(c){return void n(c)}o.done?e(l):Promise.resolve(l).then(r,i)}function PA(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function a(l){oE(s,r,i,a,o,"next",l)}function o(l){oE(s,r,i,a,o,"throw",l)}a(void 0)})}}function NA(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:i,region:s,libraries:a,channel:o,mapIds:l,authReferrerPolicy:c}=t,h=[];return on(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?h.push("key=".concat(e)):n&&h.push("client=".concat(n)),r&&h.push("v=".concat(r)),i&&h.push("language=".concat(i)),s&&h.push("region=".concat(s)),a&&a.length&&h.push("libraries=".concat(a.sort().join(","))),o&&h.push("channel=".concat(o)),l&&l.length&&h.push("map_ids=".concat(l.join(","))),c&&h.push("auth_referrer_policy=".concat(c)),h.push("loading=async"),h.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(h.join("&"))}var ca=typeof document<"u";function VA(t){var{url:e,id:n,nonce:r}=t;return ca?new Promise(function(s,a){var o=document.getElementById(n),l=window;if(o){var c=o.getAttribute("data-state");if(o.src===e&&c!=="error"){if(c==="ready")return s(n);var h=l.initMap,p=o.onerror;l.initMap=function(){h&&h(),s(n)},o.onerror=function(g){p&&p(g),a(g)};return}else o.remove()}var d=document.createElement("script");d.type="text/javascript",d.src=e,d.id=n,d.async=!0,d.nonce=r||"",d.onerror=function(_){d.setAttribute("data-state","error"),a(_)},l.initMap=function(){d.setAttribute("data-state","ready"),s(n)},document.head.appendChild(d)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function lE(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function UA(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,s){return lE(i)||Reflect.apply(e,t,[i,s]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return lE(i)||Reflect.apply(n,t,[i]),i}}}var kl=!1;function jA(){return N.jsx("div",{children:"Loading..."})}var Bm={id:"script-loader",version:"weekly"};class zA extends f.PureComponent{constructor(){super(...arguments),G(this,"check",null),G(this,"state",{loaded:!1}),G(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),G(this,"isCleaningUp",PA(function*(){function e(n){if(!kl)n();else if(ca)var r=window.setInterval(function(){kl||(window.clearInterval(r),n())},1)}return new Promise(e)})),G(this,"cleanup",()=>{kl=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),G(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&UA(),on(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:NA(this.props)};VA(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),G(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ca){if(window.google&&window.google.maps&&!kl){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ca&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ca){this.cleanup();var e=()=>{this.check||(delete window.google,kl=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return N.jsxs(N.Fragment,{children:[N.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||N.jsx(jA,{})]})}}G(zA,"defaultProps",Bm);function eP(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Ov(t,e){if(t==null)return{};var n,r,i=eP(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var uE;function tP(t){var{id:e=Bm.id,version:n=Bm.version,nonce:r,googleMapsApiKey:i,googleMapsClientId:s,language:a,region:o,libraries:l,preventGoogleFontsLoading:c,channel:h,mapIds:p,authReferrerPolicy:d}=t,g=f.useRef(!1),[_,A]=f.useState(!1),[S,b]=f.useState(void 0);f.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]),f.useEffect(function(){ca&&c&&UA()},[c]),f.useEffect(function(){_&&on(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[_]);var v=NA({version:n,googleMapsApiKey:i,googleMapsClientId:s,language:a,region:o,libraries:l,channel:h,mapIds:p,authReferrerPolicy:d});f.useEffect(function(){if(!ca)return;function D(){g.current&&(A(!0),uE=v)}if(window.google&&window.google.maps&&uE===v){D();return}VA({id:e,url:v,nonce:r}).then(D).catch(function(T){g.current&&b(T),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(T)})},[e,v,r]);var C=f.useRef(void 0);return f.useEffect(function(){C.current&&l!==C.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),C.current=l},[l]),{isLoaded:_,loadError:S,url:v}}var nP=["loadingElement","onLoad","onError","onUnmount","children"],rP=N.jsx(jA,{});function iP(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:i,children:s}=t,a=Ov(t,nP),{isLoaded:o,loadError:l}=tP(a);return f.useEffect(function(){o&&typeof n=="function"&&n()},[o,n]),f.useEffect(function(){l&&typeof r=="function"&&r(l)},[l,r]),f.useEffect(function(){return()=>{i&&i()}},[i]),o?s:e||rP}f.memo(iP);var cE;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(cE||(cE={}));function hE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var fE={},dE={options(t,e){t.setOptions(e)}};function sP(t){var{options:e,onLoad:n,onUnmount:r}=t,i=f.useContext(De),[s,a]=f.useState(null);return f.useEffect(()=>{s!==null&&s.setMap(i)},[i]),f.useEffect(()=>{e&&s!==null&&s.setOptions(e)},[s,e]),f.useEffect(()=>{var o=new google.maps.TrafficLayer(pf(pf({},e),{},{map:i}));return a(o),n&&n(o),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}f.memo(sP);class aP extends f.PureComponent{constructor(){super(...arguments),G(this,"state",{trafficLayer:null}),G(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),G(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(pf(pf({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:dE,eventMap:fE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:dE,eventMap:fE,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ge(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}G(aP,"contextType",De);function oP(t){var{onLoad:e,onUnmount:n}=t,r=f.useContext(De),[i,s]=f.useState(null);return f.useEffect(()=>{i!==null&&i.setMap(r)},[r]),f.useEffect(()=>{var a=new google.maps.BicyclingLayer;return s(a),a.setMap(r),e&&e(a),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}f.memo(oP);class lP extends f.PureComponent{constructor(){super(...arguments),G(this,"state",{bicyclingLayer:null}),G(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}G(lP,"contextType",De);function uP(t){var{onLoad:e,onUnmount:n}=t,r=f.useContext(De),[i,s]=f.useState(null);return f.useEffect(()=>{i!==null&&i.setMap(r)},[r]),f.useEffect(()=>{var a=new google.maps.TransitLayer;return s(a),a.setMap(r),e&&e(a),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}f.memo(uP);class cP extends f.PureComponent{constructor(){super(...arguments),G(this,"state",{transitLayer:null}),G(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}G(cP,"contextType",De);function pE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var mE={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},gE={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function hP(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:i,onOverlayComplete:s,onPolygonComplete:a,onPolylineComplete:o,onRectangleComplete:l,onLoad:c,onUnmount:h}=t,p=f.useContext(De),[d,g]=f.useState(null),[_,A]=f.useState(null),[S,b]=f.useState(null),[v,C]=f.useState(null),[R,D]=f.useState(null),[x,T]=f.useState(null),[E,w]=f.useState(null);return f.useEffect(()=>{d!==null&&d.setMap(p)},[p]),f.useEffect(()=>{e&&d!==null&&d.setOptions(e)},[d,e]),f.useEffect(()=>{d!==null&&d.setDrawingMode(n??null)},[d,n]),f.useEffect(()=>{d&&r&&(_!==null&&google.maps.event.removeListener(_),A(google.maps.event.addListener(d,"circlecomplete",r)))},[d,r]),f.useEffect(()=>{d&&i&&(S!==null&&google.maps.event.removeListener(S),b(google.maps.event.addListener(d,"markercomplete",i)))},[d,i]),f.useEffect(()=>{d&&s&&(v!==null&&google.maps.event.removeListener(v),C(google.maps.event.addListener(d,"overlaycomplete",s)))},[d,s]),f.useEffect(()=>{d&&a&&(R!==null&&google.maps.event.removeListener(R),D(google.maps.event.addListener(d,"polygoncomplete",a)))},[d,a]),f.useEffect(()=>{d&&o&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(d,"polylinecomplete",o)))},[d,o]),f.useEffect(()=>{d&&l&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(d,"rectanglecomplete",l)))},[d,l]),f.useEffect(()=>{on(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var L=new google.maps.drawing.DrawingManager(mf(mf({},e),{},{map:p}));return n&&L.setDrawingMode(n),r&&A(google.maps.event.addListener(L,"circlecomplete",r)),i&&b(google.maps.event.addListener(L,"markercomplete",i)),s&&C(google.maps.event.addListener(L,"overlaycomplete",s)),a&&D(google.maps.event.addListener(L,"polygoncomplete",a)),o&&T(google.maps.event.addListener(L,"polylinecomplete",o)),l&&w(google.maps.event.addListener(L,"rectanglecomplete",l)),g(L),c&&c(L),()=>{d!==null&&(_&&google.maps.event.removeListener(_),S&&google.maps.event.removeListener(S),v&&google.maps.event.removeListener(v),R&&google.maps.event.removeListener(R),x&&google.maps.event.removeListener(x),E&&google.maps.event.removeListener(E),h&&h(d),d.setMap(null))}},[]),null}f.memo(hP);class fP extends f.PureComponent{constructor(e){super(e),G(this,"registeredEvents",[]),G(this,"state",{drawingManager:null}),G(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),on(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(mf(mf({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:gE,eventMap:mE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:gE,eventMap:mE,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ge(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}G(fP,"contextType",De);function vE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var yE={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},_E={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},gf={};function dP(t){var{position:e,options:n,clusterer:r,noClustererRedraw:i,children:s,draggable:a,visible:o,animation:l,clickable:c,cursor:h,icon:p,label:d,opacity:g,shape:_,title:A,zIndex:S,onClick:b,onDblClick:v,onDrag:C,onDragEnd:R,onDragStart:D,onMouseOut:x,onMouseOver:T,onMouseUp:E,onMouseDown:w,onRightClick:L,onClickableChanged:O,onCursorChanged:k,onAnimationChanged:I,onDraggableChanged:X,onFlatChanged:J,onIconChanged:z,onPositionChanged:$,onShapeChanged:H,onTitleChanged:ne,onVisibleChanged:ee,onZindexChanged:ge,onLoad:ve,onUnmount:Q}=t,se=f.useContext(De),[B,le]=f.useState(null),[ie,pe]=f.useState(null),[Oe,Z]=f.useState(null),[he,Ye]=f.useState(null),[Dt,dt]=f.useState(null),[Me,gn]=f.useState(null),[ln,xn]=f.useState(null),[kt,zn]=f.useState(null),[Ln,Wt]=f.useState(null),[bt,jt]=f.useState(null),[vn,Qe]=f.useState(null),[Pe,Xt]=f.useState(null),[Ct,$n]=f.useState(null),[Mt,ir]=f.useState(null),[Bn,Xr]=f.useState(null),[sr,br]=f.useState(null),[Kn,Ur]=f.useState(null),[Yn,Mn]=f.useState(null),[ar,At]=f.useState(null),[un,Ft]=f.useState(null),[Hn,jr]=f.useState(null),[zr,P]=f.useState(null);f.useEffect(()=>{B!==null&&B.setMap(se)},[se]),f.useEffect(()=>{typeof n<"u"&&B!==null&&B.setOptions(n)},[B,n]),f.useEffect(()=>{typeof a<"u"&&B!==null&&B.setDraggable(a)},[B,a]),f.useEffect(()=>{e&&B!==null&&B.setPosition(e)},[B,e]),f.useEffect(()=>{typeof o<"u"&&B!==null&&B.setVisible(o)},[B,o]),f.useEffect(()=>{B==null||B.setAnimation(l)},[B,l]),f.useEffect(()=>{B&&c!==void 0&&B.setClickable(c)},[B,c]),f.useEffect(()=>{B&&h!==void 0&&B.setCursor(h)},[B,h]),f.useEffect(()=>{B&&p!==void 0&&B.setIcon(p)},[B,p]),f.useEffect(()=>{B&&d!==void 0&&B.setLabel(d)},[B,d]),f.useEffect(()=>{B&&g!==void 0&&B.setOpacity(g)},[B,g]),f.useEffect(()=>{B&&_!==void 0&&B.setShape(_)},[B,_]),f.useEffect(()=>{B&&A!==void 0&&B.setTitle(A)},[B,A]),f.useEffect(()=>{B&&S!==void 0&&B.setZIndex(S)},[B,S]),f.useEffect(()=>{B&&v&&(ie!==null&&google.maps.event.removeListener(ie),pe(google.maps.event.addListener(B,"dblclick",v)))},[v]),f.useEffect(()=>{B&&R&&(Oe!==null&&google.maps.event.removeListener(Oe),Z(google.maps.event.addListener(B,"dragend",R)))},[R]),f.useEffect(()=>{B&&D&&(he!==null&&google.maps.event.removeListener(he),Ye(google.maps.event.addListener(B,"dragstart",D)))},[D]),f.useEffect(()=>{B&&w&&(Dt!==null&&google.maps.event.removeListener(Dt),dt(google.maps.event.addListener(B,"mousedown",w)))},[w]),f.useEffect(()=>{B&&x&&(Me!==null&&google.maps.event.removeListener(Me),gn(google.maps.event.addListener(B,"mouseout",x)))},[x]),f.useEffect(()=>{B&&T&&(ln!==null&&google.maps.event.removeListener(ln),xn(google.maps.event.addListener(B,"mouseover",T)))},[T]),f.useEffect(()=>{B&&E&&(kt!==null&&google.maps.event.removeListener(kt),zn(google.maps.event.addListener(B,"mouseup",E)))},[E]),f.useEffect(()=>{B&&L&&(Ln!==null&&google.maps.event.removeListener(Ln),Wt(google.maps.event.addListener(B,"rightclick",L)))},[L]),f.useEffect(()=>{B&&b&&(bt!==null&&google.maps.event.removeListener(bt),jt(google.maps.event.addListener(B,"click",b)))},[b]),f.useEffect(()=>{B&&C&&(vn!==null&&google.maps.event.removeListener(vn),Qe(google.maps.event.addListener(B,"drag",C)))},[C]),f.useEffect(()=>{B&&O&&(Pe!==null&&google.maps.event.removeListener(Pe),Xt(google.maps.event.addListener(B,"clickable_changed",O)))},[O]),f.useEffect(()=>{B&&k&&(Ct!==null&&google.maps.event.removeListener(Ct),$n(google.maps.event.addListener(B,"cursor_changed",k)))},[k]),f.useEffect(()=>{B&&I&&(Mt!==null&&google.maps.event.removeListener(Mt),ir(google.maps.event.addListener(B,"animation_changed",I)))},[I]),f.useEffect(()=>{B&&X&&(Bn!==null&&google.maps.event.removeListener(Bn),Xr(google.maps.event.addListener(B,"draggable_changed",X)))},[X]),f.useEffect(()=>{B&&J&&(sr!==null&&google.maps.event.removeListener(sr),br(google.maps.event.addListener(B,"flat_changed",J)))},[J]),f.useEffect(()=>{B&&z&&(Kn!==null&&google.maps.event.removeListener(Kn),Ur(google.maps.event.addListener(B,"icon_changed",z)))},[z]),f.useEffect(()=>{B&&$&&(Yn!==null&&google.maps.event.removeListener(Yn),Mn(google.maps.event.addListener(B,"position_changed",$)))},[$]),f.useEffect(()=>{B&&H&&(ar!==null&&google.maps.event.removeListener(ar),At(google.maps.event.addListener(B,"shape_changed",H)))},[H]),f.useEffect(()=>{B&&ne&&(un!==null&&google.maps.event.removeListener(un),Ft(google.maps.event.addListener(B,"title_changed",ne)))},[ne]),f.useEffect(()=>{B&&ee&&(Hn!==null&&google.maps.event.removeListener(Hn),jr(google.maps.event.addListener(B,"visible_changed",ee)))},[ee]),f.useEffect(()=>{B&&ge&&(zr!==null&&google.maps.event.removeListener(zr),P(google.maps.event.addListener(B,"zindex_changed",ge)))},[ge]),f.useEffect(()=>{var j=Ao(Ao(Ao({},n||gf),r?gf:{map:se}),{},{position:e}),F=new google.maps.Marker(j);return r?r.addMarker(F,!!i):F.setMap(se),e&&F.setPosition(e),typeof o<"u"&&F.setVisible(o),typeof a<"u"&&F.setDraggable(a),typeof c<"u"&&F.setClickable(c),typeof h=="string"&&F.setCursor(h),p&&F.setIcon(p),typeof d<"u"&&F.setLabel(d),typeof g<"u"&&F.setOpacity(g),_&&F.setShape(_),typeof A=="string"&&F.setTitle(A),typeof S=="number"&&F.setZIndex(S),v&&pe(google.maps.event.addListener(F,"dblclick",v)),R&&Z(google.maps.event.addListener(F,"dragend",R)),D&&Ye(google.maps.event.addListener(F,"dragstart",D)),w&&dt(google.maps.event.addListener(F,"mousedown",w)),x&&gn(google.maps.event.addListener(F,"mouseout",x)),T&&xn(google.maps.event.addListener(F,"mouseover",T)),E&&zn(google.maps.event.addListener(F,"mouseup",E)),L&&Wt(google.maps.event.addListener(F,"rightclick",L)),b&&jt(google.maps.event.addListener(F,"click",b)),C&&Qe(google.maps.event.addListener(F,"drag",C)),O&&Xt(google.maps.event.addListener(F,"clickable_changed",O)),k&&$n(google.maps.event.addListener(F,"cursor_changed",k)),I&&ir(google.maps.event.addListener(F,"animation_changed",I)),X&&Xr(google.maps.event.addListener(F,"draggable_changed",X)),J&&br(google.maps.event.addListener(F,"flat_changed",J)),z&&Ur(google.maps.event.addListener(F,"icon_changed",z)),$&&Mn(google.maps.event.addListener(F,"position_changed",$)),H&&At(google.maps.event.addListener(F,"shape_changed",H)),ne&&Ft(google.maps.event.addListener(F,"title_changed",ne)),ee&&jr(google.maps.event.addListener(F,"visible_changed",ee)),ge&&P(google.maps.event.addListener(F,"zindex_changed",ge)),le(F),ve&&ve(F),()=>{ie!==null&&google.maps.event.removeListener(ie),Oe!==null&&google.maps.event.removeListener(Oe),he!==null&&google.maps.event.removeListener(he),Dt!==null&&google.maps.event.removeListener(Dt),Me!==null&&google.maps.event.removeListener(Me),ln!==null&&google.maps.event.removeListener(ln),kt!==null&&google.maps.event.removeListener(kt),Ln!==null&&google.maps.event.removeListener(Ln),bt!==null&&google.maps.event.removeListener(bt),Pe!==null&&google.maps.event.removeListener(Pe),Ct!==null&&google.maps.event.removeListener(Ct),Mt!==null&&google.maps.event.removeListener(Mt),Bn!==null&&google.maps.event.removeListener(Bn),sr!==null&&google.maps.event.removeListener(sr),Kn!==null&&google.maps.event.removeListener(Kn),Yn!==null&&google.maps.event.removeListener(Yn),un!==null&&google.maps.event.removeListener(un),Hn!==null&&google.maps.event.removeListener(Hn),zr!==null&&google.maps.event.removeListener(zr),Q&&Q(F),r?r.removeMarker(F,!!i):F&&F.setMap(null)}},[]);var V=f.useMemo(()=>s?f.Children.map(s,j=>{if(!f.isValidElement(j))return j;var F=j;return f.cloneElement(F,{anchor:B})}):null,[s,B]);return N.jsx(N.Fragment,{children:V})||null}f.memo(dP);class BA extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[])}componentDidMount(){var e=this;return PA(function*(){var n=Ao(Ao(Ao({},e.props.options||gf),e.props.clusterer?gf:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=je({updaterMap:_E,eventMap:yE,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:_E,eventMap:yE,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ge(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?f.Children.map(this.props.children,n=>{if(!f.isValidElement(n))return n;var r=n;return f.cloneElement(r,{anchor:this.marker})}):null;return e||null}}G(BA,"contextType",De);var pP=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),s=n.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(i);var o=a.getZoom()||0;r!==null&&o>r&&a.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,s,a;if(this.div&&this.center){var o=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),c=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=l[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),p=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(p!==null?"".concat(p.y,"px"):"0","; left: ").concat(p!==null?"".concat(p.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var d=document.createElement("img");d.alt=o,d.src=this.url,d.width=this.width,d.height=this.height,d.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(d.style.clip="rect(-".concat(h,"px, -").concat(c+this.width,"px, -").concat(h+this.height,", -").concat(c,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(g.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(g.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(d),this.div.appendChild(g),this.div.title=o,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),mP=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new pP(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var s=i[r],a=s.getPosition();a&&e.extend(a)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,a=this.markerClusterer.getMaxZoom(),o=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof o<"u"&&o>a)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var l=0,c=this.markers;l<c.length;l++){var h=c[l];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function gP(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var vP=2e3,yP=500,_P="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",bP="png",EP=[53,56,66,78,90],wP="cluster",HA=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||_P,this.imageExtension=r.imageExtension||bP,this.imageSizes=r.imageSizes||EP,this.calculator=r.calculator||gP,this.batchSize=r.batchSize||vP,this.batchSizeIE=r.batchSizeIE||yP,this.clusterClass=r.clusterClass||wP,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var a=s[i];a.remove()}this.clusters=[];for(var o=0,l=this.listeners;o<l.length;o++){var c=l[o];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var s=i[r],a=s.getPosition();a&&n.extend(a)}var o=this.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,s=e;i<s.length;i++){var a=s[i];r=r||this.removeMarker_(a)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=n.fromDivPixelToLatLng(r);s!==null&&e.extend(s)}if(i!==null){var a=n.fromDivPixelToLatLng(i);a!==null&&e.extend(a)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var s=0,a=this.markers;s<a.length;s++){var o=a[s];o.isAdded=!1,e&&o.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,s=(n.lng()-e.lng())*Math.PI/180,a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,s=0,a=this.clusters;s<a.length;s++){var o=a[s];n=o;var l=n.getCenter(),c=e.getPosition();if(l&&c){var h=this.distanceBetweenPoints(l,c);h<r&&(r=h,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new mP(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,a=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(a),l=Math.min(e+this.batchSize,this.markers.length),c=e;c<l;c++){var h=this.markers[c];h&&!h.isAdded&&this.isMarkerInBounds(h,o)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var p=0,d=this.clusters;p<d.length;p++){var g=d[p];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype){var a=s;this.prototype[a]=i.prototype[a]}return this}).apply(e,[n])},t}();function bE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var wr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},nt={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},TP={};function CP(t){var{children:e,options:n,averageCenter:r,batchSizeIE:i,calculator:s,clusterClass:a,enableRetinaIcons:o,gridSize:l,ignoreHidden:c,imageExtension:h,imagePath:p,imageSizes:d,maxZoom:g,minimumClusterSize:_,styles:A,title:S,zoomOnClick:b,onClick:v,onClusteringBegin:C,onClusteringEnd:R,onMouseOver:D,onMouseOut:x,onLoad:T,onUnmount:E}=t,[w,L]=f.useState(null),O=f.useContext(De),[k,I]=f.useState(null),[X,J]=f.useState(null),[z,$]=f.useState(null),[H,ne]=f.useState(null),[ee,ge]=f.useState(null);return f.useEffect(()=>{w&&x&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(w,wr.onMouseOut,x)))},[x]),f.useEffect(()=>{w&&D&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(w,wr.onMouseOver,D)))},[D]),f.useEffect(()=>{w&&v&&(k!==null&&google.maps.event.removeListener(k),I(google.maps.event.addListener(w,wr.onClick,v)))},[v]),f.useEffect(()=>{w&&C&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(w,wr.onClusteringBegin,C)))},[C]),f.useEffect(()=>{w&&R&&(z!==null&&google.maps.event.removeListener(z),J(google.maps.event.addListener(w,wr.onClusteringEnd,R)))},[R]),f.useEffect(()=>{typeof r<"u"&&w!==null&&nt.averageCenter(w,r)},[w,r]),f.useEffect(()=>{typeof i<"u"&&w!==null&&nt.batchSizeIE(w,i)},[w,i]),f.useEffect(()=>{typeof s<"u"&&w!==null&&nt.calculator(w,s)},[w,s]),f.useEffect(()=>{typeof a<"u"&&w!==null&&nt.clusterClass(w,a)},[w,a]),f.useEffect(()=>{typeof o<"u"&&w!==null&&nt.enableRetinaIcons(w,o)},[w,o]),f.useEffect(()=>{typeof l<"u"&&w!==null&&nt.gridSize(w,l)},[w,l]),f.useEffect(()=>{typeof c<"u"&&w!==null&&nt.ignoreHidden(w,c)},[w,c]),f.useEffect(()=>{typeof h<"u"&&w!==null&&nt.imageExtension(w,h)},[w,h]),f.useEffect(()=>{typeof p<"u"&&w!==null&&nt.imagePath(w,p)},[w,p]),f.useEffect(()=>{typeof d<"u"&&w!==null&&nt.imageSizes(w,d)},[w,d]),f.useEffect(()=>{typeof g<"u"&&w!==null&&nt.maxZoom(w,g)},[w,g]),f.useEffect(()=>{typeof _<"u"&&w!==null&&nt.minimumClusterSize(w,_)},[w,_]),f.useEffect(()=>{typeof A<"u"&&w!==null&&nt.styles(w,A)},[w,A]),f.useEffect(()=>{typeof S<"u"&&w!==null&&nt.title(w,S)},[w,S]),f.useEffect(()=>{typeof b<"u"&&w!==null&&nt.zoomOnClick(w,b)},[w,b]),f.useEffect(()=>{if(O){var ve=SP({},n||TP),Q=new HA(O,[],ve);return r&&nt.averageCenter(Q,r),i&&nt.batchSizeIE(Q,i),s&&nt.calculator(Q,s),a&&nt.clusterClass(Q,a),o&&nt.enableRetinaIcons(Q,o),l&&nt.gridSize(Q,l),c&&nt.ignoreHidden(Q,c),h&&nt.imageExtension(Q,h),p&&nt.imagePath(Q,p),d&&nt.imageSizes(Q,d),g&&nt.maxZoom(Q,g),_&&nt.minimumClusterSize(Q,_),A&&nt.styles(Q,A),S&&nt.title(Q,S),b&&nt.zoomOnClick(Q,b),x&&ne(google.maps.event.addListener(Q,wr.onMouseOut,x)),D&&ge(google.maps.event.addListener(Q,wr.onMouseOver,D)),v&&I(google.maps.event.addListener(Q,wr.onClick,v)),C&&J(google.maps.event.addListener(Q,wr.onClusteringBegin,C)),R&&$(google.maps.event.addListener(Q,wr.onClusteringEnd,R)),L(Q),T&&T(Q),()=>{H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),k!==null&&google.maps.event.removeListener(k),X!==null&&google.maps.event.removeListener(X),z!==null&&google.maps.event.removeListener(z),E&&E(Q)}}},[]),w!==null&&e(w)||null}f.memo(CP);class AP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{markerClusterer:null}),G(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new HA(this.context,[],this.props.options);this.registeredEvents=je({updaterMap:nt,eventMap:wr,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:nt,eventMap:wr,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ge(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}G(AP,"contextType",De);function EE(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var FA=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(h){h.returnValue=!1,h.preventDefault&&h.preventDefault(),e.enableEventPropagation||EE(h)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,o=s;a<o.length;a++){var l=o[a];this.eventListeners.push(google.maps.event.addListener(this.div,l,EE))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,s=n.getBounds();s&&!s.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),o=a.offsetWidth,l=a.offsetHeight,c=this.pixelOffset.width,h=this.pixelOffset.height,p=this.div.offsetWidth,d=this.div.offsetHeight,g=this.infoBoxClearance.width,_=this.infoBoxClearance.height,A=this.getProjection(),S=A.fromLatLngToContainerPixel(this.position);S!==null&&(S.x<-c+g?r=S.x+c-g:S.x+p+c+g>o&&(r=S.x+p+c+g-o),this.alignBottom?S.y<-h+_+d?i=S.y+h-_-d:S.y+h+_>l&&(i=S.y+h+_-l):S.y<-h+_?i=S.y+h-_:S.y+d+h+_>l&&(i=S.y+d+h+_-l)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(e,[n])},t}(),RP=["position"],xP=["position"];function wE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var SE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},TE={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},LP={};function MP(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:a,onDomReady:o,onContentChanged:l,onPositionChanged:c,onZindexChanged:h,onLoad:p,onUnmount:d}=t,g=f.useContext(De),[_,A]=f.useState(null),[S,b]=f.useState(null),[v,C]=f.useState(null),[R,D]=f.useState(null),[x,T]=f.useState(null),[E,w]=f.useState(null),L=f.useRef(null);return f.useEffect(()=>{g&&_!==null&&(_.close(),n?_.open(g,n):_.getPosition()&&_.open(g))},[g,_,n]),f.useEffect(()=>{r&&_!==null&&_.setOptions(r)},[_,r]),f.useEffect(()=>{if(i&&_!==null){var O=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);_.setPosition(O)}},[i]),f.useEffect(()=>{typeof s=="number"&&_!==null&&_.setZIndex(s)},[s]),f.useEffect(()=>{_&&a&&(S!==null&&google.maps.event.removeListener(S),b(google.maps.event.addListener(_,"closeclick",a)))},[a]),f.useEffect(()=>{_&&o&&(v!==null&&google.maps.event.removeListener(v),C(google.maps.event.addListener(_,"domready",o)))},[o]),f.useEffect(()=>{_&&l&&(R!==null&&google.maps.event.removeListener(R),D(google.maps.event.addListener(_,"content_changed",l)))},[l]),f.useEffect(()=>{_&&c&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(_,"position_changed",c)))},[c]),f.useEffect(()=>{_&&h&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(_,"zindex_changed",h)))},[h]),f.useEffect(()=>{if(g){var O=r||LP,{position:k}=O,I=Ov(O,RP),X;k&&!(k instanceof google.maps.LatLng)&&(X=new google.maps.LatLng(k.lat,k.lng));var J=new FA(vf(vf({},I),X?{position:X}:{}));L.current=document.createElement("div"),A(J),a&&b(google.maps.event.addListener(J,"closeclick",a)),o&&C(google.maps.event.addListener(J,"domready",o)),l&&D(google.maps.event.addListener(J,"content_changed",l)),c&&T(google.maps.event.addListener(J,"position_changed",c)),h&&w(google.maps.event.addListener(J,"zindex_changed",h)),J.setContent(L.current),n?J.open(g,n):J.getPosition()?J.open(g):on(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p(J)}return()=>{_!==null&&(S&&google.maps.event.removeListener(S),R&&google.maps.event.removeListener(R),v&&google.maps.event.removeListener(v),x&&google.maps.event.removeListener(x),E&&google.maps.event.removeListener(E),d&&d(_),_.close())}},[]),L.current?Gi.createPortal(f.Children.only(e),L.current):null}f.memo(MP);class IP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",null),G(this,"state",{infoBox:null}),G(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):on(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),G(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=Ov(e,xP),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var s=new FA(vf(vf({},r),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=je({updaterMap:TE,eventMap:SE,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:TE,eventMap:SE,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Ge(this.registeredEvents),n.close())}render(){return this.containerElement?Gi.createPortal(f.Children.only(this.props.children),this.containerElement):null}}G(IP,"contextType",De);var Ep,CE;function OP(){return CE||(CE=1,Ep=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),Ep}var DP=OP(),AE=kA(DP),RE=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],wp=1,Pl=8;class Dv{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=r>>4;if(i!==wp)throw new Error("Got v".concat(i," data when expected v").concat(wp,"."));var s=RE[r&15];if(!s)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(e,2,1),[o]=new Uint32Array(e,4,1);return new Dv(o,a,s,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=RE.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,o=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-o%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(r,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Pl,e),this.coords=new this.ArrayType(this.data,Pl+o+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Pl+a+o+l),this.ids=new this.IndexArrayType(this.data,Pl,e),this.coords=new this.ArrayType(this.data,Pl+o+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(wp<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Hm(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:a,nodeSize:o}=this,l=[0,s.length-1,0],c=[];l.length;){var h=l.pop()||0,p=l.pop()||0,d=l.pop()||0;if(p-d<=o){for(var g=d;g<=p;g++){var _=a[2*g],A=a[2*g+1];_>=e&&_<=r&&A>=n&&A<=i&&c.push(s[g])}continue}var S=d+p>>1,b=a[2*S],v=a[2*S+1];b>=e&&b<=r&&v>=n&&v<=i&&c.push(s[S]),(h===0?e<=b:n<=v)&&(l.push(d),l.push(S-1),l.push(1-h)),(h===0?r>=b:i>=v)&&(l.push(S+1),l.push(p),l.push(1-h))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:a}=this,o=[0,i.length-1,0],l=[],c=r*r;o.length;){var h=o.pop()||0,p=o.pop()||0,d=o.pop()||0;if(p-d<=a){for(var g=d;g<=p;g++)xE(s[2*g],s[2*g+1],e,n)<=c&&l.push(i[g]);continue}var _=d+p>>1,A=s[2*_],S=s[2*_+1];xE(A,S,e,n)<=c&&l.push(i[_]),(h===0?e-r<=A:n-r<=S)&&(o.push(d),o.push(_-1),o.push(1-h)),(h===0?e+r>=A:n+r>=S)&&(o.push(_+1),o.push(p),o.push(1-h))}return l}}function Hm(t,e,n,r,i,s){if(!(i-r<=n)){var a=r+i>>1;qA(t,e,a,r,i,s),Hm(t,e,n,r,a-1,1-s),Hm(t,e,n,a+1,i,1-s)}}function qA(t,e,n,r,i,s){for(;i>r;){if(i-r>600){var a=i-r+1,o=n-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(a-c)/a)*(o-a/2<0?-1:1),p=Math.max(r,Math.floor(n-o*c/a+h)),d=Math.min(i,Math.floor(n+(a-o)*c/a+h));qA(t,e,n,p,d,s)}var g=e[2*n+s],_=r,A=i;for(Nl(t,e,r,n),e[2*i+s]>g&&Nl(t,e,r,i);_<A;){for(Nl(t,e,_,A),_++,A--;e[2*_+s]<g;)_++;for(;e[2*A+s]>g;)A--}e[2*r+s]===g?Nl(t,e,r,A):(A++,Nl(t,e,A,i)),A<=n&&(r=A+1),n<=A&&(i=A-1)}}function Nl(t,e,n,r){Sp(t,n,r),Sp(e,2*n,2*r),Sp(e,2*n+1,2*r+1)}function Sp(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function xE(t,e,n,r){var i=t-n,s=e-r;return i*i+s*s}var kP={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},LE=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),na=2,as=3,Tp=4,rs=5,GA=6;class PP{constructor(e){this.options=Object.assign(Object.create(kP),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");var s="prepare ".concat(e.length," points");n&&console.time(s),this.points=e;for(var a=[],o=0;o<e.length;o++){var l=e[o];if(l.geometry){var[c,h]=l.geometry.coordinates,p=LE(Zc(c)),d=LE(Jc(h));a.push(p,d,1/0,o,-1,1),this.options.reduce&&a.push(0)}}var g=this.trees[i+1]=this._createTree(a);n&&console.timeEnd(s);for(var _=i;_>=r;_--){var A=+Date.now();g=this.trees[_]=this._createTree(this._cluster(g,_)),n&&console.log("z%d: %d clusters in %dms",_,g.numItems,+Date.now()-A)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){var o=this.getClusters([r,i,180,a],n),l=this.getClusters([-180,i,s,a],n);return o.concat(l)}var c=this.trees[this._limitZoom(n)],h=c.range(Zc(r),Jc(a),Zc(s),Jc(i)),p=c.data,d=[];for(var g of h){var _=this.stride*g;d.push(p[_+rs]>1?ME(p,_,this.clusterProps):this.points[p[_+as]])}return d}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);var a=s.data;if(n*this.stride>=a.length)throw new Error(i);var o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=a[n*this.stride],c=a[n*this.stride+1],h=s.within(l,c,o),p=[];for(var d of h){var g=d*this.stride;a[g+Tp]===e&&p.push(a[g+rs]>1?ME(a,g,this.clusterProps):this.points[a[g+as]])}if(p.length===0)throw new Error(i);return p}getLeaves(e,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){var i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:a,radius:o}=this.options,l=o/a,c=(r-l)/s,h=(r+1+l)/s,p={features:[]};return this._addTileFeatures(i.range((n-l)/s,c,(n+1+l)/s,h),i.data,n,r,s,p),n===0&&this._addTileFeatures(i.range(1-l/s,c,1,h),i.data,s,r,s,p),n===s-1&&this._addTileFeatures(i.range(0,c,l/s,h),i.data,-1,r,s,p),p.features.length?p:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){var a=this.getChildren(n);for(var o of a){var l=o.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,r,i,s):s<i?s++:e.push(o),e.length===r)break}return s}_createTree(e){for(var n=new Dv(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,a){for(var o of e){var l=o*this.stride,c=n[l+rs]>1,h=void 0,p=void 0,d=void 0;if(c)h=$A(n,l,this.clusterProps),p=n[l],d=n[l+1];else{var g=this.points[n[l+as]];h=g.properties;var[_,A]=g.geometry.coordinates;p=Zc(_),d=Jc(A)}var S={type:1,geometry:[[Math.round(this.options.extent*(p*s-r)),Math.round(this.options.extent*(d*s-i))]],tags:h},b=void 0;c||this.options.generateId?b=n[l+as]:b=this.points[n[l+as]].id,b!==void 0&&(S.id=b),a.features.push(S)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:i,reduce:s,minPoints:a}=this.options,o=r/(i*Math.pow(2,n)),l=e.data,c=[],h=this.stride,p=0;p<l.length;p+=h)if(!(l[p+na]<=n)){l[p+na]=n;var d=l[p],g=l[p+1],_=e.within(l[p],l[p+1],o),A=l[p+rs],S=A;for(var b of _){var v=b*h;l[v+na]>n&&(S+=l[v+rs])}if(S>A&&S>=a){var C=d*A,R=g*A,D=void 0,x=-1,T=((p/h|0)<<5)+(n+1)+this.points.length;for(var E of _){var w=E*h;if(!(l[w+na]<=n)){l[w+na]=n;var L=l[w+rs];C+=l[w]*L,R+=l[w+1]*L,l[w+Tp]=T,s&&(D||(D=this._map(l,p,!0),x=this.clusterProps.length,this.clusterProps.push(D)),s(D,this._map(l,w)))}}l[p+Tp]=T,c.push(C/S,R/S,1/0,T,-1,S),s&&c.push(x)}else{for(var O=0;O<h;O++)c.push(l[p+O]);if(S>1)for(var k of _){var I=k*h;if(!(l[I+na]<=n)){l[I+na]=n;for(var X=0;X<h;X++)c.push(l[I+X])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+rs]>1){var i=this.clusterProps[e[n+GA]];return r?Object.assign({},i):i}var s=this.points[e[n+as]].properties,a=this.options.map(s);return r&&a===s?Object.assign({},a):a}}function ME(t,e,n){return{type:"Feature",id:t[e+as],properties:$A(t,e,n),geometry:{type:"Point",coordinates:[NP(t[e]),VP(t[e+1])]}}}function $A(t,e,n){var r=t[e+rs],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,s=t[e+GA],a=s===-1?{}:Object.assign({},n[s]);return Object.assign(a,{cluster:!0,cluster_id:t[e+as],point_count:r,point_count_abbreviated:i})}function Zc(t){return t/360+.5}function Jc(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function NP(t){return(t-.5)*360}function VP(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function UP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class dr{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Fm{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(dr.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>dr.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(dr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class jP{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return zP(n)}}var zP=t=>{var e=t.map(n=>new Fm({position:dr.getPosition(n),markers:[n]}));return e};class BP extends jP{constructor(e){var{maxZoom:n,radius:r=60}=e,i=UP(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new PP(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!AE(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var i=this.markers.map(s=>{var a=dr.getPosition(s),o=[a.lng(),a.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:o},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!AE(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:i}=e;if(i.cluster)return new Fm({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:n}});var s=i.marker;return new Fm({markers:[s],position:dr.getPosition(s)})}}class HP{constructor(e,n){this.markers={sum:e.length};var r=n.map(s=>s.count),i=r.reduce((s,a)=>s+a,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class FP{render(e,n,r){var{count:i,position:s}=e,a=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",o='<svg fill="'.concat(a,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),l="Cluster of ".concat(i," markers"),c=Number(google.maps.Marker.MAX_ZINDEX)+i;if(dr.isAdvancedMarkerAvailable(r)){var h=new DOMParser,p=h.parseFromString(o,"image/svg+xml").documentElement;p.setAttribute("transform","translate(0 25)");var d={map:r,position:s,zIndex:c,title:l,content:p};return new google.maps.marker.AdvancedMarkerElement(d)}var g={position:s,zIndex:c,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(o)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function qP(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class kv{constructor(){qP(kv,google.maps.OverlayView)}}var cu;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(cu||(cu={}));var GP=(t,e,n)=>{n.fitBounds(e.bounds)};class $P extends kv{constructor(e){var{map:n,markers:r=[],algorithmOptions:i={},algorithm:s=new BP(i),renderer:a=new FP,onClusterClick:o=GP}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=s,this.renderer=a,this.onClusterClick=o,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(dr.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,cu.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var i=new Set;for(var s of n)s.markers.length==1&&i.add(s.markers[0]);var a=[];for(var o of this.clusters)o.marker!=null&&(o.markers.length==1?i.has(o.marker)||dr.setMap(o.marker,null):a.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>a.forEach(l=>dr.setMap(l,null)))}google.maps.event.trigger(this,cu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>dr.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new HP(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>dr.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,cu.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),dr.setMap(r.marker,n)})}}function IE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KP(t){var e=$k(),[n,r]=f.useState(null);return f.useEffect(()=>{if(e&&n===null){var i=new $P(OE(OE({},t),{},{map:e}));r(i)}},[e]),n}function YP(t){var{children:e,options:n}=t,r=KP(n);return r!==null?e(r):null}f.memo(YP);var DE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},kE={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function QP(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:a,onDomReady:o,onContentChanged:l,onPositionChanged:c,onZindexChanged:h,onLoad:p,onUnmount:d}=t,g=f.useContext(De),[_,A]=f.useState(null),[S,b]=f.useState(null),[v,C]=f.useState(null),[R,D]=f.useState(null),[x,T]=f.useState(null),[E,w]=f.useState(null),L=f.useRef(null);return f.useEffect(()=>{_!==null&&(_.close(),n?_.open(g,n):_.getPosition()&&_.open(g))},[g,_,n]),f.useEffect(()=>{r&&_!==null&&_.setOptions(r)},[_,r]),f.useEffect(()=>{i&&_!==null&&_.setPosition(i)},[i]),f.useEffect(()=>{typeof s=="number"&&_!==null&&_.setZIndex(s)},[s]),f.useEffect(()=>{_&&a&&(S!==null&&google.maps.event.removeListener(S),b(google.maps.event.addListener(_,"closeclick",a)))},[a]),f.useEffect(()=>{_&&o&&(v!==null&&google.maps.event.removeListener(v),C(google.maps.event.addListener(_,"domready",o)))},[o]),f.useEffect(()=>{_&&l&&(R!==null&&google.maps.event.removeListener(R),D(google.maps.event.addListener(_,"content_changed",l)))},[l]),f.useEffect(()=>{_&&c&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(_,"position_changed",c)))},[c]),f.useEffect(()=>{_&&h&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(_,"zindex_changed",h)))},[h]),f.useEffect(()=>{var O=new google.maps.InfoWindow(r);return A(O),L.current=document.createElement("div"),a&&b(google.maps.event.addListener(O,"closeclick",a)),o&&C(google.maps.event.addListener(O,"domready",o)),l&&D(google.maps.event.addListener(O,"content_changed",l)),c&&T(google.maps.event.addListener(O,"position_changed",c)),h&&w(google.maps.event.addListener(O,"zindex_changed",h)),O.setContent(L.current),i&&O.setPosition(i),s&&O.setZIndex(s),n?O.open(g,n):O.getPosition()?O.open(g):on(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(O),()=>{S&&google.maps.event.removeListener(S),R&&google.maps.event.removeListener(R),v&&google.maps.event.removeListener(v),x&&google.maps.event.removeListener(x),E&&google.maps.event.removeListener(E),d&&d(O),O.close()}},[]),L.current?Gi.createPortal(f.Children.only(e),L.current):null}f.memo(QP);class WP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",null),G(this,"state",{infoWindow:null}),G(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):on(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),G(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=je({updaterMap:kE,eventMap:DE,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:kE,eventMap:DE,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ge(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Gi.createPortal(f.Children.only(this.props.children),this.containerElement):null}}G(WP,"contextType",De);function PE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var NE={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},VE={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},XP={};function ZP(t){var{options:e,draggable:n,editable:r,visible:i,path:s,onDblClick:a,onDragEnd:o,onDragStart:l,onMouseDown:c,onMouseMove:h,onMouseOut:p,onMouseOver:d,onMouseUp:g,onRightClick:_,onClick:A,onDrag:S,onLoad:b,onUnmount:v}=t,C=f.useContext(De),[R,D]=f.useState(null),[x,T]=f.useState(null),[E,w]=f.useState(null),[L,O]=f.useState(null),[k,I]=f.useState(null),[X,J]=f.useState(null),[z,$]=f.useState(null),[H,ne]=f.useState(null),[ee,ge]=f.useState(null),[ve,Q]=f.useState(null),[se,B]=f.useState(null),[le,ie]=f.useState(null);return f.useEffect(()=>{R!==null&&R.setMap(C)},[C]),f.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),f.useEffect(()=>{typeof n<"u"&&R!==null&&R.setDraggable(n)},[R,n]),f.useEffect(()=>{typeof r<"u"&&R!==null&&R.setEditable(r)},[R,r]),f.useEffect(()=>{typeof i<"u"&&R!==null&&R.setVisible(i)},[R,i]),f.useEffect(()=>{typeof s<"u"&&R!==null&&R.setPath(s)},[R,s]),f.useEffect(()=>{R&&a&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(R,"dblclick",a)))},[a]),f.useEffect(()=>{R&&o&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(R,"dragend",o)))},[o]),f.useEffect(()=>{R&&l&&(L!==null&&google.maps.event.removeListener(L),O(google.maps.event.addListener(R,"dragstart",l)))},[l]),f.useEffect(()=>{R&&c&&(k!==null&&google.maps.event.removeListener(k),I(google.maps.event.addListener(R,"mousedown",c)))},[c]),f.useEffect(()=>{R&&h&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(R,"mousemove",h)))},[h]),f.useEffect(()=>{R&&p&&(z!==null&&google.maps.event.removeListener(z),$(google.maps.event.addListener(R,"mouseout",p)))},[p]),f.useEffect(()=>{R&&d&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(R,"mouseover",d)))},[d]),f.useEffect(()=>{R&&g&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(R,"mouseup",g)))},[g]),f.useEffect(()=>{R&&_&&(ve!==null&&google.maps.event.removeListener(ve),Q(google.maps.event.addListener(R,"rightclick",_)))},[_]),f.useEffect(()=>{R&&A&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(R,"click",A)))},[A]),f.useEffect(()=>{R&&S&&(le!==null&&google.maps.event.removeListener(le),ie(google.maps.event.addListener(R,"drag",S)))},[S]),f.useEffect(()=>{var pe=new google.maps.Polyline(yf(yf({},e||XP),{},{map:C}));return s&&pe.setPath(s),typeof i<"u"&&pe.setVisible(i),typeof r<"u"&&pe.setEditable(r),typeof n<"u"&&pe.setDraggable(n),a&&T(google.maps.event.addListener(pe,"dblclick",a)),o&&w(google.maps.event.addListener(pe,"dragend",o)),l&&O(google.maps.event.addListener(pe,"dragstart",l)),c&&I(google.maps.event.addListener(pe,"mousedown",c)),h&&J(google.maps.event.addListener(pe,"mousemove",h)),p&&$(google.maps.event.addListener(pe,"mouseout",p)),d&&ne(google.maps.event.addListener(pe,"mouseover",d)),g&&ge(google.maps.event.addListener(pe,"mouseup",g)),_&&Q(google.maps.event.addListener(pe,"rightclick",_)),A&&B(google.maps.event.addListener(pe,"click",A)),S&&ie(google.maps.event.addListener(pe,"drag",S)),D(pe),b&&b(pe),()=>{x!==null&&google.maps.event.removeListener(x),E!==null&&google.maps.event.removeListener(E),L!==null&&google.maps.event.removeListener(L),k!==null&&google.maps.event.removeListener(k),X!==null&&google.maps.event.removeListener(X),z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),ve!==null&&google.maps.event.removeListener(ve),se!==null&&google.maps.event.removeListener(se),v&&v(pe),pe.setMap(null)}},[]),null}f.memo(ZP);class JP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{polyline:null}),G(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(yf(yf({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:VE,eventMap:NE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:VE,eventMap:NE,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ge(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}G(JP,"contextType",De);function UE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var zE={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},BE={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function e2(t){var{options:e,draggable:n,editable:r,visible:i,path:s,paths:a,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:h,onMouseMove:p,onMouseOut:d,onMouseOver:g,onMouseUp:_,onRightClick:A,onClick:S,onDrag:b,onLoad:v,onUnmount:C,onEdit:R}=t,D=f.useContext(De),[x,T]=f.useState(null),[E,w]=f.useState(null),[L,O]=f.useState(null),[k,I]=f.useState(null),[X,J]=f.useState(null),[z,$]=f.useState(null),[H,ne]=f.useState(null),[ee,ge]=f.useState(null),[ve,Q]=f.useState(null),[se,B]=f.useState(null),[le,ie]=f.useState(null),[pe,Oe]=f.useState(null);return f.useEffect(()=>{x!==null&&x.setMap(D)},[D]),f.useEffect(()=>{typeof e<"u"&&x!==null&&x.setOptions(e)},[x,e]),f.useEffect(()=>{typeof n<"u"&&x!==null&&x.setDraggable(n)},[x,n]),f.useEffect(()=>{typeof r<"u"&&x!==null&&x.setEditable(r)},[x,r]),f.useEffect(()=>{typeof i<"u"&&x!==null&&x.setVisible(i)},[x,i]),f.useEffect(()=>{typeof s<"u"&&x!==null&&x.setPath(s)},[x,s]),f.useEffect(()=>{typeof a<"u"&&x!==null&&x.setPaths(a)},[x,a]),f.useEffect(()=>{x&&typeof o=="function"&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(x,"dblclick",o)))},[o]),f.useEffect(()=>{x&&(google.maps.event.addListener(x.getPath(),"insert_at",()=>{R==null||R(x)}),google.maps.event.addListener(x.getPath(),"set_at",()=>{R==null||R(x)}),google.maps.event.addListener(x.getPath(),"remove_at",()=>{R==null||R(x)}))},[x,R]),f.useEffect(()=>{x&&typeof l=="function"&&(L!==null&&google.maps.event.removeListener(L),O(google.maps.event.addListener(x,"dragend",l)))},[l]),f.useEffect(()=>{x&&typeof c=="function"&&(k!==null&&google.maps.event.removeListener(k),I(google.maps.event.addListener(x,"dragstart",c)))},[c]),f.useEffect(()=>{x&&typeof h=="function"&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(x,"mousedown",h)))},[h]),f.useEffect(()=>{x&&typeof p=="function"&&(z!==null&&google.maps.event.removeListener(z),$(google.maps.event.addListener(x,"mousemove",p)))},[p]),f.useEffect(()=>{x&&typeof d=="function"&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(x,"mouseout",d)))},[d]),f.useEffect(()=>{x&&typeof g=="function"&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(x,"mouseover",g)))},[g]),f.useEffect(()=>{x&&typeof _=="function"&&(ve!==null&&google.maps.event.removeListener(ve),Q(google.maps.event.addListener(x,"mouseup",_)))},[_]),f.useEffect(()=>{x&&typeof A=="function"&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(x,"rightclick",A)))},[A]),f.useEffect(()=>{x&&typeof S=="function"&&(le!==null&&google.maps.event.removeListener(le),ie(google.maps.event.addListener(x,"click",S)))},[S]),f.useEffect(()=>{x&&typeof b=="function"&&(pe!==null&&google.maps.event.removeListener(pe),Oe(google.maps.event.addListener(x,"drag",b)))},[b]),f.useEffect(()=>{var Z=new google.maps.Polygon(jE(jE({},e),{},{map:D}));return s&&Z.setPath(s),a&&Z.setPaths(a),typeof i<"u"&&Z.setVisible(i),typeof r<"u"&&Z.setEditable(r),typeof n<"u"&&Z.setDraggable(n),o&&w(google.maps.event.addListener(Z,"dblclick",o)),l&&O(google.maps.event.addListener(Z,"dragend",l)),c&&I(google.maps.event.addListener(Z,"dragstart",c)),h&&J(google.maps.event.addListener(Z,"mousedown",h)),p&&$(google.maps.event.addListener(Z,"mousemove",p)),d&&ne(google.maps.event.addListener(Z,"mouseout",d)),g&&ge(google.maps.event.addListener(Z,"mouseover",g)),_&&Q(google.maps.event.addListener(Z,"mouseup",_)),A&&B(google.maps.event.addListener(Z,"rightclick",A)),S&&ie(google.maps.event.addListener(Z,"click",S)),b&&Oe(google.maps.event.addListener(Z,"drag",b)),T(Z),v&&v(Z),()=>{E!==null&&google.maps.event.removeListener(E),L!==null&&google.maps.event.removeListener(L),k!==null&&google.maps.event.removeListener(k),X!==null&&google.maps.event.removeListener(X),z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),ve!==null&&google.maps.event.removeListener(ve),se!==null&&google.maps.event.removeListener(se),le!==null&&google.maps.event.removeListener(le),C&&C(Z),Z.setMap(null)}},[]),null}f.memo(e2);class t2 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=je({updaterMap:BE,eventMap:zE,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:BE,eventMap:zE,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ge(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}G(t2,"contextType",De);function HE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var FE={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},qE={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function n2(t){var{options:e,bounds:n,draggable:r,editable:i,visible:s,onDblClick:a,onDragEnd:o,onDragStart:l,onMouseDown:c,onMouseMove:h,onMouseOut:p,onMouseOver:d,onMouseUp:g,onRightClick:_,onClick:A,onDrag:S,onBoundsChanged:b,onLoad:v,onUnmount:C}=t,R=f.useContext(De),[D,x]=f.useState(null),[T,E]=f.useState(null),[w,L]=f.useState(null),[O,k]=f.useState(null),[I,X]=f.useState(null),[J,z]=f.useState(null),[$,H]=f.useState(null),[ne,ee]=f.useState(null),[ge,ve]=f.useState(null),[Q,se]=f.useState(null),[B,le]=f.useState(null),[ie,pe]=f.useState(null),[Oe,Z]=f.useState(null);return f.useEffect(()=>{D!==null&&D.setMap(R)},[R]),f.useEffect(()=>{typeof e<"u"&&D!==null&&D.setOptions(e)},[D,e]),f.useEffect(()=>{typeof r<"u"&&D!==null&&D.setDraggable(r)},[D,r]),f.useEffect(()=>{typeof i<"u"&&D!==null&&D.setEditable(i)},[D,i]),f.useEffect(()=>{typeof s<"u"&&D!==null&&D.setVisible(s)},[D,s]),f.useEffect(()=>{typeof n<"u"&&D!==null&&D.setBounds(n)},[D,n]),f.useEffect(()=>{D&&a&&(T!==null&&google.maps.event.removeListener(T),E(google.maps.event.addListener(D,"dblclick",a)))},[a]),f.useEffect(()=>{D&&o&&(w!==null&&google.maps.event.removeListener(w),L(google.maps.event.addListener(D,"dragend",o)))},[o]),f.useEffect(()=>{D&&l&&(O!==null&&google.maps.event.removeListener(O),k(google.maps.event.addListener(D,"dragstart",l)))},[l]),f.useEffect(()=>{D&&c&&(I!==null&&google.maps.event.removeListener(I),X(google.maps.event.addListener(D,"mousedown",c)))},[c]),f.useEffect(()=>{D&&h&&(J!==null&&google.maps.event.removeListener(J),z(google.maps.event.addListener(D,"mousemove",h)))},[h]),f.useEffect(()=>{D&&p&&($!==null&&google.maps.event.removeListener($),H(google.maps.event.addListener(D,"mouseout",p)))},[p]),f.useEffect(()=>{D&&d&&(ne!==null&&google.maps.event.removeListener(ne),ee(google.maps.event.addListener(D,"mouseover",d)))},[d]),f.useEffect(()=>{D&&g&&(ge!==null&&google.maps.event.removeListener(ge),ve(google.maps.event.addListener(D,"mouseup",g)))},[g]),f.useEffect(()=>{D&&_&&(Q!==null&&google.maps.event.removeListener(Q),se(google.maps.event.addListener(D,"rightclick",_)))},[_]),f.useEffect(()=>{D&&A&&(B!==null&&google.maps.event.removeListener(B),le(google.maps.event.addListener(D,"click",A)))},[A]),f.useEffect(()=>{D&&S&&(ie!==null&&google.maps.event.removeListener(ie),pe(google.maps.event.addListener(D,"drag",S)))},[S]),f.useEffect(()=>{D&&b&&(Oe!==null&&google.maps.event.removeListener(Oe),Z(google.maps.event.addListener(D,"bounds_changed",b)))},[b]),f.useEffect(()=>{var he=new google.maps.Rectangle(_f(_f({},e),{},{map:R}));return typeof s<"u"&&he.setVisible(s),typeof i<"u"&&he.setEditable(i),typeof r<"u"&&he.setDraggable(r),typeof n<"u"&&he.setBounds(n),a&&E(google.maps.event.addListener(he,"dblclick",a)),o&&L(google.maps.event.addListener(he,"dragend",o)),l&&k(google.maps.event.addListener(he,"dragstart",l)),c&&X(google.maps.event.addListener(he,"mousedown",c)),h&&z(google.maps.event.addListener(he,"mousemove",h)),p&&H(google.maps.event.addListener(he,"mouseout",p)),d&&ee(google.maps.event.addListener(he,"mouseover",d)),g&&ve(google.maps.event.addListener(he,"mouseup",g)),_&&se(google.maps.event.addListener(he,"rightclick",_)),A&&le(google.maps.event.addListener(he,"click",A)),S&&pe(google.maps.event.addListener(he,"drag",S)),b&&Z(google.maps.event.addListener(he,"bounds_changed",b)),x(he),v&&v(he),()=>{T!==null&&google.maps.event.removeListener(T),w!==null&&google.maps.event.removeListener(w),O!==null&&google.maps.event.removeListener(O),I!==null&&google.maps.event.removeListener(I),J!==null&&google.maps.event.removeListener(J),$!==null&&google.maps.event.removeListener($),ne!==null&&google.maps.event.removeListener(ne),ge!==null&&google.maps.event.removeListener(ge),Q!==null&&google.maps.event.removeListener(Q),B!==null&&google.maps.event.removeListener(B),ie!==null&&google.maps.event.removeListener(ie),Oe!==null&&google.maps.event.removeListener(Oe),C&&C(he),he.setMap(null)}},[]),null}f.memo(n2);class r2 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{rectangle:null}),G(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(_f(_f({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:qE,eventMap:FE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:qE,eventMap:FE,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ge(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}G(r2,"contextType",De);function GE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var $E={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},KE={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},i2={};function s2(t){var{options:e,center:n,radius:r,draggable:i,editable:s,visible:a,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:h,onMouseMove:p,onMouseOut:d,onMouseOver:g,onMouseUp:_,onRightClick:A,onClick:S,onDrag:b,onCenterChanged:v,onRadiusChanged:C,onLoad:R,onUnmount:D}=t,x=f.useContext(De),[T,E]=f.useState(null),[w,L]=f.useState(null),[O,k]=f.useState(null),[I,X]=f.useState(null),[J,z]=f.useState(null),[$,H]=f.useState(null),[ne,ee]=f.useState(null),[ge,ve]=f.useState(null),[Q,se]=f.useState(null),[B,le]=f.useState(null),[ie,pe]=f.useState(null),[Oe,Z]=f.useState(null),[he,Ye]=f.useState(null),[Dt,dt]=f.useState(null);return f.useEffect(()=>{T!==null&&T.setMap(x)},[x]),f.useEffect(()=>{typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),f.useEffect(()=>{typeof i<"u"&&T!==null&&T.setDraggable(i)},[T,i]),f.useEffect(()=>{typeof s<"u"&&T!==null&&T.setEditable(s)},[T,s]),f.useEffect(()=>{typeof a<"u"&&T!==null&&T.setVisible(a)},[T,a]),f.useEffect(()=>{typeof r=="number"&&T!==null&&T.setRadius(r)},[T,r]),f.useEffect(()=>{typeof n<"u"&&T!==null&&T.setCenter(n)},[T,n]),f.useEffect(()=>{T&&o&&(w!==null&&google.maps.event.removeListener(w),L(google.maps.event.addListener(T,"dblclick",o)))},[o]),f.useEffect(()=>{T&&l&&(O!==null&&google.maps.event.removeListener(O),k(google.maps.event.addListener(T,"dragend",l)))},[l]),f.useEffect(()=>{T&&c&&(I!==null&&google.maps.event.removeListener(I),X(google.maps.event.addListener(T,"dragstart",c)))},[c]),f.useEffect(()=>{T&&h&&(J!==null&&google.maps.event.removeListener(J),z(google.maps.event.addListener(T,"mousedown",h)))},[h]),f.useEffect(()=>{T&&p&&($!==null&&google.maps.event.removeListener($),H(google.maps.event.addListener(T,"mousemove",p)))},[p]),f.useEffect(()=>{T&&d&&(ne!==null&&google.maps.event.removeListener(ne),ee(google.maps.event.addListener(T,"mouseout",d)))},[d]),f.useEffect(()=>{T&&g&&(ge!==null&&google.maps.event.removeListener(ge),ve(google.maps.event.addListener(T,"mouseover",g)))},[g]),f.useEffect(()=>{T&&_&&(Q!==null&&google.maps.event.removeListener(Q),se(google.maps.event.addListener(T,"mouseup",_)))},[_]),f.useEffect(()=>{T&&A&&(B!==null&&google.maps.event.removeListener(B),le(google.maps.event.addListener(T,"rightclick",A)))},[A]),f.useEffect(()=>{T&&S&&(ie!==null&&google.maps.event.removeListener(ie),pe(google.maps.event.addListener(T,"click",S)))},[S]),f.useEffect(()=>{T&&b&&(Oe!==null&&google.maps.event.removeListener(Oe),Z(google.maps.event.addListener(T,"drag",b)))},[b]),f.useEffect(()=>{T&&v&&(he!==null&&google.maps.event.removeListener(he),Ye(google.maps.event.addListener(T,"center_changed",v)))},[S]),f.useEffect(()=>{T&&C&&(Dt!==null&&google.maps.event.removeListener(Dt),dt(google.maps.event.addListener(T,"radius_changed",C)))},[C]),f.useEffect(()=>{var Me=new google.maps.Circle(bf(bf({},e||i2),{},{map:x}));return typeof r=="number"&&Me.setRadius(r),typeof n<"u"&&Me.setCenter(n),typeof r=="number"&&Me.setRadius(r),typeof a<"u"&&Me.setVisible(a),typeof s<"u"&&Me.setEditable(s),typeof i<"u"&&Me.setDraggable(i),o&&L(google.maps.event.addListener(Me,"dblclick",o)),l&&k(google.maps.event.addListener(Me,"dragend",l)),c&&X(google.maps.event.addListener(Me,"dragstart",c)),h&&z(google.maps.event.addListener(Me,"mousedown",h)),p&&H(google.maps.event.addListener(Me,"mousemove",p)),d&&ee(google.maps.event.addListener(Me,"mouseout",d)),g&&ve(google.maps.event.addListener(Me,"mouseover",g)),_&&se(google.maps.event.addListener(Me,"mouseup",_)),A&&le(google.maps.event.addListener(Me,"rightclick",A)),S&&pe(google.maps.event.addListener(Me,"click",S)),b&&Z(google.maps.event.addListener(Me,"drag",b)),v&&Ye(google.maps.event.addListener(Me,"center_changed",v)),C&&dt(google.maps.event.addListener(Me,"radius_changed",C)),E(Me),R&&R(Me),()=>{w!==null&&google.maps.event.removeListener(w),O!==null&&google.maps.event.removeListener(O),I!==null&&google.maps.event.removeListener(I),J!==null&&google.maps.event.removeListener(J),$!==null&&google.maps.event.removeListener($),ne!==null&&google.maps.event.removeListener(ne),ge!==null&&google.maps.event.removeListener(ge),Q!==null&&google.maps.event.removeListener(Q),B!==null&&google.maps.event.removeListener(B),ie!==null&&google.maps.event.removeListener(ie),he!==null&&google.maps.event.removeListener(he),Dt!==null&&google.maps.event.removeListener(Dt),D&&D(Me),Me.setMap(null)}},[]),null}f.memo(s2);class a2 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{circle:null}),G(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(bf(bf({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:KE,eventMap:$E,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:KE,eventMap:$E,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ge(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}G(a2,"contextType",De);function YE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ef(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var QE={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},WE={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function o2(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:i,onMouseMove:s,onMouseOut:a,onMouseOver:o,onMouseUp:l,onRightClick:c,onAddFeature:h,onRemoveFeature:p,onRemoveProperty:d,onSetGeometry:g,onSetProperty:_,onLoad:A,onUnmount:S}=t,b=f.useContext(De),[v,C]=f.useState(null),[R,D]=f.useState(null),[x,T]=f.useState(null),[E,w]=f.useState(null),[L,O]=f.useState(null),[k,I]=f.useState(null),[X,J]=f.useState(null),[z,$]=f.useState(null),[H,ne]=f.useState(null),[ee,ge]=f.useState(null),[ve,Q]=f.useState(null),[se,B]=f.useState(null),[le,ie]=f.useState(null),[pe,Oe]=f.useState(null);return f.useEffect(()=>{v!==null&&v.setMap(b)},[b]),f.useEffect(()=>{v&&r&&(R!==null&&google.maps.event.removeListener(R),D(google.maps.event.addListener(v,"dblclick",r)))},[r]),f.useEffect(()=>{v&&i&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(v,"mousedown",i)))},[i]),f.useEffect(()=>{v&&s&&(E!==null&&google.maps.event.removeListener(E),w(google.maps.event.addListener(v,"mousemove",s)))},[s]),f.useEffect(()=>{v&&a&&(L!==null&&google.maps.event.removeListener(L),O(google.maps.event.addListener(v,"mouseout",a)))},[a]),f.useEffect(()=>{v&&o&&(k!==null&&google.maps.event.removeListener(k),I(google.maps.event.addListener(v,"mouseover",o)))},[o]),f.useEffect(()=>{v&&l&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(v,"mouseup",l)))},[l]),f.useEffect(()=>{v&&c&&(z!==null&&google.maps.event.removeListener(z),$(google.maps.event.addListener(v,"rightclick",c)))},[c]),f.useEffect(()=>{v&&n&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(v,"click",n)))},[n]),f.useEffect(()=>{v&&h&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(v,"addfeature",h)))},[h]),f.useEffect(()=>{v&&p&&(ve!==null&&google.maps.event.removeListener(ve),Q(google.maps.event.addListener(v,"removefeature",p)))},[p]),f.useEffect(()=>{v&&d&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(v,"removeproperty",d)))},[d]),f.useEffect(()=>{v&&g&&(le!==null&&google.maps.event.removeListener(le),ie(google.maps.event.addListener(v,"setgeometry",g)))},[g]),f.useEffect(()=>{v&&_&&(pe!==null&&google.maps.event.removeListener(pe),Oe(google.maps.event.addListener(v,"setproperty",_)))},[_]),f.useEffect(()=>{if(b!==null){var Z=new google.maps.Data(Ef(Ef({},e),{},{map:b}));r&&D(google.maps.event.addListener(Z,"dblclick",r)),i&&T(google.maps.event.addListener(Z,"mousedown",i)),s&&w(google.maps.event.addListener(Z,"mousemove",s)),a&&O(google.maps.event.addListener(Z,"mouseout",a)),o&&I(google.maps.event.addListener(Z,"mouseover",o)),l&&J(google.maps.event.addListener(Z,"mouseup",l)),c&&$(google.maps.event.addListener(Z,"rightclick",c)),n&&ne(google.maps.event.addListener(Z,"click",n)),h&&ge(google.maps.event.addListener(Z,"addfeature",h)),p&&Q(google.maps.event.addListener(Z,"removefeature",p)),d&&B(google.maps.event.addListener(Z,"removeproperty",d)),g&&ie(google.maps.event.addListener(Z,"setgeometry",g)),_&&Oe(google.maps.event.addListener(Z,"setproperty",_)),C(Z),A&&A(Z)}return()=>{v&&(R!==null&&google.maps.event.removeListener(R),x!==null&&google.maps.event.removeListener(x),E!==null&&google.maps.event.removeListener(E),L!==null&&google.maps.event.removeListener(L),k!==null&&google.maps.event.removeListener(k),X!==null&&google.maps.event.removeListener(X),z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),ve!==null&&google.maps.event.removeListener(ve),se!==null&&google.maps.event.removeListener(se),le!==null&&google.maps.event.removeListener(le),pe!==null&&google.maps.event.removeListener(pe),S&&S(v),v.setMap(null))}},[]),null}f.memo(o2);class l2 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{data:null}),G(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Ef(Ef({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:WE,eventMap:QE,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:WE,eventMap:QE,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ge(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}G(l2,"contextType",De);function XE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var JE={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},e0={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class u2 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{kmlLayer:null}),G(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(ZE(ZE({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:e0,eventMap:JE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:e0,eventMap:JE,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ge(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}G(u2,"contextType",De);function KA(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function c2(t,e){return new e(t.lat,t.lng)}function h2(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function f2(t,e,n){return t instanceof e?t:n(t,e)}function d2(t,e,n){return t instanceof e?t:n(t,e)}function p2(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function m2(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:i,y:s}=r;return{left:"".concat(i+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function YA(t,e,n,r){return n!==void 0?p2(t,e,d2(n,google.maps.LatLngBounds,h2)):m2(t,e,f2(r,google.maps.LatLng,c2))}function g2(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function t0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y2(t,e,n,r,i){class s extends google.maps.OverlayView{constructor(o,l,c,h){super(),this.container=o,this.pane=l,this.position=c,this.bounds=h}onAdd(){var o,l=(o=this.getPanes())===null||o===void 0?void 0:o[this.pane];l==null||l.appendChild(this.container)}draw(){var o=this.getProjection(),l=v2({},this.container?KA(this.container,i):{x:0,y:0}),c=YA(o,l,this.bounds,this.position);for(var[h,p]of Object.entries(c))this.container.style[h]=p}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(t,e,n,r)}function n0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r0(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function i0(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function b2(t){var{position:e,bounds:n,mapPaneName:r,zIndex:i,onLoad:s,onUnmount:a,getPixelPositionOffset:o,children:l}=t,c=f.useContext(De),h=f.useMemo(()=>{var d=document.createElement("div");return d.style.position="absolute",d},[]),p=f.useMemo(()=>y2(h,r,e,n,o),[h,r,e,n]);return f.useEffect(()=>(s==null||s(p),p==null||p.setMap(c),()=>{a==null||a(p),p==null||p.setMap(null)}),[c,p]),f.useEffect(()=>{h.style.zIndex="".concat(i)},[i,h]),Gi.createPortal(l,h)}f.memo(b2);class ol extends f.PureComponent{constructor(e){super(e),G(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),G(this,"updatePane",()=>{var r=this.props.mapPaneName,i=this.overlayView.getPanes();on(!!r,"OverlayView requires props.mapPaneName but got %s",r),i?this.setState({paneEl:i[r]}):this.setState({paneEl:null})}),G(this,"onAdd",()=>{var r,i;this.updatePane(),(r=(i=this.props).onLoad)===null||r===void 0||r.call(i,this.overlayView)}),G(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),i=_2({x:0,y:0},this.containerRef.current?KA(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=YA(r,i,this.props.bounds,this.props.position);if(!g2(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var a,o,l,c;this.setState({containerStyle:{top:(a=s.top)!==null&&a!==void 0?a:0,left:(o=s.left)!==null&&o!==void 0?o:0,width:(l=s.width)!==null&&l!==void 0?l:0,height:(c=s.height)!==null&&c!==void 0?c:0,position:"absolute"}})}}),G(this,"draw",()=>{this.onPositionElement()}),G(this,"onRemove",()=>{var r,i;this.setState(()=>({paneEl:null})),(r=(i=this.props).onUnmount)===null||r===void 0||r.call(i,this.overlayView)}),this.containerRef=f.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=r0(e.position),r=r0(this.props.position),i=i0(e.bounds),s=i0(this.props.bounds);(n!==r||i!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Gi.createPortal(N.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:f.Children.only(this.props.children)}),e):null}}G(ol,"FLOAT_PANE","floatPane");G(ol,"MAP_PANE","mapPane");G(ol,"MARKER_LAYER","markerLayer");G(ol,"OVERLAY_LAYER","overlayLayer");G(ol,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");G(ol,"contextType",De);function E2(){}function s0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var o0={onDblClick:"dblclick",onClick:"click"},l0={opacity(t,e){t.setOpacity(e)}};function w2(t){var{url:e,bounds:n,options:r,visible:i}=t,s=f.useContext(De),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),o=f.useMemo(()=>new google.maps.GroundOverlay(e,a,r),[]);return f.useEffect(()=>{o!==null&&o.setMap(s)},[s]),f.useEffect(()=>{typeof e<"u"&&o!==null&&(o.set("url",e),o.setMap(s))},[o,e]),f.useEffect(()=>{typeof i<"u"&&o!==null&&o.setOpacity(i?1:0)},[o,i]),f.useEffect(()=>{var l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&o!==null&&(o.set("bounds",l),o.setMap(s))},[o,n]),null}f.memo(w2);class QA extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{groundOverlay:null}),G(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){on(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,a0(a0({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:l0,eventMap:o0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:l0,eventMap:o0,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}G(QA,"defaultProps",{onLoad:E2});G(QA,"contextType",De);function u0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var c0={},h0={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function S2(t){var{data:e,onLoad:n,onUnmount:r,options:i}=t,s=f.useContext(De),[a,o]=f.useState(null);return f.useEffect(()=>{google.maps.visualization||on(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),f.useEffect(()=>{on(!!e,"data property is required in HeatmapLayer %s",e)},[e]),f.useEffect(()=>{a!==null&&a.setMap(s)},[s]),f.useEffect(()=>{i&&a!==null&&a.setOptions(i)},[a,i]),f.useEffect(()=>{var l=new google.maps.visualization.HeatmapLayer(wf(wf({},i),{},{data:e,map:s}));return o(l),n&&n(l),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}f.memo(S2);class T2 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{heatmapLayer:null}),G(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){on(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),on(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(wf(wf({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=je({updaterMap:h0,eventMap:c0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:h0,eventMap:c0,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ge(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}G(T2,"contextType",De);var f0={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},d0={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class C2 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{streetViewPanorama:null}),G(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=je({updaterMap:d0,eventMap:f0,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:d0,eventMap:f0,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ge(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}G(C2,"contextType",De);class A2 extends f.PureComponent{constructor(){super(...arguments),G(this,"state",{streetViewService:null}),G(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}G(A2,"contextType",De);var p0={onDirectionsChanged:"directions_changed"},m0={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class R2 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{directionsRenderer:null}),G(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=je({updaterMap:m0,eventMap:p0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:m0,eventMap:p0,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ge(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}G(R2,"contextType",De);var g0={onPlacesChanged:"places_changed"},v0={bounds(t,e){t.setBounds(e)}};class x2 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",f.createRef()),G(this,"state",{searchBox:null}),G(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(on(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=je({updaterMap:v0,eventMap:g0,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:v0,eventMap:g0,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ge(this.registeredEvents))}render(){return N.jsx("div",{ref:this.containerElement,children:f.Children.only(this.props.children)})}}G(x2,"contextType",De);var y0={onPlaceChanged:"place_changed"},_0={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class Pv extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",f.createRef()),G(this,"state",{autocomplete:null}),G(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;on(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=je({updaterMap:_0,eventMap:y0,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:_0,eventMap:y0,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ge(this.registeredEvents)}render(){return N.jsx("div",{ref:this.containerElement,className:this.props.className,children:f.Children.only(this.props.children)})}}G(Pv,"defaultProps",{className:""});G(Pv,"contextType",De);const L2={width:"100%",height:"400px",borderRadius:"12px",border:"1px solid #ccc"},M2={lat:47.6062,lng:-122.3321},I2=()=>{const{setLocation:t}=od(),[e,n]=f.useState(M2),[r,i]=f.useState(null),[s,a]=f.useState(null),[o,l]=f.useState(""),[c,h]=f.useState(""),p=_=>{a(_)},d=()=>{if(s){const _=s.getPlace();if(_.geometry&&_.geometry.location){const S=_.geometry.location.lat(),b=_.geometry.location.lng(),v={lat:S,lng:b};n(v),i(v)}const A=_.formatted_address||_.name||"";t(A),h(" Address saved!")}},g=async _=>{var b;_.preventDefault();const S=await(await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(o)}&key=AIzaSyBGzhAda2YZeUPOBCEsH7hCgGWco8K4XFs`)).json();if((b=S.results)!=null&&b[0]){const v=S.results[0],{lat:C,lng:R}=v.geometry.location,D={lat:C,lng:R};n(D),i(D),t(v.formatted_address||""),h(" Address saved!")}};return f.useEffect(()=>{if(c){const _=setTimeout(()=>h(""),2500);return()=>clearTimeout(_)}},[c]),N.jsx("div",{className:"flex flex-col gap-4",children:N.jsxs(zA,{googleMapsApiKey:"AIzaSyBGzhAda2YZeUPOBCEsH7hCgGWco8K4XFs",libraries:["places"],children:[N.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[N.jsx(Pv,{onLoad:p,onPlaceChanged:d,children:N.jsx("input",{type:"text",placeholder:"Enter a location",value:o,onChange:_=>l(_.target.value),style:{padding:"0.5rem",border:"1px solid #ccc",borderRadius:"12px",width:"100%"}})}),N.jsx(vt,{type:"submit",children:"Enter"})]}),N.jsx(Jk,{mapContainerStyle:L2,center:e,zoom:14,children:r&&N.jsx(BA,{position:r})}),c&&N.jsx("div",{className:"text-green-600 text-sm mt-2 animate-fadeIn",children:c}),o&&N.jsxs("div",{className:"text-sm text-gray-700 mt-1",children:["Selected: ",N.jsx("span",{className:"font-medium",children:o})]})]})})};function O2(){return N.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[N.jsx("h1",{className:"text-2xl font-bold",children:"Choose a Location"}),N.jsx(I2,{}),N.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[N.jsx(vt,{to:"/",children:"Home"}),N.jsx(vt,{to:"/confirmation",children:"Next"})]})]})}function D2(){const{date:t,setDate:e,startTime:n,setStartTime:r,endTime:i,setEndTime:s}=od(),[a,o]=f.useState(!1),l="viva:dateTime";return f.useEffect(()=>{try{const c=localStorage.getItem(l);if(c){const h=JSON.parse(c);typeof h.date=="string"&&e(h.date),typeof h.startTime=="string"&&r(h.startTime),typeof h.endTime=="string"&&s(h.endTime)}}catch{}finally{o(!0)}},[]),f.useEffect(()=>{a&&localStorage.setItem(l,JSON.stringify({date:t,startTime:n,endTime:i}))},[a,t,n,i]),N.jsxs("main",{className:"max-w-md mx-auto p-6 space-y-6",children:[N.jsx("h1",{className:"text-2xl font-bold text-center",children:" Date & Time"}),N.jsxs("div",{children:[N.jsx("label",{className:"block mb-1 font-medium",children:"When is your event?"}),N.jsx("input",{type:"date",value:t??"",onChange:c=>e(c.target.value),className:"w-full border rounded-lg px-4 py-2"})]}),t&&N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block mb-1 font-medium",children:"Start Time"}),N.jsx("input",{type:"time",value:n??"",onChange:c=>r(c.target.value),className:"w-full border rounded-lg px-4 py-2"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block mb-1 font-medium",children:"End Time"}),N.jsx("input",{type:"time",value:i??"",onChange:c=>s(c.target.value),className:"w-full border rounded-lg px-4 py-2"})]})]}),N.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[N.jsx(vt,{to:"/",children:"Home"}),N.jsx(vt,{to:"/activity",children:"Next"})]})]})}function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function k2(t,e){if(js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P2(t){var e=k2(t,"string");return js(e)=="symbol"?e:e+""}function kr(t,e,n){return(e=P2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b0(Object(n),!0).forEach(function(r){kr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function N2(t){if(Array.isArray(t))return qm(t)}function V2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WA(t,e){if(t){if(typeof t=="string")return qm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qm(t,e):void 0}}function U2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ai(t){return N2(t)||V2(t)||WA(t)||U2()}function j2(t){if(Array.isArray(t))return t}function z2(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function B2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sn(t,e){return j2(t)||z2(t,e)||WA(t,e)||B2()}var XA={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,r(o)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(XA);var H2=XA.exports;const Ta=yg(H2);function Ro(t){var e=f.useRef();e.current=t;var n=f.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(s))},[]);return n}function F2(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var E0=F2()?f.useLayoutEffect:f.useEffect,ZA=function(e,n){var r=f.useRef(!0);E0(function(){return e(r.current)},n),E0(function(){return r.current=!1,function(){r.current=!0}},[])},w0=function(e,n){ZA(function(r){if(!r)return e()},n)};function S0(t){var e=f.useRef(!1),n=f.useState(t),r=Sn(n,2),i=r[0],s=r[1];f.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function a(o,l){l&&e.current||s(o)}return[i,a]}function Cp(t){return t!==void 0}function q2(t,e){var n=e||{},r=n.defaultValue,i=n.value,s=n.onChange,a=n.postState,o=S0(function(){return Cp(i)?i:Cp(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=Sn(o,2),c=l[0],h=l[1],p=i!==void 0?i:c,d=a?a(p):p,g=Ro(s),_=S0([p]),A=Sn(_,2),S=A[0],b=A[1];w0(function(){var C=S[0];c!==C&&g(c,C)},[S]),w0(function(){Cp(i)||h(i)},[i]);var v=Ro(function(C,R){h(C,R),b([p],R)});return[d,v]}var Gm={},G2=function(e){};function $2(t,e){}function K2(t,e){}function Y2(){Gm={}}function JA(t,e,n){!e&&!Gm[n]&&(t(!1,n),Gm[n]=!0)}function Fo(t,e){JA($2,t,e)}function Q2(t,e){JA(K2,t,e)}Fo.preMessage=G2;Fo.resetWarned=Y2;Fo.noteOnce=Q2;function W2(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(s,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(s);if(Fo(!l,"Warning: There may be circular references"),l)return!1;if(s===a)return!0;if(n&&o>1)return!1;r.add(s);var c=o+1;if(Array.isArray(s)){if(!Array.isArray(a)||s.length!==a.length)return!1;for(var h=0;h<s.length;h++)if(!i(s[h],a[h],c))return!1;return!0}if(s&&a&&js(s)==="object"&&js(a)==="object"){var p=Object.keys(s);return p.length!==Object.keys(a).length?!1:p.every(function(d){return i(s[d],a[d],c)})}return!1}return i(t,e)}function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pu.apply(null,arguments)}function X2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function e1(t,e){if(t==null)return{};var n,r,i=X2(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $m(t,e,n){return(t-e)/(n-e)}function Nv(t,e,n,r){var i=$m(e,n,r),s={};switch(t){case"rtl":s.right="".concat(i*100,"%"),s.transform="translateX(50%)";break;case"btt":s.bottom="".concat(i*100,"%"),s.transform="translateY(50%)";break;case"ttb":s.top="".concat(i*100,"%"),s.transform="translateY(-50%)";break;default:s.left="".concat(i*100,"%"),s.transform="translateX(-50%)";break}return s}function la(t,e){return Array.isArray(t)?t[e]:t}var cn={BACKSPACE:8,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Na=f.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Z2=f.createContext({}),J2=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],T0=f.forwardRef(function(t,e){var n=t.prefixCls,r=t.value,i=t.valueIndex,s=t.onStartMove,a=t.onDelete,o=t.style,l=t.render,c=t.dragging,h=t.draggingDelete,p=t.onOffsetChange,d=t.onChangeComplete,g=t.onFocus,_=t.onMouseEnter,A=e1(t,J2),S=f.useContext(Na),b=S.min,v=S.max,C=S.direction,R=S.disabled,D=S.keyboard,x=S.range,T=S.tabIndex,E=S.ariaLabelForHandle,w=S.ariaLabelledByForHandle,L=S.ariaRequired,O=S.ariaValueTextFormatterForHandle,k=S.styles,I=S.classNames,X="".concat(n,"-handle"),J=function(B){R||s(B,i)},z=function(B){g==null||g(B,i)},$=function(B){_(B,i)},H=function(B){if(!R&&D){var le=null;switch(B.which||B.keyCode){case cn.LEFT:le=C==="ltr"||C==="btt"?-1:1;break;case cn.RIGHT:le=C==="ltr"||C==="btt"?1:-1;break;case cn.UP:le=C!=="ttb"?1:-1;break;case cn.DOWN:le=C!=="ttb"?-1:1;break;case cn.HOME:le="min";break;case cn.END:le="max";break;case cn.PAGE_UP:le=2;break;case cn.PAGE_DOWN:le=-2;break;case cn.BACKSPACE:case cn.DELETE:a(i);break}le!==null&&(B.preventDefault(),p(le,i))}},ne=function(B){switch(B.which||B.keyCode){case cn.LEFT:case cn.RIGHT:case cn.UP:case cn.DOWN:case cn.HOME:case cn.END:case cn.PAGE_UP:case cn.PAGE_DOWN:d==null||d();break}},ee=Nv(C,r,b,v),ge={};if(i!==null){var ve;ge={tabIndex:R?null:la(T,i),role:"slider","aria-valuemin":b,"aria-valuemax":v,"aria-valuenow":r,"aria-disabled":R,"aria-label":la(E,i),"aria-labelledby":la(w,i),"aria-required":la(L,i),"aria-valuetext":(ve=la(O,i))===null||ve===void 0?void 0:ve(r),"aria-orientation":C==="ltr"||C==="rtl"?"horizontal":"vertical",onMouseDown:J,onTouchStart:J,onFocus:z,onMouseEnter:$,onKeyDown:H,onKeyUp:ne}}var Q=f.createElement("div",Pu({ref:e,className:Ta(X,kr(kr(kr({},"".concat(X,"-").concat(i+1),i!==null&&x),"".concat(X,"-dragging"),c),"".concat(X,"-dragging-delete"),h),I.handle),style:Un(Un(Un({},ee),o),k.handle)},ge,A));return l&&(Q=l(Q,{index:i,prefixCls:n,value:r,dragging:c,draggingDelete:h})),Q}),eN=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],tN=f.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.onStartMove,s=t.onOffsetChange,a=t.values,o=t.handleRender,l=t.activeHandleRender,c=t.draggingIndex,h=t.draggingDelete,p=t.onFocus,d=e1(t,eN),g=f.useRef({}),_=f.useState(!1),A=Sn(_,2),S=A[0],b=A[1],v=f.useState(-1),C=Sn(v,2),R=C[0],D=C[1],x=function(O){D(O),b(!0)},T=function(O,k){x(k),p==null||p(O)},E=function(O,k){x(k)};f.useImperativeHandle(e,function(){return{focus:function(O){var k;(k=g.current[O])===null||k===void 0||k.focus()},hideHelp:function(){Gi.flushSync(function(){b(!1)})}}});var w=Un({prefixCls:n,onStartMove:i,onOffsetChange:s,render:o,onFocus:T,onMouseEnter:E},d);return f.createElement(f.Fragment,null,a.map(function(L,O){var k=c===O;return f.createElement(T0,Pu({ref:function(X){X?g.current[O]=X:delete g.current[O]},dragging:k,draggingDelete:k&&h,style:la(r,O),key:O,value:L,valueIndex:O},w))}),l&&S&&f.createElement(T0,Pu({key:"a11y"},w,{value:a[R],valueIndex:null,dragging:c!==-1,draggingDelete:h,render:l,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),nN=function(e){var n=e.prefixCls,r=e.style,i=e.children,s=e.value,a=e.onClick,o=f.useContext(Na),l=o.min,c=o.max,h=o.direction,p=o.includedStart,d=o.includedEnd,g=o.included,_="".concat(n,"-text"),A=Nv(h,s,l,c);return f.createElement("span",{className:Ta(_,kr({},"".concat(_,"-active"),g&&p<=s&&s<=d)),style:Un(Un({},A),r),onMouseDown:function(b){b.stopPropagation()},onClick:function(){a(s)}},i)},rN=function(e){var n=e.prefixCls,r=e.marks,i=e.onClick,s="".concat(n,"-mark");return r.length?f.createElement("div",{className:s},r.map(function(a){var o=a.value,l=a.style,c=a.label;return f.createElement(nN,{key:o,prefixCls:s,style:l,value:o,onClick:i},c)})):null},iN=function(e){var n=e.prefixCls,r=e.value,i=e.style,s=e.activeStyle,a=f.useContext(Na),o=a.min,l=a.max,c=a.direction,h=a.included,p=a.includedStart,d=a.includedEnd,g="".concat(n,"-dot"),_=h&&p<=r&&r<=d,A=Un(Un({},Nv(c,r,o,l)),typeof i=="function"?i(r):i);return _&&(A=Un(Un({},A),typeof s=="function"?s(r):s)),f.createElement("span",{className:Ta(g,kr({},"".concat(g,"-active"),_)),style:A})},sN=function(e){var n=e.prefixCls,r=e.marks,i=e.dots,s=e.style,a=e.activeStyle,o=f.useContext(Na),l=o.min,c=o.max,h=o.step,p=f.useMemo(function(){var d=new Set;if(r.forEach(function(_){d.add(_.value)}),i&&h!==null)for(var g=l;g<=c;)d.add(g),g+=h;return Array.from(d)},[l,c,h,i,r]);return f.createElement("div",{className:"".concat(n,"-step")},p.map(function(d){return f.createElement(iN,{prefixCls:n,key:d,value:d,style:s,activeStyle:a})}))},C0=function(e){var n=e.prefixCls,r=e.style,i=e.start,s=e.end,a=e.index,o=e.onStartMove,l=e.replaceCls,c=f.useContext(Na),h=c.direction,p=c.min,d=c.max,g=c.disabled,_=c.range,A=c.classNames,S="".concat(n,"-track"),b=$m(i,p,d),v=$m(s,p,d),C=function(T){!g&&o&&o(T,-1)},R={};switch(h){case"rtl":R.right="".concat(b*100,"%"),R.width="".concat(v*100-b*100,"%");break;case"btt":R.bottom="".concat(b*100,"%"),R.height="".concat(v*100-b*100,"%");break;case"ttb":R.top="".concat(b*100,"%"),R.height="".concat(v*100-b*100,"%");break;default:R.left="".concat(b*100,"%"),R.width="".concat(v*100-b*100,"%")}var D=l||Ta(S,kr(kr({},"".concat(S,"-").concat(a+1),a!==null&&_),"".concat(n,"-track-draggable"),o),A.track);return f.createElement("div",{className:D,style:Un(Un({},R),r),onMouseDown:C,onTouchStart:C})},aN=function(e){var n=e.prefixCls,r=e.style,i=e.values,s=e.startPoint,a=e.onStartMove,o=f.useContext(Na),l=o.included,c=o.range,h=o.min,p=o.styles,d=o.classNames,g=f.useMemo(function(){if(!c){if(i.length===0)return[];var A=s??h,S=i[0];return[{start:Math.min(A,S),end:Math.max(A,S)}]}for(var b=[],v=0;v<i.length-1;v+=1)b.push({start:i[v],end:i[v+1]});return b},[i,c,s,h]);if(!l)return null;var _=g!=null&&g.length&&(d.tracks||p.tracks)?f.createElement(C0,{index:null,prefixCls:n,start:g[0].start,end:g[g.length-1].end,replaceCls:Ta(d.tracks,"".concat(n,"-tracks")),style:p.tracks}):null;return f.createElement(f.Fragment,null,_,g.map(function(A,S){var b=A.start,v=A.end;return f.createElement(C0,{index:S,prefixCls:n,style:Un(Un({},la(r,S)),p.track),start:b,end:v,key:S,onStartMove:a})}))},oN=130;function A0(t){var e="targetTouches"in t?t.targetTouches[0]:t;return{pageX:e.pageX,pageY:e.pageY}}function lN(t,e,n,r,i,s,a,o,l,c,h){var p=f.useState(null),d=Sn(p,2),g=d[0],_=d[1],A=f.useState(-1),S=Sn(A,2),b=S[0],v=S[1],C=f.useState(!1),R=Sn(C,2),D=R[0],x=R[1],T=f.useState(n),E=Sn(T,2),w=E[0],L=E[1],O=f.useState(n),k=Sn(O,2),I=k[0],X=k[1],J=f.useRef(null),z=f.useRef(null),$=f.useRef(null),H=f.useContext(Z2),ne=H.onDragStart,ee=H.onDragChange;ZA(function(){b===-1&&L(n)},[n,b]),f.useEffect(function(){return function(){document.removeEventListener("mousemove",J.current),document.removeEventListener("mouseup",z.current),$.current&&($.current.removeEventListener("touchmove",J.current),$.current.removeEventListener("touchend",z.current))}},[]);var ge=function(le,ie,pe){ie!==void 0&&_(ie),L(le);var Oe=le;pe&&(Oe=le.filter(function(Z,he){return he!==b})),a(Oe),ee&&ee({rawValues:le,deleteIndex:pe?b:-1,draggingIndex:b,draggingValue:ie})},ve=Ro(function(B,le,ie){if(B===-1){var pe=I[0],Oe=I[I.length-1],Z=r-pe,he=i-Oe,Ye=le*(i-r);Ye=Math.max(Ye,Z),Ye=Math.min(Ye,he);var Dt=s(pe+Ye);Ye=Dt-pe;var dt=I.map(function(xn){return xn+Ye});ge(dt)}else{var Me=(i-r)*le,gn=Ai(w);gn[B]=I[B];var ln=l(gn,Me,B,"dist");ge(ln.values,ln.value,ie)}}),Q=function(le,ie,pe){le.stopPropagation();var Oe=pe||n,Z=Oe[ie];v(ie),_(Z),X(Oe),L(Oe),x(!1);var he=A0(le),Ye=he.pageX,Dt=he.pageY,dt=!1;ne&&ne({rawValues:Oe,draggingIndex:ie,draggingValue:Z});var Me=function(xn){xn.preventDefault();var kt=A0(xn),zn=kt.pageX,Ln=kt.pageY,Wt=zn-Ye,bt=Ln-Dt,jt=t.current.getBoundingClientRect(),vn=jt.width,Qe=jt.height,Pe,Xt;switch(e){case"btt":Pe=-bt/Qe,Xt=Wt;break;case"ttb":Pe=bt/Qe,Xt=Wt;break;case"rtl":Pe=-Wt/vn,Xt=bt;break;default:Pe=Wt/vn,Xt=bt}dt=c?Math.abs(Xt)>oN&&h<w.length:!1,x(dt),ve(ie,Pe,dt)},gn=function ln(xn){xn.preventDefault(),document.removeEventListener("mouseup",ln),document.removeEventListener("mousemove",Me),$.current&&($.current.removeEventListener("touchmove",J.current),$.current.removeEventListener("touchend",z.current)),J.current=null,z.current=null,$.current=null,o(dt),v(-1),x(!1)};document.addEventListener("mouseup",gn),document.addEventListener("mousemove",Me),le.currentTarget.addEventListener("touchend",gn),le.currentTarget.addEventListener("touchmove",Me),J.current=Me,z.current=gn,$.current=le.currentTarget},se=f.useMemo(function(){var B=Ai(n).sort(function(Z,he){return Z-he}),le=Ai(w).sort(function(Z,he){return Z-he}),ie={};le.forEach(function(Z){ie[Z]=(ie[Z]||0)+1}),B.forEach(function(Z){ie[Z]=(ie[Z]||0)-1});var pe=c?1:0,Oe=Object.values(ie).reduce(function(Z,he){return Z+Math.abs(he)},0);return Oe<=pe?w:n},[n,w,c]);return[b,g,D,se,Q]}function uN(t,e,n,r,i,s){var a=f.useCallback(function(g){return Math.max(t,Math.min(e,g))},[t,e]),o=f.useCallback(function(g){if(n!==null){var _=t+Math.round((a(g)-t)/n)*n,A=function(C){return(String(C).split(".")[1]||"").length},S=Math.max(A(n),A(e),A(t)),b=Number(_.toFixed(S));return t<=b&&b<=e?b:null}return null},[n,t,e,a]),l=f.useCallback(function(g){var _=a(g),A=r.map(function(v){return v.value});n!==null&&A.push(o(g)),A.push(t,e);var S=A[0],b=e-t;return A.forEach(function(v){var C=Math.abs(_-v);C<=b&&(S=v,b=C)}),S},[t,e,r,n,a,o]),c=function g(_,A,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof A=="number"){var v,C=_[S],R=C+A,D=[];r.forEach(function(L){D.push(L.value)}),D.push(t,e),D.push(o(C));var x=A>0?1:-1;b==="unit"?D.push(o(C+x*n)):D.push(o(R)),D=D.filter(function(L){return L!==null}).filter(function(L){return A<0?L<=C:L>=C}),b==="unit"&&(D=D.filter(function(L){return L!==C}));var T=b==="unit"?C:R;v=D[0];var E=Math.abs(v-T);if(D.forEach(function(L){var O=Math.abs(L-T);O<E&&(v=L,E=O)}),v===void 0)return A<0?t:e;if(b==="dist")return v;if(Math.abs(A)>1){var w=Ai(_);return w[S]=v,g(w,A-x,S,b)}return v}else{if(A==="min")return t;if(A==="max")return e}},h=function(_,A,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",v=_[S],C=c(_,A,S,b);return{value:C,changed:C!==v}},p=function(_){return s===null&&_===0||typeof s=="number"&&_<s},d=function(_,A,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",v=_.map(l),C=v[S],R=c(v,A,S,b);if(v[S]=R,i===!1){var D=s||0;S>0&&v[S-1]!==C&&(v[S]=Math.max(v[S],v[S-1]+D)),S<v.length-1&&v[S+1]!==C&&(v[S]=Math.min(v[S],v[S+1]-D))}else if(typeof s=="number"||s===null){for(var x=S+1;x<v.length;x+=1)for(var T=!0;p(v[x]-v[x-1])&&T;){var E=h(v,1,x);v[x]=E.value,T=E.changed}for(var w=S;w>0;w-=1)for(var L=!0;p(v[w]-v[w-1])&&L;){var O=h(v,-1,w-1);v[w-1]=O.value,L=O.changed}for(var k=v.length-1;k>0;k-=1)for(var I=!0;p(v[k]-v[k-1])&&I;){var X=h(v,-1,k-1);v[k-1]=X.value,I=X.changed}for(var J=0;J<v.length-1;J+=1)for(var z=!0;p(v[J+1]-v[J])&&z;){var $=h(v,1,J+1);v[J+1]=$.value,z=$.changed}}return{value:v[S],values:v}};return[l,d]}function cN(t){return f.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var e=t.editable,n=t.draggableTrack,r=t.minCount,i=t.maxCount;return[!0,e,!e&&n,r||0,i]},[t])}var hN=f.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-slider":n,i=t.className,s=t.style,a=t.classNames,o=t.styles,l=t.id,c=t.disabled,h=c===void 0?!1:c,p=t.keyboard,d=p===void 0?!0:p,g=t.autoFocus,_=t.onFocus,A=t.onBlur,S=t.min,b=S===void 0?0:S,v=t.max,C=v===void 0?100:v,R=t.step,D=R===void 0?1:R,x=t.value,T=t.defaultValue,E=t.range,w=t.count,L=t.onChange,O=t.onBeforeChange,k=t.onAfterChange,I=t.onChangeComplete,X=t.allowCross,J=X===void 0?!0:X,z=t.pushable,$=z===void 0?!1:z,H=t.reverse,ne=t.vertical,ee=t.included,ge=ee===void 0?!0:ee,ve=t.startPoint,Q=t.trackStyle,se=t.handleStyle,B=t.railStyle,le=t.dotStyle,ie=t.activeDotStyle,pe=t.marks,Oe=t.dots,Z=t.handleRender,he=t.activeHandleRender,Ye=t.track,Dt=t.tabIndex,dt=Dt===void 0?0:Dt,Me=t.ariaLabelForHandle,gn=t.ariaLabelledByForHandle,ln=t.ariaRequired,xn=t.ariaValueTextFormatterForHandle,kt=f.useRef(null),zn=f.useRef(null),Ln=f.useMemo(function(){return ne?H?"ttb":"btt":H?"rtl":"ltr"},[H,ne]),Wt=cN(E),bt=Sn(Wt,5),jt=bt[0],vn=bt[1],Qe=bt[2],Pe=bt[3],Xt=bt[4],Ct=f.useMemo(function(){return isFinite(b)?b:0},[b]),$n=f.useMemo(function(){return isFinite(C)?C:100},[C]),Mt=f.useMemo(function(){return D!==null&&D<=0?1:D},[D]),ir=f.useMemo(function(){return typeof $=="boolean"?$?Mt:!1:$>=0?$:!1},[$,Mt]),Bn=f.useMemo(function(){return Object.keys(pe||{}).map(function(Be){var ye=pe[Be],Xe={value:Number(Be)};return ye&&js(ye)==="object"&&!f.isValidElement(ye)&&("label"in ye||"style"in ye)?(Xe.style=ye.style,Xe.label=ye.label):Xe.label=ye,Xe}).filter(function(Be){var ye=Be.label;return ye||typeof ye=="number"}).sort(function(Be,ye){return Be.value-ye.value})},[pe]),Xr=uN(Ct,$n,Mt,Bn,J,ir),sr=Sn(Xr,2),br=sr[0],Kn=sr[1],Ur=q2(T,{value:x}),Yn=Sn(Ur,2),Mn=Yn[0],ar=Yn[1],At=f.useMemo(function(){var Be=Mn==null?[]:Array.isArray(Mn)?Mn:[Mn],ye=Sn(Be,1),Xe=ye[0],We=Xe===void 0?Ct:Xe,ot=Mn===null?[]:[We];if(jt){if(ot=Ai(Be),w||Mn===void 0){var xe=w>=0?w+1:2;for(ot=ot.slice(0,xe);ot.length<xe;){var yt;ot.push((yt=ot[ot.length-1])!==null&&yt!==void 0?yt:Ct)}}ot.sort(function(qt,_n){return qt-_n})}return ot.forEach(function(qt,_n){ot[_n]=br(qt)}),ot},[Mn,jt,Ct,w,br]),un=function(ye){return jt?ye:ye[0]},Ft=Ro(function(Be){var ye=Ai(Be).sort(function(Xe,We){return Xe-We});L&&!W2(ye,At,!0)&&L(un(ye)),ar(ye)}),Hn=Ro(function(Be){Be&&kt.current.hideHelp();var ye=un(At);k==null||k(ye),Fo(!k,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),I==null||I(ye)}),jr=function(ye){if(!(h||!vn||At.length<=Pe)){var Xe=Ai(At);Xe.splice(ye,1),O==null||O(un(Xe)),Ft(Xe);var We=Math.max(0,ye-1);kt.current.hideHelp(),kt.current.focus(We)}},zr=lN(zn,Ln,At,Ct,$n,br,Ft,Hn,Kn,vn,Pe),P=Sn(zr,5),V=P[0],j=P[1],F=P[2],te=P[3],fe=P[4],we=function(ye,Xe){if(!h){var We=Ai(At),ot=0,xe=0,yt=$n-Ct;At.forEach(function(Zt,Hr){var Xs=Math.abs(ye-Zt);Xs<=yt&&(yt=Xs,ot=Hr),Zt<ye&&(xe=Hr)});var qt=ot;vn&&yt!==0&&(!Xt||At.length<Xt)?(We.splice(xe+1,0,ye),qt=xe+1):We[ot]=ye,jt&&!At.length&&w===void 0&&We.push(ye);var _n=un(We);if(O==null||O(_n),Ft(We),Xe){var Wn,st;(Wn=document.activeElement)===null||Wn===void 0||(st=Wn.blur)===null||st===void 0||st.call(Wn),kt.current.focus(qt),fe(Xe,qt,We)}else k==null||k(_n),Fo(!k,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),I==null||I(_n)}},oe=function(ye){ye.preventDefault();var Xe=zn.current.getBoundingClientRect(),We=Xe.width,ot=Xe.height,xe=Xe.left,yt=Xe.top,qt=Xe.bottom,_n=Xe.right,Wn=ye.clientX,st=ye.clientY,Zt;switch(Ln){case"btt":Zt=(qt-st)/ot;break;case"ttb":Zt=(st-yt)/ot;break;case"rtl":Zt=(_n-Wn)/We;break;default:Zt=(Wn-xe)/We}var Hr=Ct+Zt*($n-Ct);we(br(Hr),ye)},de=f.useState(null),be=Sn(de,2),Ce=be[0],me=be[1],Re=function(ye,Xe){if(!h){var We=Kn(At,ye,Xe);O==null||O(un(At)),Ft(We.values),me(We.value)}};f.useEffect(function(){if(Ce!==null){var Be=At.indexOf(Ce);Be>=0&&kt.current.focus(Be)}me(null)},[Ce]);var et=f.useMemo(function(){return Qe&&Mt===null?!1:Qe},[Qe,Mt]),pt=Ro(function(Be,ye){fe(Be,ye),O==null||O(un(At))}),ct=V!==-1;f.useEffect(function(){if(!ct){var Be=At.lastIndexOf(j);kt.current.focus(Be)}},[ct]);var Pt=f.useMemo(function(){return Ai(te).sort(function(Be,ye){return Be-ye})},[te]),ze=f.useMemo(function(){return jt?[Pt[0],Pt[Pt.length-1]]:[Ct,Pt[0]]},[Pt,jt,Ct]),Er=Sn(ze,2),Qn=Er[0],Br=Er[1];f.useImperativeHandle(e,function(){return{focus:function(){kt.current.focus(0)},blur:function(){var ye,Xe=document,We=Xe.activeElement;(ye=zn.current)!==null&&ye!==void 0&&ye.contains(We)&&(We==null||We.blur())}}}),f.useEffect(function(){g&&kt.current.focus(0)},[]);var yn=f.useMemo(function(){return{min:Ct,max:$n,direction:Ln,disabled:h,keyboard:d,step:Mt,included:ge,includedStart:Qn,includedEnd:Br,range:jt,tabIndex:dt,ariaLabelForHandle:Me,ariaLabelledByForHandle:gn,ariaRequired:ln,ariaValueTextFormatterForHandle:xn,styles:o||{},classNames:a||{}}},[Ct,$n,Ln,h,d,Mt,ge,Qn,Br,jt,dt,Me,gn,ln,xn,o,a]);return f.createElement(Na.Provider,{value:yn},f.createElement("div",{ref:zn,className:Ta(r,i,kr(kr(kr(kr({},"".concat(r,"-disabled"),h),"".concat(r,"-vertical"),ne),"".concat(r,"-horizontal"),!ne),"".concat(r,"-with-marks"),Bn.length)),style:s,onMouseDown:oe,id:l},f.createElement("div",{className:Ta("".concat(r,"-rail"),a==null?void 0:a.rail),style:Un(Un({},B),o==null?void 0:o.rail)}),Ye!==!1&&f.createElement(aN,{prefixCls:r,style:Q,values:At,startPoint:ve,onStartMove:et?pt:void 0}),f.createElement(sN,{prefixCls:r,marks:Bn,dots:Oe,style:le,activeStyle:ie}),f.createElement(tN,{ref:kt,prefixCls:r,style:se,values:te,draggingIndex:V,draggingDelete:F,onStartMove:pt,onOffsetChange:Re,onFocus:_,onBlur:A,handleRender:Z,activeHandleRender:he,onChangeComplete:Hn,onDelete:vn?jr:void 0}),f.createElement(rN,{prefixCls:r,marks:Bn,onClick:we})))});const fN=t=>{const e=Math.floor(t/60),n=t%60,r=e>=12?"PM":"AM";return`${e%12===0?12:e%12}:${n.toString().padStart(2,"0")} ${r}`},eh=t=>{const[e,n]=t.split(":").map(Number);return e*60+n};function dN(){const t=Ki(),{startTime:e="08:00",endTime:n="18:00"}=t.state||{},r=eh(e),i=eh(n),[s,a]=f.useState([]),[o,l]=f.useState(""),[c,h]=f.useState(""),[p,d]=f.useState(!1),g="viva:activityState";return f.useEffect(()=>{try{const _=localStorage.getItem(g);if(!_)return;const A=JSON.parse(_),S=eh(A.startTime??e),b=eh(A.endTime??n),v=R=>Math.min(Math.max(R,r),i),C=(A.activities||[]).map(R=>({...R,time:v(R.time)})).sort((R,D)=>R.time===D.time?-1:R.time-D.time);a(C),typeof A.name=="string"&&l(A.name),typeof A.time=="string"&&h(A.time)}catch{}finally{d(!0)}},[]),f.useEffect(()=>{if(!p)return;const _=JSON.stringify({startTime:e,endTime:n,activities:s,name:o,time:c});localStorage.setItem(g,_)},[e,n,s,o,c]),N.jsxs("main",{className:"flex flex-col items-center justify-center min-h-screen bg-background px-4 gap-6 pad-6",children:[N.jsx("h1",{className:"text-3xl items-center font-bold",children:"Plan Your Activities"}),N.jsxs("form",{onSubmit:_=>{if(_.preventDefault(),!o||!c)return;const A=Date.now(),[S,b]=c.split(":").map(Number),v=S*60+b;if(v<r||v>i){alert("Time is out of range!");return}a(C=>[...C,{id:A,name:o,time:v}].sort((D,x)=>D.time===x.time?-1:D.time-x.time)),l(""),h("")},className:"flex flex-col md:flex-row gap-4 items-center mb-6",children:[N.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"Activity name",className:"border border-gray-300 rounded-md px-4 py-2 w-60",required:!0}),N.jsx("input",{type:"time",value:c,onChange:_=>h(_.target.value),className:"border border-gray-300 rounded-md px-4 py-2",required:!0}),N.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition",children:"Add Activity"})]}),N.jsx("div",{className:"relative w-full max-w-4xl h-28 flex flex-col gap-6",children:s.length>0&&N.jsx(hN,{range:!0,allowCross:!0,step:5,onChange:_=>{if(Array.isArray(_)){const A=s.map((S,b)=>({...S,time:_[b]}));a(A.sort((S,b)=>S.time===b.time?-1:S.time-b.time))}},min:r,max:i,value:s.map(_=>_.time),trackStyle:[{backgroundColor:"#bfdbfe"}],railStyle:{backgroundColor:"#bfdbfe"},handleRender:(_,A)=>{const S=s[A.index],[b,v]=Up.useState(!1);return Up.cloneElement(_,{style:{..._.props.style,position:"absolute",top:"-25%",transform:"translateY(0%)",height:"32px",backgroundColor:"#ffffff",border:`2px solid ${b?"#0EA5E9":"#D1D5DB"}`,borderRadius:"9999px",padding:"0 0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",userSelect:"none",fontSize:"14px",fontWeight:500,color:"#1f2937",width:"fit-content",transition:"border-color 0.2s ease"},onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onClick:()=>{a(C=>C.filter(R=>R.id!==S.id))},children:N.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[N.jsx("div",{style:{fontSize:"14px",alignItems:"center",transform:"translateY(40%)"},children:S.name}),N.jsx("div",{style:{fontSize:"12px",color:"#6B7280",transform:"translateY(75%)"},children:fN(S.time)})]})})}})}),N.jsx(vt,{to:"/invitee",children:"Next"}),N.jsx(vt,{to:"/",children:" Back to Home"})]})}const pN=["Birthday Party","Dinner Party","Brunch Party","Night Party","Pool Party","Graduation Party","Baby Shower","Housewarming"],R0="viva:partyType";function mN(){const{eventType:t,setEventType:e}=od(),[n,r]=f.useState(""),[i,s]=f.useState(!1);f.useEffect(()=>{try{const l=localStorage.getItem(R0);if(l){const c=JSON.parse(l);Array.isArray(c)&&e(c)}}catch{}finally{s(!0)}},[e]),f.useEffect(()=>{i&&localStorage.setItem(R0,JSON.stringify(t))},[i,t]);const a=l=>{t.includes(l)?e(t.filter(c=>c!==l)):e([...t,l])},o=l=>{l.preventDefault();const c=n.trim();c&&!t.includes(c)&&(e([...t,c]),r(""))};return N.jsxs("main",{children:[N.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background px-4 text-center",children:[N.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Whats the Occasion?"}),N.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:pN.map(l=>N.jsx(vt,{isSelected:t.includes(l),onClick:()=>a(l),children:l}))}),N.jsxs("form",{onSubmit:o,className:"flex gap-2 mb-6",children:[N.jsx("input",{type:"text",value:n,onChange:l=>r(l.target.value),placeholder:"Add your own...",className:"border border-gray-300 rounded-full px-4 py-2 w-full"}),N.jsx("button",{type:"submit",className:"bg-blue-500 text-white rounded-full px-4 py-2 hover:bg-blue-600",children:"Add"})]}),t&&t.length>0&&N.jsxs("div",{className:"mt-4",children:[N.jsx("h3",{className:"text-lg font-medium mb-2",children:"Your Theme Vibe Preview"}),N.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(l=>N.jsx(vt,{isSelected:!0,onClick:()=>a(l),children:l},l))})]})]}),N.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[N.jsx(vt,{to:"/",children:"Home"}),N.jsx(vt,{to:"/theme",children:"Next"})]})]})}function gN({className:t,...e}){return N.jsx("div",{"data-slot":"card",className:ld("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function vN({className:t,...e}){return N.jsx("div",{"data-slot":"card-content",className:ld("px-6",t),...e})}function yN({className:t,type:e,...n}){return N.jsx("input",{type:e,"data-slot":"input",className:ld("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const _N={colors:["Pastel","Neon","Monochrome","Gold & Glitter"],moods:["Romantic","Spooky","Classy","Chill","Dreamy","Playful"],music:["Lo-fi","Dance Pop","Classical","Indie"],style:["Cottagecore","Retro","Sci-fi","Fairytale","Minimalist"]},x0="viva:theme";function bN(){const[t,e]=f.useState([]),[n,r]=f.useState(""),[i,s]=f.useState(!1);f.useEffect(()=>{try{const c=localStorage.getItem(x0);if(c){const h=JSON.parse(c);Array.isArray(h.selectedTags)&&e(h.selectedTags),typeof h.customTheme=="string"&&r(h.customTheme)}}catch{}finally{s(!0)}},[]),f.useEffect(()=>{i&&localStorage.setItem(x0,JSON.stringify({selectedTags:t,customTheme:n}))},[i,t,n]);const a=c=>{e(h=>h.includes(c)?h.filter(p=>p!==c):[...h,c])},l=t.includes("Romantic")&&t.includes("Red")?"Sounds like youre going for a Valentines Day vibe! Want to switch your Party Type?":t.includes("Spooky")?"Is this a Halloween party? You might want to update your Party Type!":null;return N.jsxs("div",{className:"p-6 space-y-6 max-w-4xl mx-auto",children:[N.jsx("h1",{className:"text-3xl font-bold",children:"Pick Your Party Theme"}),N.jsx("p",{className:"text-muted-foreground",children:"What kind of vibe are you going for?"}),Object.entries(_N).map(([c,h])=>N.jsxs("div",{children:[N.jsx("h2",{className:"text-xl font-semibold capitalize mt-4 mb-2",children:c}),N.jsx("div",{className:"flex flex-wrap gap-3",children:h.map(p=>N.jsx(vt,{onClick:()=>a(p),isSelected:t.includes(p),children:p},p))})]},c)),N.jsxs("div",{className:"mt-6",children:[N.jsx("h2",{className:"text-lg font-medium mb-2",children:"Custom Theme Description (optional)"}),N.jsx(yN,{placeholder:"e.g. Pink Galaxy Pajama Party",value:n,onChange:c=>r(c.target.value)})]}),l&&N.jsx(gN,{className:"mt-4 border-dashed border-2 border-pink-500 animate-pulse",children:N.jsx(vN,{className:"p-4 text-pink-700",children:l})}),N.jsxs("div",{className:"mt-8",children:[N.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Your Theme Vibe Preview"}),N.jsx("div",{className:"border rounded-xl p-4 bg-muted text-muted-foreground",children:t.length===0&&!n?N.jsx("p",{children:"No vibes selected yet! Pick a few tags or write your own above "}):N.jsxs("div",{className:"space-y-2",children:[t.length>0&&N.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(c=>N.jsx(vt,{isSelected:!0,onClick:()=>a(c),children:c},c))}),n&&N.jsxs("p",{children:[N.jsx("strong",{children:"Description:"})," ",n]})]})})]}),N.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[N.jsx(vt,{to:"/",children:"Home"}),N.jsx(vt,{to:"/dateTime",children:"Next"})]})]})}const EN=()=>{};var L0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},n1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,p=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,g=c&63;l||(g=64,a||(d=64)),r.push(n[h],n[p],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||p==null)throw new SN;const d=s<<2|o>>4;if(r.push(d),c!==64){const g=o<<4&240|c>>2;if(r.push(g),p!==64){const _=c<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TN=function(t){const e=t1(t);return n1.encodeByteArray(e,!0)},Sf=function(t){return TN(t).replace(/\./g,"")},r1=function(t){try{return n1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=()=>CN().__FIREBASE_DEFAULTS__,RN=()=>{if(typeof process>"u"||typeof L0>"u")return;const t=L0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r1(t[1]);return e&&JSON.parse(e)},ud=()=>{try{return EN()||AN()||RN()||xN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i1=t=>{var e,n;return(n=(e=ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LN=t=>{const e=i1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},s1=()=>{var t;return(t=ud())===null||t===void 0?void 0:t.config},a1=t=>{var e;return(e=ud())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sf(JSON.stringify(n)),Sf(JSON.stringify(a)),""].join(".")}const hu={};function ON(){const t={prod:[],emulator:[]};for(const e of Object.keys(hu))hu[e]?t.emulator.push(e):t.prod.push(e);return t}function DN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let M0=!1;function l1(t,e){if(typeof window>"u"||typeof document>"u"||!ll(window.location.host)||hu[t]===e||hu[t]||M0)return;hu[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",s=ON().prod.length>0;function a(){const d=document.getElementById(r);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,g){d.setAttribute("width","24"),d.setAttribute("id",g),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{M0=!0,a()},d}function h(d,g){d.setAttribute("id",g),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function p(){const d=DN(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const C=d.element;o(C),h(S,A);const R=c();l(v,b),C.append(v,_,S,R),document.body.appendChild(C)}s?(_.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function PN(){var t;const e=(t=ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jN(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zN(){return!PN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BN(){try{return typeof indexedDB=="object"}catch{return!1}}function HN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="FirebaseError";class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FN,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?qN(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new yi(i,o,r)}}function qN(t,e){return t.replace(GN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const GN=/\{\$([^}]+)}/g;function $N(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ca(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(I0(s)&&I0(a)){if(!Ca(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ql(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KN(t,e){const n=new YN(t,e);return n.subscribe.bind(n)}class YN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ap),i.error===void 0&&(i.error=Ap),i.complete===void 0&&(i.complete=Ap);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ap(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t){return t&&t._delegate?t._delegate:t}class Aa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZN(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XN(t){return t===aa?void 0:t}function ZN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const eV={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},tV=$e.INFO,nV={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},rV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vv{constructor(e){this.name=e,this._logLevel=tV,this._logHandler=rV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const iV=(t,e)=>e.some(n=>t instanceof n);let O0,D0;function sV(){return O0||(O0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aV(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u1=new WeakMap,Km=new WeakMap,c1=new WeakMap,Rp=new WeakMap,Uv=new WeakMap;function oV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ls(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&u1.set(n,t)}).catch(()=>{}),Uv.set(e,t),e}function lV(t){if(Km.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Km.set(t,e)}let Ym={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uV(t){Ym=t(Ym)}function cV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xp(this),e,...n);return c1.set(r,e.sort?e.sort():[e]),Ls(r)}:aV().includes(t)?function(...e){return t.apply(xp(this),e),Ls(u1.get(this))}:function(...e){return Ls(t.apply(xp(this),e))}}function hV(t){return typeof t=="function"?cV(t):(t instanceof IDBTransaction&&lV(t),iV(t,sV())?new Proxy(t,Ym):t)}function Ls(t){if(t instanceof IDBRequest)return oV(t);if(Rp.has(t))return Rp.get(t);const e=hV(t);return e!==t&&(Rp.set(t,e),Uv.set(e,t)),e}const xp=t=>Uv.get(t);function fV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Ls(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ls(a.result),l.oldVersion,l.newVersion,Ls(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const dV=["get","getKey","getAll","getAllKeys","count"],pV=["put","add","delete","clear"],Lp=new Map;function k0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lp.get(e))return Lp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dV.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Lp.set(e,s),s}uV(t=>({...t,get:(e,n,r)=>k0(e,n)||t.get(e,n,r),has:(e,n)=>!!k0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",P0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Vv("@firebase/app"),vV="@firebase/app-compat",yV="@firebase/analytics-compat",_V="@firebase/analytics",bV="@firebase/app-check-compat",EV="@firebase/app-check",wV="@firebase/auth",SV="@firebase/auth-compat",TV="@firebase/database",CV="@firebase/data-connect",AV="@firebase/database-compat",RV="@firebase/functions",xV="@firebase/functions-compat",LV="@firebase/installations",MV="@firebase/installations-compat",IV="@firebase/messaging",OV="@firebase/messaging-compat",DV="@firebase/performance",kV="@firebase/performance-compat",PV="@firebase/remote-config",NV="@firebase/remote-config-compat",VV="@firebase/storage",UV="@firebase/storage-compat",jV="@firebase/firestore",zV="@firebase/ai",BV="@firebase/firestore-compat",HV="firebase",FV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",qV={[Qm]:"fire-core",[vV]:"fire-core-compat",[_V]:"fire-analytics",[yV]:"fire-analytics-compat",[EV]:"fire-app-check",[bV]:"fire-app-check-compat",[wV]:"fire-auth",[SV]:"fire-auth-compat",[TV]:"fire-rtdb",[CV]:"fire-data-connect",[AV]:"fire-rtdb-compat",[RV]:"fire-fn",[xV]:"fire-fn-compat",[LV]:"fire-iid",[MV]:"fire-iid-compat",[IV]:"fire-fcm",[OV]:"fire-fcm-compat",[DV]:"fire-perf",[kV]:"fire-perf-compat",[PV]:"fire-rc",[NV]:"fire-rc-compat",[VV]:"fire-gcs",[UV]:"fire-gcs-compat",[jV]:"fire-fst",[BV]:"fire-fst-compat",[zV]:"fire-vertex","fire-js":"fire-js",[HV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new Map,GV=new Map,Xm=new Map;function N0(t,e){try{t.container.addComponent(e)}catch(n){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(Xm.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,t);for(const n of Nu.values())N0(n,t);for(const n of GV.values())N0(n,t);return!0}function jv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new hc("app","Firebase",$V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=FV;function h1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ms.create("bad-app-name",{appName:String(i)});if(n||(n=s1()),!n)throw Ms.create("no-options");const s=Nu.get(i);if(s){if(Ca(n,s.options)&&Ca(r,s.config))return s;throw Ms.create("duplicate-app",{appName:i})}const a=new JN(i);for(const l of Xm.values())a.addComponent(l);const o=new KV(n,r,a);return Nu.set(i,o),o}function zv(t=Wm){const e=Nu.get(t);if(!e&&t===Wm&&s1())return h1();if(!e)throw Ms.create("no-app",{appName:t});return e}function YV(){return Array.from(Nu.values())}function Is(t,e,n){var r;let i=(r=qV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(o.join(" "));return}qo(new Aa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="firebase-heartbeat-database",WV=1,Vu="firebase-heartbeat-store";let Mp=null;function f1(){return Mp||(Mp=fV(QV,WV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ms.create("idb-open",{originalErrorMessage:t.message})})),Mp}async function XV(t){try{const n=(await f1()).transaction(Vu),r=await n.objectStore(Vu).get(d1(t));return await n.done,r}catch(e){if(e instanceof yi)Bi.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(n.message)}}}async function V0(t,e){try{const r=(await f1()).transaction(Vu,"readwrite");await r.objectStore(Vu).put(e,d1(t)),await r.done}catch(n){if(n instanceof yi)Bi.warn(n.message);else{const r=Ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(r.message)}}}function d1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=1024,JV=30;class e4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=U0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>JV){const a=r4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U0(),{heartbeatsToSend:r,unsentEntries:i}=t4(this._heartbeatsCache.heartbeats),s=Sf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Bi.warn(n),""}}}function U0(){return new Date().toISOString().substring(0,10)}function t4(t,e=ZV){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),j0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),j0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class n4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BN()?HN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return V0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return V0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function j0(t){return Sf(JSON.stringify({version:2,heartbeats:t})).length}function r4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t){qo(new Aa("platform-logger",e=>new mV(e),"PRIVATE")),qo(new Aa("heartbeat",e=>new e4(e),"PRIVATE")),Is(Qm,P0,t),Is(Qm,P0,"esm2017"),Is("fire-js","")}i4("");var s4="firebase",a4="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(s4,a4,"app");function Bv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function p1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o4=p1,m1=new hc("auth","Firebase",p1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=new Vv("@firebase/auth");function l4(t,...e){Tf.logLevel<=$e.WARN&&Tf.warn(`Auth (${ul}): ${t}`,...e)}function Sh(t,...e){Tf.logLevel<=$e.ERROR&&Tf.error(`Auth (${ul}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,...e){throw Hv(t,...e)}function ai(t,...e){return Hv(t,...e)}function g1(t,e,n){const r=Object.assign(Object.assign({},o4()),{[e]:n});return new hc("auth","Firebase",r).create(e,{appName:t.name})}function Ni(t){return g1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return m1.create(t,...e)}function Se(t,e,...n){if(!t)throw Hv(e,...n)}function Oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sh(e),new Error(e)}function Hi(t,e){t||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function u4(){return z0()==="http:"||z0()==="https:"}function z0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u4()||VN()||"connection"in navigator)?navigator.onLine:!0}function h4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hi(n>e,"Short delay should be less than long delay!"),this.isMobile=kN()||UN()}get(){return c4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t,e){Hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p4=new dc(3e4,6e4);function Ws(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yi(t,e,n,r,i={}){return y1(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=fc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return NN()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ll(t.emulatorConfig.host)&&(c.credentials="include"),v1.fetch()(await _1(t,t.config.apiHost,n,o),c)})}async function y1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},f4),e);try{const i=new g4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw th(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw th(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw th(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw g1(t,h,c);Yr(t,h)}}catch(i){if(i instanceof yi)throw i;Yr(t,"network-request-failed",{message:String(i)})}}async function pc(t,e,n,r,i={}){const s=await Yi(t,e,n,r,i);return"mfaPendingCredential"in s&&Yr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function _1(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?Fv(t.config,i):`${t.config.apiScheme}://${i}`;return d4.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function m4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),p4.get())})}}function th(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ai(t,e,r);return i.customData._tokenResponse=n,i}function B0(t){return t!==void 0&&t.enterprise!==void 0}class v4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return m4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function y4(t,e){return Yi(t,"GET","/v2/recaptchaConfig",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(t,e){return Yi(t,"POST","/v1/accounts:delete",e)}async function Cf(t,e){return Yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b4(t,e=!1){const n=nr(t),r=await n.getIdToken(e),i=qv(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fu(Ip(i.auth_time)),issuedAtTime:fu(Ip(i.iat)),expirationTime:fu(Ip(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ip(t){return Number(t)*1e3}function qv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const i=r1(n);return i?JSON.parse(i):(Sh("Failed to decode base64 JWT payload"),null)}catch(i){return Sh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function H0(t){const e=qv(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yi&&E4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function E4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Go(t,Cf(n,{idToken:r}));Se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?b1(s.providerUserInfo):[],o=T4(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Jm(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function S4(t){const e=nr(t);await Af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b1(t){return t.map(e=>{var{providerId:n}=e,r=Bv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){const n=await y1(t,{},async()=>{const r=fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await _1(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&ll(t.emulatorConfig.host)&&(l.credentials="include"),v1.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function A4(t,e){return Yi(t,"POST","/v2/accounts:revokeToken",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=H0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await C4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new xo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Se(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Bv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Go(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b4(this,e)}reload(){return S4(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Af(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await Go(this,_4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,c,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,A=(o=n.tenantId)!==null&&o!==void 0?o:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:R,isAnonymous:D,providerData:x,stsTokenManager:T}=n;Se(C&&T,e,"internal-error");const E=xo.fromJSON(this.name,T);Se(typeof C=="string",e,"internal-error"),es(p,e.name),es(d,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof D=="boolean",e,"internal-error"),es(g,e.name),es(_,e.name),es(A,e.name),es(S,e.name),es(b,e.name),es(v,e.name);const w=new Gr({uid:C,auth:e,email:d,emailVerified:R,displayName:p,isAnonymous:D,photoURL:_,phoneNumber:g,tenantId:A,stsTokenManager:E,createdAt:b,lastLoginAt:v});return x&&Array.isArray(x)&&(w.providerData=x.map(L=>Object.assign({},L))),S&&(w._redirectEventId=S),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new xo;i.updateFromServerResponse(n);const s=new Gr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Af(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?b1(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new xo;o.updateFromIdToken(r);const l=new Gr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Jm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function Di(t){Hi(t instanceof Function,"Expected a class definition");let e=F0.get(t);return e?(Hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}E1.type="NONE";const q0=E1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t,e,n){return`firebase:${t}:${e}:${n}`}class Lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Th(this.userKey,i.apiKey,s),this.fullPersistenceKey=Th("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cf(this.auth,{idToken:e}).catch(()=>{});return n?Gr._fromGetAccountInfoResponse(this.auth,n,e):null}return Gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lo(Di(q0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Di(q0);const a=Th(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){let p;if(typeof h=="string"){const d=await Cf(e,{idToken:h}).catch(()=>{});if(!d)break;p=await Gr._fromGetAccountInfoResponse(e,d,h)}else p=Gr._fromJSON(e,h);c!==s&&(o=p),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Lo(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Lo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R1(e))return"Blackberry";if(x1(e))return"Webos";if(S1(e))return"Safari";if((e.includes("chrome/")||T1(e))&&!e.includes("edge/"))return"Chrome";if(A1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function w1(t=jn()){return/firefox\//i.test(t)}function S1(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T1(t=jn()){return/crios\//i.test(t)}function C1(t=jn()){return/iemobile/i.test(t)}function A1(t=jn()){return/android/i.test(t)}function R1(t=jn()){return/blackberry/i.test(t)}function x1(t=jn()){return/webos/i.test(t)}function Gv(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R4(t=jn()){var e;return Gv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x4(){return jN()&&document.documentMode===10}function L1(t=jn()){return Gv(t)||A1(t)||x1(t)||R1(t)||/windows phone/i.test(t)||C1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e=[]){let n;switch(t){case"Browser":n=G0(jn());break;case"Worker":n=`${G0(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ul}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e={}){return Yi(t,"GET","/v2/passwordPolicy",Ws(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=6;class O4{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:I4,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new L4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cf(this,{idToken:e}),r=await Gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Af(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=h4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(Ni(this));const n=e?nr(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M4(this),n=new O4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await A4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Di(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&l4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Va(t){return nr(t)}class $0{constructor(e){this.auth=e,this.observer=null,this.addObserver=KN(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k4(t){cd=t}function I1(t){return cd.loadJS(t)}function P4(){return cd.recaptchaEnterpriseScript}function N4(){return cd.gapiScript}function V4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class U4{constructor(){this.enterprise=new j4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class j4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const z4="recaptcha-enterprise",O1="NO_RECAPTCHA";class B4{constructor(e){this.type=z4,this.auth=Va(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{y4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new v4(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;B0(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(O1)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new U4().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&B0(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=P4();l.length!==0&&(l+=o),I1(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function K0(t,e,n,r=!1,i=!1){const s=new B4(t);let a;if(i)a=O1;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function eg(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await K0(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await K0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e){const n=jv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ca(s,e??{}))return i;Yr(i,"already-initialized")}return n.initialize({options:e})}function F4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function q4(t,e,n){const r=Va(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=D1(e),{host:a,port:o}=G4(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Ca(c,r.config.emulator)&&Ca(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ll(a)?(o1(`${s}//${a}${l}`),l1("Auth",!0)):$4()}function D1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function G4(t){const e=D1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Y0(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Y0(a)}}}function Y0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function K4(t,e){return Yi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e){return pc(t,"POST","/v1/accounts:signInWithPassword",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,e){return pc(t,"POST","/v1/accounts:signInWithEmailLink",Ws(t,e))}async function W4(t,e){return pc(t,"POST","/v1/accounts:signInWithEmailLink",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends $v{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Uu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,n,"signInWithPassword",Y4);case"emailLink":return Q4(e,{email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,r,"signUpPassword",K4);case"emailLink":return W4(e,{idToken:n,email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(t,e){return pc(t,"POST","/v1/accounts:signInWithIdp",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="http://localhost";class Ra extends $v{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Bv(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ra(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mo(e,n)}buildRequest(){const e={requestUri:X4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J4(t){const e=Fl(ql(t)).link,n=e?Fl(ql(e)).deep_link_id:null,r=Fl(ql(t)).deep_link_id;return(r?Fl(ql(r)).link:null)||r||n||e||t}class Kv{constructor(e){var n,r,i,s,a,o;const l=Fl(ql(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,p=Z4((i=l.mode)!==null&&i!==void 0?i:null);Se(c&&h&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=J4(e);try{return new Kv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,n){return Uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Kv.parseLink(n);return Se(r,"argument-error"),Uu._fromEmailAndCode(e,r.code,r.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends k1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends mc{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends mc{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends mc{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t,e){return pc(t,"POST","/v1/accounts:signUp",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Gr._fromIdTokenResponse(e,r,i),a=Q0(r);return new xa({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Q0(r);return new xa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Q0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends yi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rf(e,n,r,i)}}function P1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(t,s,e,r):s})}async function tU(t,e,n=!1){const r=await Go(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(Ni(r));const i="reauthenticate";try{const s=await Go(t,P1(r,i,e,t),n);Se(s.idToken,r,"internal-error");const a=qv(s.idToken);Se(a,r,"internal-error");const{sub:o}=a;return Se(t.uid===o,r,"user-mismatch"),xa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(t,e,n=!1){if(Mr(t.app))return Promise.reject(Ni(t));const r="signIn",i=await P1(t,r,e),s=await xa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function rU(t,e){return N1(Va(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(t){const e=Va(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iU(t,e,n){if(Mr(t.app))return Promise.reject(Ni(t));const r=Va(t),a=await eg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&V1(t),l}),o=await xa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function sU(t,e,n){return Mr(t.app)?Promise.reject(Ni(t)):rU(nr(t),cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&V1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(t,e){return Yi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=nr(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Go(r,aU(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function lU(t,e,n,r){return nr(t).onIdTokenChanged(e,n,r)}function uU(t,e,n){return nr(t).beforeAuthStateChanged(e,n)}function cU(t,e,n,r){return nr(t).onAuthStateChanged(e,n,r)}const xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xf,"1"),this.storage.removeItem(xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=1e3,fU=10;class j1 extends U1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);x4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j1.type="LOCAL";const dU=j1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1 extends U1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z1.type="SESSION";const B1=z1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await pU(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=Yv("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const d=p;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function gU(t){oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function vU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _U(){return H1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firebaseLocalStorageDb",bU=1,Lf="firebaseLocalStorage",q1="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fd(t,e){return t.transaction([Lf],e?"readwrite":"readonly").objectStore(Lf)}function EU(){const t=indexedDB.deleteDatabase(F1);return new gc(t).toPromise()}function tg(){const t=indexedDB.open(F1,bU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lf,{keyPath:q1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lf)?e(r):(r.close(),await EU(),e(await tg()))})})}async function W0(t,e,n){const r=fd(t,!0).put({[q1]:e,value:n});return new gc(r).toPromise()}async function wU(t,e){const n=fd(t,!1).get(e),r=await new gc(n).toPromise();return r===void 0?null:r.value}function X0(t,e){const n=fd(t,!0).delete(e);return new gc(n).toPromise()}const SU=800,TU=3;class G1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>TU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(_U()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vU(),!this.activeServiceWorker)return;this.sender=new mU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await W0(e,xf,"1"),await X0(e,xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>W0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>X0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fd(i,!1).getAll();return new gc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G1.type="LOCAL";const CU=G1;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t,e){return e?Di(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends $v{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RU(t){return N1(t.auth,new Qv(t),t.bypassAuthState)}function xU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),nU(n,new Qv(t),t.bypassAuthState)}async function LU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),tU(n,new Qv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RU;case"linkViaPopup":case"linkViaRedirect":return LU;case"reauthViaPopup":case"reauthViaRedirect":return xU;default:Yr(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=new dc(2e3,1e4);class go extends $1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=Yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MU.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="pendingRedirect",Ch=new Map;class OU extends $1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const r=await DU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DU(t,e){const n=NU(e),r=PU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kU(t,e){Ch.set(t._key(),e)}function PU(t){return Di(t._redirectPersistence)}function NU(t){return Th(IU,t.config.apiKey,t.name)}async function VU(t,e,n=!1){if(Mr(t.app))return Promise.reject(Ni(t));const r=Va(t),i=AU(r,e),a=await new OU(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=10*60*1e3;class jU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!K1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z0(e))}saveEventToCache(e){this.cachedEventUids.add(Z0(e)),this.lastProcessedEventTime=Date.now()}}function Z0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function K1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(t,e={}){return Yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FU=/^https?/;async function qU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BU(t);for(const n of e)try{if(GU(n))return}catch{}Yr(t,"unauthorized-domain")}function GU(t){const e=Zm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!FU.test(n))return!1;if(HU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=new dc(3e4,6e4);function J0(){const t=oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KU(t){return new Promise((e,n)=>{var r,i,s;function a(){J0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J0(),n(ai(t,"network-request-failed"))},timeout:$U.get()})}if(!((i=(r=oi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=oi().gapi)===null||s===void 0)&&s.load)a();else{const o=V4("iframefcb");return oi()[o]=()=>{gapi.load?a():n(ai(t,"network-request-failed"))},I1(`${N4()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function YU(t){return Ah=Ah||KU(t),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=new dc(5e3,15e3),WU="__/auth/iframe",XU="emulator/auth/iframe",ZU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e6(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fv(e,XU):`https://${t.config.authDomain}/${WU}`,r={apiKey:e.apiKey,appName:t.name,v:ul},i=JU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fc(r).slice(1)}`}async function t6(t){const e=await YU(t),n=oi().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:e6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ai(t,"network-request-failed"),o=oi().setTimeout(()=>{s(a)},QU.get());function l(){oi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r6=500,i6=600,s6="_blank",a6="http://localhost";class ew{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o6(t,e,n,r=r6,i=i6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},n6),{width:r.toString(),height:i.toString(),top:s,left:a}),c=jn().toLowerCase();n&&(o=T1(c)?s6:n),w1(c)&&(e=e||a6,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[g,_])=>`${d}${g}=${_},`,"");if(R4(c)&&o!=="_self")return l6(e||"",o),new ew(null);const p=window.open(e||"",o,h);Se(p,t,"popup-blocked");try{p.focus()}catch{}return new ew(p)}function l6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="__/auth/handler",c6="emulator/auth/handler",h6=encodeURIComponent("fac");async function tw(t,e,n,r,i,s){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ul,eventId:i};if(e instanceof k1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",$N(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof mc){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${h6}=${encodeURIComponent(l)}`:"";return`${f6(t)}?${fc(o).slice(1)}${c}`}function f6({config:t}){return t.emulator?Fv(t,c6):`https://${t.authDomain}/${u6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class d6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B1,this._completeRedirectFn=VU,this._overrideRedirectResult=kU}async _openPopup(e,n,r,i){var s;Hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await tw(e,n,r,Zm(),i);return o6(e,a,Yv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await tw(e,n,r,Zm(),i);return gU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await t6(e),r=new jU(e);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Op,{type:Op},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Op];a!==void 0&&n(!!a),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return L1()||S1()||Gv()}}const p6=d6;var nw="@firebase/auth",rw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v6(t){qo(new Aa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Se(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M1(t)},c=new D4(r,i,s,l);return F4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qo(new Aa("auth-internal",e=>{const n=Va(e.getProvider("auth").getImmediate());return(r=>new m6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(nw,rw,g6(t)),Is(nw,rw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=5*60,_6=a1("authIdTokenMaxAge")||y6;let iw=null;const b6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_6)return;const i=n==null?void 0:n.token;iw!==i&&(iw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function E6(t=zv()){const e=jv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=H4(t,{popupRedirectResolver:p6,persistence:[CU,dU,B1]}),r=a1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=b6(s.toString());uU(n,a,()=>a(n.currentUser)),lU(n,o=>a(o))}}const i=i1("auth");return i&&q4(n,`http://${i}`),n}function w6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ai("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",w6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v6("Browser");var sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,Y1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function w(){}w.prototype=E.prototype,T.D=E.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(L,O,k){for(var I=Array(arguments.length-2),X=2;X<arguments.length;X++)I[X-2]=arguments[X];return E.prototype[O].apply(L,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,E,w){w||(w=0);var L=Array(16);if(typeof E=="string")for(var O=0;16>O;++O)L[O]=E.charCodeAt(w++)|E.charCodeAt(w++)<<8|E.charCodeAt(w++)<<16|E.charCodeAt(w++)<<24;else for(O=0;16>O;++O)L[O]=E[w++]|E[w++]<<8|E[w++]<<16|E[w++]<<24;E=T.g[0],w=T.g[1],O=T.g[2];var k=T.g[3],I=E+(k^w&(O^k))+L[0]+3614090360&4294967295;E=w+(I<<7&4294967295|I>>>25),I=k+(O^E&(w^O))+L[1]+3905402710&4294967295,k=E+(I<<12&4294967295|I>>>20),I=O+(w^k&(E^w))+L[2]+606105819&4294967295,O=k+(I<<17&4294967295|I>>>15),I=w+(E^O&(k^E))+L[3]+3250441966&4294967295,w=O+(I<<22&4294967295|I>>>10),I=E+(k^w&(O^k))+L[4]+4118548399&4294967295,E=w+(I<<7&4294967295|I>>>25),I=k+(O^E&(w^O))+L[5]+1200080426&4294967295,k=E+(I<<12&4294967295|I>>>20),I=O+(w^k&(E^w))+L[6]+2821735955&4294967295,O=k+(I<<17&4294967295|I>>>15),I=w+(E^O&(k^E))+L[7]+4249261313&4294967295,w=O+(I<<22&4294967295|I>>>10),I=E+(k^w&(O^k))+L[8]+1770035416&4294967295,E=w+(I<<7&4294967295|I>>>25),I=k+(O^E&(w^O))+L[9]+2336552879&4294967295,k=E+(I<<12&4294967295|I>>>20),I=O+(w^k&(E^w))+L[10]+4294925233&4294967295,O=k+(I<<17&4294967295|I>>>15),I=w+(E^O&(k^E))+L[11]+2304563134&4294967295,w=O+(I<<22&4294967295|I>>>10),I=E+(k^w&(O^k))+L[12]+1804603682&4294967295,E=w+(I<<7&4294967295|I>>>25),I=k+(O^E&(w^O))+L[13]+4254626195&4294967295,k=E+(I<<12&4294967295|I>>>20),I=O+(w^k&(E^w))+L[14]+2792965006&4294967295,O=k+(I<<17&4294967295|I>>>15),I=w+(E^O&(k^E))+L[15]+1236535329&4294967295,w=O+(I<<22&4294967295|I>>>10),I=E+(O^k&(w^O))+L[1]+4129170786&4294967295,E=w+(I<<5&4294967295|I>>>27),I=k+(w^O&(E^w))+L[6]+3225465664&4294967295,k=E+(I<<9&4294967295|I>>>23),I=O+(E^w&(k^E))+L[11]+643717713&4294967295,O=k+(I<<14&4294967295|I>>>18),I=w+(k^E&(O^k))+L[0]+3921069994&4294967295,w=O+(I<<20&4294967295|I>>>12),I=E+(O^k&(w^O))+L[5]+3593408605&4294967295,E=w+(I<<5&4294967295|I>>>27),I=k+(w^O&(E^w))+L[10]+38016083&4294967295,k=E+(I<<9&4294967295|I>>>23),I=O+(E^w&(k^E))+L[15]+3634488961&4294967295,O=k+(I<<14&4294967295|I>>>18),I=w+(k^E&(O^k))+L[4]+3889429448&4294967295,w=O+(I<<20&4294967295|I>>>12),I=E+(O^k&(w^O))+L[9]+568446438&4294967295,E=w+(I<<5&4294967295|I>>>27),I=k+(w^O&(E^w))+L[14]+3275163606&4294967295,k=E+(I<<9&4294967295|I>>>23),I=O+(E^w&(k^E))+L[3]+4107603335&4294967295,O=k+(I<<14&4294967295|I>>>18),I=w+(k^E&(O^k))+L[8]+1163531501&4294967295,w=O+(I<<20&4294967295|I>>>12),I=E+(O^k&(w^O))+L[13]+2850285829&4294967295,E=w+(I<<5&4294967295|I>>>27),I=k+(w^O&(E^w))+L[2]+4243563512&4294967295,k=E+(I<<9&4294967295|I>>>23),I=O+(E^w&(k^E))+L[7]+1735328473&4294967295,O=k+(I<<14&4294967295|I>>>18),I=w+(k^E&(O^k))+L[12]+2368359562&4294967295,w=O+(I<<20&4294967295|I>>>12),I=E+(w^O^k)+L[5]+4294588738&4294967295,E=w+(I<<4&4294967295|I>>>28),I=k+(E^w^O)+L[8]+2272392833&4294967295,k=E+(I<<11&4294967295|I>>>21),I=O+(k^E^w)+L[11]+1839030562&4294967295,O=k+(I<<16&4294967295|I>>>16),I=w+(O^k^E)+L[14]+4259657740&4294967295,w=O+(I<<23&4294967295|I>>>9),I=E+(w^O^k)+L[1]+2763975236&4294967295,E=w+(I<<4&4294967295|I>>>28),I=k+(E^w^O)+L[4]+1272893353&4294967295,k=E+(I<<11&4294967295|I>>>21),I=O+(k^E^w)+L[7]+4139469664&4294967295,O=k+(I<<16&4294967295|I>>>16),I=w+(O^k^E)+L[10]+3200236656&4294967295,w=O+(I<<23&4294967295|I>>>9),I=E+(w^O^k)+L[13]+681279174&4294967295,E=w+(I<<4&4294967295|I>>>28),I=k+(E^w^O)+L[0]+3936430074&4294967295,k=E+(I<<11&4294967295|I>>>21),I=O+(k^E^w)+L[3]+3572445317&4294967295,O=k+(I<<16&4294967295|I>>>16),I=w+(O^k^E)+L[6]+76029189&4294967295,w=O+(I<<23&4294967295|I>>>9),I=E+(w^O^k)+L[9]+3654602809&4294967295,E=w+(I<<4&4294967295|I>>>28),I=k+(E^w^O)+L[12]+3873151461&4294967295,k=E+(I<<11&4294967295|I>>>21),I=O+(k^E^w)+L[15]+530742520&4294967295,O=k+(I<<16&4294967295|I>>>16),I=w+(O^k^E)+L[2]+3299628645&4294967295,w=O+(I<<23&4294967295|I>>>9),I=E+(O^(w|~k))+L[0]+4096336452&4294967295,E=w+(I<<6&4294967295|I>>>26),I=k+(w^(E|~O))+L[7]+1126891415&4294967295,k=E+(I<<10&4294967295|I>>>22),I=O+(E^(k|~w))+L[14]+2878612391&4294967295,O=k+(I<<15&4294967295|I>>>17),I=w+(k^(O|~E))+L[5]+4237533241&4294967295,w=O+(I<<21&4294967295|I>>>11),I=E+(O^(w|~k))+L[12]+1700485571&4294967295,E=w+(I<<6&4294967295|I>>>26),I=k+(w^(E|~O))+L[3]+2399980690&4294967295,k=E+(I<<10&4294967295|I>>>22),I=O+(E^(k|~w))+L[10]+4293915773&4294967295,O=k+(I<<15&4294967295|I>>>17),I=w+(k^(O|~E))+L[1]+2240044497&4294967295,w=O+(I<<21&4294967295|I>>>11),I=E+(O^(w|~k))+L[8]+1873313359&4294967295,E=w+(I<<6&4294967295|I>>>26),I=k+(w^(E|~O))+L[15]+4264355552&4294967295,k=E+(I<<10&4294967295|I>>>22),I=O+(E^(k|~w))+L[6]+2734768916&4294967295,O=k+(I<<15&4294967295|I>>>17),I=w+(k^(O|~E))+L[13]+1309151649&4294967295,w=O+(I<<21&4294967295|I>>>11),I=E+(O^(w|~k))+L[4]+4149444226&4294967295,E=w+(I<<6&4294967295|I>>>26),I=k+(w^(E|~O))+L[11]+3174756917&4294967295,k=E+(I<<10&4294967295|I>>>22),I=O+(E^(k|~w))+L[2]+718787259&4294967295,O=k+(I<<15&4294967295|I>>>17),I=w+(k^(O|~E))+L[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+k&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var w=E-this.blockSize,L=this.B,O=this.h,k=0;k<E;){if(O==0)for(;k<=w;)i(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<E;)if(L[O++]=T.charCodeAt(k++),O==this.blockSize){i(this,L),O=0;break}}else for(;k<E;)if(L[O++]=T[k++],O==this.blockSize){i(this,L),O=0;break}}this.h=O,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var w=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=w&255,w/=256;for(this.u(T),T=Array(16),E=w=0;4>E;++E)for(var L=0;32>L;L+=8)T[w++]=this.g[E]>>>L&255;return T};function s(T,E){var w=o;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=E(T)}function a(T,E){this.h=E;for(var w=[],L=!0,O=T.length-1;0<=O;O--){var k=T[O]|0;L&&k==E||(w[O]=k,L=!1)}this.g=w}var o={};function l(T){return-128<=T&&128>T?s(T,function(E){return new a([E|0],0>E?-1:0)}):new a([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return S(c(-T));for(var E=[],w=1,L=0;T>=w;L++)E[L]=T/w|0,w*=4294967296;return new a(E,0)}function h(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return S(h(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(E,8)),L=p,O=0;O<T.length;O+=8){var k=Math.min(8,T.length-O),I=parseInt(T.substring(O,O+k),E);8>k?(k=c(Math.pow(E,k)),L=L.j(k).add(c(I))):(L=L.j(w),L=L.add(c(I)))}return L}var p=l(0),d=l(1),g=l(16777216);t=a.prototype,t.m=function(){if(A(this))return-S(this).m();for(var T=0,E=1,w=0;w<this.g.length;w++){var L=this.i(w);T+=(0<=L?L:4294967296+L)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(A(this))return"-"+S(this).toString(T);for(var E=c(Math.pow(T,6)),w=this,L="";;){var O=R(w,E).g;w=b(w,O.j(E));var k=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=O,_(w))return k+L;for(;6>k.length;)k="0"+k;L=k+L}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function A(T){return T.h==-1}t.l=function(T){return T=b(this,T),A(T)?-1:_(T)?0:1};function S(T){for(var E=T.g.length,w=[],L=0;L<E;L++)w[L]=~T.g[L];return new a(w,~T.h).add(d)}t.abs=function(){return A(this)?S(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),w=[],L=0,O=0;O<=E;O++){var k=L+(this.i(O)&65535)+(T.i(O)&65535),I=(k>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);L=I>>>16,k&=65535,I&=65535,w[O]=I<<16|k}return new a(w,w[w.length-1]&-2147483648?-1:0)};function b(T,E){return T.add(S(E))}t.j=function(T){if(_(this)||_(T))return p;if(A(this))return A(T)?S(this).j(S(T)):S(S(this).j(T));if(A(T))return S(this.j(S(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var E=this.g.length+T.g.length,w=[],L=0;L<2*E;L++)w[L]=0;for(L=0;L<this.g.length;L++)for(var O=0;O<T.g.length;O++){var k=this.i(L)>>>16,I=this.i(L)&65535,X=T.i(O)>>>16,J=T.i(O)&65535;w[2*L+2*O]+=I*J,v(w,2*L+2*O),w[2*L+2*O+1]+=k*J,v(w,2*L+2*O+1),w[2*L+2*O+1]+=I*X,v(w,2*L+2*O+1),w[2*L+2*O+2]+=k*X,v(w,2*L+2*O+2)}for(L=0;L<E;L++)w[L]=w[2*L+1]<<16|w[2*L];for(L=E;L<2*E;L++)w[L]=0;return new a(w,0)};function v(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function C(T,E){this.g=T,this.h=E}function R(T,E){if(_(E))throw Error("division by zero");if(_(T))return new C(p,p);if(A(T))return E=R(S(T),E),new C(S(E.g),S(E.h));if(A(E))return E=R(T,S(E)),new C(S(E.g),E.h);if(30<T.g.length){if(A(T)||A(E))throw Error("slowDivide_ only works with positive integers.");for(var w=d,L=E;0>=L.l(T);)w=D(w),L=D(L);var O=x(w,1),k=x(L,1);for(L=x(L,2),w=x(w,2);!_(L);){var I=k.add(L);0>=I.l(T)&&(O=O.add(w),k=I),L=x(L,1),w=x(w,1)}return E=b(T,O.j(E)),new C(O,E)}for(O=p;0<=T.l(E);){for(w=Math.max(1,Math.floor(T.m()/E.m())),L=Math.ceil(Math.log(w)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),k=c(w),I=k.j(E);A(I)||0<I.l(T);)w-=L,k=c(w),I=k.j(E);_(k)&&(k=d),O=O.add(k),T=b(T,I)}return new C(O,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),w=[],L=0;L<E;L++)w[L]=this.i(L)&T.i(L);return new a(w,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),w=[],L=0;L<E;L++)w[L]=this.i(L)|T.i(L);return new a(w,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),w=[],L=0;L<E;L++)w[L]=this.i(L)^T.i(L);return new a(w,this.h^T.h)};function D(T){for(var E=T.g.length+1,w=[],L=0;L<E;L++)w[L]=T.i(L)<<1|T.i(L-1)>>>31;return new a(w,T.h)}function x(T,E){var w=E>>5;E%=32;for(var L=T.g.length-w,O=[],k=0;k<L;k++)O[k]=0<E?T.i(k+w)>>>E|T.i(k+w+1)<<32-E:T.i(k+w);return new a(O,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Y1=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,Os=a}).apply(typeof sw<"u"?sw:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Q1,Gl,W1,Rh,ng,X1,Z1,J1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var y=r;u=u.split(".");for(var M=0;M<u.length-1;M++){var U=u[M];if(!(U in y))break e;y=y[U]}u=u[u.length-1],M=y[u],m=m(M),m!=M&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function s(u,m){u instanceof String&&(u+="");var y=0,M=!1,U={next:function(){if(!M&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return M=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(u){return u||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,y){return u.call.apply(u.bind,arguments)}function p(u,m,y){if(!u)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,M),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function d(u,m,y){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,d.apply(null,arguments)}function g(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var M=y.slice();return M.push.apply(M,arguments),u.apply(this,M)}}function _(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(M,U,q){for(var re=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)re[mt-2]=arguments[mt];return m.prototype[U].apply(M,re)}}function A(u){const m=u.length;if(0<m){const y=Array(m);for(let M=0;M<m;M++)y[M]=u[M];return y}return[]}function S(u,m){for(let y=1;y<arguments.length;y++){const M=arguments[y];if(l(M)){const U=u.length||0,q=M.length||0;u.length=U+q;for(let re=0;re<q;re++)u[U+re]=M[re]}else u.push(M)}}class b{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(u){return/^[\s\xa0]*$/.test(u)}function C(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var D=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function x(u,m,y){for(const M in u)m.call(y,u[M],M,u)}function T(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function E(u){const m={};for(const y in u)m[y]=u[y];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(u,m){let y,M;for(let U=1;U<arguments.length;U++){M=arguments[U];for(y in M)u[y]=M[y];for(let q=0;q<w.length;q++)y=w[q],Object.prototype.hasOwnProperty.call(M,y)&&(u[y]=M[y])}}function O(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function k(u){o.setTimeout(()=>{throw u},0)}function I(){var u=ne;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class X{constructor(){this.h=this.g=null}add(m,y){const M=J.get();M.set(m,y),this.h?this.h.next=M:this.g=M,this.h=M}}var J=new b(()=>new z,u=>u.reset());class z{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let $,H=!1,ne=new X,ee=()=>{const u=o.Promise.resolve(void 0);$=()=>{u.then(ge)}};var ge=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(y){k(y)}var m=J;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}H=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};o.addEventListener("test",y,m),o.removeEventListener("test",y,m)}catch{}return u}();function B(u,m){if(Q.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,M=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(D){e:{try{R(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&B.aa.h.call(this)}}_(B,Q);var le={2:"touch",3:"pen",4:"mouse"};B.prototype.h=function(){B.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),pe=0;function Oe(u,m,y,M,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!M,this.ha=U,this.key=++pe,this.da=this.fa=!1}function Z(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u){this.src=u,this.g={},this.h=0}he.prototype.add=function(u,m,y,M,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var re=Dt(u,m,M,U);return-1<re?(m=u[re],y||(m.fa=!1)):(m=new Oe(m,this.src,q,!!M,U),m.fa=y,u.push(m)),m};function Ye(u,m){var y=m.type;if(y in u.g){var M=u.g[y],U=Array.prototype.indexOf.call(M,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(M,U,1),q&&(Z(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Dt(u,m,y,M){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==M)return U}return-1}var dt="closure_lm_"+(1e6*Math.random()|0),Me={};function gn(u,m,y,M,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)gn(u,m[q],y,M,U);return null}return y=vn(y),u&&u[ie]?u.K(m,y,c(M)?!!M.capture:!1,U):ln(u,m,y,!1,M,U)}function ln(u,m,y,M,U,q){if(!m)throw Error("Invalid event type");var re=c(U)?!!U.capture:!!U,mt=bt(u);if(mt||(u[dt]=mt=new he(u)),y=mt.add(m,y,M,re,q),y.proxy)return y;if(M=xn(),y.proxy=M,M.src=u,M.listener=y,u.addEventListener)se||(U=re),U===void 0&&(U=!1),u.addEventListener(m.toString(),M,U);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),M);else if(u.addListener&&u.removeListener)u.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return y}function xn(){function u(y){return m.call(u.src,u.listener,y)}const m=Wt;return u}function kt(u,m,y,M,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)kt(u,m[q],y,M,U);else M=c(M)?!!M.capture:!!M,y=vn(y),u&&u[ie]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Dt(q,y,M,U),-1<y&&(Z(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=bt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Dt(m,y,M,U)),(y=-1<u?m[u]:null)&&zn(y))}function zn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ie])Ye(m.i,u);else{var y=u.type,M=u.proxy;m.removeEventListener?m.removeEventListener(y,M,u.capture):m.detachEvent?m.detachEvent(Ln(y),M):m.addListener&&m.removeListener&&m.removeListener(M),(y=bt(m))?(Ye(y,u),y.h==0&&(y.src=null,m[dt]=null)):Z(u)}}}function Ln(u){return u in Me?Me[u]:Me[u]="on"+u}function Wt(u,m){if(u.da)u=!0;else{m=new B(m,this);var y=u.listener,M=u.ha||u.src;u.fa&&zn(u),u=y.call(M,m)}return u}function bt(u){return u=u[dt],u instanceof he?u:null}var jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(u){return typeof u=="function"?u:(u[jt]||(u[jt]=function(m){return u.handleEvent(m)}),u[jt])}function Qe(){ve.call(this),this.i=new he(this),this.M=this,this.F=null}_(Qe,ve),Qe.prototype[ie]=!0,Qe.prototype.removeEventListener=function(u,m,y,M){kt(this,u,m,y,M)};function Pe(u,m){var y,M=u.F;if(M)for(y=[];M;M=M.F)y.push(M);if(u=u.M,M=m.type||m,typeof m=="string")m=new Q(m,u);else if(m instanceof Q)m.target=m.target||u;else{var U=m;m=new Q(M,u),L(m,U)}if(U=!0,y)for(var q=y.length-1;0<=q;q--){var re=m.g=y[q];U=Xt(re,M,!0,m)&&U}if(re=m.g=u,U=Xt(re,M,!0,m)&&U,U=Xt(re,M,!1,m)&&U,y)for(q=0;q<y.length;q++)re=m.g=y[q],U=Xt(re,M,!1,m)&&U}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],M=0;M<y.length;M++)Z(y[M]);delete u.g[m],u.h--}}this.F=null},Qe.prototype.K=function(u,m,y,M){return this.i.add(String(u),m,!1,y,M)},Qe.prototype.L=function(u,m,y,M){return this.i.add(String(u),m,!0,y,M)};function Xt(u,m,y,M){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var re=m[q];if(re&&!re.da&&re.capture==y){var mt=re.listener,bn=re.ha||re.src;re.fa&&Ye(u.i,re),U=mt.call(bn,M)!==!1&&U}}return U&&!M.defaultPrevented}function Ct(u,m,y){if(typeof u=="function")y&&(u=d(u,y));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:o.setTimeout(u,m||0)}function $n(u){u.g=Ct(()=>{u.g=null,u.i&&(u.i=!1,$n(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Mt extends ve{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$n(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(u){ve.call(this),this.h=u,this.g={}}_(ir,ve);var Bn=[];function Xr(u){x(u.g,function(m,y){this.g.hasOwnProperty(y)&&zn(m)},u),u.g={}}ir.prototype.N=function(){ir.aa.N.call(this),Xr(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=o.JSON.stringify,br=o.JSON.parse,Kn=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Ur(){}Ur.prototype.h=null;function Yn(u){return u.h||(u.h=u.i())}function Mn(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function At(){Q.call(this,"d")}_(At,Q);function un(){Q.call(this,"c")}_(un,Q);var Ft={},Hn=null;function jr(){return Hn=Hn||new Qe}Ft.La="serverreachability";function zr(u){Q.call(this,Ft.La,u)}_(zr,Q);function P(u){const m=jr();Pe(m,new zr(m))}Ft.STAT_EVENT="statevent";function V(u,m){Q.call(this,Ft.STAT_EVENT,u),this.stat=m}_(V,Q);function j(u){const m=jr();Pe(m,new V(m,u))}Ft.Ma="timingevent";function F(u,m){Q.call(this,Ft.Ma,u),this.size=m}_(F,Q);function te(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},m)}function fe(){this.g=!0}fe.prototype.xa=function(){this.g=!1};function we(u,m,y,M,U,q){u.info(function(){if(u.g)if(q)for(var re="",mt=q.split("&"),bn=0;bn<mt.length;bn++){var tt=mt[bn].split("=");if(1<tt.length){var In=tt[0];tt=tt[1];var On=In.split("_");re=2<=On.length&&On[1]=="type"?re+(In+"="+tt+"&"):re+(In+"=redacted&")}}else re=null;else re=q;return"XMLHTTP REQ ("+M+") [attempt "+U+"]: "+m+`
`+y+`
`+re})}function oe(u,m,y,M,U,q,re){u.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+U+"]: "+m+`
`+y+`
`+q+" "+re})}function de(u,m,y,M){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ce(u,y)+(M?" "+M:"")})}function be(u,m){u.info(function(){return"TIMEOUT: "+m})}fe.prototype.info=function(){};function Ce(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var M=y[u];if(!(2>M.length)){var U=M[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return sr(y)}catch{return m}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},et;function pt(){}_(pt,Ur),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},et=new pt;function ct(u,m,y,M){this.j=u,this.i=m,this.l=y,this.R=M||1,this.U=new ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pt}function Pt(){this.i=null,this.g="",this.h=!1}var ze={},Er={};function Qn(u,m,y){u.L=1,u.v=Tc(_i(m)),u.m=y,u.P=!0,Br(u,null)}function Br(u,m){u.F=Date.now(),ye(u),u.A=_i(u.v);var y=u.A,M=u.R;Array.isArray(M)||(M=[String(M)]),Ny(y.i,"t",M),u.C=0,y=u.j.J,u.h=new Pt,u.g=e_(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Mt(d(u.Y,u,u.g),u.O)),m=u.U,y=u.g,M=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Bn[0]=U.toString()),U=Bn);for(var q=0;q<U.length;q++){var re=gn(y,U[q],M||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),P(),we(u.i,u.u,u.A,u.l,u.R,u.m)}ct.prototype.ca=function(u){u=u.target;const m=this.M;m&&bi(u)==3?m.j():this.Y(u)},ct.prototype.Y=function(u){try{if(u==this.g)e:{const On=bi(this.g);var m=this.g.Ba();const qa=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||Fy(this.g)))){this.J||On!=4||m==7||(m==8||0>=qa?P(3):P(2)),We(this);var y=this.g.Z();this.X=y;t:if(yn(this)){var M=Fy(this.g);u="";var U=M.length,q=bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),ot(this);var re="";break t}this.h.i=new o.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(M[m],{stream:!(q&&m==U-1)});M.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,oe(this.i,this.u,this.A,this.l,this.R,On,y),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,bn=this.g;if((mt=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(mt)){var tt=mt;break t}}tt=null}if(y=tt)de(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yt(this,y);else{this.o=!1,this.s=3,j(12),xe(this),ot(this);break e}}if(this.P){y=!0;let Fr;for(;!this.J&&this.C<re.length;)if(Fr=Be(this,re),Fr==Er){On==4&&(this.s=4,j(14),y=!1),de(this.i,this.l,null,"[Incomplete Response]");break}else if(Fr==ze){this.s=4,j(15),de(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else de(this.i,this.l,Fr,null),yt(this,Fr);if(yn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||re.length!=0||this.h.h||(this.s=1,j(16),y=!1),this.o=this.o&&y,!y)de(this.i,this.l,re,"[Invalid Chunked Response]"),xe(this),ot(this);else if(0<re.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Md(In),In.M=!0,j(11))}}else de(this.i,this.l,re,null),yt(this,re);On==4&&xe(this),this.o&&!this.J&&(On==4?Wy(this.j,this):(this.o=!1,ye(this)))}else Hx(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,j(12)):(this.s=0,j(13)),xe(this),ot(this)}}}catch{}finally{}};function yn(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Be(u,m){var y=u.C,M=m.indexOf(`
`,y);return M==-1?Er:(y=Number(m.substring(y,M)),isNaN(y)?ze:(M+=1,M+y>m.length?Er:(m=m.slice(M,M+y),u.C=M+y,m)))}ct.prototype.cancel=function(){this.J=!0,xe(this)};function ye(u){u.S=Date.now()+u.I,Xe(u,u.I)}function Xe(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=te(d(u.ba,u),m)}function We(u){u.B&&(o.clearTimeout(u.B),u.B=null)}ct.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(be(this.i,this.A),this.L!=2&&(P(),j(17)),xe(this),this.s=2,ot(this)):Xe(this,this.S-u)};function ot(u){u.j.G==0||u.J||Wy(u.j,u)}function xe(u){We(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Xr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function yt(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Zt(y.h,u))){if(!u.K&&Zt(y.h,u)&&y.G==3){try{var M=y.Da.g.parse(m)}catch{M=null}if(Array.isArray(M)&&M.length==3){var U=M;if(U[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Mc(y),xc(y);else break e;Ld(y),j(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=te(d(y.Za,y),6e3));if(1>=st(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Js(y,11)}else if((u.K||y.g==u)&&Mc(y),!v(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let tt=U[m];if(y.T=tt[0],tt=tt[1],y.G==2)if(tt[0]=="c"){y.K=tt[1],y.ia=tt[2];const In=tt[3];In!=null&&(y.la=In,y.j.info("VER="+y.la));const On=tt[4];On!=null&&(y.Aa=On,y.j.info("SVER="+y.Aa));const qa=tt[5];qa!=null&&typeof qa=="number"&&0<qa&&(M=1.5*qa,y.L=M,y.j.info("backChannelRequestTimeoutMs_="+M)),M=y;const Fr=u.g;if(Fr){const Oc=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oc){var q=M.h;q.g||Oc.indexOf("spdy")==-1&&Oc.indexOf("quic")==-1&&Oc.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Hr(q,q.h),q.h=null))}if(M.D){const Id=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Id&&(M.ya=Id,Et(M.I,M.D,Id))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),M=y;var re=u;if(M.qa=Jy(M,M.J?M.ia:null,M.W),re.K){Xs(M.h,re);var mt=re,bn=M.L;bn&&(mt.I=bn),mt.B&&(We(mt),ye(mt)),M.g=re}else Yy(M);0<y.i.length&&Lc(y)}else tt[0]!="stop"&&tt[0]!="close"||Js(y,7);else y.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Js(y,7):xd(y):tt[0]!="noop"&&y.l&&y.l.ta(tt),y.v=0)}}P(4)}catch{}}var qt=class{constructor(u,m){this.g=u,this.map=m}};function _n(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function st(u){return u.h?1:u.g?u.g.size:0}function Zt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Hr(u,m){u.g?u.g.add(m):u.h=m}function Xs(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_n.prototype.cancel=function(){if(this.i=Ly(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ly(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return A(u.i)}function Rx(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],y=u.length,M=0;M<y;M++)m.push(u[M]);return m}m=[],y=0;for(M in u)m[y++]=u[M];return m}function xx(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const M in u)m[y++]=M;return m}}}function My(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=xx(u),M=Rx(u),U=M.length,q=0;q<U;q++)m.call(void 0,M[q],y&&y[q],u)}var Iy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lx(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var M=u[y].indexOf("="),U=null;if(0<=M){var q=u[y].substring(0,M);U=u[y].substring(M+1)}else q=u[y];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Zs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Zs){this.h=u.h,wc(this,u.j),this.o=u.o,this.g=u.g,Sc(this,u.s),this.l=u.l;var m=u.i,y=new vl;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Oy(this,y),this.m=u.m}else u&&(m=String(u).match(Iy))?(this.h=!1,wc(this,m[1]||"",!0),this.o=ml(m[2]||""),this.g=ml(m[3]||"",!0),Sc(this,m[4]),this.l=ml(m[5]||"",!0),Oy(this,m[6]||"",!0),this.m=ml(m[7]||"")):(this.h=!1,this.i=new vl(null,this.h))}Zs.prototype.toString=function(){var u=[],m=this.j;m&&u.push(gl(m,Dy,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gl(m,Dy,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(gl(y,y.charAt(0)=="/"?Ox:Ix,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",gl(y,kx)),u.join("")};function _i(u){return new Zs(u)}function wc(u,m,y){u.j=y?ml(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Sc(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Oy(u,m,y){m instanceof vl?(u.i=m,Px(u.i,u.h)):(y||(m=gl(m,Dx)),u.i=new vl(m,u.h))}function Et(u,m,y){u.i.set(m,y)}function Tc(u){return Et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ml(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gl(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Mx),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Mx(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Dy=/[#\/\?@]/g,Ix=/[#\?:]/g,Ox=/[#\?]/g,Dx=/[#\?@]/g,kx=/#/g;function vl(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Qi(u){u.g||(u.g=new Map,u.h=0,u.i&&Lx(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=vl.prototype,t.add=function(u,m){Qi(this),this.i=null,u=Ha(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function ky(u,m){Qi(u),m=Ha(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Py(u,m){return Qi(u),m=Ha(u,m),u.g.has(m)}t.forEach=function(u,m){Qi(this),this.g.forEach(function(y,M){y.forEach(function(U){u.call(m,U,M,this)},this)},this)},t.na=function(){Qi(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let M=0;M<m.length;M++){const U=u[M];for(let q=0;q<U.length;q++)y.push(m[M])}return y},t.V=function(u){Qi(this);let m=[];if(typeof u=="string")Py(this,u)&&(m=m.concat(this.g.get(Ha(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},t.set=function(u,m){return Qi(this),this.i=null,u=Ha(this,u),Py(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ny(u,m,y){ky(u,m),0<y.length&&(u.i=null,u.g.set(Ha(u,m),A(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var M=m[y];const q=encodeURIComponent(String(M)),re=this.V(M);for(M=0;M<re.length;M++){var U=q;re[M]!==""&&(U+="="+encodeURIComponent(String(re[M]))),u.push(U)}}return this.i=u.join("&")};function Ha(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Px(u,m){m&&!u.j&&(Qi(u),u.i=null,u.g.forEach(function(y,M){var U=M.toLowerCase();M!=U&&(ky(this,M),Ny(this,U,y))},u)),u.j=m}function Nx(u,m){const y=new fe;if(o.Image){const M=new Image;M.onload=g(Wi,y,"TestLoadImage: loaded",!0,m,M),M.onerror=g(Wi,y,"TestLoadImage: error",!1,m,M),M.onabort=g(Wi,y,"TestLoadImage: abort",!1,m,M),M.ontimeout=g(Wi,y,"TestLoadImage: timeout",!1,m,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=u}else m(!1)}function Vx(u,m){const y=new fe,M=new AbortController,U=setTimeout(()=>{M.abort(),Wi(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:M.signal}).then(q=>{clearTimeout(U),q.ok?Wi(y,"TestPingServer: ok",!0,m):Wi(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Wi(y,"TestPingServer: error",!1,m)})}function Wi(u,m,y,M,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),M(y)}catch{}}function Ux(){this.g=new Kn}function jx(u,m,y){const M=y||"";try{My(u,function(U,q){let re=U;c(U)&&(re=sr(U)),m.push(M+q+"="+encodeURIComponent(re))})}catch(U){throw m.push(M+"type="+encodeURIComponent("_badmap")),U}}function Cc(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Cc,Ur),Cc.prototype.g=function(){return new Ac(this.l,this.j)},Cc.prototype.i=function(u){return function(){return u}}({});function Ac(u,m){Qe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ac,Qe),t=Ac.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,_l(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||o).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_l(this)),this.g&&(this.readyState=3,_l(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?yl(this):_l(this),this.readyState==3&&Vy(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,yl(this))},t.Qa=function(u){this.g&&(this.response=u,yl(this))},t.ga=function(){this.g&&yl(this)};function yl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,_l(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function _l(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ac.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Uy(u){let m="";return x(u,function(y,M){m+=M,m+=":",m+=y,m+=`\r
`}),m}function Rd(u,m,y){e:{for(M in y){var M=!1;break e}M=!0}M||(y=Uy(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Et(u,m,y))}function Nt(u){Qe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Nt,Qe);var zx=/^https?$/i,Bx=["POST","PUT"];t=Nt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,y,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():et.g(),this.v=this.o?Yn(this.o):Yn(et),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){jy(this,q);return}if(u=y||"",y=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var U in M)y.set(U,M[U]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const q of M.keys())y.set(q,M.get(q));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Bx,m,void 0))||M||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of y)this.g.setRequestHeader(q,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hy(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){jy(this,q)}};function jy(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,zy(u),Rc(u)}function zy(u){u.A||(u.A=!0,Pe(u,"complete"),Pe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Pe(this,"complete"),Pe(this,"abort"),Rc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rc(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?By(this):this.bb())},t.bb=function(){By(this)};function By(u){if(u.h&&typeof a<"u"&&(!u.v[1]||bi(u)!=4||u.Z()!=2)){if(u.u&&bi(u)==4)Ct(u.Ea,0,u);else if(Pe(u,"readystatechange"),bi(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var M;if(M=re===0){var U=String(u.D).match(Iy)[1]||null;!U&&o.self&&o.self.location&&(U=o.self.location.protocol.slice(0,-1)),M=!zx.test(U?U.toLowerCase():"")}y=M}if(y)Pe(u,"complete"),Pe(u,"success");else{u.m=6;try{var q=2<bi(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",zy(u)}}finally{Rc(u)}}}}function Rc(u,m){if(u.g){Hy(u);const y=u.g,M=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Pe(u,"ready");try{y.onreadystatechange=M}catch{}}}function Hy(u){u.I&&(o.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function bi(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<bi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),br(m)}};function Fy(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hx(u){const m={};u=(u.g&&2<=bi(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<u.length;M++){if(v(u[M]))continue;var y=O(u[M]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[U]||[];m[U]=q,q.push(y)}T(m,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bl(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function qy(u){this.Aa=0,this.i=[],this.j=new fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bl("baseRetryDelayMs",5e3,u),this.cb=bl("retryDelaySeedMs",1e4,u),this.Wa=bl("forwardChannelMaxRetries",2,u),this.wa=bl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _n(u&&u.concurrentRequestLimit),this.Da=new Ux,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qy.prototype,t.la=8,t.G=1,t.connect=function(u,m,y,M){j(0),this.W=u,this.H=m||{},y&&M!==void 0&&(this.H.OSID=y,this.H.OAID=M),this.F=this.X,this.I=Jy(this,null,this.W),Lc(this)};function xd(u){if(Gy(u),u.G==3){var m=u.U++,y=_i(u.I);if(Et(y,"SID",u.K),Et(y,"RID",m),Et(y,"TYPE","terminate"),El(u,y),m=new ct(u,u.j,m),m.L=2,m.v=Tc(_i(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&o.Image&&(new Image().src=m.v,y=!0),y||(m.g=e_(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ye(m)}Zy(u)}function xc(u){u.g&&(Md(u),u.g.cancel(),u.g=null)}function Gy(u){xc(u),u.u&&(o.clearTimeout(u.u),u.u=null),Mc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function Lc(u){if(!Wn(u.h)&&!u.s){u.s=!0;var m=u.Ga;$||ee(),H||($(),H=!0),ne.add(m,u),u.B=0}}function Fx(u,m){return st(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=te(d(u.Ga,u,m),Xy(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new ct(this,this.j,u);let q=this.o;if(this.S&&(q?(q=E(q),L(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var M=this.i[y];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(m+=M,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Ky(this,U,m),y=_i(this.I),Et(y,"RID",u),Et(y,"CVER",22),this.D&&Et(y,"X-HTTP-Session-Id",this.D),El(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(Uy(q)))+"&"+m:this.m&&Rd(y,this.m,q)),Hr(this.h,U),this.Ua&&Et(y,"TYPE","init"),this.P?(Et(y,"$req",m),Et(y,"SID","null"),U.T=!0,Qn(U,y,null)):Qn(U,y,m),this.G=2}}else this.G==3&&(u?$y(this,u):this.i.length==0||Wn(this.h)||$y(this))};function $y(u,m){var y;m?y=m.l:y=u.U++;const M=_i(u.I);Et(M,"SID",u.K),Et(M,"RID",y),Et(M,"AID",u.T),El(u,M),u.m&&u.o&&Rd(M,u.m,u.o),y=new ct(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ky(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Hr(u.h,y),Qn(y,M,m)}function El(u,m){u.H&&x(u.H,function(y,M){Et(m,M,y)}),u.l&&My({},function(y,M){Et(m,M,y)})}function Ky(u,m,y){y=Math.min(u.i.length,y);var M=u.l?d(u.l.Na,u.l,u):null;e:{var U=u.i;let q=-1;for(;;){const re=["count="+y];q==-1?0<y?(q=U[0].g,re.push("ofs="+q)):q=0:re.push("ofs="+q);let mt=!0;for(let bn=0;bn<y;bn++){let tt=U[bn].g;const In=U[bn].map;if(tt-=q,0>tt)q=Math.max(0,U[bn].g-100),mt=!1;else try{jx(In,re,"req"+tt+"_")}catch{M&&M(In)}}if(mt){M=re.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,M}function Yy(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;$||ee(),H||($(),H=!0),ne.add(m,u),u.v=0}}function Ld(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=te(d(u.Fa,u),Xy(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Qy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=te(d(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,j(10),xc(this),Qy(this))};function Md(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function Qy(u){u.g=new ct(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=_i(u.qa);Et(m,"RID","rpc"),Et(m,"SID",u.K),Et(m,"AID",u.T),Et(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Et(m,"TO",u.ja),Et(m,"TYPE","xmlhttp"),El(u,m),u.m&&u.o&&Rd(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Tc(_i(m)),y.m=null,y.P=!0,Br(y,u)}t.Za=function(){this.C!=null&&(this.C=null,xc(this),Ld(this),j(19))};function Mc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function Wy(u,m){var y=null;if(u.g==m){Mc(u),Md(u),u.g=null;var M=2}else if(Zt(u.h,m))y=m.D,Xs(u.h,m),M=1;else return;if(u.G!=0){if(m.o)if(M==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;M=jr(),Pe(M,new F(M,y)),Lc(u)}else Yy(u);else if(U=m.s,U==3||U==0&&0<m.X||!(M==1&&Fx(u,m)||M==2&&Ld(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Js(u,5);break;case 4:Js(u,10);break;case 3:Js(u,6);break;default:Js(u,2)}}}function Xy(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Js(u,m){if(u.j.info("Error code "+m),m==2){var y=d(u.fb,u),M=u.Xa;const U=!M;M=new Zs(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||wc(M,"https"),Tc(M),U?Nx(M.toString(),y):Vx(M.toString(),y)}else j(2);u.G=0,u.l&&u.l.sa(m),Zy(u),Gy(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),j(2)):(this.j.info("Failed to ping google.com"),j(1))};function Zy(u){if(u.G=0,u.ka=[],u.l){const m=Ly(u.h);(m.length!=0||u.i.length!=0)&&(S(u.ka,m),S(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function Jy(u,m,y){var M=y instanceof Zs?_i(y):new Zs(y);if(M.g!="")m&&(M.g=m+"."+M.g),Sc(M,M.s);else{var U=o.location;M=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new Zs(null);M&&wc(q,M),m&&(q.g=m),U&&Sc(q,U),y&&(q.l=y),M=q}return y=u.D,m=u.ya,y&&m&&Et(M,y,m),Et(M,"VER",u.la),El(u,M),M}function e_(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Nt(new Cc({eb:y})):new Nt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function t_(){}t=t_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ic(){}Ic.prototype.g=function(u,m){return new or(u,m)};function or(u,m){Qe.call(this),this.g=new qy(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!v(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fa(this)}_(or,Qe),or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){xd(this.g)},or.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=sr(u),u=y);m.i.push(new qt(m.Ya++,u)),m.G==3&&Lc(m)},or.prototype.N=function(){this.g.l=null,delete this.j,xd(this.g),delete this.g,or.aa.N.call(this)};function n_(u){At.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}_(n_,At);function r_(){un.call(this),this.status=1}_(r_,un);function Fa(u){this.g=u}_(Fa,t_),Fa.prototype.ua=function(){Pe(this.g,"a")},Fa.prototype.ta=function(u){Pe(this.g,new n_(u))},Fa.prototype.sa=function(u){Pe(this.g,new r_)},Fa.prototype.ra=function(){Pe(this.g,"b")},Ic.prototype.createWebChannel=Ic.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,J1=function(){return new Ic},Z1=function(){return jr()},X1=Ft,ng={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,Rh=me,Re.COMPLETE="complete",W1=Re,Mn.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Gl=Mn,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,Q1=Nt}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const aw="@firebase/firestore",ow="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Vv("@firebase/firestore");function Ja(){return La.logLevel}function ae(t,...e){if(La.logLevel<=$e.DEBUG){const n=e.map(Wv);La.debug(`Firestore (${hl}): ${t}`,...n)}}function Fi(t,...e){if(La.logLevel<=$e.ERROR){const n=e.map(Wv);La.error(`Firestore (${hl}): ${t}`,...n)}}function zs(t,...e){if(La.logLevel<=$e.WARN){const n=e.map(Wv);La.warn(`Firestore (${hl}): ${t}`,...n)}}function Wv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eR(t,r,n)}function eR(t,e,n){let r=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fi(r),new Error(r)}function at(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||eR(e,i,r)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kn.UNAUTHENTICATED))}shutdown(){}}class T6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class C6{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ds,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ds)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new tR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class A6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new A6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=L6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function rg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ve(r,i);{const s=nR(),a=M6(s.encode(uw(t,n)),s.encode(uw(e,n)));return a!==0?a:Ve(r,i)}}n+=r>65535?2:1}return Ve(t.length,e.length)}function uw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function M6(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ve(t[n],e[n]);return Ve(t.length,e.length)}function $o(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="__name__";class Jr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Jr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ve(e.length,n.length)}static compareSegments(e,n){const r=Jr.isNumericId(e),i=Jr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Jr.extractNumericId(e).compare(Jr.extractNumericId(n)):rg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class wt extends Jr{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const I6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Jr{construct(e,n,r){return new Cn(e,n,r)}static isValidIdentifier(e){return I6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cw}static keyField(){return new Cn([cw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new _e(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new _e(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new _e(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new _e(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(wt.fromString(e))}static fromName(e){return new Ee(wt.fromString(e).popFirst(5))}static empty(){return new Ee(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e,n){if(!n)throw new _e(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O6(t,e,n,r){if(e===!0&&r===!0)throw new _e(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hw(t){if(!Ee.isDocumentKey(t))throw new _e(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fw(t){if(Ee.isDocumentKey(t))throw new _e(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Ko(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zv(t);throw new _e(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function vc(t,e){if(!iR(t))throw new _e(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new _e(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=-62135596800,pw=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*pw);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dw)throw new _e(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pw}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vc(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Kt("string",St._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new St(0,0))}static max(){return new Le(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=-1;function D6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new Bs(i,Ee.empty(),e)}function k6(t){return new Bs(t.readTime,t.key,ju)}class Bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bs(Le.min(),Ee.empty(),ju)}static max(){return new Bs(Le.max(),Ee.empty(),ju)}}function P6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==N6)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{a[c]=h,++o,o===s&&r(a)},h=>i(h))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function U6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}dd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-1;function pd(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function j6(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="";function z6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mw(e)),e=B6(t.get(n),e);return mw(e)}function B6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case sR:n+="";break;default:n+=s}}return n}function mw(t){return t+sR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=s??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vw(this.data.getIterator())}getIteratorFrom(e){return new vw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class vw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new $r([])}unionWith(e){let n=new sn(Cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new oR("Invalid base64 string: "+s):s}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const H6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=H6.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="server_timestamp",uR="__type__",cR="__previous_value__",hR="__local_write_time__";function ey(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[uR])===null||n===void 0?void 0:n.stringValue)===lR}function md(t){const e=t.mapValue.fields[cR];return ey(e)?md(e):e}function zu(t){const e=Hs(t.mapValue.fields[hR].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n,r,i,s,a,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const If="(default)";class Bu{constructor(e,n){this.projectId=e,this.database=n||If}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===If}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="__type__",q6="__max__",ih={mapValue:{}},dR="__vector__",Of="value";function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ey(t)?4:$6(t)?9007199254740991:G6(t)?10:11:Te(28295,{value:t})}function di(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zu(t).isEqual(zu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Hs(i.timestampValue),o=Hs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fs(i.bytesValue).isEqual(Fs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ht(i.geoPointValue.latitude)===Ht(s.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ht(i.integerValue)===Ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Ht(i.doubleValue),o=Ht(s.doubleValue);return a===o?Mf(a)===Mf(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return $o(t.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(gw(a)!==gw(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!di(a[l],o[l])))return!1;return!0}(t,e);default:return Te(52216,{left:t})}}function Hu(t,e){return(t.values||[]).find(n=>di(n,e))!==void 0}function Yo(t,e){if(t===e)return 0;const n=qs(t),r=qs(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Ht(s.integerValue||s.doubleValue),l=Ht(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return yw(t.timestampValue,e.timestampValue);case 4:return yw(zu(t),zu(e));case 5:return rg(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Fs(s),l=Fs(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=Ve(o[c],l[c]);if(h!==0)return h}return Ve(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ve(Ht(s.latitude),Ht(a.latitude));return o!==0?o:Ve(Ht(s.longitude),Ht(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _w(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,h;const p=s.fields||{},d=a.fields||{},g=(o=p[Of])===null||o===void 0?void 0:o.arrayValue,_=(l=d[Of])===null||l===void 0?void 0:l.arrayValue,A=Ve(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:_w(g,_)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===ih.mapValue&&a===ih.mapValue)return 0;if(s===ih.mapValue)return 1;if(a===ih.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const d=rg(l[p],h[p]);if(d!==0)return d;const g=Yo(o[l[p]],c[h[p]]);if(g!==0)return g}return Ve(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Te(23264,{le:n})}}function yw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Hs(t),r=Hs(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function _w(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Yo(n[i],r[i]);if(s)return s}return Ve(n.length,r.length)}function Qo(t){return ig(t)}function ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ig(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${ig(n.fields[a])}`;return i+"}"}(t.mapValue):Te(61005,{value:t})}function xh(t){switch(qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(t);return e?16+xh(e):16;case 5:return 2*t.stringValue.length;case 6:return Fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+xh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ua(r.fields,(s,a)=>{i+=s.length+xh(a)}),i}(t.mapValue);default:throw Te(13486,{value:t})}}function sg(t){return!!t&&"integerValue"in t}function ty(t){return!!t&&"arrayValue"in t}function bw(t){return!!t&&"nullValue"in t}function Ew(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lh(t){return!!t&&"mapValue"in t}function G6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[fR])===null||n===void 0?void 0:n.stringValue)===dR}function du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ua(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=du(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===q6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=Cn.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=du(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ua(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ir(du(this.value))}}function pR(t){const e=[];return Ua(t.fields,(n,r)=>{const i=new Cn([n]);if(Lh(r)){const s=pR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new $r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Pn(e,0,Le.min(),Le.min(),Le.min(),Ir.empty(),0)}static newFoundDocument(e,n,r,i){return new Pn(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new Pn(e,2,n,Le.min(),Le.min(),Ir.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,Le.min(),Le.min(),Ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.position=e,this.inclusive=n}}function ww(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Ee.comparator(Ee.fromName(a.referenceValue),n.key):r=Yo(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n="asc"){this.field=e,this.dir=n}}function K6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{}class nn extends mR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Q6(e,n,r):n==="array-contains"?new Z6(e,r):n==="in"?new J6(e,r):n==="not-in"?new e3(e,r):n==="array-contains-any"?new t3(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new W6(e,r):new X6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yo(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends mR{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new pi(e,n)}matches(e){return gR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function gR(t){return t.op==="and"}function vR(t){return Y6(t)&&gR(t)}function Y6(t){for(const e of t.filters)if(e instanceof pi)return!1;return!0}function ag(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+Qo(t.value);if(vR(t))return t.filters.map(e=>ag(e)).join(",");{const e=t.filters.map(n=>ag(n)).join(",");return`${t.op}(${e})`}}function yR(t,e){return t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.field.isEqual(i.field)&&di(r.value,i.value)}(t,e):t instanceof pi?function(r,i){return i instanceof pi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&yR(a,i.filters[o]),!0):!1}(t,e):void Te(19439)}function _R(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${Qo(n.value)}`}(t):t instanceof pi?function(n){return n.op.toString()+" {"+n.getFilters().map(_R).join(" ,")+"}"}(t):"Filter"}class Q6 extends nn{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class W6 extends nn{constructor(e,n){super(e,"in",n),this.keys=bR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class X6 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=bR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class Z6 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ty(n)&&Hu(n.arrayValue,this.value)}}class J6 extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hu(this.value.arrayValue,n)}}class e3 extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hu(this.value.arrayValue,n)}}class t3 extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Pe=null}}function Tw(t,e=null,n=[],r=[],i=null,s=null,a=null){return new n3(t,e,n,r,i,s,a)}function ny(t){const e=Ie(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ag(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qo(r)).join(",")),e.Pe=n}return e.Pe}function ry(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sw(t.startAt,e.startAt)&&Sw(t.endAt,e.endAt)}function og(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function r3(t,e,n,r,i,s,a,o){return new gd(t,e,n,r,i,s,a,o)}function iy(t){return new gd(t)}function Cw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function i3(t){return t.collectionGroup!==null}function pu(t){const e=Ie(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new sn(Cn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new kf(s,r))}),n.has(Cn.keyField().canonicalString())||e.Te.push(new kf(Cn.keyField(),r))}return e.Te}function li(t){const e=Ie(t);return e.Ie||(e.Ie=s3(e,pu(t))),e.Ie}function s3(t,e){if(t.limitType==="F")return Tw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new kf(i.field,s)});const n=t.endAt?new Df(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Df(t.startAt.position,t.startAt.inclusive):null;return Tw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lg(t,e,n){return new gd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vd(t,e){return ry(li(t),li(e))&&t.limitType===e.limitType}function ER(t){return`${ny(li(t))}|lt:${t.limitType}`}function eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_R(i)).join(", ")}]`),pd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qo(i)).join(",")),`Target(${r})`}(li(t))}; limitType=${t.limitType})`}function yd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of pu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=ww(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,pu(r),i)||r.endAt&&!function(a,o,l){const c=ww(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,pu(r),i))}(t,e)}function a3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wR(t){return(e,n)=>{let r=!1;for(const i of pu(t)){const s=o3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function o3(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Yo(l,c):Te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return aR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new Ot(Ee.comparator);function qi(){return l3}const SR=new Ot(Ee.comparator);function $l(...t){let e=SR;for(const n of t)e=e.insert(n.key,n);return e}function TR(t){let e=SR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ha(){return mu()}function CR(){return mu()}function mu(){return new ja(t=>t.toString(),(t,e)=>t.isEqual(e))}const u3=new Ot(Ee.comparator),c3=new sn(Ee.comparator);function Ke(...t){let e=c3;for(const n of t)e=e.add(n);return e}const h3=new sn(Ve);function f3(){return h3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function AR(t){return{integerValue:""+t}}function d3(t,e){return j6(e)?AR(e):sy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function p3(t,e,n){return t instanceof Fu?function(i,s){const a={fields:{[uR]:{stringValue:lR},[hR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ey(s)&&(s=md(s)),s&&(a.fields[cR]=s),{mapValue:a}}(n,e):t instanceof qu?xR(t,e):t instanceof Gu?LR(t,e):function(i,s){const a=RR(i,s),o=Aw(a)+Aw(i.Ee);return sg(a)&&sg(i.Ee)?AR(o):sy(i.serializer,o)}(t,e)}function m3(t,e,n){return t instanceof qu?xR(t,e):t instanceof Gu?LR(t,e):n}function RR(t,e){return t instanceof Pf?function(r){return sg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Fu extends _d{}class qu extends _d{constructor(e){super(),this.elements=e}}function xR(t,e){const n=MR(e);for(const r of t.elements)n.some(i=>di(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gu extends _d{constructor(e){super(),this.elements=e}}function LR(t,e){let n=MR(e);for(const r of t.elements)n=n.filter(i=>!di(i,r));return{arrayValue:{values:n}}}class Pf extends _d{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Aw(t){return Ht(t.integerValue||t.doubleValue)}function MR(t){return ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n){this.field=e,this.transform=n}}function v3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qu&&i instanceof qu||r instanceof Gu&&i instanceof Gu?$o(r.elements,i.elements,di):r instanceof Pf&&i instanceof Pf?di(r.Ee,i.Ee):r instanceof Fu&&i instanceof Fu}(t.transform,e.transform)}class y3{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bd{}function IR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DR(t.key,ui.none()):new yc(t.key,t.data,ui.none());{const n=t.data,r=Ir.empty();let i=new sn(Cn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new za(t.key,r,new $r(i.toArray()),ui.none())}}function _3(t,e,n){t instanceof yc?function(i,s,a){const o=i.value.clone(),l=xw(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof za?function(i,s,a){if(!Mh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=xw(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(OR(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function gu(t,e,n,r){return t instanceof yc?function(s,a,o,l){if(!Mh(s.precondition,a))return o;const c=s.value.clone(),h=Lw(s.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof za?function(s,a,o,l){if(!Mh(s.precondition,a))return o;const c=Lw(s.fieldTransforms,l,a),h=a.data;return h.setAll(OR(s)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,a,o){return Mh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function b3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RR(r.transform,i||null);s!=null&&(n===null&&(n=Ir.empty()),n.set(r.field,s))}return n||null}function Rw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$o(r,i,(s,a)=>v3(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yc extends bd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class za extends bd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xw(t,e,n){const r=new Map;at(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,m3(a,o,n[i]))}return r}function Lw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,p3(s,a,e))}return r}class DR extends bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E3 extends bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CR();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=IR(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(n,r)=>Rw(n,r))&&$o(this.baseMutations,e.baseMutations,(n,r)=>Rw(n,r))}}class ay{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){at(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return u3}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new ay(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Ze;function C3(t){switch(t){case W.OK:return Te(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function kR(t){if(t===void 0)return Fi("GRPC error has no .code"),W.UNKNOWN;switch(t){case Gt.OK:return W.OK;case Gt.CANCELLED:return W.CANCELLED;case Gt.UNKNOWN:return W.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return W.INTERNAL;case Gt.UNAVAILABLE:return W.UNAVAILABLE;case Gt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Gt.NOT_FOUND:return W.NOT_FOUND;case Gt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Gt.ABORTED:return W.ABORTED;case Gt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Gt.DATA_LOSS:return W.DATA_LOSS;default:return Te(39323,{code:t})}}(Ze=Gt||(Gt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=new Os([4294967295,4294967295],0);function Mw(t){const e=nR().encode(t),n=new Y1;return n.update(e),new Uint8Array(n.digest())}function Iw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Os([n,r],0),new Os([i,s],0)]}class oy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(r<0)throw new Kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Os.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Os.fromNumber(r)));return i.compare(A3)===1&&(i=new Os([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Mw(e),[r,i]=Iw(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);if(!this.ye(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new oy(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.fe===0)return;const n=Mw(e),[r,i]=Iw(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);this.we(a)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_c.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ed(Le.min(),i,new Ot(Ve),qi(),Ke())}}class _c{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _c(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class PR{constructor(e,n){this.targetId=e,this.De=n}}class NR{constructor(e,n,r=Rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ow{constructor(){this.ve=0,this.Ce=Dw(),this.Fe=Rn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ke(),n=Ke(),r=Ke();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te(38017,{changeType:s})}}),new _c(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=Dw()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class R3{constructor(e){this.We=e,this.Ge=new Map,this.ze=qi(),this.je=sh(),this.Je=sh(),this.He=new Ot(Ve)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(og(s))if(r===0){const a=new Ee(s.path);this.Xe(n,a,Pn.newNoDocument(a,Le.min()))}else at(r===1,20013,{expectedCount:r});else{const a=this.ot(n);if(a!==r){const o=this._t(e),l=o?this.ut(o,e,a):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=Fs(r).toUint8Array()}catch(l){if(l instanceof oR)return zs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new oy(a,i,s)}catch(l){return zs(l instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.fe===0?null:o}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,a)=>{const o=this.st(a);if(o){if(s.current&&og(o.target)){const l=new Ee(o.target.path);this.Tt(l).has(a)||this.It(a,l)||this.Xe(a,l,Pn.newNoDocument(l,e))}s.Ne&&(n.set(a,s.Le()),s.ke())}});let r=Ke();this.Je.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const i=new Ed(e,n,this.He,this.ze,r);return this.ze=qi(),this.je=sh(),this.Je=sh(),this.He=new Ot(Ve),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Ow,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new sn(Ve),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new sn(Ve),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Ow),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function sh(){return new Ot(Ee.comparator)}function Dw(){return new Ot(Ee.comparator)}const x3={asc:"ASCENDING",desc:"DESCENDING"},L3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M3={and:"AND",or:"OR"};class I3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ug(t,e){return t.useProto3Json||pd(e)?e:{value:e}}function Nf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O3(t,e){return Nf(t,e.toTimestamp())}function ci(t){return at(!!t,49232),Le.fromTimestamp(function(n){const r=Hs(n);return new St(r.seconds,r.nanos)}(t))}function ly(t,e){return cg(t,e).canonicalString()}function cg(t,e){const n=function(i){return new wt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UR(t){const e=wt.fromString(t);return at(FR(e),10190,{key:e.toString()}),e}function hg(t,e){return ly(t.databaseId,e.path)}function Dp(t,e){const n=UR(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(zR(n))}function jR(t,e){return ly(t.databaseId,e)}function D3(t){const e=UR(t);return e.length===4?wt.emptyPath():zR(e)}function fg(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zR(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kw(t,e,n){return{name:hg(t,e),fields:n.value.mapValue.fields}}function k3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Te(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(at(h===void 0||typeof h=="string",58123),Rn.fromBase64String(h||"")):(at(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Rn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const h=c.code===void 0?W.UNKNOWN:kR(c.code);return new _e(h,c.message||"")}(a);n=new NR(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dp(t,r.document.name),s=ci(r.document.updateTime),a=r.document.createTime?ci(r.document.createTime):Le.min(),o=new Ir({mapValue:{fields:r.document.fields}}),l=Pn.newFoundDocument(i,s,a,o),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Ih(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Dp(t,r.document),s=r.readTime?ci(r.readTime):Le.min(),a=Pn.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Ih([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Dp(t,r.document),s=r.removedTargetIds||[];n=new Ih([],s,i,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new T3(i,s),o=r.targetId;n=new PR(o,a)}}return n}function P3(t,e){let n;if(e instanceof yc)n={update:kw(t,e.key,e.value)};else if(e instanceof DR)n={delete:hg(t,e.key)};else if(e instanceof za)n={update:kw(t,e.key,e.data),updateMask:q3(e.fieldMask)};else{if(!(e instanceof E3))return Te(16599,{Rt:e.type});n={verify:hg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Fu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof qu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Gu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Pf)return{fieldPath:a.field.canonicalString(),increment:o.Ee};throw Te(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:O3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Te(27497)}(t,e.precondition)),n}function N3(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?ci(i.updateTime):ci(s);return a.isEqual(Le.min())&&(a=ci(s)),new y3(a,i.transformResults||[])}(n,e))):[]}function V3(t,e){return{documents:[jR(t,e.path)]}}function U3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jR(t,i);const s=function(c){if(c.length!==0)return HR(pi.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:to(d.field),direction:B3(d.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ug(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function j3(t){let e=D3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){at(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){const d=BR(p);return d instanceof pi&&vR(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(d=>function(_){return new kf(no(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let o=null;n.limit&&(o=function(p){let d;return d=typeof p=="object"?p.value:p,pd(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(p){const d=!!p.before,g=p.values||[];return new Df(g,d)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const d=!p.before,g=p.values||[];return new Df(g,d)}(n.endAt)),r3(e,i,a,s,o,"F",l,c)}function z3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=no(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=no(n.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=no(n.unaryFilter.field);return nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=no(n.unaryFilter.field);return nn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(t):t.fieldFilter!==void 0?function(n){return nn.create(no(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pi.create(n.compositeFilter.filters.map(r=>BR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(t):Te(30097,{filter:t})}function B3(t){return x3[t]}function H3(t){return L3[t]}function F3(t){return M3[t]}function to(t){return{fieldPath:t.canonicalString()}}function no(t){return Cn.fromServerFormat(t.fieldPath)}function HR(t){return t instanceof nn?function(n){if(n.op==="=="){if(Ew(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(bw(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ew(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(bw(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:H3(n.op),value:n.value}}}(t):t instanceof pi?function(n){const r=n.getFilters().map(i=>HR(i));return r.length===1?r[0]:{compositeFilter:{op:F3(n.op),filters:r}}}(t):Te(54877,{filter:t})}function q3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,r,i,s=Le.min(),a=Le.min(),o=Rn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.gt=e}}function $3(t){const e=j3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.Dn=new Y3}addToCollectionParentIndex(e,n){return this.Dn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Bs.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class Y3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sn(wt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qR=41943040;class er{static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(qR,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Wo(0)}static ur(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="LruGarbageCollector",Q3=1048576;function Vw([t,e],[n,r]){const i=Ve(t,n);return i===0?Ve(e,r):i}class W3{constructor(e){this.Tr=e,this.buffer=new sn(Vw),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Vw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ae(Nw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dl(n)?ae(Nw,"Ignoring IndexedDB error during garbage collection: ",n):await fl(n)}await this.Rr(3e5)})}}class Z3{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(dd.ue);const r=new W3(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Pw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pw):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,a,o,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,o=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Ja()<=$e.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${p} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function J3(t,e){return new Z3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.changes=new ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gu(r.mutation,i,$r.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ke()){const i=ha();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=$l();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ha();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=qi();const a=mu(),o=function(){return mu()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof za)?s=s.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),gu(h.mutation,c,h.mutation.getFieldMask(),St.now())):a.set(c.key,$r.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>{var p;return o.set(c,new tj(h,(p=a.get(c))!==null&&p!==void 0?p:null))}),o))}recalculateAndSaveOverlays(e,n){const r=mu();let i=new Ot((a,o)=>a-o),s=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||$r.empty();h=o.applyToLocalView(c,h),r.set(l,h);const p=(i.get(o.batchId)||Ke()).add(l);i=i.insert(o.batchId,p)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,p=CR();h.forEach(d=>{if(!s.has(d)){const g=IR(n.get(d),r.get(d));g!==null&&p.set(d,g),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,p))}return K.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):i3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(ha());let o=ju,l=s;return a.next(c=>K.forEach(c,(h,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ke())).next(h=>({batchId:o,changes:TR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let i=$l();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=$l();return this.indexManager.getCollectionParents(e,s).next(o=>K.forEach(o,l=>{const c=function(p,d){return new gd(d,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((p,d)=>{a=a.insert(p,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,Pn.newInvalidDocument(h)))});let o=$l();return a.forEach((l,c)=>{const h=s.get(l);h!==void 0&&gu(h.mutation,c,$r.empty(),St.now()),yd(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return K.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ci(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:$3(i.bundledQuery),readTime:ci(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.overlays=new Ot(Ee.comparator),this.kr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ha();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=ha(),s=n.length+1,a=new Ee(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ot((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=ha(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=ha(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return K.resolve(o)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new S3(n,r));let s=this.kr.get(n);s===void 0&&(s=Ke(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.qr=new sn(hn.Qr),this.$r=new sn(hn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new hn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ee(new wt([])),r=new hn(n,e),i=new hn(n,e+1),s=[];return this.$r.forEachInRange([r,i],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ee(new wt([])),r=new hn(n,e),i=new hn(n,e+1);let s=Ke();return this.$r.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new hn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ee.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new sn(hn.Qr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new w3(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Yr=this.Yr.add(new hn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Jv:this.er-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),i=new hn(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],a=>{const o=this.Zr(a.Hr);s.push(o)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Ve);return n.forEach(i=>{const s=new hn(i,0),a=new hn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],o=>{r=r.add(o.Hr)})}),K.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ee.isDocumentKey(s)||(s=s.child(""));const a=new hn(new Ee(s),0);let o=new sn(Ve);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Hr)),!0)},a),K.resolve(this.ei(o))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){at(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return K.forEach(n.mutations,i=>{const s=new hn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new hn(n,0),i=this.Yr.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.ni=e,this.docs=function(){return new Ot(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let r=qi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pn.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qi();const a=n.path,o=new Ee(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||P6(k6(h),r)<=0||(i.has(h.key)||yd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te(9500)}ri(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lj(this)}getSize(e){return K.resolve(this.size)}}class lj extends ej{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.persistence=e,this.ii=new ja(n=>ny(n),ry),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.si=0,this.oi=new uy,this.targetCount=0,this._i=Wo.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),K.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Wo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.hr(n),K.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.ai={},this.overlays={},this.ui=new dd(0),this.ci=!1,this.ci=!0,this.li=new sj,this.referenceDelegate=e(this),this.hi=new uj(this),this.indexManager=new K3,this.remoteDocumentCache=function(i){return new oj(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new G3(n),this.Ti=new rj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ij,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new aj(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const i=new cj(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return K.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class cj extends V6{constructor(e){super(),this.currentSequenceNumber=e}}class cy{constructor(e){this.persistence=e,this.Ai=new uy,this.Ri=null}static Vi(e){return new cy(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.mi,r=>{const i=Ee.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,Le.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return K.or([()=>K.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Vf{constructor(e,n){this.persistence=e,this.gi=new ja(r=>z6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=J3(this,n)}static Vi(e,n){return new Vf(e,n)}Ii(){}di(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return K.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?K.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,a=>this.Sr(e,a,n).next(o=>{o||(r++,s.removeEntry(a,Le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),K.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xh(e.data.value)),n}Sr(e,n,r){return K.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return K.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Ke(),i=Ke();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return zN()?8:U6(jn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new hj;return this.ws(e,n,a).next(o=>{if(s.result=o,this.Rs)return this.Ss(e,n,a,o.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Ja()<=$e.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(Ja()<=$e.DEBUG&&ae("QueryEngine","Query:",eo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ja()<=$e.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):K.resolve())}ps(e,n){if(Cw(n))return K.resolve(null);let r=li(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lg(n,null,"F"),r=li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ke(...s);return this.gs.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,o);return this.Ds(n,c,a,l.readTime)?this.ps(e,lg(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,i){return Cw(n)||i.isEqual(Le.min())?K.resolve(null):this.gs.getDocuments(e,r).next(s=>{const a=this.bs(n,s);return this.Ds(n,a,r,i)?K.resolve(null):(Ja()<=$e.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eo(n)),this.vs(e,a,n,D6(i,ju)).next(o=>o))})}bs(e,n){let r=new sn(wR(e));return n.forEach((i,s)=>{yd(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return Ja()<=$e.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",eo(n)),this.gs.getDocumentsMatchingQuery(e,n,Bs.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="LocalStore",dj=3e8;class pj{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ot(Ve),this.Ms=new ja(s=>ny(s),ry),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nj(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function mj(t,e,n,r){return new pj(t,e,n,r)}async function $R(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Ke();for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:a,addedBatchIds:o}))})})}function gj(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const p=c.batch,d=p.keys();let g=K.resolve();return d.forEach(_=>{g=g.next(()=>h.getEntry(l,_)).next(A=>{const S=c.docVersions.get(_);at(S!==null,48541),A.version.compareTo(S)<0&&(p.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),h.addEntry(A)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Ke();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KR(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function vj(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const o=[];e.targetChanges.forEach((h,p)=>{const d=i.get(p);if(!d)return;o.push(n.hi.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(s,h.addedDocuments,p)));let g=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Rn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(p,g),function(A,S,b){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=dj?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,g,h)&&o.push(n.hi.updateTargetData(s,g))});let l=qi(),c=Ke();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(yj(s,a,e.documentUpdates).next(h=>{l=h.Ls,c=h.ks})),!r.isEqual(Le.min())){const h=n.hi.getLastRemoteSnapshotVersion(s).next(p=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(h)}return K.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Fs=i,s))}function yj(t,e,n){let r=Ke(),i=Ke();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=qi();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Le.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ae(fy,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ls:a,ks:i}})}function _j(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Jv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bj(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):n.hi.allocateTargetId(r).next(a=>(i=new bs(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function dg(t,e,n){const r=Ie(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!dl(a))throw a;ae(fy,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function Uw(t,e,n){const r=Ie(t);let i=Le.min(),s=Ke();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const p=Ie(l),d=p.Ms.get(h);return d!==void 0?K.resolve(p.Fs.get(d)):p.hi.getTargetData(c,h)}(r,a,li(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Le.min(),n?s:Ke())).next(o=>(Ej(r,a3(e),o),{documents:o,qs:s})))}function Ej(t,e,n){let r=t.xs.get(e)||Le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class jw{constructor(){this.activeTargetIds=f3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wj{constructor(){this.Fo=new jw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new jw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="ConnectivityMonitor";class Bw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ae(zw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ae(zw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function pg(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="RestConnection",Tj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cj{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===If?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const a=pg(),o=this.Go(e,n.toUriEncodedString());ae(kp,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(o),h=ll(c);return this.jo(e,o,l,r,h).then(p=>(ae(kp,`Received RPC '${e}' ${a}: `,p),p),p=>{throw zs(kp,`RPC '${e}' ${a} failed with error: `,p,"url: ",o,"request:",r),p})}Jo(e,n,r,i,s,a){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=Tj[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class Rj extends Cj{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const a=pg();return new Promise((o,l)=>{const c=new Q1;c.setWithCredentials(!0),c.listenOnce(W1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Rh.NO_ERROR:const p=c.getResponseJson();ae(Dn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case Rh.TIMEOUT:ae(Dn,`RPC '${e}' ${a} timed out`),l(new _e(W.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const d=c.getStatus();if(ae(Dn,`RPC '${e}' ${a} failed with status:`,d,"response text:",c.getResponseText()),d>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const A=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(v)>=0?v:W.UNKNOWN}(_.status);l(new _e(A,_.message))}else l(new _e(W.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new _e(W.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:a,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{ae(Dn,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);ae(Dn,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",h,r,15)})}P_(e,n,r){const i=pg(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=J1(),o=Z1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");ae(Dn,`Creating RPC '${e}' stream ${i}: ${h}`,l);const p=a.createWebChannel(h,l);this.T_(p);let d=!1,g=!1;const _=new Aj({Ho:S=>{g?ae(Dn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(d||(ae(Dn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),d=!0),ae(Dn,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Yo:()=>p.close()}),A=(S,b,v)=>{S.listen(b,C=>{try{v(C)}catch(R){setTimeout(()=>{throw R},0)}})};return A(p,Gl.EventType.OPEN,()=>{g||(ae(Dn,`RPC '${e}' stream ${i} transport opened.`),_.s_())}),A(p,Gl.EventType.CLOSE,()=>{g||(g=!0,ae(Dn,`RPC '${e}' stream ${i} transport closed`),_.__(),this.I_(p))}),A(p,Gl.EventType.ERROR,S=>{g||(g=!0,zs(Dn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),_.__(new _e(W.UNAVAILABLE,"The operation could not be completed")))}),A(p,Gl.EventType.MESSAGE,S=>{var b;if(!g){const v=S.data[0];at(!!v,16349);const C=v,R=(C==null?void 0:C.error)||((b=C[0])===null||b===void 0?void 0:b.error);if(R){ae(Dn,`RPC '${e}' stream ${i} received error:`,R);const D=R.status;let x=function(w){const L=Gt[w];if(L!==void 0)return kR(L)}(D),T=R.message;x===void 0&&(x=W.INTERNAL,T="Unknown error status: "+D+" with message "+R.message),g=!0,_.__(new _e(x,T)),p.close()}else ae(Dn,`RPC '${e}' stream ${i} received:`,v),_.a_(v)}}),A(o,X1.STAT_EVENT,S=>{S.stat===ng.PROXY?ae(Dn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===ng.NOPROXY&&ae(Dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.o_()},0),_}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){return new I3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="PersistentStream";class QR{constructor(e,n,r,i,s,a,o,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new YR(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new _e(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ae(Hw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ae(Hw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xj extends QR{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=k3(this.serializer,e),r=function(s){if(!("targetChange"in s))return Le.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Le.min():a.readTime?ci(a.readTime):Le.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=fg(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=og(l)?{documents:V3(s,l)}:{query:U3(s,l).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=VR(s,a.resumeToken);const c=ug(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Le.min())>0){o.readTime=Nf(s,a.snapshotVersion.toTimestamp());const c=ug(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=z3(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=fg(this.serializer),n.removeTarget=e,this.k_(n)}}class Lj extends QR{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=N3(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=fg(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>P3(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{}class Ij extends Mj{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new _e(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,cg(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(W.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Jo(e,cg(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(W.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Oj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Fi(n),this._a=!1):ae("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class Dj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{r.enqueueAndForget(async()=>{Ba(this)&&(ae(Ma,"Restarting streams for network reachability change."),await async function(l){const c=Ie(l);c.Ia.add(4),await bc(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Sd(c)}(this))})}),this.Aa=new Oj(r,i)}}async function Sd(t){if(Ba(t))for(const e of t.da)await e(!0)}async function bc(t){for(const e of t.da)await e(!1)}function WR(t,e){const n=Ie(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),gy(n)?my(n):pl(n).x_()&&py(n,e))}function dy(t,e){const n=Ie(t),r=pl(n);n.Ta.delete(e),r.x_()&&XR(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ba(n)&&n.Aa.set("Unknown"))}function py(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(t).H_(e)}function XR(t,e){t.Ra.$e(e),pl(t).Y_(e)}function my(t){t.Ra=new R3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),pl(t).start(),t.Aa.aa()}function gy(t){return Ba(t)&&!pl(t).M_()&&t.Ta.size>0}function Ba(t){return Ie(t).Ia.size===0}function ZR(t){t.Ra=void 0}async function kj(t){t.Aa.set("Online")}async function Pj(t){t.Ta.forEach((e,n)=>{py(t,e)})}async function Nj(t,e){ZR(t),gy(t)?(t.Aa.la(e),my(t)):t.Aa.set("Unknown")}async function Vj(t,e,n){if(t.Aa.set("Online"),e instanceof NR&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ta.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ta.delete(o),i.Ra.removeTarget(o))}(t,e)}catch(r){ae(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uf(t,r)}else if(e instanceof Ih?t.Ra.Ye(e):e instanceof PR?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Le.min()))try{const r=await KR(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Ra.Pt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ta.get(c);h&&s.Ta.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=s.Ta.get(l);if(!h)return;s.Ta.set(l,h.withResumeToken(Rn.EMPTY_BYTE_STRING,h.snapshotVersion)),XR(s,l);const p=new bs(h.target,l,c,h.sequenceNumber);py(s,p)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ae(Ma,"Failed to raise snapshot:",r),await Uf(t,r)}}async function Uf(t,e,n){if(!dl(e))throw e;t.Ia.add(1),await bc(t),t.Aa.set("Offline"),n||(n=()=>KR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae(Ma,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Sd(t)})}function JR(t,e){return e().catch(n=>Uf(t,n,e))}async function Td(t){const e=Ie(t),n=Gs(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Jv;for(;Uj(e);)try{const i=await _j(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,jj(e,i)}catch(i){await Uf(e,i)}ex(e)&&tx(e)}function Uj(t){return Ba(t)&&t.Pa.length<10}function jj(t,e){t.Pa.push(e);const n=Gs(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function ex(t){return Ba(t)&&!Gs(t).M_()&&t.Pa.length>0}function tx(t){Gs(t).start()}async function zj(t){Gs(t).na()}async function Bj(t){const e=Gs(t);for(const n of t.Pa)e.X_(n.mutations)}async function Hj(t,e,n){const r=t.Pa.shift(),i=ay.from(r,e,n);await JR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Td(t)}async function Fj(t,e){e&&Gs(t).Z_&&await async function(r,i){if(function(a){return C3(a)&&a!==W.ABORTED}(i.code)){const s=r.Pa.shift();Gs(r).N_(),await JR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Td(r)}}(t,e),ex(t)&&tx(t)}async function Fw(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ae(Ma,"RemoteStore received new credentials");const r=Ba(n);n.Ia.add(3),await bc(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Sd(n)}async function qj(t,e){const n=Ie(t);e?(n.Ia.delete(2),await Sd(n)):e||(n.Ia.add(2),await bc(n),n.Aa.set("Unknown"))}function pl(t){return t.Va||(t.Va=function(n,r,i){const s=Ie(n);return s.ia(),new xj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:kj.bind(null,t),e_:Pj.bind(null,t),n_:Nj.bind(null,t),J_:Vj.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),gy(t)?my(t):t.Aa.set("Unknown")):(await t.Va.stop(),ZR(t))})),t.Va}function Gs(t){return t.ma||(t.ma=function(n,r,i){const s=Ie(n);return s.ia(),new Lj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:zj.bind(null,t),n_:Fj.bind(null,t),ea:Bj.bind(null,t),ta:Hj.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Td(t)):(await t.ma.stop(),t.Pa.length>0&&(ae(Ma,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new vy(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yy(t,e){if(Fi("AsyncQueue",`${e}: ${t}`),dl(t))return new _e(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=$l(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.fa=new Ot(Ee.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Te(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xo{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Xo(e,n,Io.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class $j{constructor(){this.queries=Gw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Ie(n),s=i.queries;i.queries=Gw(),s.forEach((a,o)=>{for(const l of o.wa)l.onError(r)})})(this,new _e(W.ABORTED,"Firestore shutting down"))}}function Gw(){return new ja(t=>ER(t),vd)}async function Kj(t,e){const n=Ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new Gj,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=yy(a,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&_y(n)}async function Yj(t,e){const n=Ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Qj(t,e){const n=Ie(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.wa)o.Ca(i)&&(r=!0);a.ya=i}}r&&_y(n)}function Wj(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function _y(t){t.Da.forEach(e=>{e.next()})}var mg,$w;($w=mg||(mg={})).Fa="default",$w.Cache="cache";class Xj{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.key=e}}class rx{constructor(e){this.key=e}}class Zj{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ke(),this.mutatedKeys=Ke(),this.Xa=wR(e),this.eu=new Io(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new qw,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const d=i.get(h),g=yd(this.query,p)?p:null,_=!!d&&this.mutatedKeys.has(d.key),A=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;d&&g?d.data.isEqual(g.data)?_!==A&&(r.track({type:3,doc:g}),S=!0):this.iu(d,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Xa(g,l)>0||c&&this.Xa(g,c)<0)&&(o=!0)):!d&&g?(r.track({type:0,doc:g}),S=!0):d&&!g&&(r.track({type:1,doc:d}),S=!0,(l||c)&&(o=!0)),S&&(g?(a=a.add(g),s=A?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{eu:a,ru:r,Ds:o,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((h,p)=>function(g,_){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:S})}};return A(g)-A(_)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;const o=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,a.length!==0||c?{snapshot:new Xo(this.query,e.eu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new qw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ke(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new rx(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new nx(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ke();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Xo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const by="SyncEngine";class Jj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class e9{constructor(e){this.key=e,this.lu=!1}}class t9{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new ja(o=>ER(o),vd),this.Tu=new Map,this.Iu=new Set,this.du=new Ot(Ee.comparator),this.Eu=new Map,this.Au=new uy,this.Ru={},this.Vu=new Map,this.mu=Wo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function n9(t,e,n=!0){const r=ux(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await ix(r,e,n,!0),i}async function r9(t,e){const n=ux(t);await ix(n,e,!0,!1)}async function ix(t,e,n,r){const i=await bj(t.localStore,li(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await i9(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&WR(t.remoteStore,i),o}async function i9(t,e,n,r,i){t.gu=(p,d,g)=>async function(A,S,b,v){let C=S.view.nu(b);C.Ds&&(C=await Uw(A.localStore,S.query,!1).then(({documents:T})=>S.view.nu(T,C)));const R=v&&v.targetChanges.get(S.targetId),D=v&&v.targetMismatches.get(S.targetId)!=null,x=S.view.applyChanges(C,A.isPrimaryClient,R,D);return Yw(A,S.targetId,x._u),x.snapshot}(t,p,d,g);const s=await Uw(t.localStore,e,!0),a=new Zj(e,s.qs),o=a.nu(s.documents),l=_c.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);Yw(t,n,c._u);const h=new Jj(e,n,a);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function s9(t,e,n){const r=Ie(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(a=>!vd(a,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await dg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dy(r.remoteStore,i.targetId),gg(r,i.targetId)}).catch(fl)):(gg(r,i.targetId),await dg(r.localStore,i.targetId,!0))}async function a9(t,e){const n=Ie(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dy(n.remoteStore,r.targetId))}async function o9(t,e,n){const r=p9(t);try{const i=await function(a,o){const l=Ie(a),c=St.now(),h=o.reduce((g,_)=>g.add(_.key),Ke());let p,d;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=qi(),A=Ke();return l.Os.getEntries(g,h).next(S=>{_=S,_.forEach((b,v)=>{v.isValidDocument()||(A=A.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(S=>{p=S;const b=[];for(const v of o){const C=b3(v,p.get(v.key).overlayedDocument);C!=null&&b.push(new za(v.key,C,pR(C.value.mapValue),ui.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,b,o)}).next(S=>{d=S;const b=S.applyToLocalDocumentSet(p,A);return l.documentOverlayCache.saveOverlays(g,S.batchId,b)})}).then(()=>({batchId:d.batchId,changes:TR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Ru[a.currentUser.toKey()];c||(c=new Ot(Ve)),c=c.insert(o,l),a.Ru[a.currentUser.toKey()]=c}(r,i.batchId,n),await Ec(r,i.changes),await Td(r.remoteStore)}catch(i){const s=yy(i,"Failed to persist write");n.reject(s)}}async function sx(t,e){const n=Ie(t);try{const r=await vj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Eu.get(s);a&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.lu=!0:i.modifiedDocuments.size>0?at(a.lu,14607):i.removedDocuments.size>0&&(at(a.lu,42227),a.lu=!1))}),await Ec(n,r,e)}catch(r){await fl(r)}}function Kw(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Ie(a);l.onlineState=o;let c=!1;l.queries.forEach((h,p)=>{for(const d of p.wa)d.va(o)&&(c=!0)}),c&&_y(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function l9(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let a=new Ot(Ee.comparator);a=a.insert(s,Pn.newNoDocument(s,Le.min()));const o=Ke().add(s),l=new Ed(Le.min(),new Map,new Ot(Ve),a,o);await sx(r,l),r.du=r.du.remove(s),r.Eu.delete(e),Ey(r)}else await dg(r.localStore,e,!1).then(()=>gg(r,e,n)).catch(fl)}async function u9(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await gj(n.localStore,e);ox(n,r,null),ax(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ec(n,i)}catch(i){await fl(i)}}async function c9(t,e,n){const r=Ie(t);try{const i=await function(a,o){const l=Ie(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(p=>(at(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);ox(r,e,n),ax(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ec(r,i)}catch(i){await fl(i)}}function ax(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function ox(t,e,n){const r=Ie(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function gg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||lx(t,r)})}function lx(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(dy(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Ey(t))}function Yw(t,e,n){for(const r of n)r instanceof nx?(t.Au.addReference(r.key,e),h9(t,r)):r instanceof rx?(ae(by,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||lx(t,r.key)):Te(19791,{yu:r})}function h9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(ae(by,"New document in limbo: "+n),t.Iu.add(r),Ey(t))}function Ey(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ee(wt.fromString(e)),r=t.mu.next();t.Eu.set(r,new e9(n)),t.du=t.du.insert(n,r),WR(t.remoteStore,new bs(li(iy(n.path)),r,"TargetPurposeLimboResolution",dd.ue))}}async function Ec(t,e,n){const r=Ie(t),i=[],s=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((o,l)=>{a.push(r.gu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){i.push(c);const p=hy.Es(l.targetId,c);s.push(p)}}))}),await Promise.all(a),r.hu.J_(i),await async function(l,c){const h=Ie(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>K.forEach(c,d=>K.forEach(d.Is,g=>h.persistence.referenceDelegate.addReference(p,d.targetId,g)).next(()=>K.forEach(d.ds,g=>h.persistence.referenceDelegate.removeReference(p,d.targetId,g)))))}catch(p){if(!dl(p))throw p;ae(fy,"Failed to update sequence numbers: "+p)}for(const p of c){const d=p.targetId;if(!p.fromCache){const g=h.Fs.get(d),_=g.snapshotVersion,A=g.withLastLimboFreeSnapshotVersion(_);h.Fs=h.Fs.insert(d,A)}}}(r.localStore,s))}async function f9(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ae(by,"User change. New user:",e.toKey());const r=await $R(n.localStore,e);n.currentUser=e,function(s,a){s.Vu.forEach(o=>{o.forEach(l=>{l.reject(new _e(W.CANCELLED,a))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ec(n,r.Bs)}}function d9(t,e){const n=Ie(t),r=n.Eu.get(e);if(r&&r.lu)return Ke().add(r.key);{let i=Ke();const s=n.Tu.get(e);if(!s)return i;for(const a of s){const o=n.Pu.get(a);i=i.unionWith(o.view.tu)}return i}}function ux(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l9.bind(null,e),e.hu.J_=Qj.bind(null,e.eventManager),e.hu.pu=Wj.bind(null,e.eventManager),e}function p9(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c9.bind(null,e),e}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return mj(this.persistence,new fj,e.initialUser,this.serializer)}Du(e){return new GR(cy.Vi,this.serializer)}bu(e){return new wj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class m9 extends jf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){at(this.persistence.referenceDelegate instanceof Vf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new X3(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new GR(r=>Vf.Vi(r,n),this.serializer)}}class vg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f9.bind(null,this.syncEngine),await qj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $j}()}createDatastore(e){const n=wd(e.databaseInfo.databaseId),r=function(s){return new Rj(s)}(e.databaseInfo);return function(s,a,o,l){return new Ij(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new Dj(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>Kw(this.syncEngine,n,0),function(){return Bw.C()?new Bw:new Sj}())}createSyncEngine(e,n){return function(i,s,a,o,l,c,h){const p=new t9(i,s,a,o,l,c);return h&&(p.fu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ie(i);ae(Ma,"RemoteStore shutting down."),s.Ia.add(5),await bc(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}vg.provider={build:()=>new vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="FirestoreClient";class v9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kn.UNAUTHENTICATED,this.clientId=Xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{ae($s,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ae($s,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Np(t,e){t.asyncQueue.verifyOperationInProgress(),ae($s,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await $R(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{zs("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{ae("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{zs("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function Qw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y9(t);ae($s,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Fw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Fw(e.remoteStore,i)),t._onlineComponents=e}async function y9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae($s,"Using user provided OfflineComponentProvider");try{await Np(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),await Np(t,new jf)}}else ae($s,"Using default OfflineComponentProvider"),await Np(t,new m9(void 0));return t._offlineComponents}async function cx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae($s,"Using user provided OnlineComponentProvider"),await Qw(t,t._uninitializedComponentsProvider._online)):(ae($s,"Using default OnlineComponentProvider"),await Qw(t,new vg))),t._onlineComponents}function _9(t){return cx(t).then(e=>e.syncEngine)}async function b9(t){const e=await cx(t),n=e.eventManager;return n.onListen=n9.bind(null,e.syncEngine),n.onUnlisten=s9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=r9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a9.bind(null,e.syncEngine),n}function E9(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const h=new g9({next:d=>{h.Ou(),a.enqueueAndForget(()=>Yj(s,p));const g=d.docs.has(o);!g&&d.fromCache?c.reject(new _e(W.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&l&&l.source==="server"?c.reject(new _e(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),p=new Xj(iy(o.path),h,{includeMetadataChanges:!0,ka:!0});return Kj(s,p)}(await b9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="firestore.googleapis.com",Xw=!0;class Zw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fx,this.ssl=Xw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Xw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Q3)throw new _e(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new S6;switch(r.type){case"firstParty":return new R6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ww.get(n);r&&(ae("ComponentProvider","Removing Datastore"),Ww.delete(n),r.terminate())}(this),Promise.resolve()}}function w9(t,e,n,r={}){var i;t=Ko(t,Cd);const s=ll(e),a=t._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(o1(`https://${l}`),l1("Firestore",!0)),a.host!==fx&&a.host!==l&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!Ca(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=kn.MOCK_USER;else{h=IN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new _e(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new kn(d)}t._authCredentials=new T6(new tR(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wy(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vc(n,rn._jsonSchema))return new rn(e,r||null,new Ee(wt.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:Kt("string",rn._jsonSchemaVersion),referencePath:Kt("string")};class ks extends wy{constructor(e,n,r){super(e,n,iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new Ee(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function S9(t,e,...n){if(t=nr(t),rR("collection","path",e),t instanceof Cd){const r=wt.fromString(e,...n);return fw(r),new ks(t,null,r)}{if(!(t instanceof rn||t instanceof ks))throw new _e(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return fw(r),new ks(t.firestore,null,r)}}function Sy(t,e,...n){if(t=nr(t),arguments.length===1&&(e=Xv.newId()),rR("doc","path",e),t instanceof Cd){const r=wt.fromString(e,...n);return hw(r),new rn(t,null,new Ee(r))}{if(!(t instanceof rn||t instanceof ks))throw new _e(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return hw(r),new rn(t.firestore,t instanceof ks?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="AsyncQueue";class eS{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new YR(this,"async_queue_retry"),this.oc=()=>{const r=Pp();r&&ae(Jw,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Pp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Pp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ds;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!dl(e))throw e;ae(Jw,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Fi("INTERNAL UNHANDLED ERROR: ",tS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=vy.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Te(47125,{hc:tS(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function tS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ad extends Cd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eS(e),this._firestoreClient=void 0,await e}}}function T9(t,e){const n=typeof t=="object"?t:zv(),r=typeof t=="string"?t:If,i=jv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=LN("firestore");s&&w9(i,...s)}return i}function dx(t){if(t._terminated)throw new _e(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||C9(t),t._firestoreClient}function C9(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,c,h){return new F6(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new v9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Or(Rn.fromBase64String(e))}catch(n){throw new _e(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Or(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vc(e,Or._jsonSchema))return Or.fromBase64String(e.bytes)}}Or._jsonSchemaVersion="firestore/bytes/1.0",Or._jsonSchema={type:Kt("string",Or._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(vc(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:Kt("string",hi._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vc(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new fi(e.vectorValues);throw new _e(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Kt("string",fi._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=/^__.*__$/;class R9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,n,this.fieldTransforms):new yc(e,this.data,n,this.fieldTransforms)}}function px(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:t})}}class Ay{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return zf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(px(this.Ec)&&A9.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class x9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wd(e)}Dc(e,n,r,i=!1){return new Ay({Ec:e,methodName:n,bc:r,path:Cn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mx(t){const e=t._freezeSettings(),n=wd(t._databaseId);return new x9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gx(t,e,n,r,i,s={}){const a=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);bx("Data must be an object, but it was:",a,r);const o=yx(r,a);let l,c;if(s.merge)l=new $r(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const d=L9(e,p,n);if(!a.contains(d))throw new _e(W.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);I9(h,d)||h.push(d)}l=new $r(h),c=a.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=a.fieldTransforms;return new R9(new Ir(o),l,c)}class Ry extends Cy{_toFieldTransform(e){return new g3(e.path,new Fu)}isEqual(e){return e instanceof Ry}}function vx(t,e){if(_x(t=nr(t)))return bx("Unsupported field value:",e,t),yx(t,e);if(t instanceof Cy)return function(r,i){if(!px(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=vx(o,i.yc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=nr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=St.fromDate(r);return{timestampValue:Nf(i.serializer,s)}}if(r instanceof St){const s=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nf(i.serializer,s)}}if(r instanceof hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Or)return{bytesValue:VR(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ly(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fi)return function(a,o){return{mapValue:{fields:{[fR]:{stringValue:dR},[Of]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.wc("VectorValues must only contain numeric values.");return sy(o.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Zv(r)}`)}(t,e)}function yx(t,e){const n={};return aR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ua(t,(r,i)=>{const s=vx(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function _x(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof hi||t instanceof Or||t instanceof rn||t instanceof Cy||t instanceof fi)}function bx(t,e,n){if(!_x(n)||!iR(n)){const r=Zv(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function L9(t,e,n){if((e=nr(e))instanceof Ty)return e._internalPath;if(typeof e=="string")return Ex(t,e);throw zf("Field path arguments must be of type string or ",t,!1,void 0,n)}const M9=new RegExp("[~\\*/\\[\\]]");function Ex(t,e,n){if(e.search(M9)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ty(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zf(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new _e(W.INVALID_ARGUMENT,o+t+l)}function I9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new O9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class O9 extends wx{data(){return super.data()}}function Sx(t,e){return typeof e=="string"?Ex(t,e):e instanceof Ty?e._internalPath:e._delegate._internalPath}class D9{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ua(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Of].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Ht(a.doubleValue));return new fi(s)}convertGeoPoint(e){return new hi(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=md(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);at(FR(r),9688,{name:e});const i=new Bu(r.get(1),r.get(3)),s=new Ee(r.popFirst(5));return i.isEqual(n)||Fi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends wx{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Kt("string",_a._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Oh extends _a{data(e={}){return super.data(e)}}class vu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Oh(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Oh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Yl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Oh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Yl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:k9(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function k9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){t=Ko(t,rn);const e=Ko(t.firestore,Ad);return E9(dx(e),t._key).then(n=>j9(e,t,n))}vu._jsonSchemaVersion="firestore/querySnapshot/1.0",vu._jsonSchema={type:Kt("string",vu._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class N9 extends D9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function V9(t,e,n){t=Ko(t,rn);const r=Ko(t.firestore,Ad),i=Tx(t.converter,e,n);return Cx(r,[gx(mx(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ui.none())])}function U9(t,e){const n=Ko(t.firestore,Ad),r=Sy(t),i=Tx(t.converter,e);return Cx(n,[gx(mx(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ui.exists(!1))]).then(()=>r)}function Cx(t,e){return function(r,i){const s=new Ds;return r.asyncQueue.enqueueAndForget(async()=>o9(await _9(r),i,s)),s.promise}(dx(t),e)}function j9(t,e,n){const r=n.docs.get(e._key),i=new N9(t);return new _a(t,i,e._key,r,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}function z9(){return new Ry("serverTimestamp")}(function(e,n=!0){(function(i){hl=i})(ul),qo(new Aa("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Ad(new C6(r.getProvider("auth-internal")),new x6(a,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new _e(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(c.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Is(aw,ow,e),Is(aw,ow,"esm2017")})();const B9={apiKey:"AIzaSyCYbB3_c5GEync02de8o98_DAR-UCXIrj0",authDomain:"invitation-app-cd62c.firebaseapp.com",projectId:"invitation-app-cd62c",storageBucket:"invitation-app-cd62c.firebasestorage.app",messagingSenderId:"908091091264",appId:"1:908091091264:web:4c7d0763552a83155d32a5",measurementId:"G-H4NCQ8JQX4"},Ax=YV().length?zv():h1(B9),Vp=E6(Ax),xy=T9(Ax);function H9(){const[t,e]=f.useState(""),n=od(),r=Cv(),i=async()=>{try{const a={...Object.fromEntries(Object.entries(n).filter(([l,c])=>typeof c!="function")),customMessage:t,timestamp:new Date};console.log("Cleaned invite:",a);const o=await U9(S9(xy,"invites"),a);console.log("Invite saved! ID:",o.id),r(`/guest/${o.id}`)}catch(s){console.error("Error saving invite:",s)}};return N.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-4",children:[N.jsx("h1",{className:"text-2xl font-bold",children:" Review & Confirm"}),N.jsx("textarea",{placeholder:"Leave a message for your guests...",value:t,onChange:s=>e(s.target.value),className:"w-full border rounded-lg px-3 py-2"}),N.jsx(vt,{onClick:i,children:"Confirm & Generate Link"}),N.jsx("br",{})," ",N.jsx("br",{}),N.jsx("p",{className:"text-sm text-gray-500",children:"Want to save progress?"}),N.jsx("br",{}),N.jsx(vt,{to:`/hostLogIn?redirect=${encodeURIComponent(location.pathname)}`,children:"Log in as a Host"})]})}function F9(){var l,c;const{inviteId:t}=tD(),[e,n]=f.useState(null),[r,i]=f.useState(null),[s,a]=f.useState(0);f.useEffect(()=>{(async()=>{if(!t)return;const p=await P9(Sy(xy,"invites",t));p.exists()&&n(p.data())})()},[t]);const o=window.location.href;return N.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-4",children:[N.jsx("h1",{className:"text-2xl font-bold",children:"You're Invited!"}),e?N.jsxs(N.Fragment,{children:[N.jsxs("p",{children:[N.jsx("strong",{children:"Type:"})," ",(l=e.eventType)==null?void 0:l.join(", ")]}),e.theme?N.jsxs("p",{children:[N.jsx("strong",{children:"Theme:"})," ",(c=e.theme)==null?void 0:c.join(", ")]}):N.jsxs("p",{children:[N.jsx("strong",{children:"Theme:"})," No theme specified"]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Time:"})," "," ",e.date,", ",e.startTime," - ",e.endTime]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Location:"})," ",e.location]}),e.customMessage&&N.jsxs("p",{className:"italic",children:[" ",e.customMessage]}),N.jsx("hr",{}),N.jsx("p",{className:"text-sm text-gray-500",children:"Link to this invite:"}),N.jsx("input",{readOnly:!0,value:o,className:"w-full border rounded-lg px-3 py-1"}),N.jsx(vt,{onClick:()=>navigator.clipboard.writeText(o),children:"Copy Link "}),N.jsx("hr",{}),N.jsx("p",{children:N.jsx("strong",{children:"Are you attending?"})}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx(vt,{onClick:()=>i("yes"),children:"Yes"}),N.jsx(vt,{onClick:()=>i("no"),children:"No"})]}),r==="yes"&&N.jsxs(N.Fragment,{children:[N.jsx("p",{children:"Bringing people?"}),N.jsx(vt,{onClick:()=>a(1),children:" +1"})]})]}):N.jsx("p",{children:"Loading invitation..."}),N.jsx("div",{className:"fixed top-6 right-6 flex gap-2",children:N.jsx(vt,{children:"Log in"})})]})}const q9=/^[a-z0-9._-]{3,30}$/,G9="hosts.viva-invite.app",$9=t=>t.trim().toLowerCase(),K9=t=>`${t}@${G9}`;function Y9(){const t=Cv(),e=Ki(),n=f.useMemo(()=>new URLSearchParams(e.search).get("redirect")||"/confirm",[e.search]),[r,i]=f.useState(""),[s,a]=f.useState(""),[o,l]=f.useState(!1),[c,h]=f.useState(null);f.useEffect(()=>{const d=cU(Vp,g=>{g&&t(n,{replace:!0})});return()=>d()},[t,n]);const p=async d=>{h(null);const g=$9(r);if(!g||!s){h("Please enter both username and password.");return}if(!q9.test(g)){h("Usernames must be 3-30 characters using letters, numbers, dots, underscores, or dashes.");return}l(!0);const _=K9(g);try{if(d==="signIn")await sU(Vp,_,s);else{const S=(await iU(Vp,_,s)).user;S&&await Promise.all([oU(S,{displayName:g}).catch(()=>{}),V9(Sy(xy,"hosts",S.uid),{username:g,email:_,createdAt:z9()},{merge:!0})])}t(n,{replace:!0})}catch(A){let S="Unexpected error. Please try again.";if(A instanceof yi)switch(A.code){case"auth/user-not-found":S="Username doesn't exist, please create an account.";break;case"auth/wrong-password":case"auth/invalid-credential":S="Username or password is incorrect.";break;case"auth/email-already-in-use":S="That username is already taken. Try a different one.";break;case"auth/weak-password":S="Password must be at least 6 characters long.";break;case"auth/too-many-requests":S="Too many attempts. Please wait and try again.";break;case"auth/operation-not-allowed":S="Email/password sign-in is disabled for this project. Enable it in Firebase Authentication settings.";break}h(S)}finally{l(!1)}};return N.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-5",children:[N.jsx("h1",{className:"text-2xl font-bold",children:"Host Log In"}),N.jsxs("p",{className:"text-sm text-gray-600",children:["Use your self-defined ",N.jsx("strong",{children:"username"})," and ",N.jsx("strong",{children:"password "}),"to save and restore invitations across devices."]}),N.jsxs("form",{onSubmit:d=>{d.preventDefault()},className:"space-y-3",children:[N.jsxs("div",{className:"space-y-1",children:[N.jsx("label",{className:"block text-sm font-medium",children:"Username"}),N.jsx("input",{className:"w-full border rounded-lg px-3 py-2",placeholder:"your_name",value:r,onChange:d=>i(d.target.value),autoComplete:"username",disabled:o,required:!0})]}),N.jsxs("div",{className:"space-y-1",children:[N.jsx("label",{className:"block text-sm font-medium",children:"Password"}),N.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"password",placeholder:"",value:s,onChange:d=>a(d.target.value),autoComplete:"current-password",disabled:o,required:!0,minLength:6})]}),c&&N.jsx("div",{className:"text-sm text-red-600",children:c}),N.jsxs("div",{className:"flex flex-col gap-3 pt-1",children:[N.jsx(vt,{type:"button",onClick:()=>p("signIn"),disabled:o,children:o?"Logging in...":"Log In"}),N.jsx(vt,{type:"button",onClick:()=>p("signUp"),disabled:o,children:o?"Creating...":"Create Account"})]})]}),N.jsx("p",{className:"text-xs text-gray-500",children:"By creating an account, you agree that your invitations will be stored in your Viva account."})]})}const Q9=[{path:"/",element:N.jsx(wA,{children:N.jsx(ik,{})}),children:[{index:!0,element:N.jsx(zk,{})},{path:"invitee",element:N.jsx(Bk,{})},{path:"location",element:N.jsx(O2,{})},{path:"dateTime",element:N.jsx(D2,{})},{path:"activity",element:N.jsx(dN,{})},{path:"partyType",element:N.jsx(mN,{})},{path:"theme",element:N.jsx(bN,{})},{path:"confirmation",element:N.jsx(H9,{})},{path:"guest/:inviteId",element:N.jsx(F9,{})},{path:"hostLogIn",element:N.jsx(Y9,{})}]}],W9=GD(Q9);jI.createRoot(document.getElementById("root")).render(N.jsx(Up.StrictMode,{children:N.jsx(rk,{router:W9})}));
