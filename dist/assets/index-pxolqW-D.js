(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function xg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pS={exports:{}},Xf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aL=Symbol.for("react.transitional.element"),oL=Symbol.for("react.fragment");function gS(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:aL,type:t,key:r,ref:e!==void 0?e:null,props:n}}Xf.Fragment=oL;Xf.jsx=gS;Xf.jsxs=gS;pS.exports=Xf;var D=pS.exports,vS={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg=Symbol.for("react.transitional.element"),lL=Symbol.for("react.portal"),uL=Symbol.for("react.fragment"),cL=Symbol.for("react.strict_mode"),hL=Symbol.for("react.profiler"),fL=Symbol.for("react.consumer"),dL=Symbol.for("react.context"),mL=Symbol.for("react.forward_ref"),pL=Symbol.for("react.suspense"),gL=Symbol.for("react.memo"),yS=Symbol.for("react.lazy"),d_=Symbol.iterator;function vL(t){return t===null||typeof t!="object"?null:(t=d_&&t[d_]||t["@@iterator"],typeof t=="function"?t:null)}var _S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bS=Object.assign,ES={};function rl(t,e,n){this.props=t,this.context=e,this.refs=ES,this.updater=n||_S}rl.prototype.isReactComponent={};rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wS(){}wS.prototype=rl.prototype;function Lg(t,e,n){this.props=t,this.context=e,this.refs=ES,this.updater=n||_S}var Mg=Lg.prototype=new wS;Mg.constructor=Lg;bS(Mg,rl.prototype);Mg.isPureReactComponent=!0;var m_=Array.isArray,Rt={H:null,A:null,T:null,S:null,V:null},SS=Object.prototype.hasOwnProperty;function Ig(t,e,n,r,i,s){return n=s.ref,{$$typeof:Rg,type:t,key:e,ref:n!==void 0?n:null,props:s}}function yL(t,e){return Ig(t.type,e,void 0,void 0,void 0,t.props)}function Og(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rg}function _L(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var p_=/\/+/g;function Hd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_L(""+t.key):e.toString(36)}function g_(){}function bL(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(g_,g_):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ja(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Rg:case lL:a=!0;break;case yS:return a=t._init,Ja(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+Hd(t,0):r,m_(i)?(n="",a!=null&&(n=a.replace(p_,"$&/")+"/"),Ja(i,e,n,"",function(c){return c})):i!=null&&(Og(i)&&(i=yL(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(p_,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(m_(t))for(var l=0;l<t.length;l++)r=t[l],s=o+Hd(r,l),a+=Ja(r,e,n,s,i);else if(l=vL(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,s=o+Hd(r,l++),a+=Ja(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Ja(bL(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Hc(t,e,n){if(t==null)return t;var r=[],i=0;return Ja(t,r,"","",function(s){return e.call(n,s,i++)}),r}function EL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var v_=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wL(){}ke.Children={map:Hc,forEach:function(t,e,n){Hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hc(t,function(){e++}),e},toArray:function(t){return Hc(t,function(e){return e})||[]},only:function(t){if(!Og(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=rl;ke.Fragment=uL;ke.Profiler=hL;ke.PureComponent=Lg;ke.StrictMode=cL;ke.Suspense=pL;ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt;ke.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Rt.H.useMemoCache(t)}};ke.cache=function(t){return function(){return t.apply(null,arguments)}};ke.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=bS({},t.props),i=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!SS.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}return Ig(t.type,i,void 0,void 0,s,r)};ke.createContext=function(t){return t={$$typeof:dL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:fL,_context:t},t};ke.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)SS.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return Ig(t,s,void 0,void 0,null,i)};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:mL,render:t}};ke.isValidElement=Og;ke.lazy=function(t){return{$$typeof:yS,_payload:{_status:-1,_result:t},_init:EL}};ke.memo=function(t,e){return{$$typeof:gL,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=Rt.T,n={};Rt.T=n;try{var r=t(),i=Rt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(wL,v_)}catch(s){v_(s)}finally{Rt.T=e}};ke.unstable_useCacheRefresh=function(){return Rt.H.useCacheRefresh()};ke.use=function(t){return Rt.H.use(t)};ke.useActionState=function(t,e,n){return Rt.H.useActionState(t,e,n)};ke.useCallback=function(t,e){return Rt.H.useCallback(t,e)};ke.useContext=function(t){return Rt.H.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t,e){return Rt.H.useDeferredValue(t,e)};ke.useEffect=function(t,e,n){var r=Rt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};ke.useId=function(){return Rt.H.useId()};ke.useImperativeHandle=function(t,e,n){return Rt.H.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return Rt.H.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return Rt.H.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return Rt.H.useMemo(t,e)};ke.useOptimistic=function(t,e){return Rt.H.useOptimistic(t,e)};ke.useReducer=function(t,e,n){return Rt.H.useReducer(t,e,n)};ke.useRef=function(t){return Rt.H.useRef(t)};ke.useState=function(t){return Rt.H.useState(t)};ke.useSyncExternalStore=function(t,e,n){return Rt.H.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return Rt.H.useTransition()};ke.version="19.1.1";vS.exports=ke;var f=vS.exports;const Km=xg(f);var TS={exports:{}},Zf={},CS={exports:{}},AS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,$){var H=z.length;z.push($);e:for(;0<H;){var ne=H-1>>>1,ee=z[ne];if(0<i(ee,$))z[ne]=$,z[H]=ee,H=ne;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var $=z[0],H=z.pop();if(H!==$){z[0]=H;e:for(var ne=0,ee=z.length,ge=ee>>>1;ne<ge;){var ve=2*(ne+1)-1,W=z[ve],se=ve+1,B=z[se];if(0>i(W,H))se<ee&&0>i(B,W)?(z[ne]=B,z[se]=H,ne=se):(z[ne]=W,z[ve]=H,ne=ve);else if(se<ee&&0>i(B,H))z[ne]=B,z[se]=H,ne=se;else break e}}return $}function i(z,$){var H=z.sortIndex-$.sortIndex;return H!==0?H:z.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,m=null,d=3,g=!1,E=!1,A=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(z){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=z)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function k(z){if(A=!1,R(z),!E)if(n(l)!==null)E=!0,x||(x=!0,P());else{var $=n(c);$!==null&&Z(k,$.startTime-z)}}var x=!1,T=-1,b=5,w=-1;function L(){return S?!0:!(t.unstable_now()-w<b)}function M(){if(S=!1,x){var z=t.unstable_now();w=z;var $=!0;try{e:{E=!1,A&&(A=!1,v(T),T=-1),g=!0;var H=d;try{t:{for(R(z),m=n(l);m!==null&&!(m.expirationTime>z&&L());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,d=m.priorityLevel;var ee=ne(m.expirationTime<=z);if(z=t.unstable_now(),typeof ee=="function"){m.callback=ee,R(z),$=!0;break t}m===n(l)&&r(l),R(z)}else r(l);m=n(l)}if(m!==null)$=!0;else{var ge=n(c);ge!==null&&Z(k,ge.startTime-z),$=!1}}break e}finally{m=null,d=H,g=!1}$=void 0}}finally{$?P():x=!1}}}var P;if(typeof C=="function")P=function(){C(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Y=O.port2;O.port1.onmessage=M,P=function(){Y.postMessage(null)}}else P=function(){_(M,0)};function Z(z,$){T=_(function(){z(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(z){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var H=d;d=$;try{return z()}finally{d=H}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=d;d=z;try{return $()}finally{d=H}},t.unstable_scheduleCallback=function(z,$,H){var ne=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ne+H:ne):H=ne,z){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=H+ee,z={id:h++,callback:$,priorityLevel:z,startTime:H,expirationTime:ee,sortIndex:-1},H>ne?(z.sortIndex=H,e(c,z),n(l)===null&&z===n(c)&&(A?(v(T),T=-1):A=!0,Z(k,H-ne))):(z.sortIndex=ee,e(l,z),E||g||(E=!0,x||(x=!0,P()))),z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(z){var $=d;return function(){var H=d;d=$;try{return z.apply(this,arguments)}finally{d=H}}}})(AS);CS.exports=AS;var SL=CS.exports,xS={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TL=f;function RS(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zi(){}var qn={d:{f:Zi,r:function(){throw Error(RS(522))},D:Zi,C:Zi,L:Zi,m:Zi,X:Zi,S:Zi,M:Zi},p:0,findDOMNode:null},CL=Symbol.for("react.portal");function AL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:CL,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var nu=TL.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Jf(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}$n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qn;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(RS(299));return AL(t,e,null,n)};$n.flushSync=function(t){var e=nu.T,n=qn.p;try{if(nu.T=null,qn.p=2,t)return t()}finally{nu.T=e,qn.p=n,qn.d.f()}};$n.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qn.d.C(t,e))};$n.prefetchDNS=function(t){typeof t=="string"&&qn.d.D(t)};$n.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Jf(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?qn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&qn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};$n.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Jf(e.as,e.crossOrigin);qn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qn.d.M(t)};$n.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Jf(n,e.crossOrigin);qn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};$n.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Jf(e.as,e.crossOrigin);qn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qn.d.m(t)};$n.requestFormReset=function(t){qn.d.r(t)};$n.unstable_batchedUpdates=function(t,e){return t(e)};$n.useFormState=function(t,e,n){return nu.H.useFormState(t,e,n)};$n.useFormStatus=function(){return nu.H.useHostTransitionStatus()};$n.version="19.1.1";function LS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LS)}catch(t){console.error(t)}}LS(),xS.exports=$n;var Ki=xS.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var an=SL,MS=f,xL=Ki;function Q(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function IS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function OS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y_(t){if(tc(t)!==t)throw Error(Q(188))}function RL(t){var e=t.alternate;if(!e){if(e=tc(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return y_(i),t;if(s===r)return y_(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function DS(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=DS(t),e!==null)return e;t=t.sibling}return null}var Tt=Object.assign,LL=Symbol.for("react.element"),Fc=Symbol.for("react.transitional.element"),ql=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),kS=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),ML=Symbol.for("react.provider"),PS=Symbol.for("react.consumer"),Li=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),Qm=Symbol.for("react.suspense"),Wm=Symbol.for("react.suspense_list"),kg=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),Xm=Symbol.for("react.activity"),IL=Symbol.for("react.memo_cache_sentinel"),__=Symbol.iterator;function Ll(t){return t===null||typeof t!="object"?null:(t=__&&t[__]||t["@@iterator"],typeof t=="function"?t:null)}var OL=Symbol.for("react.client.reference");function Zm(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===OL?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lo:return"Fragment";case Ym:return"Profiler";case kS:return"StrictMode";case Qm:return"Suspense";case Wm:return"SuspenseList";case Xm:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ql:return"Portal";case Li:return(t.displayName||"Context")+".Provider";case PS:return(t._context.displayName||"Context")+".Consumer";case Dg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kg:return e=t.displayName||null,e!==null?e:Zm(t.type)||"Memo";case ss:e=t._payload,t=t._init;try{return Zm(t(e))}catch{}}return null}var Gl=Array.isArray,Ae=MS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=xL.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,da={pending:!1,data:null,method:null,action:null},Jm=[],uo=-1;function yi(t){return{current:t}}function pn(t){0>uo||(t.current=Jm[uo],Jm[uo]=null,uo--)}function Lt(t,e){uo++,Jm[uo]=t.current,t.current=e}var si=yi(null),Cu=yi(null),ws=yi(null),Fh=yi(null);function qh(t,e){switch(Lt(ws,e),Lt(Cu,t),Lt(si,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Tb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Tb(e),t=ZC(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}pn(si),Lt(si,t)}function Vo(){pn(si),pn(Cu),pn(ws)}function ep(t){t.memoizedState!==null&&Lt(Fh,t);var e=si.current,n=ZC(e,t.type);e!==n&&(Lt(Cu,t),Lt(si,n))}function Gh(t){Cu.current===t&&(pn(si),pn(Cu)),Fh.current===t&&(pn(Fh),Pu._currentValue=da)}var tp=Object.prototype.hasOwnProperty,Pg=an.unstable_scheduleCallback,Fd=an.unstable_cancelCallback,DL=an.unstable_shouldYield,kL=an.unstable_requestPaint,ai=an.unstable_now,PL=an.unstable_getCurrentPriorityLevel,NS=an.unstable_ImmediatePriority,VS=an.unstable_UserBlockingPriority,$h=an.unstable_NormalPriority,NL=an.unstable_LowPriority,US=an.unstable_IdlePriority,VL=an.log,UL=an.unstable_setDisableYieldValue,nc=null,pr=null;function vs(t){if(typeof VL=="function"&&UL(t),pr&&typeof pr.setStrictMode=="function")try{pr.setStrictMode(nc,t)}catch{}}var gr=Math.clz32?Math.clz32:BL,jL=Math.log,zL=Math.LN2;function BL(t){return t>>>=0,t===0?32:31-(jL(t)/zL|0)|0}var qc=256,Gc=4194304;function ia(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ed(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=ia(r):(a&=o,a!==0?i=ia(a):n||(n=o&~t,n!==0&&(i=ia(n))))):(o=r&~s,o!==0?i=ia(o):a!==0?i=ia(a):n||(n=r&~t,n!==0&&(i=ia(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function rc(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function HL(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jS(){var t=qc;return qc<<=1,!(qc&4194048)&&(qc=256),t}function zS(){var t=Gc;return Gc<<=1,!(Gc&62914560)&&(Gc=4194304),t}function qd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ic(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function FL(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var h=31-gr(n),m=1<<h;o[h]=0,l[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var g=d[h];g!==null&&(g.lane&=-536870913)}n&=~m}r!==0&&BS(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function BS(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-gr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function HS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function Ng(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function FS(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:lA(t.type))}function qL(t,e){var n=st.p;try{return st.p=t,e()}finally{st.p=n}}var Ys=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Ys,nr="__reactProps$"+Ys,il="__reactContainer$"+Ys,np="__reactEvents$"+Ys,GL="__reactListeners$"+Ys,$L="__reactHandles$"+Ys,b_="__reactResources$"+Ys,sc="__reactMarker$"+Ys;function Ug(t){delete t[Nn],delete t[nr],delete t[np],delete t[GL],delete t[$L]}function co(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[il]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xb(t);t!==null;){if(n=t[Nn])return n;t=xb(t)}return e}t=n,n=t.parentNode}return null}function sl(t){if(t=t[Nn]||t[il]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function $l(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Q(33))}function wo(t){var e=t[b_];return e||(e=t[b_]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function dn(t){t[sc]=!0}var qS=new Set,GS={};function Oa(t,e){Uo(t,e),Uo(t+"Capture",e)}function Uo(t,e){for(GS[t]=e,t=0;t<e.length;t++)qS.add(e[t])}var KL=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),E_={},w_={};function YL(t){return tp.call(w_,t)?!0:tp.call(E_,t)?!1:KL.test(t)?w_[t]=!0:(E_[t]=!0,!1)}function vh(t,e,n){if(YL(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function $c(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Si(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Gd,S_;function eo(t){if(Gd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gd=e&&e[1]||"",S_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gd+t+S_}var $d=!1;function Kd(t,e){if(!t||$d)return"";$d=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var d=g}Reflect.construct(t,[],m)}else{try{m.call()}catch(g){d=g}t.call(m.prototype)}}else{try{throw Error()}catch(g){d=g}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&d&&typeof g.stack=="string")return[g.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var h=`
`+l[r].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=r&&0<=i);break}}}finally{$d=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?eo(n):""}function QL(t){switch(t.tag){case 26:case 27:case 5:return eo(t.type);case 16:return eo("Lazy");case 13:return eo("Suspense");case 19:return eo("SuspenseList");case 0:case 15:return Kd(t.type,!1);case 11:return Kd(t.type.render,!1);case 1:return Kd(t.type,!0);case 31:return eo("Activity");default:return""}}function T_(t){try{var e="";do e+=QL(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Cr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $S(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WL(t){var e=$S(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kh(t){t._valueTracker||(t._valueTracker=WL(t))}function KS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$S(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var XL=/[\n"\\]/g;function Lr(t){return t.replace(XL,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function rp(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Cr(e)):t.value!==""+Cr(e)&&(t.value=""+Cr(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?ip(t,a,Cr(e)):n!=null?ip(t,a,Cr(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Cr(o):t.removeAttribute("name")}function YS(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+Cr(n):"",e=e!=null?""+Cr(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function ip(t,e,n){e==="number"&&Yh(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function So(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function QS(t,e,n){if(e!=null&&(e=""+Cr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Cr(n):""}function WS(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(Q(92));if(Gl(r)){if(1<r.length)throw Error(Q(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Cr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function jo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ZL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function C_(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||ZL.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function XS(t,e,n){if(e!=null&&typeof e!="object")throw Error(Q(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&C_(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&C_(t,s,e[s])}function jg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yh(t){return eM.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var sp=null;function zg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ho=null,To=null;function A_(t){var e=sl(t);if(e&&(t=e.stateNode)){var n=t[nr]||null;e:switch(t=e.stateNode,e.type){case"input":if(rp(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[nr]||null;if(!i)throw Error(Q(90));rp(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&KS(r)}break e;case"textarea":QS(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}}}var Yd=!1;function ZS(t,e,n){if(Yd)return t(e,n);Yd=!0;try{var r=t(e);return r}finally{if(Yd=!1,(ho!==null||To!==null)&&(cd(),ho&&(e=ho,t=To,To=ho=null,A_(e),t)))for(e=0;e<t.length;e++)A_(t[e])}}function Au(t,e){var n=t.stateNode;if(n===null)return null;var r=n[nr]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ap=!1;if(ji)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){ap=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{ap=!1}var ys=null,Bg=null,_h=null;function JS(){if(_h)return _h;var t,e=Bg,n=e.length,r,i="value"in ys?ys.value:ys.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return _h=i.slice(t,1<r?1-r:void 0)}function bh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kc(){return!0}function x_(){return!1}function rr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kc:x_,this.isPropagationStopped=x_,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),e}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rr(Da),ac=Tt({},Da,{view:0,detail:0}),tM=rr(ac),Qd,Wd,Il,nd=Tt({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Il&&(Il&&t.type==="mousemove"?(Qd=t.screenX-Il.screenX,Wd=t.screenY-Il.screenY):Wd=Qd=0,Il=t),Qd)},movementY:function(t){return"movementY"in t?t.movementY:Wd}}),R_=rr(nd),nM=Tt({},nd,{dataTransfer:0}),rM=rr(nM),iM=Tt({},ac,{relatedTarget:0}),Xd=rr(iM),sM=Tt({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),aM=rr(sM),oM=Tt({},Da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lM=rr(oM),uM=Tt({},Da,{data:0}),L_=rr(uM),cM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fM[t])?!!e[t]:!1}function Hg(){return dM}var mM=Tt({},ac,{key:function(t){if(t.key){var e=cM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hg,charCode:function(t){return t.type==="keypress"?bh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pM=rr(mM),gM=Tt({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M_=rr(gM),vM=Tt({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hg}),yM=rr(vM),_M=Tt({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),bM=rr(_M),EM=Tt({},nd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wM=rr(EM),SM=Tt({},Da,{newState:0,oldState:0}),TM=rr(SM),CM=[9,13,27,32],Fg=ji&&"CompositionEvent"in window,ru=null;ji&&"documentMode"in document&&(ru=document.documentMode);var AM=ji&&"TextEvent"in window&&!ru,eT=ji&&(!Fg||ru&&8<ru&&11>=ru),I_=" ",O_=!1;function tT(t,e){switch(t){case"keyup":return CM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function xM(t,e){switch(t){case"compositionend":return nT(e);case"keypress":return e.which!==32?null:(O_=!0,I_);case"textInput":return t=e.data,t===I_&&O_?null:t;default:return null}}function RM(t,e){if(fo)return t==="compositionend"||!Fg&&tT(t,e)?(t=JS(),_h=Bg=ys=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eT&&e.locale!=="ko"?null:e.data;default:return null}}var LM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LM[t.type]:e==="textarea"}function rT(t,e,n,r){ho?To?To.push(r):To=[r]:ho=r,e=df(e,"onChange"),0<e.length&&(n=new td("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var iu=null,xu=null;function MM(t){QC(t,0)}function rd(t){var e=$l(t);if(KS(e))return t}function k_(t,e){if(t==="change")return e}var iT=!1;if(ji){var Zd;if(ji){var Jd="oninput"in document;if(!Jd){var P_=document.createElement("div");P_.setAttribute("oninput","return;"),Jd=typeof P_.oninput=="function"}Zd=Jd}else Zd=!1;iT=Zd&&(!document.documentMode||9<document.documentMode)}function N_(){iu&&(iu.detachEvent("onpropertychange",sT),xu=iu=null)}function sT(t){if(t.propertyName==="value"&&rd(xu)){var e=[];rT(e,xu,t,zg(t)),ZS(MM,e)}}function IM(t,e,n){t==="focusin"?(N_(),iu=e,xu=n,iu.attachEvent("onpropertychange",sT)):t==="focusout"&&N_()}function OM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rd(xu)}function DM(t,e){if(t==="click")return rd(e)}function kM(t,e){if(t==="input"||t==="change")return rd(e)}function PM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _r=typeof Object.is=="function"?Object.is:PM;function Ru(t,e){if(_r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tp.call(e,i)||!_r(t[i],e[i]))return!1}return!0}function V_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function U_(t,e){var n=V_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V_(n)}}function aT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Yh(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yh(t.document)}return e}function qg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var NM=ji&&"documentMode"in document&&11>=document.documentMode,mo=null,op=null,su=null,lp=!1;function j_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lp||mo==null||mo!==Yh(r)||(r=mo,"selectionStart"in r&&qg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),su&&Ru(su,r)||(su=r,r=df(op,"onSelect"),0<r.length&&(e=new td("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mo)))}function ta(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var po={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},em={},lT={};ji&&(lT=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function ka(t){if(em[t])return em[t];if(!po[t])return t;var e=po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lT)return em[t]=e[n];return t}var uT=ka("animationend"),cT=ka("animationiteration"),hT=ka("animationstart"),VM=ka("transitionrun"),UM=ka("transitionstart"),jM=ka("transitioncancel"),fT=ka("transitionend"),dT=new Map,up="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");up.push("scrollEnd");function Xr(t,e){dT.set(t,e),Oa(e,[t])}var z_=new WeakMap;function Mr(t,e){if(typeof t=="object"&&t!==null){var n=z_.get(t);return n!==void 0?n:(e={value:t,source:e,stack:T_(e)},z_.set(t,e),e)}return{value:t,source:e,stack:T_(e)}}var Sr=[],go=0,Gg=0;function id(){for(var t=go,e=Gg=go=0;e<t;){var n=Sr[e];Sr[e++]=null;var r=Sr[e];Sr[e++]=null;var i=Sr[e];Sr[e++]=null;var s=Sr[e];if(Sr[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&mT(n,i,s)}}function sd(t,e,n,r){Sr[go++]=t,Sr[go++]=e,Sr[go++]=n,Sr[go++]=r,Gg|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function $g(t,e,n,r){return sd(t,e,n,r),Qh(t)}function al(t,e){return sd(t,null,null,e),Qh(t)}function mT(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-gr(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function Qh(t){if(50<pu)throw pu=0,Mp=null,Error(Q(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var vo={};function zM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(t,e,n,r){return new zM(t,e,n,r)}function Kg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,e){var n=t.alternate;return n===null?(n=mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function pT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Eh(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")Kg(t)&&(a=1);else if(typeof t=="string")a=HI(t,n,si.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Xm:return t=mr(31,n,e,i),t.elementType=Xm,t.lanes=s,t;case lo:return ma(n.children,i,s,e);case kS:a=8,i|=24;break;case Ym:return t=mr(12,n,e,i|2),t.elementType=Ym,t.lanes=s,t;case Qm:return t=mr(13,n,e,i),t.elementType=Qm,t.lanes=s,t;case Wm:return t=mr(19,n,e,i),t.elementType=Wm,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ML:case Li:a=10;break e;case PS:a=9;break e;case Dg:a=11;break e;case kg:a=14;break e;case ss:a=16,r=null;break e}a=29,n=Error(Q(130,t===null?"null":typeof t,"")),r=null}return e=mr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ma(t,e,n,r){return t=mr(7,t,r,e),t.lanes=n,t}function tm(t,e,n){return t=mr(6,t,null,e),t.lanes=n,t}function nm(t,e,n){return e=mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var yo=[],_o=0,Wh=null,Xh=0,Ar=[],xr=0,pa=null,Mi=1,Ii="";function sa(t,e){yo[_o++]=Xh,yo[_o++]=Wh,Wh=t,Xh=e}function gT(t,e,n){Ar[xr++]=Mi,Ar[xr++]=Ii,Ar[xr++]=pa,pa=t;var r=Mi;t=Ii;var i=32-gr(r)-1;r&=~(1<<i),n+=1;var s=32-gr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Mi=1<<32-gr(e)+i|n<<i|r,Ii=s+t}else Mi=1<<s|n<<i|r,Ii=t}function Yg(t){t.return!==null&&(sa(t,1),gT(t,1,0))}function Qg(t){for(;t===Wh;)Wh=yo[--_o],yo[_o]=null,Xh=yo[--_o],yo[_o]=null;for(;t===pa;)pa=Ar[--xr],Ar[xr]=null,Ii=Ar[--xr],Ar[xr]=null,Mi=Ar[--xr],Ar[xr]=null}var Fn=null,Vt=null,it=!1,ga=null,ri=!1,cp=Error(Q(519));function Ea(t){var e=Error(Q(418,""));throw Lu(Mr(e,t)),cp}function B_(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Nn]=t,e[nr]=r,n){case"dialog":He("cancel",e),He("close",e);break;case"iframe":case"object":case"embed":He("load",e);break;case"video":case"audio":for(n=0;n<Ou.length;n++)He(Ou[n],e);break;case"source":He("error",e);break;case"img":case"image":case"link":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"input":He("invalid",e),YS(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Kh(e);break;case"select":He("invalid",e);break;case"textarea":He("invalid",e),WS(e,r.value,r.defaultValue,r.children),Kh(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||XC(e.textContent,n)?(r.popover!=null&&(He("beforetoggle",e),He("toggle",e)),r.onScroll!=null&&He("scroll",e),r.onScrollEnd!=null&&He("scrollend",e),r.onClick!=null&&(e.onclick=dd),e=!0):e=!1,e||Ea(t)}function H_(t){for(Fn=t.return;Fn;)switch(Fn.tag){case 5:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:Fn=Fn.return}}function Ol(t){if(t!==Fn)return!1;if(!it)return H_(t),it=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Np(t.type,t.memoizedProps)),n=!n),n&&Vt&&Ea(t),H_(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Vt=Qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Vt=null}}else e===27?(e=Vt,Qs(t.type)?(t=jp,jp=null,Vt=t):Vt=e):Vt=Fn?Qr(t.stateNode.nextSibling):null;return!0}function oc(){Vt=Fn=null,it=!1}function F_(){var t=ga;return t!==null&&(er===null?er=t:er.push.apply(er,t),ga=null),t}function Lu(t){ga===null?ga=[t]:ga.push(t)}var hp=yi(null),Pa=null,Oi=null;function ls(t,e,n){Lt(hp,e._currentValue),e._currentValue=n}function Vi(t){t._currentValue=hp.current,pn(hp)}function fp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dp(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),fp(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(Q(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),fp(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function lc(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(Q(387));if(a=a.memoizedProps,a!==null){var o=i.type;_r(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===Fh.current){if(a=i.alternate,a===null)throw Error(Q(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Pu):t=[Pu])}i=i.return}t!==null&&dp(e,t,n,r),e.flags|=262144}function Zh(t){for(t=t.firstContext;t!==null;){if(!_r(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wa(t){Pa=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Vn(t){return vT(Pa,t)}function Yc(t,e){return Pa===null&&wa(t),vT(t,e)}function vT(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Oi===null){if(t===null)throw Error(Q(308));Oi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Oi=Oi.next=e;return n}var BM=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},HM=an.unstable_scheduleCallback,FM=an.unstable_NormalPriority,en={$$typeof:Li,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wg(){return{controller:new BM,data:new Map,refCount:0}}function uc(t){t.refCount--,t.refCount===0&&HM(FM,function(){t.controller.abort()})}var au=null,mp=0,zo=0,Co=null;function qM(t,e){if(au===null){var n=au=[];mp=0,zo=_v(),Co={status:"pending",value:void 0,then:function(r){n.push(r)}}}return mp++,e.then(q_,q_),e}function q_(){if(--mp===0&&au!==null){Co!==null&&(Co.status="fulfilled");var t=au;au=null,zo=0,Co=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function GM(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var G_=Ae.S;Ae.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&qM(t,e),G_!==null&&G_(t,e)};var va=yi(null);function Xg(){var t=va.current;return t!==null?t:_t.pooledCache}function wh(t,e){e===null?Lt(va,va.current):Lt(va,e.pool)}function yT(){var t=Xg();return t===null?null:{parent:en._currentValue,pool:t}}var cc=Error(Q(460)),_T=Error(Q(474)),ad=Error(Q(542)),pp={then:function(){}};function $_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qc(){}function bT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Qc,Qc),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Y_(t),t;default:if(typeof e.status=="string")e.then(Qc,Qc);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(Q(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Y_(t),t}throw ou=e,cc}}var ou=null;function K_(){if(ou===null)throw Error(Q(459));var t=ou;return ou=null,t}function Y_(t){if(t===cc||t===ad)throw Error(Q(483))}var as=!1;function Zg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ss(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Qh(t),mT(t,null,n),e}return sd(t,r,e,n),Qh(t)}function lu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,HS(t,n)}}function rm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var vp=!1;function uu(){if(vp){var t=Co;if(t!==null)throw t}}function cu(t,e,n,r){vp=!1;var i=t.updateQueue;as=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;a=0,h=c=l=null,o=s;do{var d=o.lane&-536870913,g=d!==o.lane;if(g?(Je&d)===d:(r&d)===d){d!==0&&d===zo&&(vp=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var E=t,A=o;d=e;var S=n;switch(A.tag){case 1:if(E=A.payload,typeof E=="function"){m=E.call(S,m,d);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=A.payload,d=typeof E=="function"?E.call(S,m,d):E,d==null)break e;m=Tt({},m,d);break e;case 2:as=!0}}d=o.callback,d!==null&&(t.flags|=64,g&&(t.flags|=8192),g=i.callbacks,g===null?i.callbacks=[d]:g.push(d))}else g={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,l=m):h=h.next=g,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);h===null&&(l=m),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),Us|=a,t.lanes=a,t.memoizedState=m}}function ET(t,e){if(typeof t!="function")throw Error(Q(191,t));t.call(e)}function wT(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)ET(n[t],e)}var Bo=yi(null),Jh=yi(0);function Q_(t,e){t=Hi,Lt(Jh,t),Lt(Bo,e),Hi=t|e.baseLanes}function yp(){Lt(Jh,Hi),Lt(Bo,Bo.current)}function Jg(){Hi=Jh.current,pn(Bo),pn(Jh)}var Ns=0,Ue=null,dt=null,$t=null,ef=!1,Ao=!1,Sa=!1,tf=0,Mu=0,xo=null,$M=0;function zt(){throw Error(Q(321))}function ev(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_r(t[n],e[n]))return!1;return!0}function tv(t,e,n,r,i,s){return Ns=s,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ae.H=t===null||t.memoizedState===null?JT:eC,Sa=!1,s=n(r,i),Sa=!1,Ao&&(s=TT(e,n,r,i)),ST(t),s}function ST(t){Ae.H=nf;var e=dt!==null&&dt.next!==null;if(Ns=0,$t=dt=Ue=null,ef=!1,Mu=0,xo=null,e)throw Error(Q(300));t===null||mn||(t=t.dependencies,t!==null&&Zh(t)&&(mn=!0))}function TT(t,e,n,r){Ue=t;var i=0;do{if(Ao&&(xo=null),Mu=0,Ao=!1,25<=i)throw Error(Q(301));if(i+=1,$t=dt=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Ae.H=JM,s=e(n,r)}while(Ao);return s}function KM(){var t=Ae.H,e=t.useState()[0];return e=typeof e.then=="function"?hc(e):e,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Ue.flags|=1024),e}function nv(){var t=tf!==0;return tf=0,t}function rv(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function iv(t){if(ef){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ef=!1}Ns=0,$t=dt=Ue=null,Ao=!1,Mu=tf=0,xo=null}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ue.memoizedState=$t=t:$t=$t.next=t,$t}function Yt(){if(dt===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=$t===null?Ue.memoizedState:$t.next;if(e!==null)$t=e,dt=t;else{if(t===null)throw Ue.alternate===null?Error(Q(467)):Error(Q(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},$t===null?Ue.memoizedState=$t=t:$t=$t.next=t}return $t}function sv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hc(t){var e=Mu;return Mu+=1,xo===null&&(xo=[]),t=bT(xo,t,e),e=Ue,($t===null?e.memoizedState:$t.next)===null&&(e=e.alternate,Ae.H=e===null||e.memoizedState===null?JT:eC),t}function od(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hc(t);if(t.$$typeof===Li)return Vn(t)}throw Error(Q(438,String(t)))}function av(t){var e=null,n=Ue.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Ue.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=sv(),Ue.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=IL;return e.index++,n}function zi(t,e){return typeof e=="function"?e(t):e}function Sh(t){var e=Yt();return ov(e,dt,t)}function ov(t,e,n){var r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,l=null,c=e,h=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(Je&m)===m:(Ns&m)===m){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===zo&&(h=!0);else if((Ns&d)===d){c=c.next,d===zo&&(h=!0);continue}else m={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=m,a=s):l=l.next=m,Ue.lanes|=d,Us|=d;m=c.action,Sa&&n(s,m),s=c.hasEagerState?c.eagerState:n(s,m)}else d={lane:m,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,a=s):l=l.next=d,Ue.lanes|=m,Us|=m;c=c.next}while(c!==null&&c!==e);if(l===null?a=s:l.next=o,!_r(s,t.memoizedState)&&(mn=!0,h&&(n=Co,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=l,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function im(t){var e=Yt(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);_r(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function CT(t,e,n){var r=Ue,i=Yt(),s=it;if(s){if(n===void 0)throw Error(Q(407));n=n()}else n=e();var a=!_r((dt||i).memoizedState,n);a&&(i.memoizedState=n,mn=!0),i=i.queue;var o=RT.bind(null,r,i,t);if(fc(2048,8,o,[t]),i.getSnapshot!==e||a||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,Ho(9,ld(),xT.bind(null,r,i,n,e),null),_t===null)throw Error(Q(349));s||Ns&124||AT(r,e,n)}return n}function AT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e=sv(),Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xT(t,e,n,r){e.value=n,e.getSnapshot=r,LT(e)&&MT(t)}function RT(t,e,n){return n(function(){LT(e)&&MT(t)})}function LT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_r(t,n)}catch{return!0}}function MT(t){var e=al(t,2);e!==null&&yr(e,t,2)}function _p(t){var e=Zn();if(typeof t=="function"){var n=t;if(t=n(),Sa){vs(!0);try{n()}finally{vs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},e}function IT(t,e,n,r){return t.baseState=n,ov(t,dt,typeof r=="function"?r:zi)}function YM(t,e,n,r,i){if(ud(t))throw Error(Q(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Ae.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,OT(e,s)):(s.next=n.next,e.pending=n.next=s)}}function OT(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=Ae.T,a={};Ae.T=a;try{var o=n(i,r),l=Ae.S;l!==null&&l(a,o),W_(t,e,o)}catch(c){bp(t,e,c)}finally{Ae.T=s}}else try{s=n(i,r),W_(t,e,s)}catch(c){bp(t,e,c)}}function W_(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){X_(t,e,r)},function(r){return bp(t,e,r)}):X_(t,e,n)}function X_(t,e,n){e.status="fulfilled",e.value=n,DT(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,OT(t,n)))}function bp(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,DT(e),e=e.next;while(e!==r)}t.action=null}function DT(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function kT(t,e){return e}function Z_(t,e){if(it){var n=_t.formState;if(n!==null){e:{var r=Ue;if(it){if(Vt){t:{for(var i=Vt,s=ri;i.nodeType!==8;){if(!s){i=null;break t}if(i=Qr(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Vt=Qr(i.nextSibling),r=i.data==="F!";break e}}Ea(r)}r=!1}r&&(e=n[0])}}return n=Zn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kT,lastRenderedState:e},n.queue=r,n=WT.bind(null,Ue,r),r.dispatch=n,r=_p(!1),s=hv.bind(null,Ue,!1,r.queue),r=Zn(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=YM.bind(null,Ue,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function J_(t){var e=Yt();return PT(e,dt,t)}function PT(t,e,n){if(e=ov(t,e,kT)[0],t=Sh(zi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=hc(e)}catch(a){throw a===cc?ad:a}else r=e;e=Yt();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(Ue.flags|=2048,Ho(9,ld(),QM.bind(null,i,n),null)),[r,s,t]}function QM(t,e){t.action=e}function eb(t){var e=Yt(),n=dt;if(n!==null)return PT(e,n,t);Yt(),e=e.memoizedState,n=Yt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Ho(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Ue.updateQueue,e===null&&(e=sv(),Ue.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ld(){return{destroy:void 0,resource:void 0}}function NT(){return Yt().memoizedState}function Th(t,e,n,r){var i=Zn();r=r===void 0?null:r,Ue.flags|=t,i.memoizedState=Ho(1|e,ld(),n,r)}function fc(t,e,n,r){var i=Yt();r=r===void 0?null:r;var s=i.memoizedState.inst;dt!==null&&r!==null&&ev(r,dt.memoizedState.deps)?i.memoizedState=Ho(e,s,n,r):(Ue.flags|=t,i.memoizedState=Ho(1|e,s,n,r))}function tb(t,e){Th(8390656,8,t,e)}function VT(t,e){fc(2048,8,t,e)}function UT(t,e){return fc(4,2,t,e)}function jT(t,e){return fc(4,4,t,e)}function zT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BT(t,e,n){n=n!=null?n.concat([t]):null,fc(4,4,zT.bind(null,e,t),n)}function lv(){}function HT(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&ev(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FT(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&ev(e,r[1]))return r[0];if(r=t(),Sa){vs(!0);try{t()}finally{vs(!1)}}return n.memoizedState=[r,e],r}function uv(t,e,n){return n===void 0||Ns&1073741824?t.memoizedState=e:(t.memoizedState=n,t=DC(),Ue.lanes|=t,Us|=t,n)}function qT(t,e,n,r){return _r(n,e)?n:Bo.current!==null?(t=uv(t,n,r),_r(t,e)||(mn=!0),t):Ns&42?(t=DC(),Ue.lanes|=t,Us|=t,e):(mn=!0,t.memoizedState=n)}function GT(t,e,n,r,i){var s=st.p;st.p=s!==0&&8>s?s:8;var a=Ae.T,o={};Ae.T=o,hv(t,!1,e,n);try{var l=i(),c=Ae.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=GM(l,r);hu(t,e,h,vr(t))}else hu(t,e,r,vr(t))}catch(m){hu(t,e,{then:function(){},status:"rejected",reason:m},vr())}finally{st.p=s,Ae.T=a}}function WM(){}function Ep(t,e,n,r){if(t.tag!==5)throw Error(Q(476));var i=$T(t).queue;GT(t,i,e,da,n===null?WM:function(){return KT(t),n(r)})}function $T(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:da,baseState:da,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:da},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function KT(t){var e=$T(t).next.queue;hu(t,e,{},vr())}function cv(){return Vn(Pu)}function YT(){return Yt().memoizedState}function QT(){return Yt().memoizedState}function XM(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=vr();t=Ss(n);var r=Ts(e,t,n);r!==null&&(yr(r,e,n),lu(r,e,n)),e={cache:Wg()},t.payload=e;return}e=e.return}}function ZM(t,e,n){var r=vr();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ud(t)?XT(e,n):(n=$g(t,e,n,r),n!==null&&(yr(n,t,r),ZT(n,e,r)))}function WT(t,e,n){var r=vr();hu(t,e,n,r)}function hu(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ud(t))XT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,_r(o,a))return sd(t,e,i,0),_t===null&&id(),!1}catch{}finally{}if(n=$g(t,e,i,r),n!==null)return yr(n,t,r),ZT(n,e,r),!0}return!1}function hv(t,e,n,r){if(r={lane:2,revertLane:_v(),action:r,hasEagerState:!1,eagerState:null,next:null},ud(t)){if(e)throw Error(Q(479))}else e=$g(t,n,r,2),e!==null&&yr(e,t,2)}function ud(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function XT(t,e){Ao=ef=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZT(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,HS(t,n)}}var nf={readContext:Vn,use:od,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},JT={readContext:Vn,use:od,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:tb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Th(4194308,4,zT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Th(4194308,4,t,e)},useInsertionEffect:function(t,e){Th(4,2,t,e)},useMemo:function(t,e){var n=Zn();e=e===void 0?null:e;var r=t();if(Sa){vs(!0);try{t()}finally{vs(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Zn();if(n!==void 0){var i=n(e);if(Sa){vs(!0);try{n(e)}finally{vs(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=ZM.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:function(t){t=_p(t);var e=t.queue,n=WT.bind(null,Ue,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:lv,useDeferredValue:function(t,e){var n=Zn();return uv(n,t,e)},useTransition:function(){var t=_p(!1);return t=GT.bind(null,Ue,t.queue,!0,!1),Zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Ue,i=Zn();if(it){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),_t===null)throw Error(Q(349));Je&124||AT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tb(RT.bind(null,r,s,t),[t]),r.flags|=2048,Ho(9,ld(),xT.bind(null,r,s,n,e),null),n},useId:function(){var t=Zn(),e=_t.identifierPrefix;if(it){var n=Ii,r=Mi;n=(r&~(1<<32-gr(r)-1)).toString(32)+n,e="«"+e+"R"+n,n=tf++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=$M++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:cv,useFormState:Z_,useActionState:Z_,useOptimistic:function(t){var e=Zn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=hv.bind(null,Ue,!0,n),n.dispatch=e,[t,e]},useMemoCache:av,useCacheRefresh:function(){return Zn().memoizedState=XM.bind(null,Ue)}},eC={readContext:Vn,use:od,useCallback:HT,useContext:Vn,useEffect:VT,useImperativeHandle:BT,useInsertionEffect:UT,useLayoutEffect:jT,useMemo:FT,useReducer:Sh,useRef:NT,useState:function(){return Sh(zi)},useDebugValue:lv,useDeferredValue:function(t,e){var n=Yt();return qT(n,dt.memoizedState,t,e)},useTransition:function(){var t=Sh(zi)[0],e=Yt().memoizedState;return[typeof t=="boolean"?t:hc(t),e]},useSyncExternalStore:CT,useId:YT,useHostTransitionStatus:cv,useFormState:J_,useActionState:J_,useOptimistic:function(t,e){var n=Yt();return IT(n,dt,t,e)},useMemoCache:av,useCacheRefresh:QT},JM={readContext:Vn,use:od,useCallback:HT,useContext:Vn,useEffect:VT,useImperativeHandle:BT,useInsertionEffect:UT,useLayoutEffect:jT,useMemo:FT,useReducer:im,useRef:NT,useState:function(){return im(zi)},useDebugValue:lv,useDeferredValue:function(t,e){var n=Yt();return dt===null?uv(n,t,e):qT(n,dt.memoizedState,t,e)},useTransition:function(){var t=im(zi)[0],e=Yt().memoizedState;return[typeof t=="boolean"?t:hc(t),e]},useSyncExternalStore:CT,useId:YT,useHostTransitionStatus:cv,useFormState:eb,useActionState:eb,useOptimistic:function(t,e){var n=Yt();return dt!==null?IT(n,dt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:av,useCacheRefresh:QT},Ro=null,Iu=0;function Wc(t){var e=Iu;return Iu+=1,Ro===null&&(Ro=[]),bT(Ro,t,e)}function Dl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Xc(t,e){throw e.$$typeof===LL?Error(Q(525)):(t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function nb(t){var e=t._init;return e(t._payload)}function tC(t){function e(_,v){if(t){var C=_.deletions;C===null?(_.deletions=[v],_.flags|=16):C.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_){for(var v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(_,v){return _=Ni(_,v),_.index=0,_.sibling=null,_}function s(_,v,C){return _.index=C,t?(C=_.alternate,C!==null?(C=C.index,C<v?(_.flags|=67108866,v):C):(_.flags|=67108866,v)):(_.flags|=1048576,v)}function a(_){return t&&_.alternate===null&&(_.flags|=67108866),_}function o(_,v,C,R){return v===null||v.tag!==6?(v=tm(C,_.mode,R),v.return=_,v):(v=i(v,C),v.return=_,v)}function l(_,v,C,R){var k=C.type;return k===lo?h(_,v,C.props.children,R,C.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ss&&nb(k)===v.type)?(v=i(v,C.props),Dl(v,C),v.return=_,v):(v=Eh(C.type,C.key,C.props,null,_.mode,R),Dl(v,C),v.return=_,v)}function c(_,v,C,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==C.containerInfo||v.stateNode.implementation!==C.implementation?(v=nm(C,_.mode,R),v.return=_,v):(v=i(v,C.children||[]),v.return=_,v)}function h(_,v,C,R,k){return v===null||v.tag!==7?(v=ma(C,_.mode,R,k),v.return=_,v):(v=i(v,C),v.return=_,v)}function m(_,v,C){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=tm(""+v,_.mode,C),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fc:return C=Eh(v.type,v.key,v.props,null,_.mode,C),Dl(C,v),C.return=_,C;case ql:return v=nm(v,_.mode,C),v.return=_,v;case ss:var R=v._init;return v=R(v._payload),m(_,v,C)}if(Gl(v)||Ll(v))return v=ma(v,_.mode,C,null),v.return=_,v;if(typeof v.then=="function")return m(_,Wc(v),C);if(v.$$typeof===Li)return m(_,Yc(_,v),C);Xc(_,v)}return null}function d(_,v,C,R){var k=v!==null?v.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return k!==null?null:o(_,v,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Fc:return C.key===k?l(_,v,C,R):null;case ql:return C.key===k?c(_,v,C,R):null;case ss:return k=C._init,C=k(C._payload),d(_,v,C,R)}if(Gl(C)||Ll(C))return k!==null?null:h(_,v,C,R,null);if(typeof C.then=="function")return d(_,v,Wc(C),R);if(C.$$typeof===Li)return d(_,v,Yc(_,C),R);Xc(_,C)}return null}function g(_,v,C,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return _=_.get(C)||null,o(v,_,""+R,k);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Fc:return _=_.get(R.key===null?C:R.key)||null,l(v,_,R,k);case ql:return _=_.get(R.key===null?C:R.key)||null,c(v,_,R,k);case ss:var x=R._init;return R=x(R._payload),g(_,v,C,R,k)}if(Gl(R)||Ll(R))return _=_.get(C)||null,h(v,_,R,k,null);if(typeof R.then=="function")return g(_,v,C,Wc(R),k);if(R.$$typeof===Li)return g(_,v,C,Yc(v,R),k);Xc(v,R)}return null}function E(_,v,C,R){for(var k=null,x=null,T=v,b=v=0,w=null;T!==null&&b<C.length;b++){T.index>b?(w=T,T=null):w=T.sibling;var L=d(_,T,C[b],R);if(L===null){T===null&&(T=w);break}t&&T&&L.alternate===null&&e(_,T),v=s(L,v,b),x===null?k=L:x.sibling=L,x=L,T=w}if(b===C.length)return n(_,T),it&&sa(_,b),k;if(T===null){for(;b<C.length;b++)T=m(_,C[b],R),T!==null&&(v=s(T,v,b),x===null?k=T:x.sibling=T,x=T);return it&&sa(_,b),k}for(T=r(T);b<C.length;b++)w=g(T,_,b,C[b],R),w!==null&&(t&&w.alternate!==null&&T.delete(w.key===null?b:w.key),v=s(w,v,b),x===null?k=w:x.sibling=w,x=w);return t&&T.forEach(function(M){return e(_,M)}),it&&sa(_,b),k}function A(_,v,C,R){if(C==null)throw Error(Q(151));for(var k=null,x=null,T=v,b=v=0,w=null,L=C.next();T!==null&&!L.done;b++,L=C.next()){T.index>b?(w=T,T=null):w=T.sibling;var M=d(_,T,L.value,R);if(M===null){T===null&&(T=w);break}t&&T&&M.alternate===null&&e(_,T),v=s(M,v,b),x===null?k=M:x.sibling=M,x=M,T=w}if(L.done)return n(_,T),it&&sa(_,b),k;if(T===null){for(;!L.done;b++,L=C.next())L=m(_,L.value,R),L!==null&&(v=s(L,v,b),x===null?k=L:x.sibling=L,x=L);return it&&sa(_,b),k}for(T=r(T);!L.done;b++,L=C.next())L=g(T,_,b,L.value,R),L!==null&&(t&&L.alternate!==null&&T.delete(L.key===null?b:L.key),v=s(L,v,b),x===null?k=L:x.sibling=L,x=L);return t&&T.forEach(function(P){return e(_,P)}),it&&sa(_,b),k}function S(_,v,C,R){if(typeof C=="object"&&C!==null&&C.type===lo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Fc:e:{for(var k=C.key;v!==null;){if(v.key===k){if(k=C.type,k===lo){if(v.tag===7){n(_,v.sibling),R=i(v,C.props.children),R.return=_,_=R;break e}}else if(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ss&&nb(k)===v.type){n(_,v.sibling),R=i(v,C.props),Dl(R,C),R.return=_,_=R;break e}n(_,v);break}else e(_,v);v=v.sibling}C.type===lo?(R=ma(C.props.children,_.mode,R,C.key),R.return=_,_=R):(R=Eh(C.type,C.key,C.props,null,_.mode,R),Dl(R,C),R.return=_,_=R)}return a(_);case ql:e:{for(k=C.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===C.containerInfo&&v.stateNode.implementation===C.implementation){n(_,v.sibling),R=i(v,C.children||[]),R.return=_,_=R;break e}else{n(_,v);break}else e(_,v);v=v.sibling}R=nm(C,_.mode,R),R.return=_,_=R}return a(_);case ss:return k=C._init,C=k(C._payload),S(_,v,C,R)}if(Gl(C))return E(_,v,C,R);if(Ll(C)){if(k=Ll(C),typeof k!="function")throw Error(Q(150));return C=k.call(C),A(_,v,C,R)}if(typeof C.then=="function")return S(_,v,Wc(C),R);if(C.$$typeof===Li)return S(_,v,Yc(_,C),R);Xc(_,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,v!==null&&v.tag===6?(n(_,v.sibling),R=i(v,C),R.return=_,_=R):(n(_,v),R=tm(C,_.mode,R),R.return=_,_=R),a(_)):n(_,v)}return function(_,v,C,R){try{Iu=0;var k=S(_,v,C,R);return Ro=null,k}catch(T){if(T===cc||T===ad)throw T;var x=mr(29,T,null,_.mode);return x.lanes=R,x.return=_,x}finally{}}}var Fo=tC(!0),nC=tC(!1),Vr=yi(null),oi=null;function us(t){var e=t.alternate;Lt(tn,tn.current&1),Lt(Vr,t),oi===null&&(e===null||Bo.current!==null||e.memoizedState!==null)&&(oi=t)}function rC(t){if(t.tag===22){if(Lt(tn,tn.current),Lt(Vr,t),oi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(oi=t)}}else cs()}function cs(){Lt(tn,tn.current),Lt(Vr,Vr.current)}function Di(t){pn(Vr),oi===t&&(oi=null),pn(tn)}var tn=yi(0);function rf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Up(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function sm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wp={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vr(),i=Ss(r);i.payload=e,n!=null&&(i.callback=n),e=Ts(t,i,r),e!==null&&(yr(e,t,r),lu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vr(),i=Ss(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ts(t,i,r),e!==null&&(yr(e,t,r),lu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vr(),r=Ss(n);r.tag=2,e!=null&&(r.callback=e),e=Ts(t,r,n),e!==null&&(yr(e,t,n),lu(e,t,n))}};function rb(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Ru(n,r)||!Ru(i,s):!0}function ib(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wp.enqueueReplaceState(e,e.state,null)}function Ta(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Tt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var sf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function iC(t){sf(t)}function sC(t){console.error(t)}function aC(t){sf(t)}function af(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function sb(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Sp(t,e,n){return n=Ss(n),n.tag=3,n.payload={element:null},n.callback=function(){af(t,e)},n}function oC(t){return t=Ss(t),t.tag=3,t}function lC(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){sb(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){sb(e,n,r),typeof i!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function eI(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&lc(e,n,i,!0),n=Vr.current,n!==null){switch(n.tag){case 13:return oi===null?Ip():n.alternate===null&&Ut===0&&(Ut=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===pp?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),gm(t,r,i)),!1;case 22:return n.flags|=65536,r===pp?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),gm(t,r,i)),!1}throw Error(Q(435,n.tag))}return gm(t,r,i),Ip(),!1}if(it)return e=Vr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==cp&&(t=Error(Q(422),{cause:r}),Lu(Mr(t,n)))):(r!==cp&&(e=Error(Q(423),{cause:r}),Lu(Mr(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Mr(r,n),i=Sp(t.stateNode,r,i),rm(t,i),Ut!==4&&(Ut=2)),!1;var s=Error(Q(520),{cause:r});if(s=Mr(s,n),mu===null?mu=[s]:mu.push(s),Ut!==4&&(Ut=2),e===null)return!0;r=Mr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Sp(n.stateNode,r,t),rm(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Cs===null||!Cs.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=oC(i),lC(i,t,n,r),rm(n,i),!1}n=n.return}while(n!==null);return!1}var uC=Error(Q(461)),mn=!1;function En(t,e,n,r){e.child=t===null?nC(e,null,n,r):Fo(e,t.child,n,r)}function ab(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return wa(e),r=tv(t,e,n,a,s,i),o=nv(),t!==null&&!mn?(rv(t,e,i),Bi(t,e,i)):(it&&o&&Yg(e),e.flags|=1,En(t,e,r,i),e.child)}function ob(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Kg(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,cC(t,e,s,r,i)):(t=Eh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!fv(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ru,n(a,r)&&t.ref===e.ref)return Bi(t,e,i)}return e.flags|=1,t=Ni(s,r),t.ref=e.ref,t.return=e,e.child=t}function cC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ru(s,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=s,fv(t,i))t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,Bi(t,e,i)}return Tp(t,e,n,r,i)}function hC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return lb(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&wh(e,s!==null?s.cachePool:null),s!==null?Q_(e,s):yp(),rC(e);else return e.lanes=e.childLanes=536870912,lb(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(wh(e,s.cachePool),Q_(e,s),cs(),e.memoizedState=null):(t!==null&&wh(e,null),yp(),cs());return En(t,e,i,n),e.child}function lb(t,e,n,r){var i=Xg();return i=i===null?null:{parent:en._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&wh(e,null),yp(),rC(e),t!==null&&lc(t,e,r,!0),null}function Ch(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Q(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Tp(t,e,n,r,i){return wa(e),n=tv(t,e,n,r,void 0,i),r=nv(),t!==null&&!mn?(rv(t,e,i),Bi(t,e,i)):(it&&r&&Yg(e),e.flags|=1,En(t,e,n,i),e.child)}function ub(t,e,n,r,i,s){return wa(e),e.updateQueue=null,n=TT(e,r,n,i),ST(t),r=nv(),t!==null&&!mn?(rv(t,e,s),Bi(t,e,s)):(it&&r&&Yg(e),e.flags|=1,En(t,e,n,s),e.child)}function cb(t,e,n,r,i){if(wa(e),e.stateNode===null){var s=vo,a=n.contextType;typeof a=="object"&&a!==null&&(s=Vn(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wp,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},Zg(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?Vn(a):vo,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(sm(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&wp.enqueueReplaceState(s,s.state,null),cu(e,r,s,i),uu(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,l=Ta(n,o);s.props=l;var c=s.context,h=n.contextType;a=vo,typeof h=="object"&&h!==null&&(a=Vn(h));var m=n.getDerivedStateFromProps;h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||c!==a)&&ib(e,s,r,a),as=!1;var d=e.memoizedState;s.state=d,cu(e,r,s,i),uu(),c=e.memoizedState,o||d!==c||as?(typeof m=="function"&&(sm(e,n,m,r),c=e.memoizedState),(l=as||rb(e,n,l,r,d,c,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,gp(t,e),a=e.memoizedProps,h=Ta(n,a),s.props=h,m=e.pendingProps,d=s.context,c=n.contextType,l=vo,typeof c=="object"&&c!==null&&(l=Vn(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||d!==l)&&ib(e,s,r,l),as=!1,d=e.memoizedState,s.state=d,cu(e,r,s,i),uu();var g=e.memoizedState;a!==m||d!==g||as||t!==null&&t.dependencies!==null&&Zh(t.dependencies)?(typeof o=="function"&&(sm(e,n,o,r),g=e.memoizedState),(h=as||rb(e,n,h,r,d,g,l)||t!==null&&t.dependencies!==null&&Zh(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=h):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,Ch(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=Fo(e,t.child,null,i),e.child=Fo(e,null,n,i)):En(t,e,n,i),e.memoizedState=s.state,t=e.child):t=Bi(t,e,i),t}function hb(t,e,n,r){return oc(),e.flags|=256,En(t,e,n,r),e.child}var am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function om(t){return{baseLanes:t,cachePool:yT()}}function lm(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=kr),t}function fC(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(tn.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(it){if(i?us(e):cs(),it){var o=Vt,l;if(l=o){e:{for(l=o,o=ri;l.nodeType!==8;){if(!o){o=null;break e}if(l=Qr(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:pa!==null?{id:Mi,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},l=mr(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,Fn=e,Vt=null,l=!0):l=!1}l||Ea(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Up(o)?e.lanes=32:e.lanes=536870912,null;Di(e)}return o=r.children,r=r.fallback,i?(cs(),i=e.mode,o=of({mode:"hidden",children:o},i),r=ma(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,i=e.child,i.memoizedState=om(n),i.childLanes=lm(t,a,n),e.memoizedState=am,r):(us(e),Cp(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(us(e),e.flags&=-257,e=um(t,e,n)):e.memoizedState!==null?(cs(),e.child=t.child,e.flags|=128,e=null):(cs(),i=r.fallback,o=e.mode,r=of({mode:"visible",children:r.children},o),i=ma(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Fo(e,t.child,null,n),r=e.child,r.memoizedState=om(n),r.childLanes=lm(t,a,n),e.memoizedState=am,e=i);else if(us(e),Up(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(Q(419)),r.stack="",r.digest=a,Lu({value:r,source:null,stack:null}),e=um(t,e,n)}else if(mn||lc(t,e,n,!1),a=(n&t.childLanes)!==0,mn||a){if(a=_t,a!==null&&(r=n&-n,r=r&42?1:Ng(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,al(t,r),yr(a,t,r),uC;o.data==="$?"||Ip(),e=um(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Vt=Qr(o.nextSibling),Fn=e,it=!0,ga=null,ri=!1,t!==null&&(Ar[xr++]=Mi,Ar[xr++]=Ii,Ar[xr++]=pa,Mi=t.id,Ii=t.overflow,pa=e),e=Cp(e,r.children),e.flags|=4096);return e}return i?(cs(),i=r.fallback,o=e.mode,l=t.child,c=l.sibling,r=Ni(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?i=Ni(c,i):(i=ma(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o===null?o=om(n):(l=o.cachePool,l!==null?(c=en._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=yT(),o={baseLanes:o.baseLanes|n,cachePool:l}),i.memoizedState=o,i.childLanes=lm(t,a,n),e.memoizedState=am,r):(us(e),n=t.child,t=n.sibling,n=Ni(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Cp(t,e){return e=of({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function of(t,e){return t=mr(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function um(t,e,n){return Fo(e,t.child,null,n),t=Cp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fp(t.return,e,n)}function cm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(En(t,e,r.children,n),r=tn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fb(t,n,e);else if(t.tag===19)fb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Lt(tn,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cm(e,!0,n,null,s);break;case"together":cm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Us|=e.lanes,!(n&e.childLanes))if(t!==null){if(lc(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fv(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Zh(t)))}function tI(t,e,n){switch(e.tag){case 3:qh(e,e.stateNode.containerInfo),ls(e,en,t.memoizedState.cache),oc();break;case 27:case 5:ep(e);break;case 4:qh(e,e.stateNode.containerInfo);break;case 10:ls(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(us(e),e.flags|=128,null):n&e.child.childLanes?fC(t,e,n):(us(e),t=Bi(t,e,n),t!==null?t.sibling:null);us(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(lc(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return dC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Lt(tn,tn.current),r)break;return null;case 22:case 23:return e.lanes=0,hC(t,e,n);case 24:ls(e,en,t.memoizedState.cache)}return Bi(t,e,n)}function mC(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)mn=!0;else{if(!fv(t,n)&&!(e.flags&128))return mn=!1,tI(t,e,n);mn=!!(t.flags&131072)}else mn=!1,it&&e.flags&1048576&&gT(e,Xh,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")Kg(r)?(t=Ta(r,t),e.tag=1,e=cb(null,e,r,t,n)):(e.tag=0,e=Tp(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===Dg){e.tag=11,e=ab(null,e,r,t,n);break e}else if(i===kg){e.tag=14,e=ob(null,e,r,t,n);break e}}throw e=Zm(r)||r,Error(Q(306,e,""))}}return e;case 0:return Tp(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Ta(r,e.pendingProps),cb(t,e,r,i,n);case 3:e:{if(qh(e,e.stateNode.containerInfo),t===null)throw Error(Q(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,gp(t,e),cu(e,r,null,n);var a=e.memoizedState;if(r=a.cache,ls(e,en,r),r!==s.cache&&dp(e,[en],n,!0),uu(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=hb(t,e,r,n);break e}else if(r!==i){i=Mr(Error(Q(424)),e),Lu(i),e=hb(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Vt=Qr(t.firstChild),Fn=e,it=!0,ga=null,ri=!0,n=nC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(oc(),r===i){e=Bi(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 26:return Ch(t,e),t===null?(n=Lb(e.type,null,e.pendingProps,null))?e.memoizedState=n:it||(n=e.type,t=e.pendingProps,r=mf(ws.current).createElement(n),r[Nn]=e,r[nr]=t,An(r,n,t),dn(r),e.stateNode=r):e.memoizedState=Lb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ep(e),t===null&&it&&(r=e.stateNode=eA(e.type,e.pendingProps,ws.current),Fn=e,ri=!0,i=Vt,Qs(e.type)?(jp=i,Vt=Qr(r.firstChild)):Vt=i),En(t,e,e.pendingProps.children,n),Ch(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&it&&((i=r=Vt)&&(r=LI(r,e.type,e.pendingProps,ri),r!==null?(e.stateNode=r,Fn=e,Vt=Qr(r.firstChild),ri=!1,i=!0):i=!1),i||Ea(e)),ep(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,Np(i,s)?r=null:a!==null&&Np(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=tv(t,e,KM,null,null,n),Pu._currentValue=i),Ch(t,e),En(t,e,r,n),e.child;case 6:return t===null&&it&&((t=n=Vt)&&(n=MI(n,e.pendingProps,ri),n!==null?(e.stateNode=n,Fn=e,Vt=null,t=!0):t=!1),t||Ea(e)),null;case 13:return fC(t,e,n);case 4:return qh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):En(t,e,r,n),e.child;case 11:return ab(t,e,e.type,e.pendingProps,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,ls(e,e.type,r.value),En(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,wa(e),i=Vn(i),r=r(i),e.flags|=1,En(t,e,r,n),e.child;case 14:return ob(t,e,e.type,e.pendingProps,n);case 15:return cC(t,e,e.type,e.pendingProps,n);case 19:return dC(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=of(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Ni(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return hC(t,e,n);case 24:return wa(e),r=Vn(en),t===null?(i=Xg(),i===null&&(i=_t,s=Wg(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},Zg(e),ls(e,en,i)):(t.lanes&n&&(gp(t,e),cu(e,null,null,n),uu()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),ls(e,en,r)):(r=s.cache,ls(e,en,r),r!==i.cache&&dp(e,[en],n,!0))),En(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Q(156,e.tag))}function Ti(t){t.flags|=4}function db(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!rA(e)){if(e=Vr.current,e!==null&&((Je&4194048)===Je?oi!==null:(Je&62914560)!==Je&&!(Je&536870912)||e!==oi))throw ou=pp,_T;t.flags|=8192}}function Zc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?zS():536870912,t.lanes|=e,qo|=e)}function kl(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nI(t,e,n){var r=e.pendingProps;switch(Qg(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return It(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Vi(en),Vo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ol(e)?Ti(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,F_())),It(e),null;case 26:return n=e.memoizedState,t===null?(Ti(e),n!==null?(It(e),db(e,n)):(It(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Ti(e),It(e),db(e,n)):(It(e),e.flags&=-16777217):(t.memoizedProps!==r&&Ti(e),It(e),e.flags&=-16777217),null;case 27:Gh(e),n=ws.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ti(e);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return It(e),null}t=si.current,Ol(e)?B_(e):(t=eA(i,r,n),e.stateNode=t,Ti(e))}return It(e),null;case 5:if(Gh(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ti(e);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return It(e),null}if(t=si.current,Ol(e))B_(e);else{switch(i=mf(ws.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[Nn]=e,t[nr]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(An(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ti(e)}}return It(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ti(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(t=ws.current,Ol(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Fn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Nn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||XC(t.nodeValue,n)),t||Ea(e)}else t=mf(t).createTextNode(r),t[Nn]=e,e.stateNode=t}return It(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Ol(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Nn]=e}else oc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),i=!1}else i=F_(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Di(e),e):(Di(e),null)}if(Di(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Zc(e,e.updateQueue),It(e),null;case 4:return Vo(),t===null&&bv(e.stateNode.containerInfo),It(e),null;case 10:return Vi(e.type),It(e),null;case 19:if(pn(tn),i=e.memoizedState,i===null)return It(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)kl(i,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=rf(t),s!==null){for(e.flags|=128,kl(i,!1),t=s.updateQueue,e.updateQueue=t,Zc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)pT(n,t),n=n.sibling;return Lt(tn,tn.current&1|2),e.child}t=t.sibling}i.tail!==null&&ai()>uf&&(e.flags|=128,r=!0,kl(i,!1),e.lanes=4194304)}else{if(!r)if(t=rf(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Zc(e,t),kl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!it)return It(e),null}else 2*ai()-i.renderingStartTime>uf&&n!==536870912&&(e.flags|=128,r=!0,kl(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ai(),e.sibling=null,t=tn.current,Lt(tn,r?t&1|2:t&1),e):(It(e),null);case 22:case 23:return Di(e),Jg(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),n=e.updateQueue,n!==null&&Zc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&pn(va),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Vi(en),It(e),null;case 25:return null;case 30:return null}throw Error(Q(156,e.tag))}function rI(t,e){switch(Qg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vi(en),Vo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Gh(e),null;case 13:if(Di(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));oc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pn(tn),null;case 4:return Vo(),null;case 10:return Vi(e.type),null;case 22:case 23:return Di(e),Jg(),t!==null&&pn(va),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Vi(en),null;case 25:return null;default:return null}}function pC(t,e){switch(Qg(e),e.tag){case 3:Vi(en),Vo();break;case 26:case 27:case 5:Gh(e);break;case 4:Vo();break;case 13:Di(e);break;case 19:pn(tn);break;case 10:Vi(e.type);break;case 22:case 23:Di(e),Jg(),t!==null&&pn(va);break;case 24:Vi(en)}}function dc(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){vt(e,e.return,o)}}function Vs(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var l=n,c=o;try{c()}catch(h){vt(i,l,h)}}}r=r.next}while(r!==s)}}catch(h){vt(e,e.return,h)}}function gC(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{wT(e,n)}catch(r){vt(t,t.return,r)}}}function vC(t,e,n){n.props=Ta(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){vt(t,e,r)}}function fu(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){vt(t,e,i)}}function ii(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){vt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){vt(t,e,i)}else n.current=null}function yC(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){vt(t,t.return,i)}}function hm(t,e,n){try{var r=t.stateNode;TI(r,t.type,n,e),r[nr]=e}catch(i){vt(t,t.return,i)}}function _C(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qs(t.type)||t.tag===4}function fm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_C(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dd));else if(r!==4&&(r===27&&Qs(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ap(t,e,n),t=t.sibling;t!==null;)Ap(t,e,n),t=t.sibling}function lf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Qs(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(lf(t,e,n),t=t.sibling;t!==null;)lf(t,e,n),t=t.sibling}function bC(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);An(e,r,n),e[Nn]=t,e[nr]=n}catch(s){vt(t,t.return,s)}}var xi=!1,Bt=!1,dm=!1,mb=typeof WeakSet=="function"?WeakSet:Set,fn=null;function iI(t,e){if(t=t.containerInfo,kp=yf,t=oT(t),qg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,h=0,m=t,d=null;t:for(;;){for(var g;m!==n||i!==0&&m.nodeType!==3||(o=a+i),m!==s||r!==0&&m.nodeType!==3||(l=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(g=m.firstChild)!==null;)d=m,m=g;for(;;){if(m===t)break t;if(d===n&&++c===i&&(o=a),d===s&&++h===r&&(l=a),(g=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pp={focusedElem:t,selectionRange:n},yf=!1,fn=e;fn!==null;)if(e=fn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,fn=t;else for(;fn!==null;){switch(e=fn,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var E=Ta(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(E,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(A){vt(n,n.return,A)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Vp(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Q(163))}if(t=e.sibling,t!==null){t.return=e.return,fn=t;break}fn=e.return}}function EC(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ji(t,n),r&4&&dc(5,n);break;case 1:if(Ji(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){vt(n,n.return,a)}else{var i=Ta(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){vt(n,n.return,a)}}r&64&&gC(n),r&512&&fu(n,n.return);break;case 3:if(Ji(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{wT(t,e)}catch(a){vt(n,n.return,a)}}break;case 27:e===null&&r&4&&bC(n);case 26:case 5:Ji(t,n),e===null&&r&4&&yC(n),r&512&&fu(n,n.return);break;case 12:Ji(t,n);break;case 13:Ji(t,n),r&4&&TC(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=dI.bind(null,n),II(t,n))));break;case 22:if(r=n.memoizedState!==null||xi,!r){e=e!==null&&e.memoizedState!==null||Bt,i=xi;var s=Bt;xi=r,(Bt=e)&&!s?ns(t,n,(n.subtreeFlags&8772)!==0):Ji(t,n),xi=i,Bt=s}break;case 30:break;default:Ji(t,n)}}function wC(t){var e=t.alternate;e!==null&&(t.alternate=null,wC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Ug(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xt=null,Jn=!1;function Ci(t,e,n){for(n=n.child;n!==null;)SC(t,e,n),n=n.sibling}function SC(t,e,n){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(nc,n)}catch{}switch(n.tag){case 26:Bt||ii(n,e),Ci(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Bt||ii(n,e);var r=xt,i=Jn;Qs(n.type)&&(xt=n.stateNode,Jn=!1),Ci(t,e,n),gu(n.stateNode),xt=r,Jn=i;break;case 5:Bt||ii(n,e);case 6:if(r=xt,i=Jn,xt=null,Ci(t,e,n),xt=r,Jn=i,xt!==null)if(Jn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(n.stateNode)}catch(s){vt(n,e,s)}else try{xt.removeChild(n.stateNode)}catch(s){vt(n,e,s)}break;case 18:xt!==null&&(Jn?(t=xt,Ab(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Uu(t)):Ab(xt,n.stateNode));break;case 4:r=xt,i=Jn,xt=n.stateNode.containerInfo,Jn=!0,Ci(t,e,n),xt=r,Jn=i;break;case 0:case 11:case 14:case 15:Bt||Vs(2,n,e),Bt||Vs(4,n,e),Ci(t,e,n);break;case 1:Bt||(ii(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&vC(n,e,r)),Ci(t,e,n);break;case 21:Ci(t,e,n);break;case 22:Bt=(r=Bt)||n.memoizedState!==null,Ci(t,e,n),Bt=r;break;default:Ci(t,e,n)}}function TC(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Uu(t)}catch(n){vt(e,e.return,n)}}function sI(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new mb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new mb),e;default:throw Error(Q(435,t.tag))}}function mm(t,e){var n=sI(t);e.forEach(function(r){var i=mI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Qs(o.type)){xt=o.stateNode,Jn=!1;break e}break;case 5:xt=o.stateNode,Jn=!1;break e;case 3:case 4:xt=o.stateNode.containerInfo,Jn=!0;break e}o=o.return}if(xt===null)throw Error(Q(160));SC(s,a,i),xt=null,Jn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)CC(e,t),e=e.sibling}var $r=null;function CC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:lr(e,t),ur(t),r&4&&(Vs(3,t,t.return),dc(3,t),Vs(5,t,t.return));break;case 1:lr(e,t),ur(t),r&512&&(Bt||n===null||ii(n,n.return)),r&64&&xi&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=$r;if(lr(e,t),ur(t),r&512&&(Bt||n===null||ii(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[sc]||s[Nn]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),An(s,r,n),s[Nn]=t,dn(s),r=s;break e;case"link":var a=Ib("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),An(s,r,n),i.head.appendChild(s);break;case"meta":if(a=Ib("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),An(s,r,n),i.head.appendChild(s);break;default:throw Error(Q(468,r))}s[Nn]=t,dn(s),r=s}t.stateNode=r}else Ob(i,t.type,t.stateNode);else t.stateNode=Mb(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?Ob(i,t.type,t.stateNode):Mb(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&hm(t,t.memoizedProps,n.memoizedProps)}break;case 27:lr(e,t),ur(t),r&512&&(Bt||n===null||ii(n,n.return)),n!==null&&r&4&&hm(t,t.memoizedProps,n.memoizedProps);break;case 5:if(lr(e,t),ur(t),r&512&&(Bt||n===null||ii(n,n.return)),t.flags&32){i=t.stateNode;try{jo(i,"")}catch(g){vt(t,t.return,g)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,hm(t,i,n!==null?n.memoizedProps:i)),r&1024&&(dm=!0);break;case 6:if(lr(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(Q(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(g){vt(t,t.return,g)}}break;case 3:if(Rh=null,i=$r,$r=pf(e.containerInfo),lr(e,t),$r=i,ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uu(e.containerInfo)}catch(g){vt(t,t.return,g)}dm&&(dm=!1,AC(t));break;case 4:r=$r,$r=pf(t.stateNode.containerInfo),lr(e,t),ur(t),$r=r;break;case 12:lr(e,t),ur(t);break;case 13:lr(e,t),ur(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(vv=ai()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,mm(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=xi,h=Bt;if(xi=c||i,Bt=h||l,lr(e,t),Bt=h,xi=c,ur(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||xi||Bt||aa(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(s=l.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var m=l.memoizedProps.style,d=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(g){vt(l,l.return,g)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){vt(l,l.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,mm(t,n))));break;case 19:lr(e,t),ur(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,mm(t,r)));break;case 30:break;case 21:break;default:lr(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(_C(r)){n=r;break}r=r.return}if(n==null)throw Error(Q(160));switch(n.tag){case 27:var i=n.stateNode,s=fm(t);lf(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(jo(a,""),n.flags&=-33);var o=fm(t);lf(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=fm(t);Ap(t,c,l);break;default:throw Error(Q(161))}}catch(h){vt(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AC(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;AC(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ji(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)EC(t,e.alternate,e),e=e.sibling}function aa(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Vs(4,e,e.return),aa(e);break;case 1:ii(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&vC(e,e.return,n),aa(e);break;case 27:gu(e.stateNode);case 26:case 5:ii(e,e.return),aa(e);break;case 22:e.memoizedState===null&&aa(e);break;case 30:aa(e);break;default:aa(e)}t=t.sibling}}function ns(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:ns(i,s,n),dc(4,s);break;case 1:if(ns(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){vt(r,r.return,c)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ET(l[i],o)}catch(c){vt(r,r.return,c)}}n&&a&64&&gC(s),fu(s,s.return);break;case 27:bC(s);case 26:case 5:ns(i,s,n),n&&r===null&&a&4&&yC(s),fu(s,s.return);break;case 12:ns(i,s,n);break;case 13:ns(i,s,n),n&&a&4&&TC(i,s);break;case 22:s.memoizedState===null&&ns(i,s,n),fu(s,s.return);break;case 30:break;default:ns(i,s,n)}e=e.sibling}}function dv(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&uc(n))}function mv(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&uc(t))}function ti(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xC(t,e,n,r),e=e.sibling}function xC(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:ti(t,e,n,r),i&2048&&dc(9,e);break;case 1:ti(t,e,n,r);break;case 3:ti(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&uc(t)));break;case 12:if(i&2048){ti(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){vt(e,e.return,l)}}else ti(t,e,n,r);break;case 13:ti(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?ti(t,e,n,r):du(t,e):s._visibility&2?ti(t,e,n,r):(s._visibility|=2,to(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&dv(a,e);break;case 24:ti(t,e,n,r),i&2048&&mv(e.alternate,e);break;default:ti(t,e,n,r)}}function to(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:to(s,a,o,l,i),dc(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?to(s,a,o,l,i):du(s,a):(h._visibility|=2,to(s,a,o,l,i)),i&&c&2048&&dv(a.alternate,a);break;case 24:to(s,a,o,l,i),i&&c&2048&&mv(a.alternate,a);break;default:to(s,a,o,l,i)}e=e.sibling}}function du(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:du(n,r),i&2048&&dv(r.alternate,r);break;case 24:du(n,r),i&2048&&mv(r.alternate,r);break;default:du(n,r)}e=e.sibling}}var Kl=8192;function $a(t){if(t.subtreeFlags&Kl)for(t=t.child;t!==null;)RC(t),t=t.sibling}function RC(t){switch(t.tag){case 26:$a(t),t.flags&Kl&&t.memoizedState!==null&&qI($r,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var e=$r;$r=pf(t.stateNode.containerInfo),$a(t),$r=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Kl,Kl=16777216,$a(t),Kl=e):$a(t));break;default:$a(t)}}function LC(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Pl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];fn=r,IC(r,t)}LC(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)MC(t),t=t.sibling}function MC(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&Vs(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ah(t)):Pl(t);break;default:Pl(t)}}function Ah(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];fn=r,IC(r,t)}LC(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Vs(8,e,e.return),Ah(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ah(e));break;default:Ah(e)}t=t.sibling}}function IC(t,e){for(;fn!==null;){var n=fn;switch(n.tag){case 0:case 11:case 15:Vs(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:uc(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,fn=r;else e:for(n=t;fn!==null;){r=fn;var i=r.sibling,s=r.return;if(wC(r),r===n){fn=null;break e}if(i!==null){i.return=s,fn=i;break e}fn=s}}}var aI={getCacheForType:function(t){var e=Vn(en),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},oI=typeof WeakMap=="function"?WeakMap:Map,ct=0,_t=null,Fe=null,Je=0,ut=0,cr=null,_s=!1,ol=!1,pv=!1,Hi=0,Ut=0,Us=0,ya=0,gv=0,kr=0,qo=0,mu=null,er=null,xp=!1,vv=0,uf=1/0,cf=null,Cs=null,Tn=0,As=null,Go=null,Lo=0,Rp=0,Lp=null,OC=null,pu=0,Mp=null;function vr(){if(ct&2&&Je!==0)return Je&-Je;if(Ae.T!==null){var t=zo;return t!==0?t:_v()}return FS()}function DC(){kr===0&&(kr=!(Je&536870912)||it?jS():536870912);var t=Vr.current;return t!==null&&(t.flags|=32),kr}function yr(t,e,n){(t===_t&&(ut===2||ut===9)||t.cancelPendingCommit!==null)&&($o(t,0),bs(t,Je,kr,!1)),ic(t,n),(!(ct&2)||t!==_t)&&(t===_t&&(!(ct&2)&&(ya|=n),Ut===4&&bs(t,Je,kr,!1)),_i(t))}function kC(t,e,n){if(ct&6)throw Error(Q(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||rc(t,e),i=r?cI(t,e):pm(t,e,!0),s=r;do{if(i===0){ol&&!r&&bs(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!lI(n)){i=pm(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=mu;var l=o.current.memoizedState.isDehydrated;if(l&&($o(o,a).flags|=256),a=pm(o,a,!1),a!==2){if(pv&&!l){o.errorRecoveryDisabledLanes|=s,ya|=s,i=4;break e}s=er,er=i,s!==null&&(er===null?er=s:er.push.apply(er,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){$o(t,0),bs(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(Q(345));case 4:if((e&4194048)!==e)break;case 6:bs(r,e,kr,!_s);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(Q(329))}if((e&62914560)===e&&(i=vv+300-ai(),10<i)){if(bs(r,e,kr,!_s),ed(r,0,!0)!==0)break e;r.timeoutHandle=JC(pb.bind(null,r,n,er,cf,xp,e,kr,ya,qo,_s,s,2,-0,0),i);break e}pb(r,n,er,cf,xp,e,kr,ya,qo,_s,s,0,-0,0)}}break}while(!0);_i(t)}function pb(t,e,n,r,i,s,a,o,l,c,h,m,d,g){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(ku={stylesheets:null,count:0,unsuspend:FI},RC(e),m=GI(),m!==null)){t.cancelPendingCommit=m(vb.bind(null,t,e,s,n,r,i,a,o,l,h,1,d,g)),bs(t,s,a,!c);return}vb(t,e,s,n,r,i,a,o,l)}function lI(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_r(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bs(t,e,n,r){e&=~gv,e&=~ya,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-gr(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&BS(t,n,e)}function cd(){return ct&6?!0:(mc(0),!1)}function yv(){if(Fe!==null){if(ut===0)var t=Fe.return;else t=Fe,Oi=Pa=null,iv(t),Ro=null,Iu=0,t=Fe;for(;t!==null;)pC(t.alternate,t),t=t.return;Fe=null}}function $o(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,AI(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),yv(),_t=t,Fe=n=Ni(t.current,null),Je=e,ut=0,cr=null,_s=!1,ol=rc(t,e),pv=!1,qo=kr=gv=ya=Us=Ut=0,er=mu=null,xp=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-gr(r),s=1<<i;e|=t[i],r&=~s}return Hi=e,id(),n}function PC(t,e){Ue=null,Ae.H=nf,e===cc||e===ad?(e=K_(),ut=3):e===_T?(e=K_(),ut=4):ut=e===uC?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,cr=e,Fe===null&&(Ut=1,af(t,Mr(e,t.current)))}function NC(){var t=Ae.H;return Ae.H=nf,t===null?nf:t}function VC(){var t=Ae.A;return Ae.A=aI,t}function Ip(){Ut=4,_s||(Je&4194048)!==Je&&Vr.current!==null||(ol=!0),!(Us&134217727)&&!(ya&134217727)||_t===null||bs(_t,Je,kr,!1)}function pm(t,e,n){var r=ct;ct|=2;var i=NC(),s=VC();(_t!==t||Je!==e)&&(cf=null,$o(t,e)),e=!1;var a=Ut;e:do try{if(ut!==0&&Fe!==null){var o=Fe,l=cr;switch(ut){case 8:yv(),a=6;break e;case 3:case 2:case 9:case 6:Vr.current===null&&(e=!0);var c=ut;if(ut=0,cr=null,bo(t,o,l,c),n&&ol){a=0;break e}break;default:c=ut,ut=0,cr=null,bo(t,o,l,c)}}uI(),a=Ut;break}catch(h){PC(t,h)}while(!0);return e&&t.shellSuspendCounter++,Oi=Pa=null,ct=r,Ae.H=i,Ae.A=s,Fe===null&&(_t=null,Je=0,id()),a}function uI(){for(;Fe!==null;)UC(Fe)}function cI(t,e){var n=ct;ct|=2;var r=NC(),i=VC();_t!==t||Je!==e?(cf=null,uf=ai()+500,$o(t,e)):ol=rc(t,e);e:do try{if(ut!==0&&Fe!==null){e=Fe;var s=cr;t:switch(ut){case 1:ut=0,cr=null,bo(t,e,s,1);break;case 2:case 9:if($_(s)){ut=0,cr=null,gb(e);break}e=function(){ut!==2&&ut!==9||_t!==t||(ut=7),_i(t)},s.then(e,e);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:$_(s)?(ut=0,cr=null,gb(e)):(ut=0,cr=null,bo(t,e,s,7));break;case 5:var a=null;switch(Fe.tag){case 26:a=Fe.memoizedState;case 5:case 27:var o=Fe;if(!a||rA(a)){ut=0,cr=null;var l=o.sibling;if(l!==null)Fe=l;else{var c=o.return;c!==null?(Fe=c,hd(c)):Fe=null}break t}}ut=0,cr=null,bo(t,e,s,5);break;case 6:ut=0,cr=null,bo(t,e,s,6);break;case 8:yv(),Ut=6;break e;default:throw Error(Q(462))}}hI();break}catch(h){PC(t,h)}while(!0);return Oi=Pa=null,Ae.H=r,Ae.A=i,ct=n,Fe!==null?0:(_t=null,Je=0,id(),Ut)}function hI(){for(;Fe!==null&&!DL();)UC(Fe)}function UC(t){var e=mC(t.alternate,t,Hi);t.memoizedProps=t.pendingProps,e===null?hd(t):Fe=e}function gb(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=ub(n,e,e.pendingProps,e.type,void 0,Je);break;case 11:e=ub(n,e,e.pendingProps,e.type.render,e.ref,Je);break;case 5:iv(e);default:pC(n,e),e=Fe=pT(e,Hi),e=mC(n,e,Hi)}t.memoizedProps=t.pendingProps,e===null?hd(t):Fe=e}function bo(t,e,n,r){Oi=Pa=null,iv(e),Ro=null,Iu=0;var i=e.return;try{if(eI(t,i,e,n,Je)){Ut=1,af(t,Mr(n,t.current)),Fe=null;return}}catch(s){if(i!==null)throw Fe=i,s;Ut=1,af(t,Mr(n,t.current)),Fe=null;return}e.flags&32768?(it||r===1?t=!0:ol||Je&536870912?t=!1:(_s=t=!0,(r===2||r===9||r===3||r===6)&&(r=Vr.current,r!==null&&r.tag===13&&(r.flags|=16384))),jC(e,t)):hd(e)}function hd(t){var e=t;do{if(e.flags&32768){jC(e,_s);return}t=e.return;var n=nI(e.alternate,e,Hi);if(n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Ut===0&&(Ut=5)}function jC(t,e){do{var n=rI(t.alternate,t);if(n!==null){n.flags&=32767,Fe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=n}while(t!==null);Ut=6,Fe=null}function vb(t,e,n,r,i,s,a,o,l){t.cancelPendingCommit=null;do fd();while(Tn!==0);if(ct&6)throw Error(Q(327));if(e!==null){if(e===t.current)throw Error(Q(177));if(s=e.lanes|e.childLanes,s|=Gg,FL(t,n,s,a,o,l),t===_t&&(Fe=_t=null,Je=0),Go=e,As=t,Lo=n,Rp=s,Lp=i,OC=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,pI($h,function(){return qC(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Ae.T,Ae.T=null,i=st.p,st.p=2,a=ct,ct|=4;try{iI(t,e,n)}finally{ct=a,st.p=i,Ae.T=r}}Tn=1,zC(),BC(),HC()}}function zC(){if(Tn===1){Tn=0;var t=As,e=Go,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Ae.T,Ae.T=null;var r=st.p;st.p=2;var i=ct;ct|=4;try{CC(e,t);var s=Pp,a=oT(t.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&aT(o.ownerDocument.documentElement,o)){if(l!==null&&qg(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var m=o.ownerDocument||document,d=m&&m.defaultView||window;if(d.getSelection){var g=d.getSelection(),E=o.textContent.length,A=Math.min(l.start,E),S=l.end===void 0?A:Math.min(l.end,E);!g.extend&&A>S&&(a=S,S=A,A=a);var _=U_(o,A),v=U_(o,S);if(_&&v&&(g.rangeCount!==1||g.anchorNode!==_.node||g.anchorOffset!==_.offset||g.focusNode!==v.node||g.focusOffset!==v.offset)){var C=m.createRange();C.setStart(_.node,_.offset),g.removeAllRanges(),A>S?(g.addRange(C),g.extend(v.node,v.offset)):(C.setEnd(v.node,v.offset),g.addRange(C))}}}}for(m=[],g=o;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var R=m[o];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}yf=!!kp,Pp=kp=null}finally{ct=i,st.p=r,Ae.T=n}}t.current=e,Tn=2}}function BC(){if(Tn===2){Tn=0;var t=As,e=Go,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Ae.T,Ae.T=null;var r=st.p;st.p=2;var i=ct;ct|=4;try{EC(t,e.alternate,e)}finally{ct=i,st.p=r,Ae.T=n}}Tn=3}}function HC(){if(Tn===4||Tn===3){Tn=0,kL();var t=As,e=Go,n=Lo,r=OC;e.subtreeFlags&10256||e.flags&10256?Tn=5:(Tn=0,Go=As=null,FC(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Cs=null),Vg(n),e=e.stateNode,pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(nc,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Ae.T,i=st.p,st.p=2,Ae.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{Ae.T=e,st.p=i}}Lo&3&&fd(),_i(t),i=t.pendingLanes,n&4194090&&i&42?t===Mp?pu++:(pu=0,Mp=t):pu=0,mc(0)}}function FC(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,uc(e)))}function fd(t){return zC(),BC(),HC(),qC()}function qC(){if(Tn!==5)return!1;var t=As,e=Rp;Rp=0;var n=Vg(Lo),r=Ae.T,i=st.p;try{st.p=32>n?32:n,Ae.T=null,n=Lp,Lp=null;var s=As,a=Lo;if(Tn=0,Go=As=null,Lo=0,ct&6)throw Error(Q(331));var o=ct;if(ct|=4,MC(s.current),xC(s,s.current,a,n),ct=o,mc(0,!1),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(nc,s)}catch{}return!0}finally{st.p=i,Ae.T=r,FC(t,e)}}function yb(t,e,n){e=Mr(n,e),e=Sp(t.stateNode,e,2),t=Ts(t,e,2),t!==null&&(ic(t,2),_i(t))}function vt(t,e,n){if(t.tag===3)yb(t,t,n);else for(;e!==null;){if(e.tag===3){yb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cs===null||!Cs.has(r))){t=Mr(n,t),n=oC(2),r=Ts(e,n,2),r!==null&&(lC(n,r,e,t),ic(r,2),_i(r));break}}e=e.return}}function gm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new oI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(pv=!0,i.add(n),t=fI.bind(null,t,e,n),e.then(t,t))}function fI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,_t===t&&(Je&n)===n&&(Ut===4||Ut===3&&(Je&62914560)===Je&&300>ai()-vv?!(ct&2)&&$o(t,0):gv|=n,qo===Je&&(qo=0)),_i(t)}function GC(t,e){e===0&&(e=zS()),t=al(t,e),t!==null&&(ic(t,e),_i(t))}function dI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GC(t,n)}function mI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(Q(314))}r!==null&&r.delete(e),GC(t,n)}function pI(t,e){return Pg(t,e)}var hf=null,no=null,Op=!1,ff=!1,vm=!1,_a=0;function _i(t){t!==no&&t.next===null&&(no===null?hf=no=t:no=no.next=t),ff=!0,Op||(Op=!0,vI())}function mc(t,e){if(!vm&&ff){vm=!0;do for(var n=!1,r=hf;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-gr(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,_b(r,s))}else s=Je,s=ed(r,r===_t?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||rc(r,s)||(n=!0,_b(r,s));r=r.next}while(n);vm=!1}}function gI(){$C()}function $C(){ff=Op=!1;var t=0;_a!==0&&(CI()&&(t=_a),_a=0);for(var e=ai(),n=null,r=hf;r!==null;){var i=r.next,s=KC(r,e);s===0?(r.next=null,n===null?hf=i:n.next=i,i===null&&(no=n)):(n=r,(t!==0||s&3)&&(ff=!0)),r=i}mc(t)}function KC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-gr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=HL(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(e=_t,n=Je,n=ed(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(ut===2||ut===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Fd(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||rc(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Fd(r),Vg(n)){case 2:case 8:n=VS;break;case 32:n=$h;break;case 268435456:n=US;break;default:n=$h}return r=YC.bind(null,t),n=Pg(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Fd(r),t.callbackPriority=2,t.callbackNode=null,2}function YC(t,e){if(Tn!==0&&Tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(fd()&&t.callbackNode!==n)return null;var r=Je;return r=ed(t,t===_t?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(kC(t,r,e),KC(t,ai()),t.callbackNode!=null&&t.callbackNode===n?YC.bind(null,t):null)}function _b(t,e){if(fd())return null;kC(t,e,!0)}function vI(){xI(function(){ct&6?Pg(NS,gI):$C()})}function _v(){return _a===0&&(_a=jS()),_a}function bb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yh(""+t)}function Eb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function yI(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=bb((i[nr]||null).action),a=r.submitter;a&&(e=(e=a[nr]||null)?bb(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new td("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(_a!==0){var l=a?Eb(i,a):new FormData(i);Ep(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?Eb(i,a):new FormData(i),Ep(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(var ym=0;ym<up.length;ym++){var _m=up[ym],_I=_m.toLowerCase(),bI=_m[0].toUpperCase()+_m.slice(1);Xr(_I,"on"+bI)}Xr(uT,"onAnimationEnd");Xr(cT,"onAnimationIteration");Xr(hT,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr(VM,"onTransitionRun");Xr(UM,"onTransitionStart");Xr(jM,"onTransitionCancel");Xr(fT,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function QC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(h){sf(h)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(h){sf(h)}i.currentTarget=null,s=l}}}}function He(t,e){var n=e[np];n===void 0&&(n=e[np]=new Set);var r=t+"__bubble";n.has(r)||(WC(e,t,2,!1),n.add(r))}function bm(t,e,n){var r=0;e&&(r|=4),WC(n,t,r,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function bv(t){if(!t[Jc]){t[Jc]=!0,qS.forEach(function(n){n!=="selectionchange"&&(EI.has(n)||bm(n,!1,t),bm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,bm("selectionchange",!1,e))}}function WC(t,e,n,r){switch(lA(e)){case 2:var i=YI;break;case 8:i=QI;break;default:i=Tv}n=i.bind(null,e,n,t),i=void 0,!ap||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Em(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=co(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=s=a;continue e}o=o.parentNode}}r=r.return}ZS(function(){var c=s,h=zg(n),m=[];e:{var d=dT.get(t);if(d!==void 0){var g=td,E=t;switch(t){case"keypress":if(bh(n)===0)break e;case"keydown":case"keyup":g=pM;break;case"focusin":E="focus",g=Xd;break;case"focusout":E="blur",g=Xd;break;case"beforeblur":case"afterblur":g=Xd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=R_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=rM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=yM;break;case uT:case cT:case hT:g=aM;break;case fT:g=bM;break;case"scroll":case"scrollend":g=tM;break;case"wheel":g=wM;break;case"copy":case"cut":case"paste":g=lM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=M_;break;case"toggle":case"beforetoggle":g=TM}var A=(e&4)!==0,S=!A&&(t==="scroll"||t==="scrollend"),_=A?d!==null?d+"Capture":null:d;A=[];for(var v=c,C;v!==null;){var R=v;if(C=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||C===null||_===null||(R=Au(v,_),R!=null&&A.push(Du(v,R,C))),S)break;v=v.return}0<A.length&&(d=new g(d,E,null,n,h),m.push({event:d,listeners:A}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==sp&&(E=n.relatedTarget||n.fromElement)&&(co(E)||E[il]))break e;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=c,E=E?co(E):null,E!==null&&(S=tc(E),A=E.tag,E!==S||A!==5&&A!==27&&A!==6)&&(E=null)):(g=null,E=c),g!==E)){if(A=R_,R="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(A=M_,R="onPointerLeave",_="onPointerEnter",v="pointer"),S=g==null?d:$l(g),C=E==null?d:$l(E),d=new A(R,v+"leave",g,n,h),d.target=S,d.relatedTarget=C,R=null,co(h)===c&&(A=new A(_,v+"enter",E,n,h),A.target=C,A.relatedTarget=S,R=A),S=R,g&&E)t:{for(A=g,_=E,v=0,C=A;C;C=Ka(C))v++;for(C=0,R=_;R;R=Ka(R))C++;for(;0<v-C;)A=Ka(A),v--;for(;0<C-v;)_=Ka(_),C--;for(;v--;){if(A===_||_!==null&&A===_.alternate)break t;A=Ka(A),_=Ka(_)}A=null}else A=null;g!==null&&wb(m,d,g,A,!1),E!==null&&S!==null&&wb(m,S,E,A,!0)}}e:{if(d=c?$l(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var k=k_;else if(D_(d))if(iT)k=kM;else{k=OM;var x=IM}else g=d.nodeName,!g||g.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&jg(c.elementType)&&(k=k_):k=DM;if(k&&(k=k(t,c))){rT(m,k,n,h);break e}x&&x(t,d,c),t==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&ip(d,"number",d.value)}switch(x=c?$l(c):window,t){case"focusin":(D_(x)||x.contentEditable==="true")&&(mo=x,op=c,su=null);break;case"focusout":su=op=mo=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,j_(m,n,h);break;case"selectionchange":if(NM)break;case"keydown":case"keyup":j_(m,n,h)}var T;if(Fg)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else fo?tT(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(eT&&n.locale!=="ko"&&(fo||b!=="onCompositionStart"?b==="onCompositionEnd"&&fo&&(T=JS()):(ys=h,Bg="value"in ys?ys.value:ys.textContent,fo=!0)),x=df(c,b),0<x.length&&(b=new L_(b,t,null,n,h),m.push({event:b,listeners:x}),T?b.data=T:(T=nT(n),T!==null&&(b.data=T)))),(T=AM?xM(t,n):RM(t,n))&&(b=df(c,"onBeforeInput"),0<b.length&&(x=new L_("onBeforeInput","beforeinput",null,n,h),m.push({event:x,listeners:b}),x.data=T)),yI(m,t,c,n,h)}QC(m,e)})}function Du(t,e,n){return{instance:t,listener:e,currentTarget:n}}function df(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Au(t,n),i!=null&&r.unshift(Du(t,i,s)),i=Au(t,e),i!=null&&r.push(Du(t,i,s))),t.tag===3)return r;t=t.return}return[]}function Ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wb(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=Au(n,s),c!=null&&a.unshift(Du(n,c,l))):i||(c=Au(n,s),c!=null&&a.push(Du(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var wI=/\r\n?/g,SI=/\u0000|\uFFFD/g;function Sb(t){return(typeof t=="string"?t:""+t).replace(wI,`
`).replace(SI,"")}function XC(t,e){return e=Sb(e),Sb(t)===e}function dd(){}function ft(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||jo(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&jo(t,""+r);break;case"className":$c(t,"class",r);break;case"tabIndex":$c(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":$c(t,n,r);break;case"style":XS(t,r,s);break;case"data":if(e!=="object"){$c(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=yh(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ft(t,e,"name",i.name,i,null),ft(t,e,"formEncType",i.formEncType,i,null),ft(t,e,"formMethod",i.formMethod,i,null),ft(t,e,"formTarget",i.formTarget,i,null)):(ft(t,e,"encType",i.encType,i,null),ft(t,e,"method",i.method,i,null),ft(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=yh(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=dd);break;case"onScroll":r!=null&&He("scroll",t);break;case"onScrollEnd":r!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Q(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Q(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=yh(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":He("beforetoggle",t),He("toggle",t),vh(t,"popover",r);break;case"xlinkActuate":Si(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Si(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Si(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Si(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Si(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Si(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Si(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Si(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Si(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":vh(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=JL.get(n)||n,vh(t,n,r))}}function Dp(t,e,n,r,i,s){switch(n){case"style":XS(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Q(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Q(60));t.innerHTML=n}}break;case"children":typeof r=="string"?jo(t,r):(typeof r=="number"||typeof r=="bigint")&&jo(t,""+r);break;case"onScroll":r!=null&&He("scroll",t);break;case"onScrollEnd":r!=null&&He("scrollend",t);break;case"onClick":r!=null&&(t.onclick=dd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!GS.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[nr]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):vh(t,n,r)}}}function An(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Q(137,e));default:ft(t,e,s,a,n,null)}}i&&ft(t,e,"srcSet",n.srcSet,n,null),r&&ft(t,e,"src",n.src,n,null);return;case"input":He("invalid",t);var o=s=a=i=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":i=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Q(137,e));break;default:ft(t,e,r,h,n,null)}}YS(t,s,o,l,c,a,i,!1),Kh(t);return;case"select":He("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:ft(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?So(t,!!r,e,!1):n!=null&&So(t,!!r,n,!0);return;case"textarea":He("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(Q(91));break;default:ft(t,e,a,o,n,null)}WS(t,r,i,s),Kh(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ft(t,e,l,r,n,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(r=0;r<Ou.length;r++)He(Ou[r],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Q(137,e));default:ft(t,e,c,r,n,null)}return;default:if(jg(e)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&Dp(t,e,h,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&ft(t,e,o,r,n,null))}function TI(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,l=null,c=null,h=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":l=m;default:r.hasOwnProperty(g)||ft(t,e,g,null,r,m)}}for(var d in r){var g=r[d];if(m=n[d],r.hasOwnProperty(d)&&(g!=null||m!=null))switch(d){case"type":s=g;break;case"name":i=g;break;case"checked":c=g;break;case"defaultChecked":h=g;break;case"value":a=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(Q(137,e));break;default:g!==m&&ft(t,e,d,g,r,m)}}rp(t,a,o,l,c,h,s,i);return;case"select":g=a=o=d=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":g=l;default:r.hasOwnProperty(s)||ft(t,e,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":d=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&ft(t,e,i,s,r,l)}e=o,n=a,r=g,d!=null?So(t,!!n,d,!1):!!r!=!!n&&(e!=null?So(t,!!n,e,!0):So(t,!!n,n?[]:"",!1));return;case"textarea":g=d=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ft(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":d=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Q(91));break;default:i!==s&&ft(t,e,a,i,r,s)}QS(t,d,g);return;case"option":for(var E in n)if(d=n[E],n.hasOwnProperty(E)&&d!=null&&!r.hasOwnProperty(E))switch(E){case"selected":t.selected=!1;break;default:ft(t,e,E,null,r,d)}for(l in r)if(d=r[l],g=n[l],r.hasOwnProperty(l)&&d!==g&&(d!=null||g!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ft(t,e,l,d,r,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)d=n[A],n.hasOwnProperty(A)&&d!=null&&!r.hasOwnProperty(A)&&ft(t,e,A,null,r,d);for(c in r)if(d=r[c],g=n[c],r.hasOwnProperty(c)&&d!==g&&(d!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Q(137,e));break;default:ft(t,e,c,d,r,g)}return;default:if(jg(e)){for(var S in n)d=n[S],n.hasOwnProperty(S)&&d!==void 0&&!r.hasOwnProperty(S)&&Dp(t,e,S,void 0,r,d);for(h in r)d=r[h],g=n[h],!r.hasOwnProperty(h)||d===g||d===void 0&&g===void 0||Dp(t,e,h,d,r,g);return}}for(var _ in n)d=n[_],n.hasOwnProperty(_)&&d!=null&&!r.hasOwnProperty(_)&&ft(t,e,_,null,r,d);for(m in r)d=r[m],g=n[m],!r.hasOwnProperty(m)||d===g||d==null&&g==null||ft(t,e,m,d,r,g)}var kp=null,Pp=null;function mf(t){return t.nodeType===9?t:t.ownerDocument}function Tb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZC(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Np(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wm=null;function CI(){var t=window.event;return t&&t.type==="popstate"?t===wm?!1:(wm=t,!0):(wm=null,!1)}var JC=typeof setTimeout=="function"?setTimeout:void 0,AI=typeof clearTimeout=="function"?clearTimeout:void 0,Cb=typeof Promise=="function"?Promise:void 0,xI=typeof queueMicrotask=="function"?queueMicrotask:typeof Cb<"u"?function(t){return Cb.resolve(null).then(t).catch(RI)}:JC;function RI(t){setTimeout(function(){throw t})}function Qs(t){return t==="head"}function Ab(t,e){var n=e,r=0,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var a=t.ownerDocument;if(n&1&&gu(a.documentElement),n&2&&gu(a.body),n&4)for(n=a.head,gu(n),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[sc]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(i===0){t.removeChild(s),Uu(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Uu(e)}function Vp(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vp(n),Ug(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function LI(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[sc])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Qr(t.nextSibling),t===null)break}return null}function MI(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Qr(t.nextSibling),t===null))return null;return t}function Up(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function II(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var jp=null;function xb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function eA(t,e,n){switch(e=mf(n),t){case"html":if(t=e.documentElement,!t)throw Error(Q(452));return t;case"head":if(t=e.head,!t)throw Error(Q(453));return t;case"body":if(t=e.body,!t)throw Error(Q(454));return t;default:throw Error(Q(451))}}function gu(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Ug(t)}var Ur=new Map,Rb=new Set;function pf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=st.d;st.d={f:OI,r:DI,D:kI,C:PI,L:NI,m:VI,X:jI,S:UI,M:zI};function OI(){var t=Yi.f(),e=cd();return t||e}function DI(t){var e=sl(t);e!==null&&e.tag===5&&e.type==="form"?KT(e):Yi.r(t)}var ll=typeof document>"u"?null:document;function tA(t,e,n){var r=ll;if(r&&typeof e=="string"&&e){var i=Lr(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Rb.has(i)||(Rb.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),An(e,"link",t),dn(e),r.head.appendChild(e)))}}function kI(t){Yi.D(t),tA("dns-prefetch",t,null)}function PI(t,e){Yi.C(t,e),tA("preconnect",t,e)}function NI(t,e,n){Yi.L(t,e,n);var r=ll;if(r&&t&&e){var i='link[rel="preload"][as="'+Lr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Lr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Lr(n.imageSizes)+'"]')):i+='[href="'+Lr(t)+'"]';var s=i;switch(e){case"style":s=Ko(t);break;case"script":s=ul(t)}Ur.has(s)||(t=Tt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Ur.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(pc(s))||e==="script"&&r.querySelector(gc(s))||(e=r.createElement("link"),An(e,"link",t),dn(e),r.head.appendChild(e)))}}function VI(t,e){Yi.m(t,e);var n=ll;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Lr(r)+'"][href="'+Lr(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ul(t)}if(!Ur.has(s)&&(t=Tt({rel:"modulepreload",href:t},e),Ur.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(gc(s)))return}r=n.createElement("link"),An(r,"link",t),dn(r),n.head.appendChild(r)}}}function UI(t,e,n){Yi.S(t,e,n);var r=ll;if(r&&t){var i=wo(r).hoistableStyles,s=Ko(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(pc(s)))o.loading=5;else{t=Tt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Ur.get(s))&&Ev(t,n);var l=a=r.createElement("link");dn(l),An(l,"link",t),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,xh(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function jI(t,e){Yi.X(t,e);var n=ll;if(n&&t){var r=wo(n).hoistableScripts,i=ul(t),s=r.get(i);s||(s=n.querySelector(gc(i)),s||(t=Tt({src:t,async:!0},e),(e=Ur.get(i))&&wv(t,e),s=n.createElement("script"),dn(s),An(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function zI(t,e){Yi.M(t,e);var n=ll;if(n&&t){var r=wo(n).hoistableScripts,i=ul(t),s=r.get(i);s||(s=n.querySelector(gc(i)),s||(t=Tt({src:t,async:!0,type:"module"},e),(e=Ur.get(i))&&wv(t,e),s=n.createElement("script"),dn(s),An(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function Lb(t,e,n,r){var i=(i=ws.current)?pf(i):null;if(!i)throw Error(Q(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ko(n.href),n=wo(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ko(n.href);var s=wo(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(pc(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Ur.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ur.set(t,n),s||BI(i,t,n,a.state))),e&&r===null)throw Error(Q(528,""));return a}if(e&&r!==null)throw Error(Q(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ul(n),n=wo(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Q(444,t))}}function Ko(t){return'href="'+Lr(t)+'"'}function pc(t){return'link[rel="stylesheet"]['+t+"]"}function nA(t){return Tt({},t,{"data-precedence":t.precedence,precedence:null})}function BI(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),An(e,"link",n),dn(e),t.head.appendChild(e))}function ul(t){return'[src="'+Lr(t)+'"]'}function gc(t){return"script[async]"+t}function Mb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Lr(n.href)+'"]');if(r)return e.instance=r,dn(r),r;var i=Tt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),dn(r),An(r,"style",i),xh(r,n.precedence,t),e.instance=r;case"stylesheet":i=Ko(n.href);var s=t.querySelector(pc(i));if(s)return e.state.loading|=4,e.instance=s,dn(s),s;r=nA(n),(i=Ur.get(i))&&Ev(r,i),s=(t.ownerDocument||t).createElement("link"),dn(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),An(s,"link",r),e.state.loading|=4,xh(s,n.precedence,t),e.instance=s;case"script":return s=ul(n.src),(i=t.querySelector(gc(s)))?(e.instance=i,dn(i),i):(r=n,(i=Ur.get(s))&&(r=Tt({},n),wv(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),dn(i),An(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(Q(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,xh(r,n.precedence,t));return e.instance}function xh(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Ev(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function wv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Rh=null;function Ib(t,e,n){if(Rh===null){var r=new Map,i=Rh=new Map;i.set(n,r)}else i=Rh,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[sc]||s[Nn]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Ob(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function HI(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function rA(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ku=null;function FI(){}function qI(t,e,n){if(ku===null)throw Error(Q(475));var r=ku;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Ko(n.href),s=t.querySelector(pc(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=gf.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,dn(s);return}s=t.ownerDocument||t,n=nA(n),(i=Ur.get(i))&&Ev(n,i),s=s.createElement("link"),dn(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),An(s,"link",n),e.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=gf.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function GI(){if(ku===null)throw Error(Q(475));var t=ku;return t.stylesheets&&t.count===0&&zp(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&zp(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function gf(){if(this.count--,this.count===0){if(this.stylesheets)zp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vf=null;function zp(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vf=new Map,e.forEach($I,t),vf=null,gf.call(t))}function $I(t,e){if(!(e.state.loading&4)){var n=vf.get(t);if(n)var r=n.get(null);else{n=new Map,vf.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=gf.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Pu={$$typeof:Li,Provider:null,Consumer:null,_currentValue:da,_currentValue2:da,_threadCount:0};function KI(t,e,n,r,i,s,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qd(0),this.hiddenUpdates=qd(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function iA(t,e,n,r,i,s,a,o,l,c,h,m){return t=new KI(t,e,n,a,o,l,c,m),e=1,s===!0&&(e|=24),s=mr(3,null,null,e),t.current=s,s.stateNode=t,e=Wg(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},Zg(s),t}function sA(t){return t?(t=vo,t):vo}function aA(t,e,n,r,i,s){i=sA(i),r.context===null?r.context=i:r.pendingContext=i,r=Ss(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Ts(t,r,e),n!==null&&(yr(n,t,e),lu(n,t,e))}function Db(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sv(t,e){Db(t,e),(t=t.alternate)&&Db(t,e)}function oA(t){if(t.tag===13){var e=al(t,67108864);e!==null&&yr(e,t,67108864),Sv(t,67108864)}}var yf=!0;function YI(t,e,n,r){var i=Ae.T;Ae.T=null;var s=st.p;try{st.p=2,Tv(t,e,n,r)}finally{st.p=s,Ae.T=i}}function QI(t,e,n,r){var i=Ae.T;Ae.T=null;var s=st.p;try{st.p=8,Tv(t,e,n,r)}finally{st.p=s,Ae.T=i}}function Tv(t,e,n,r){if(yf){var i=Bp(r);if(i===null)Em(t,e,r,_f,n),kb(t,r);else if(XI(i,t,e,n,r))r.stopPropagation();else if(kb(t,r),e&4&&-1<WI.indexOf(t)){for(;i!==null;){var s=sl(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=ia(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-gr(a);o.entanglements[1]|=l,a&=~l}_i(s),!(ct&6)&&(uf=ai()+500,mc(0))}}break;case 13:o=al(s,2),o!==null&&yr(o,s,2),cd(),Sv(s,2)}if(s=Bp(r),s===null&&Em(t,e,r,_f,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Em(t,e,r,null,n)}}function Bp(t){return t=zg(t),Cv(t)}var _f=null;function Cv(t){if(_f=null,t=co(t),t!==null){var e=tc(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=OS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return _f=t,null}function lA(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(PL()){case NS:return 2;case VS:return 8;case $h:case NL:return 32;case US:return 268435456;default:return 32}default:return 32}}var Hp=!1,xs=null,Rs=null,Ls=null,Nu=new Map,Vu=new Map,hs=[],WI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kb(t,e){switch(t){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Nu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(e.pointerId)}}function Nl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=sl(e),e!==null&&oA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function XI(t,e,n,r,i){switch(e){case"focusin":return xs=Nl(xs,t,e,n,r,i),!0;case"dragenter":return Rs=Nl(Rs,t,e,n,r,i),!0;case"mouseover":return Ls=Nl(Ls,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nu.set(s,Nl(Nu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vu.set(s,Nl(Vu.get(s)||null,t,e,n,r,i)),!0}return!1}function uA(t){var e=co(t.target);if(e!==null){var n=tc(e);if(n!==null){if(e=n.tag,e===13){if(e=OS(n),e!==null){t.blockedOn=e,qL(t.priority,function(){if(n.tag===13){var r=vr();r=Ng(r);var i=al(n,r);i!==null&&yr(i,n,r),Sv(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bp(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sp=r,n.target.dispatchEvent(r),sp=null}else return e=sl(n),e!==null&&oA(e),t.blockedOn=n,!1;e.shift()}return!0}function Pb(t,e,n){Lh(t)&&n.delete(e)}function ZI(){Hp=!1,xs!==null&&Lh(xs)&&(xs=null),Rs!==null&&Lh(Rs)&&(Rs=null),Ls!==null&&Lh(Ls)&&(Ls=null),Nu.forEach(Pb),Vu.forEach(Pb)}function eh(t,e){t.blockedOn===e&&(t.blockedOn=null,Hp||(Hp=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,ZI)))}var th=null;function Nb(t){th!==t&&(th=t,an.unstable_scheduleCallback(an.unstable_NormalPriority,function(){th===t&&(th=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(Cv(r||n)===null)continue;break}var s=sl(n);s!==null&&(t.splice(e,3),e-=3,Ep(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Uu(t){function e(l){return eh(l,t)}xs!==null&&eh(xs,t),Rs!==null&&eh(Rs,t),Ls!==null&&eh(Ls,t),Nu.forEach(e),Vu.forEach(e);for(var n=0;n<hs.length;n++){var r=hs[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)uA(n),n.blockedOn===null&&hs.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[nr]||null;if(typeof s=="function")a||Nb(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[nr]||null)o=a.formAction;else if(Cv(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),Nb(n)}}}function Av(t){this._internalRoot=t}md.prototype.render=Av.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));var n=e.current,r=vr();aA(n,r,t,e,null,null)};md.prototype.unmount=Av.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;aA(t.current,2,null,t,null,null),cd(),e[il]=null}};function md(t){this._internalRoot=t}md.prototype.unstable_scheduleHydration=function(t){if(t){var e=FS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hs.length&&e!==0&&e<hs[n].priority;n++);hs.splice(n,0,t),n===0&&uA(t)}};var Vb=MS.version;if(Vb!=="19.1.1")throw Error(Q(527,Vb,"19.1.1"));st.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=RL(e),t=t!==null?DS(t):null,t=t===null?null:t.stateNode,t};var JI={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Ae,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{nc=nh.inject(JI),pr=nh}catch{}}Zf.createRoot=function(t,e){if(!IS(t))throw Error(Q(299));var n=!1,r="",i=iC,s=sC,a=aC,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=iA(t,1,!1,null,null,n,r,i,s,a,o,null),t[il]=e.current,bv(t),new Av(e)};Zf.hydrateRoot=function(t,e,n){if(!IS(t))throw Error(Q(299));var r=!1,i="",s=iC,a=sC,o=aC,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=iA(t,1,!0,e,n??null,r,i,s,a,o,l,c),e.context=sA(null),n=e.current,r=vr(),r=Ng(r),i=Ss(r),i.callback=null,Ts(n,i,r),n=r,e.current.lanes=n,ic(e,n),_i(e),t[il]=e.current,bv(t),new md(e)};Zf.version="19.1.1";function cA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cA)}catch(t){console.error(t)}}cA(),TS.exports=Zf;var eO=TS.exports;const tO=xg(eO);var xv={};Object.defineProperty(xv,"__esModule",{value:!0});xv.parse=lO;xv.serialize=uO;const nO=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,rO=/^[\u0021-\u003A\u003C-\u007E]*$/,iO=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,sO=/^[\u0020-\u003A\u003D-\u007E]*$/,aO=Object.prototype.toString,oO=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function lO(t,e){const n=new oO,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||cO;let s=0;do{const a=t.indexOf("=",s);if(a===-1)break;const o=t.indexOf(";",s),l=o===-1?r:o;if(a>l){s=t.lastIndexOf(";",a-1)+1;continue}const c=Ub(t,s,a),h=jb(t,a,c),m=t.slice(c,h);if(n[m]===void 0){let d=Ub(t,a+1,l),g=jb(t,l,d);const E=i(t.slice(d,g));n[m]=E}s=l+1}while(s<r);return n}function Ub(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function jb(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function uO(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!nO.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!rO.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!iO.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!sO.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!hO(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function cO(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function hO(t){return aO.call(t)==="[object Date]"}/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hA=t=>{throw TypeError(t)},fO=(t,e,n)=>e.has(t)||hA("Cannot "+n),Sm=(t,e,n)=>(fO(t,e,"read from private field"),n?n.call(t):e.get(t)),dO=(t,e,n)=>e.has(t)?hA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),zb="popstate";function mO(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return ju("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:js(i)}return gO(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pO(){return Math.random().toString(36).substring(2,10)}function Bb(t,e){return{usr:t.state,key:t.key,idx:e}}function ju(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ws(e):e,state:n,key:e&&e.key||r||pO()}}function js({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ws(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function gO(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=h();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function h(){return(a.state||{idx:null}).idx}function m(){o="POP";let S=h(),_=S==null?null:S-c;c=S,l&&l({action:o,location:A.location,delta:_})}function d(S,_){o="PUSH";let v=ju(A.location,S,_);c=h()+1;let C=Bb(v,c),R=A.createHref(v);try{a.pushState(C,"",R)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(R)}s&&l&&l({action:o,location:A.location,delta:1})}function g(S,_){o="REPLACE";let v=ju(A.location,S,_);c=h();let C=Bb(v,c),R=A.createHref(v);a.replaceState(C,"",R),s&&l&&l({action:o,location:A.location,delta:0})}function E(S){let _=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof S=="string"?S:js(S);return v=v.replace(/ $/,"%20"),qe(_,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,_)}let A={get action(){return o},get location(){return t(i,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zb,m),l=S,()=>{i.removeEventListener(zb,m),l=null}},createHref(S){return e(i,S)},createURL:E,encodeLocation(S){let _=E(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:d,replace:g,go(S){return a.go(S)}};return A}var Yl,Hb=class{constructor(t){if(dO(this,Yl,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Sm(this,Yl).has(t))return Sm(this,Yl).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Sm(this,Yl).set(t,e)}};Yl=new WeakMap;var vO=new Set(["lazy","caseSensitive","path","id","index","children"]);function yO(t){return vO.has(t)}var _O=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function bO(t){return _O.has(t)}function EO(t){return t.index===!0}function bf(t,e,n=[],r={}){return t.map((i,s)=>{let a=[...n,String(s)],o=typeof i.id=="string"?i.id:a.join("-");if(qe(i.index!==!0||!i.children,"Cannot specify children on an index route"),qe(!r[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),EO(i)){let l={...i,...e(i),id:o};return r[o]=l,l}else{let l={...i,...e(i),id:o,children:void 0};return r[o]=l,i.children&&(l.children=bf(i.children,e,a,r)),l}})}function fs(t,e,n="/"){return Mh(t,e,n,!1)}function Mh(t,e,n,r){let i=typeof e=="string"?Ws(e):e,s=jr(i.pathname||"/",n);if(s==null)return null;let a=fA(t);SO(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=kO(s);o=OO(a[l],c,r)}return o}function wO(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function fA(t,e=[],n=[],r=""){let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=li([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(qe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),fA(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:MO(c,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of dA(s.path))i(s,a,l)}),e}function dA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=dA(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function SO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var TO=/^:[\w-]+$/,CO=3,AO=2,xO=1,RO=10,LO=-2,Fb=t=>t==="*";function MO(t,e){let n=t.split("/"),r=n.length;return n.some(Fb)&&(r+=LO),e&&(r+=AO),n.filter(i=>!Fb(i)).reduce((i,s)=>i+(TO.test(s)?CO:s===""?xO:RO),r)}function IO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function OO(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",m=Ef({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=Ef({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:li([s,m.pathname]),pathnameBase:VO(li([s,m.pathnameBase])),route:d}),m.pathnameBase!=="/"&&(s=li([s,m.pathnameBase]))}return a}function Ef(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:m},d)=>{if(h==="*"){let E=o[d]||"";a=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const g=o[d];return m&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function DO(t,e=!1,n=!0){Qt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PO(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ws(t):t;return{pathname:n?n.startsWith("/")?n:NO(n,e):e,search:UO(r),hash:jO(i)}}function NO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rv(t){let e=mA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Lv(t,e,n,r=!1){let i;typeof t=="string"?i=Ws(t):(i={...t},qe(!i.pathname||!i.pathname.includes("?"),Tm("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),Tm("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),Tm("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),m-=1;i.pathname=d.join("/")}o=m>=0?e[m]:"/"}let l=PO(i,o),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var li=t=>t.join("/").replace(/\/\/+/g,"/"),VO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,wf=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var pA=["POST","PUT","PATCH","DELETE"],zO=new Set(pA),BO=["GET",...pA],HO=new Set(BO),FO=new Set([301,302,303,307,308]),qO=new Set([307,308]),Cm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},GO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$O=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),gA="remix-router-transitions",vA=Symbol("ResetLoaderData");function KO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";qe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||$O,s={},a=bf(t.routes,i,void 0,s),o,l=t.basename||"/",c=t.dataStrategy||ZO,h={unstable_middleware:!1,...t.future},m=null,d=new Set,g=null,E=null,A=null,S=t.hydrationData!=null,_=fs(a,t.history.location,l),v=!1,C=null;if(_==null&&!t.patchRoutesOnNavigation){let N=Tr(404,{pathname:t.history.location.pathname}),{matches:V,route:j}=tE(a);_=V,C={[j.id]:N}}_&&!t.hydrationData&&Ft(_,a,t.history.location.pathname).active&&(_=null);let R;if(_)if(_.some(N=>N.route.lazy))R=!1;else if(!_.some(N=>N.route.loader))R=!0;else{let N=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null;if(V){let j=_.findIndex(F=>V[F.route.id]!==void 0);R=_.slice(0,j+1).every(F=>!qp(F.route,N,V))}else R=_.every(j=>!qp(j.route,N,V))}else{R=!1,_=[];let N=Ft(null,a,t.history.location.pathname);N.active&&N.matches&&(v=!0,_=N.matches)}let k,x={historyAction:t.history.action,location:t.history.location,matches:_,initialized:R,navigation:Cm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},T="POP",b=!1,w,L=!1,M=new Map,P=null,O=!1,Y=!1,Z=new Set,z=new Map,$=0,H=-1,ne=new Map,ee=new Set,ge=new Map,ve=new Map,W=new Set,se=new Map,B,le=null;function ie(){if(m=t.history.listen(({action:N,location:V,delta:j})=>{if(B){B(),B=void 0;return}Qt(se.size===0||j!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let F=zr({currentLocation:x.location,nextLocation:V,historyAction:N});if(F&&j!=null){let te=new Promise(fe=>{B=fe});t.history.go(j*-1),Yn(F,{state:"blocked",location:V,proceed(){Yn(F,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),te.then(()=>t.history.go(j))},reset(){let fe=new Map(x.blockers);fe.set(F,Vl),J({blockers:fe})}});return}return mt(N,V)}),n){uD(e,M);let N=()=>cD(e,M);e.addEventListener("pagehide",N),P=()=>e.removeEventListener("pagehide",N)}return x.initialized||mt("POP",x.location,{initialHydration:!0}),k}function me(){m&&m(),P&&P(),d.clear(),w&&w.abort(),x.fetchers.forEach((N,V)=>Ct(V)),x.blockers.forEach((N,V)=>br(V))}function Oe(N){return d.add(N),()=>d.delete(N)}function J(N,V={}){x={...x,...N};let j=[],F=[];x.fetchers.forEach((te,fe)=>{te.state==="idle"&&(W.has(fe)?j.push(fe):F.push(fe))}),W.forEach(te=>{!x.fetchers.has(te)&&!z.has(te)&&j.push(te)}),[...d].forEach(te=>te(x,{deletedFetchers:j,viewTransitionOpts:V.viewTransitionOpts,flushSync:V.flushSync===!0})),j.forEach(te=>Ct(te)),F.forEach(te=>x.fetchers.delete(te))}function he(N,V,{flushSync:j}={}){var be,Ce;let F=x.actionData!=null&&x.navigation.formMethod!=null&&fr(x.navigation.formMethod)&&x.navigation.state==="loading"&&((be=N.state)==null?void 0:be._isRedirect)!==!0,te;V.actionData?Object.keys(V.actionData).length>0?te=V.actionData:te=null:F?te=x.actionData:te=null;let fe=V.loaderData?Jb(x.loaderData,V.loaderData,V.matches||[],V.errors):x.loaderData,we=x.blockers;we.size>0&&(we=new Map(we),we.forEach((pe,xe)=>we.set(xe,Vl)));let oe=b===!0||x.navigation.formMethod!=null&&fr(x.navigation.formMethod)&&((Ce=N.state)==null?void 0:Ce._isRedirect)!==!0;o&&(a=o,o=void 0),O||T==="POP"||(T==="PUSH"?t.history.push(N,N.state):T==="REPLACE"&&t.history.replace(N,N.state));let de;if(T==="POP"){let pe=M.get(x.location.pathname);pe&&pe.has(N.pathname)?de={currentLocation:x.location,nextLocation:N}:M.has(N.pathname)&&(de={currentLocation:N,nextLocation:x.location})}else if(L){let pe=M.get(x.location.pathname);pe?pe.add(N.pathname):(pe=new Set([N.pathname]),M.set(x.location.pathname,pe)),de={currentLocation:x.location,nextLocation:N}}J({...V,actionData:te,loaderData:fe,historyAction:T,location:N,initialized:!0,navigation:Cm,revalidation:"idle",restoreScrollPosition:un(N,V.matches||x.matches),preventScrollReset:oe,blockers:we},{viewTransitionOpts:de,flushSync:j===!0}),T="POP",b=!1,L=!1,O=!1,Y=!1,le==null||le.resolve(),le=null}async function Ye(N,V){if(typeof N=="number"){t.history.go(N);return}let j=Fp(x.location,x.matches,l,N,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:F,submission:te,error:fe}=qb(!1,j,V),we=x.location,oe=ju(x.location,F,V&&V.state);oe={...oe,...t.history.encodeLocation(oe)};let de=V&&V.replace!=null?V.replace:void 0,be="PUSH";de===!0?be="REPLACE":de===!1||te!=null&&fr(te.formMethod)&&te.formAction===x.location.pathname+x.location.search&&(be="REPLACE");let Ce=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,pe=(V&&V.flushSync)===!0,xe=zr({currentLocation:we,nextLocation:oe,historyAction:be});if(xe){Yn(xe,{state:"blocked",location:oe,proceed(){Yn(xe,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),Ye(N,V)},reset(){let tt=new Map(x.blockers);tt.set(xe,Vl),J({blockers:tt})}});return}await mt(be,oe,{submission:te,pendingError:fe,preventScrollReset:Ce,replace:V&&V.replace,enableViewTransition:V&&V.viewTransition,flushSync:pe})}function Dt(){le||(le=hD()),vn(),J({revalidation:"loading"});let N=le.promise;return x.navigation.state==="submitting"?N:x.navigation.state==="idle"?(mt(x.historyAction,x.location,{startUninterruptedRevalidation:!0}),N):(mt(T||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:L===!0}),N)}async function mt(N,V,j){w&&w.abort(),w=null,T=N,O=(j&&j.startUninterruptedRevalidation)===!0,At(x.location,x.matches),b=(j&&j.preventScrollReset)===!0,L=(j&&j.enableViewTransition)===!0;let F=o||a,te=j&&j.overrideNavigation,fe=j!=null&&j.initialHydration&&x.matches&&x.matches.length>0&&!v?x.matches:fs(F,V,l),we=(j&&j.flushSync)===!0;if(fe&&x.initialized&&!Y&&iD(x.location,V)&&!(j&&j.submission&&fr(j.submission.formMethod))){he(V,{matches:fe},{flushSync:we});return}let oe=Ft(fe,F,V.pathname);if(oe.active&&oe.matches&&(fe=oe.matches),!fe){let{error:ht,notFoundMatches:Pt,route:ze}=Qn(V.pathname);he(V,{matches:Pt,loaderData:{},errors:{[ze.id]:ht}},{flushSync:we});return}w=new AbortController;let de=ro(t.history,V,w.signal,j&&j.submission),be=new Hb(t.unstable_getContext?await t.unstable_getContext():void 0),Ce;if(j&&j.pendingError)Ce=[la(fe).route.id,{type:"error",error:j.pendingError}];else if(j&&j.submission&&fr(j.submission.formMethod)){let ht=await Me(de,V,j.submission,fe,be,oe.active,j&&j.initialHydration===!0,{replace:j.replace,flushSync:we});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[Pt,ze]=ht.pendingActionResult;if(hr(ze)&&zu(ze.error)&&ze.error.status===404){w=null,he(V,{matches:ht.matches,loaderData:{},errors:{[Pt]:ze.error}});return}}fe=ht.matches||fe,Ce=ht.pendingActionResult,te=Am(V,j.submission),we=!1,oe.active=!1,de=ro(t.history,de.url,de.signal)}let{shortCircuited:pe,matches:xe,loaderData:tt,errors:pt}=await gn(de,V,fe,be,oe.active,te,j&&j.submission,j&&j.fetcherSubmission,j&&j.replace,j&&j.initialHydration===!0,we,Ce);pe||(w=null,he(V,{matches:xe||fe,...eE(Ce),loaderData:tt,errors:pt}))}async function Me(N,V,j,F,te,fe,we,oe={}){vn();let de=oD(V,j);if(J({navigation:de},{flushSync:oe.flushSync===!0}),fe){let pe=await Hn(F,V.pathname,N.signal);if(pe.type==="aborted")return{shortCircuited:!0};if(pe.type==="error"){let xe=la(pe.partialMatches).route.id;return{matches:pe.partialMatches,pendingActionResult:[xe,{type:"error",error:pe.error}]}}else if(pe.matches)F=pe.matches;else{let{notFoundMatches:xe,error:tt,route:pt}=Qn(V.pathname);return{matches:xe,pendingActionResult:[pt.id,{type:"error",error:tt}]}}}let be,Ce=Ql(F,V);if(!Ce.route.action&&!Ce.route.lazy)be={type:"error",error:Tr(405,{method:N.method,pathname:V.pathname,routeId:Ce.route.id})};else{let pe=Mo(i,s,N,F,Ce,we?[]:r,te),xe=await bt(N,pe,te,null);if(be=xe[Ce.route.id],!be){for(let tt of F)if(xe[tt.route.id]){be=xe[tt.route.id];break}}if(N.signal.aborted)return{shortCircuited:!0}}if(ca(be)){let pe;return oe&&oe.replace!=null?pe=oe.replace:pe=Wb(be.response.headers.get("Location"),new URL(N.url),l)===x.location.pathname+x.location.search,await Wt(N,be,!0,{submission:j,replace:pe}),{shortCircuited:!0}}if(hr(be)){let pe=la(F,Ce.route.id);return(oe&&oe.replace)!==!0&&(T="PUSH"),{matches:F,pendingActionResult:[pe.route.id,be]}}return{matches:F,pendingActionResult:[Ce.route.id,be]}}async function gn(N,V,j,F,te,fe,we,oe,de,be,Ce,pe){let xe=fe||Am(V,we),tt=we||oe||rE(xe),pt=!O&&!be;if(te){if(pt){let yt=ln(pe);J({navigation:xe,...yt!==void 0?{actionData:yt}:{}},{flushSync:Ce})}let Re=await Hn(j,V.pathname,N.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let yt=la(Re.partialMatches).route.id;return{matches:Re.partialMatches,loaderData:{},errors:{[yt]:Re.error}}}else if(Re.matches)j=Re.matches;else{let{error:yt,notFoundMatches:qt,route:_n}=Qn(V.pathname);return{matches:qt,loaderData:{},errors:{[_n.id]:yt}}}}let ht=o||a,{dsMatches:Pt,revalidatingFetchers:ze}=Gb(N,F,i,s,t.history,x,j,tt,V,be?[]:r,be===!0,Y,Z,W,ge,ee,ht,l,pe);if(H=++$,!t.dataStrategy&&!Pt.some(Re=>Re.shouldLoad)&&ze.length===0){let Re=Bn();return he(V,{matches:j,loaderData:{},errors:pe&&hr(pe[1])?{[pe[0]]:pe[1].error}:null,...eE(pe),...Re?{fetchers:new Map(x.fetchers)}:{}},{flushSync:Ce}),{shortCircuited:!0}}if(pt){let Re={};if(!te){Re.navigation=xe;let yt=ln(pe);yt!==void 0&&(Re.actionData=yt)}ze.length>0&&(Re.fetchers=Rn(ze)),J(Re,{flushSync:Ce})}ze.forEach(Re=>{Mt(Re.key),Re.controller&&z.set(Re.key,Re.controller)});let Er=()=>ze.forEach(Re=>Mt(Re.key));w&&w.signal.addEventListener("abort",Er);let{loaderResults:Wn,fetcherResults:Fr}=await jt(Pt,ze,N,F);if(N.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",Er),ze.forEach(Re=>z.delete(Re.key));let yn=rh(Wn);if(yn)return await Wt(N,yn.result,!0,{replace:de}),{shortCircuited:!0};if(yn=rh(Fr),yn)return ee.add(yn.key),await Wt(N,yn.result,!0,{replace:de}),{shortCircuited:!0};let{loaderData:Be,errors:ye}=Zb(x,j,Wn,pe,ze,Fr);be&&x.errors&&(ye={...x.errors,...ye});let Xe=Bn(),We=ei(H),lt=Xe||We||ze.length>0;return{matches:j,loaderData:Be,errors:ye,...lt?{fetchers:new Map(x.fetchers)}:{}}}function ln(N){if(N&&!hr(N[1]))return{[N[0]]:N[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Rn(N){return N.forEach(V=>{let j=x.fetchers.get(V.key),F=Ul(void 0,j?j.data:void 0);x.fetchers.set(V.key,F)}),new Map(x.fetchers)}async function kt(N,V,j,F){Mt(N);let te=(F&&F.flushSync)===!0,fe=o||a,we=Fp(x.location,x.matches,l,j,V,F==null?void 0:F.relative),oe=fs(fe,we,l),de=Ft(oe,fe,we);if(de.active&&de.matches&&(oe=de.matches),!oe){Pe(N,V,Tr(404,{pathname:we}),{flushSync:te});return}let{path:be,submission:Ce,error:pe}=qb(!0,we,F);if(pe){Pe(N,V,pe,{flushSync:te});return}let xe=Ql(oe,be),tt=new Hb(t.unstable_getContext?await t.unstable_getContext():void 0),pt=(F&&F.preventScrollReset)===!0;if(Ce&&fr(Ce.formMethod)){await zn(N,V,be,xe,oe,tt,de.active,te,pt,Ce);return}ge.set(N,{routeId:V,path:be}),await Ln(N,V,be,xe,oe,tt,de.active,te,pt,Ce)}async function zn(N,V,j,F,te,fe,we,oe,de,be){vn(),ge.delete(N);function Ce(at){if(!at.route.action&&!at.route.lazy){let Zt=Tr(405,{method:be.formMethod,pathname:j,routeId:V});return Pe(N,V,Zt,{flushSync:oe}),!0}return!1}if(!we&&Ce(F))return;let pe=x.fetchers.get(N);Qe(N,lD(be,pe),{flushSync:oe});let xe=new AbortController,tt=ro(t.history,j,xe.signal,be);if(we){let at=await Hn(te,j,tt.signal,N);if(at.type==="aborted")return;if(at.type==="error"){Pe(N,V,at.error,{flushSync:oe});return}else if(at.matches){if(te=at.matches,F=Ql(te,j),Ce(F))return}else{Pe(N,V,Tr(404,{pathname:j}),{flushSync:oe});return}}z.set(N,xe);let pt=$,ht=Mo(i,s,tt,te,F,r,fe),ze=(await bt(tt,ht,fe,N))[F.route.id];if(tt.signal.aborted){z.get(N)===xe&&z.delete(N);return}if(W.has(N)){if(ca(ze)||hr(ze)){Qe(N,rs(void 0));return}}else{if(ca(ze))if(z.delete(N),H>pt){Qe(N,rs(void 0));return}else return ee.add(N),Qe(N,Ul(be)),Wt(tt,ze,!1,{fetcherSubmission:be,preventScrollReset:de});if(hr(ze)){Pe(N,V,ze.error);return}}let Er=x.navigation.location||x.location,Wn=ro(t.history,Er,xe.signal),Fr=o||a,yn=x.navigation.state!=="idle"?fs(Fr,x.navigation.location,l):x.matches;qe(yn,"Didn't find any matches after fetcher action");let Be=++$;ne.set(N,Be);let ye=Ul(be,ze.data);x.fetchers.set(N,ye);let{dsMatches:Xe,revalidatingFetchers:We}=Gb(Wn,fe,i,s,t.history,x,yn,be,Er,r,!1,Y,Z,W,ge,ee,Fr,l,[F.route.id,ze]);We.filter(at=>at.key!==N).forEach(at=>{let Zt=at.key,qr=x.fetchers.get(Zt),Zs=Ul(void 0,qr?qr.data:void 0);x.fetchers.set(Zt,Zs),Mt(Zt),at.controller&&z.set(Zt,at.controller)}),J({fetchers:new Map(x.fetchers)});let lt=()=>We.forEach(at=>Mt(at.key));xe.signal.addEventListener("abort",lt);let{loaderResults:Re,fetcherResults:yt}=await jt(Xe,We,Wn,fe);if(xe.signal.aborted)return;xe.signal.removeEventListener("abort",lt),ne.delete(N),z.delete(N),We.forEach(at=>z.delete(at.key));let qt=rh(Re);if(qt)return Wt(Wn,qt.result,!1,{preventScrollReset:de});if(qt=rh(yt),qt)return ee.add(qt.key),Wt(Wn,qt.result,!1,{preventScrollReset:de});let{loaderData:_n,errors:Xn}=Zb(x,yn,Re,void 0,We,yt);if(x.fetchers.has(N)){let at=rs(ze.data);x.fetchers.set(N,at)}ei(Be),x.navigation.state==="loading"&&Be>H?(qe(T,"Expected pending action"),w&&w.abort(),he(x.navigation.location,{matches:yn,loaderData:_n,errors:Xn,fetchers:new Map(x.fetchers)})):(J({errors:Xn,loaderData:Jb(x.loaderData,_n,yn,Xn),fetchers:new Map(x.fetchers)}),Y=!1)}async function Ln(N,V,j,F,te,fe,we,oe,de,be){let Ce=x.fetchers.get(N);Qe(N,Ul(be,Ce?Ce.data:void 0),{flushSync:oe});let pe=new AbortController,xe=ro(t.history,j,pe.signal);if(we){let ze=await Hn(te,j,xe.signal,N);if(ze.type==="aborted")return;if(ze.type==="error"){Pe(N,V,ze.error,{flushSync:oe});return}else if(ze.matches)te=ze.matches,F=Ql(te,j);else{Pe(N,V,Tr(404,{pathname:j}),{flushSync:oe});return}}z.set(N,pe);let tt=$,pt=Mo(i,s,xe,te,F,r,fe),Pt=(await bt(xe,pt,fe,N))[F.route.id];if(z.get(N)===pe&&z.delete(N),!xe.signal.aborted){if(W.has(N)){Qe(N,rs(void 0));return}if(ca(Pt))if(H>tt){Qe(N,rs(void 0));return}else{ee.add(N),await Wt(xe,Pt,!1,{preventScrollReset:de});return}if(hr(Pt)){Pe(N,V,Pt.error);return}Qe(N,rs(Pt.data))}}async function Wt(N,V,j,{submission:F,fetcherSubmission:te,preventScrollReset:fe,replace:we}={}){V.response.headers.has("X-Remix-Revalidate")&&(Y=!0);let oe=V.response.headers.get("Location");qe(oe,"Expected a Location header on the redirect Response"),oe=Wb(oe,new URL(N.url),l);let de=ju(x.location,oe,{_isRedirect:!0});if(n){let pt=!1;if(V.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(Mv.test(oe)){const ht=t.history.createURL(oe);pt=ht.origin!==e.location.origin||jr(ht.pathname,l)==null}if(pt){we?e.location.replace(oe):e.location.assign(oe);return}}w=null;let be=we===!0||V.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ce,formAction:pe,formEncType:xe}=x.navigation;!F&&!te&&Ce&&pe&&xe&&(F=rE(x.navigation));let tt=F||te;if(qO.has(V.response.status)&&tt&&fr(tt.formMethod))await mt(be,de,{submission:{...tt,formAction:oe},preventScrollReset:fe||b,enableViewTransition:j?L:void 0});else{let pt=Am(de,F);await mt(be,de,{overrideNavigation:pt,fetcherSubmission:te,preventScrollReset:fe||b,enableViewTransition:j?L:void 0})}}async function bt(N,V,j,F){let te,fe={};try{te=await JO(c,N,V,F,j,!1)}catch(we){return V.filter(oe=>oe.shouldLoad).forEach(oe=>{fe[oe.route.id]={type:"error",error:we}}),fe}for(let[we,oe]of Object.entries(te))if(sD(oe)){let de=oe.result;fe[we]={type:"redirect",response:nD(de,N,we,V,l)}}else fe[we]=await tD(oe);return fe}async function jt(N,V,j,F){let te=bt(j,N,F,null),fe=Promise.all(V.map(async de=>{if(de.matches&&de.match&&de.request&&de.controller){let Ce=(await bt(de.request,de.matches,F,de.key))[de.match.route.id];return{[de.key]:Ce}}else return Promise.resolve({[de.key]:{type:"error",error:Tr(404,{pathname:de.path})}})})),we=await te,oe=(await fe).reduce((de,be)=>Object.assign(de,be),{});return{loaderResults:we,fetcherResults:oe}}function vn(){Y=!0,ge.forEach((N,V)=>{z.has(V)&&Z.add(V),Mt(V)})}function Qe(N,V,j={}){x.fetchers.set(N,V),J({fetchers:new Map(x.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function Pe(N,V,j,F={}){let te=la(x.matches,V);Ct(N),J({errors:{[te.route.id]:j},fetchers:new Map(x.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Xt(N){return ve.set(N,(ve.get(N)||0)+1),W.has(N)&&W.delete(N),x.fetchers.get(N)||GO}function Ct(N){let V=x.fetchers.get(N);z.has(N)&&!(V&&V.state==="loading"&&ne.has(N))&&Mt(N),ge.delete(N),ne.delete(N),ee.delete(N),W.delete(N),Z.delete(N),x.fetchers.delete(N)}function Kn(N){let V=(ve.get(N)||0)-1;V<=0?(ve.delete(N),W.add(N)):ve.set(N,V),J({fetchers:new Map(x.fetchers)})}function Mt(N){let V=z.get(N);V&&(V.abort(),z.delete(N))}function ir(N){for(let V of N){let j=Xt(V),F=rs(j.data);x.fetchers.set(V,F)}}function Bn(){let N=[],V=!1;for(let j of ee){let F=x.fetchers.get(j);qe(F,`Expected fetcher: ${j}`),F.state==="loading"&&(ee.delete(j),N.push(j),V=!0)}return ir(N),V}function ei(N){let V=[];for(let[j,F]of ne)if(F<N){let te=x.fetchers.get(j);qe(te,`Expected fetcher: ${j}`),te.state==="loading"&&(Mt(j),ne.delete(j),V.push(j))}return ir(V),V.length>0}function sr(N,V){let j=x.blockers.get(N)||Vl;return se.get(N)!==V&&se.set(N,V),j}function br(N){x.blockers.delete(N),se.delete(N)}function Yn(N,V){let j=x.blockers.get(N)||Vl;qe(j.state==="unblocked"&&V.state==="blocked"||j.state==="blocked"&&V.state==="blocked"||j.state==="blocked"&&V.state==="proceeding"||j.state==="blocked"&&V.state==="unblocked"||j.state==="proceeding"&&V.state==="unblocked",`Invalid blocker state transition: ${j.state} -> ${V.state}`);let F=new Map(x.blockers);F.set(N,V),J({blockers:F})}function zr({currentLocation:N,nextLocation:V,historyAction:j}){if(se.size===0)return;se.size>1&&Qt(!1,"A router only supports one blocker at a time");let F=Array.from(se.entries()),[te,fe]=F[F.length-1],we=x.blockers.get(te);if(!(we&&we.state==="proceeding")&&fe({currentLocation:N,nextLocation:V,historyAction:j}))return te}function Qn(N){let V=Tr(404,{pathname:N}),j=o||a,{matches:F,route:te}=tE(j);return{notFoundMatches:F,route:te,error:V}}function Mn(N,V,j){if(g=N,A=V,E=j||null,!S&&x.navigation===Cm){S=!0;let F=un(x.location,x.matches);F!=null&&J({restoreScrollPosition:F})}return()=>{g=null,A=null,E=null}}function ar(N,V){return E&&E(N,V.map(F=>wO(F,x.loaderData)))||N.key}function At(N,V){if(g&&A){let j=ar(N,V);g[j]=A()}}function un(N,V){if(g){let j=ar(N,V),F=g[j];if(typeof F=="number")return F}return null}function Ft(N,V,j){if(t.patchRoutesOnNavigation)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:Mh(V,j,l,!0)}}else return{active:!0,matches:Mh(V,j,l,!0)||[]};return{active:!1,matches:null}}async function Hn(N,V,j,F){if(!t.patchRoutesOnNavigation)return{type:"success",matches:N};let te=N;for(;;){let fe=o==null,we=o||a,oe=s;try{await t.patchRoutesOnNavigation({signal:j,path:V,matches:te,fetcherKey:F,patch:(Ce,pe)=>{j.aborted||$b(Ce,pe,we,oe,i)}})}catch(Ce){return{type:"error",error:Ce,partialMatches:te}}finally{fe&&!j.aborted&&(a=[...a])}if(j.aborted)return{type:"aborted"};let de=fs(we,V,l);if(de)return{type:"success",matches:de};let be=Mh(we,V,l,!0);if(!be||te.length===be.length&&te.every((Ce,pe)=>Ce.route.id===be[pe].route.id))return{type:"success",matches:null};te=be}}function Br(N){s={},o=bf(N,i,void 0,s)}function Hr(N,V){let j=o==null;$b(N,V,o||a,s,i),j&&(a=[...a],J({}))}return k={get basename(){return l},get future(){return h},get state(){return x},get routes(){return a},get window(){return e},initialize:ie,subscribe:Oe,enableScrollRestoration:Mn,navigate:Ye,fetch:kt,revalidate:Dt,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:Xt,deleteFetcher:Kn,dispose:me,getBlocker:sr,deleteBlocker:br,patchRoutes:Hr,_internalFetchControllers:z,_internalSetRoutes:Br},k}function YO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Fp(t,e,n,r,i,s){let a,o;if(i){a=[];for(let c of e)if(a.push(c),c.route.id===i){o=c;break}}else a=e,o=e[e.length-1];let l=Lv(r||".",Rv(a),jr(t.pathname,n)||t.pathname,s==="path");if(r==null&&(l.search=t.search,l.hash=t.hash),(r==null||r===""||r===".")&&o){let c=Iv(l.search);if(o.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&c){let h=new URLSearchParams(l.search),m=h.getAll("index");h.delete("index"),m.filter(g=>g).forEach(g=>h.append("index",g));let d=h.toString();l.search=d?`?${d}`:""}}return n!=="/"&&(l.pathname=l.pathname==="/"?n:li([n,l.pathname])),js(l)}function qb(t,e,n){if(!n||!YO(n))return{path:e};if(n.formMethod&&!aD(n.formMethod))return{path:e,error:Tr(405,{method:n.formMethod})};let r=()=>({path:e,error:Tr(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),a=SA(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!fr(s))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((d,[g,E])=>`${d}${g}=${E}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!fr(s))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}qe(typeof FormData=="function","FormData is not available in this environment");let o,l;if(n.formData)o=$p(n.formData),l=n.formData;else if(n.body instanceof FormData)o=$p(n.body),l=n.body;else if(n.body instanceof URLSearchParams)o=n.body,l=Xb(o);else if(n.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(n.body),l=Xb(o)}catch{return r()}let c={formMethod:s,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(fr(c.formMethod))return{path:e,submission:c};let h=Ws(e);return t&&h.search&&Iv(h.search)&&o.append("index",""),h.search=`?${o}`,{path:js(h),submission:c}}function Gb(t,e,n,r,i,s,a,o,l,c,h,m,d,g,E,A,S,_,v){var P;let C=v?hr(v[1])?v[1].error:v[1].data:void 0,R=i.createURL(s.location),k=i.createURL(l),x;if(h&&s.errors){let O=Object.keys(s.errors)[0];x=a.findIndex(Y=>Y.route.id===O)}else if(v&&hr(v[1])){let O=v[0];x=a.findIndex(Y=>Y.route.id===O)-1}let T=v?v[1].statusCode:void 0,b=T&&T>=400,w={currentUrl:R,currentParams:((P=s.matches[0])==null?void 0:P.params)||{},nextUrl:k,nextParams:a[0].params,...o,actionResult:C,actionStatus:T},L=a.map((O,Y)=>{let{route:Z}=O,z=null;if(x!=null&&Y>x?z=!1:Z.lazy?z=!0:Z.loader==null?z=!1:h?z=qp(Z,s.loaderData,s.errors):QO(s.loaderData,s.matches[Y],O)&&(z=!0),z!==null)return Gp(n,r,t,O,c,e,z);let $=b?!1:m||R.pathname+R.search===k.pathname+k.search||R.search!==k.search||WO(s.matches[Y],O),H={...w,defaultShouldRevalidate:$},ne=Sf(O,H);return Gp(n,r,t,O,c,e,ne,H)}),M=[];return E.forEach((O,Y)=>{if(h||!a.some(ge=>ge.route.id===O.routeId)||g.has(Y))return;let Z=fs(S,O.path,_);if(!Z){M.push({key:Y,routeId:O.routeId,path:O.path,matches:null,match:null,request:null,controller:null});return}if(A.has(Y))return;let z=s.fetchers.get(Y),$=Ql(Z,O.path),H=new AbortController,ne=ro(i,O.path,H.signal),ee=null;if(d.has(Y))d.delete(Y),ee=Mo(n,r,ne,Z,$,c,e);else if(z&&z.state!=="idle"&&z.data===void 0)m&&(ee=Mo(n,r,ne,Z,$,c,e));else{let ge={...w,defaultShouldRevalidate:b?!1:m};Sf($,ge)&&(ee=Mo(n,r,ne,Z,$,c,e,ge))}ee&&M.push({key:Y,routeId:O.routeId,path:O.path,matches:ee,match:$,request:ne,controller:H})}),{dsMatches:L,revalidatingFetchers:M}}function qp(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function QO(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function WO(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Sf(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function $b(t,e,n,r,i){let s;if(t){let l=r[t];qe(l,`No route found to patch children into: routeId = ${t}`),l.children||(l.children=[]),s=l.children}else s=n;let a=e.filter(l=>!s.some(c=>yA(l,c))),o=bf(a,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...o)}function yA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>yA(n,s))}):!1}var Kb=new WeakMap,_A=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(qe(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let a=Kb.get(i);a||(a={},Kb.set(i,a));let o=a[t];if(o)return o;let l=(async()=>{let c=yO(t),m=i[t]!==void 0&&t!=="hasErrorBoundary";if(c)Qt(!c,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(m)Qt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let d=await s();d!=null&&(Object.assign(i,{[t]:d}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(d=>d===void 0)&&(i.lazy=void 0))})();return a[t]=l,l},Yb=new WeakMap;function XO(t,e,n,r,i){let s=n[t.id];if(qe(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let h=Yb.get(s);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let m=(async()=>{qe(typeof t.lazy=="function","No lazy route function found");let d=await t.lazy(),g={};for(let E in d){let A=d[E];if(A===void 0)continue;let S=bO(E),v=s[E]!==void 0&&E!=="hasErrorBoundary";S?Qt(!S,"Route property "+E+" is not a supported property to be returned from a lazy route function. This property will be ignored."):v?Qt(!v,`Route "${s.id}" has a static property "${E}" defined but its lazy function is also returning a value for this property. The lazy route property "${E}" will be ignored.`):g[E]=A}Object.assign(s,g),Object.assign(s,{...r(s),lazy:void 0})})();return Yb.set(s,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let a=Object.keys(t.lazy),o=[],l;for(let h of a){if(i&&i.includes(h))continue;let m=_A({key:h,route:t,manifest:n,mapRouteProperties:r});m&&(o.push(m),h===e&&(l=m))}let c=o.length>0?Promise.all(o).then(()=>{}):void 0;return c==null||c.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function Qb(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function ZO(t){return t.matches.some(e=>e.route.unstable_middleware)?bA(t,!1,()=>Qb(t),(e,n)=>({[n]:{type:"error",result:e}})):Qb(t)}async function bA(t,e,n,r){let{matches:i,request:s,params:a,context:o}=t,l={handlerResult:void 0};try{let c=i.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(d=>[m.route.id,d]):[]),h=await EA({request:s,params:a,context:o},c,e,l,n);return e?h:l.handlerResult}catch(c){if(!l.middlewareError)throw c;let h=await r(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,h):h}}async function EA(t,e,n,r,i,s=0){let{request:a}=t;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let o=e[s];if(!o)return r.handlerResult=await i(),r.handlerResult;let[l,c]=o,h=!1,m,d=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");h=!0,await EA(t,e,n,r,i,s+1)};try{let g=await c({request:t.request,params:t.params,context:t.context},d);return h?g===void 0?m:g:d()}catch(g){throw r.middlewareError?r.middlewareError.error!==g&&(r.middlewareError={routeId:l,error:g}):r.middlewareError={routeId:l,error:g},g}}function wA(t,e,n,r,i){let s=_A({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),a=XO(r.route,fr(n.method)?"action":"loader",e,t,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Gp(t,e,n,r,i,s,a,o=null){let l=!1,c=wA(t,e,n,r,i);return{...r,_lazyPromises:c,shouldLoad:a,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(h){return l=!0,o?typeof h=="boolean"?Sf(r,{...o,defaultShouldRevalidate:h}):Sf(r,o):a},resolve(h){return l||a||h&&n.method==="GET"&&(r.route.lazy||r.route.loader)?eD({request:n,match:r,lazyHandlerPromise:c==null?void 0:c.handler,lazyRoutePromise:c==null?void 0:c.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Mo(t,e,n,r,i,s,a,o=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:wA(t,e,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Gp(t,e,n,l,s,a,!0,o))}async function JO(t,e,n,r,i,s){n.some(c=>{var h;return(h=c._lazyPromises)==null?void 0:h.middleware})&&await Promise.all(n.map(c=>{var h;return(h=c._lazyPromises)==null?void 0:h.middleware}));let a={request:e,params:n[0].params,context:i,matches:n},l=await t({...a,fetcherKey:r,unstable_runClientMiddleware:c=>{let h=a;return bA(h,!1,()=>c({...h,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(m,d)=>({[d]:{type:"error",result:m}}))}});try{await Promise.all(n.flatMap(c=>{var h,m;return[(h=c._lazyPromises)==null?void 0:h.handler,(m=c._lazyPromises)==null?void 0:m.route]}))}catch{}return l}async function eD({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let a,o,l=fr(t.method),c=l?"action":"loader",h=m=>{let d,g=new Promise((S,_)=>d=_);o=()=>d(),t.signal.addEventListener("abort",o);let E=S=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${e.route.id}]`)):m({request:t,params:e.params,context:s},...S!==void 0?[S]:[]),A=(async()=>{try{return{type:"data",result:await(i?i(_=>E(_)):E())}}catch(S){return{type:"error",result:S}}})();return Promise.race([A,g])};try{let m=l?e.route.action:e.route.loader;if(n||r)if(m){let d,[g]=await Promise.all([h(m).catch(E=>{d=E}),n,r]);if(d!==void 0)throw d;a=g}else{await n;let d=l?e.route.action:e.route.loader;if(d)[a]=await Promise.all([h(d),r]);else if(c==="action"){let g=new URL(t.url),E=g.pathname+g.search;throw Tr(405,{method:t.method,pathname:E,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(m)a=await h(m);else{let d=new URL(t.url),g=d.pathname+d.search;throw Tr(404,{pathname:g})}}catch(m){return{type:"error",result:m}}finally{o&&t.signal.removeEventListener("abort",o)}return a}async function tD(t){var r,i,s,a,o,l;let{result:e,type:n}=t;if(TA(e)){let c;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(h){return{type:"error",error:h}}return n==="error"?{type:"error",error:new wf(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:"data",data:c,statusCode:e.status,headers:e.headers}}return n==="error"?nE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new wf(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:zu(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:zu(e)?e.status:void 0}:nE(e)?{type:"data",data:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function nD(t,e,n,r,i){let s=t.headers.get("Location");if(qe(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mv.test(s)){let a=r.slice(0,r.findIndex(o=>o.route.id===n)+1);s=Fp(new URL(e.url),a,i,s),t.headers.set("Location",s)}return t}function Wb(t,e,n){if(Mv.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=jr(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function ro(t,e,n,r){let i=t.createURL(SA(e)).toString(),s={signal:n};if(r&&fr(r.formMethod)){let{formMethod:a,formEncType:o}=r;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(r.json)):o==="text/plain"?s.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?s.body=$p(r.formData):s.body=r.formData}return new Request(i,s)}function $p(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Xb(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function rD(t,e,n,r=!1,i=!1){let s={},a=null,o,l=!1,c={},h=n&&hr(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let d=m.route.id,g=e[d];if(qe(!ca(g),"Cannot handle redirect results in processLoaderData"),hr(g)){let E=g.error;if(h!==void 0&&(E=h,h=void 0),a=a||{},i)a[d]=E;else{let A=la(t,d);a[A.route.id]==null&&(a[A.route.id]=E)}r||(s[d]=vA),l||(l=!0,o=zu(g.error)?g.error.status:500),g.headers&&(c[d]=g.headers)}else s[d]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(o=g.statusCode),g.headers&&(c[d]=g.headers)}),h!==void 0&&n&&(a={[n[0]]:h},s[n[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}function Zb(t,e,n,r,i,s){let{loaderData:a,errors:o}=rD(e,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:h,controller:m}=l,d=s[c];if(qe(d,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(hr(d)){let g=la(t.matches,h==null?void 0:h.route.id);o&&o[g.route.id]||(o={...o,[g.route.id]:d.error}),t.fetchers.delete(c)}else if(ca(d))qe(!1,"Unhandled fetcher revalidation redirect");else{let g=rs(d.data);t.fetchers.set(c,g)}}),{loaderData:a,errors:o}}function Jb(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==vA).reduce((s,[a,o])=>(s[a]=o,s),{});for(let s of n){let a=s.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function eE(t){return t?hr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function la(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function tE(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Tr(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(a="Bad Request",r&&e&&n?o=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):t===403?(a="Forbidden",o=`Route "${n}" does not match URL "${e}"`):t===404?(a="Not Found",o=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",r&&e&&n?o=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(o=`Invalid request method "${r.toUpperCase()}"`)),new wf(t||500,a,new Error(o),!0)}function rh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ca(i))return{key:r,result:i}}}function SA(t){let e=typeof t=="string"?Ws(t):t;return js({...e,hash:""})}function iD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function sD(t){return TA(t.result)&&FO.has(t.result.status)}function hr(t){return t.type==="error"}function ca(t){return(t&&t.type)==="redirect"}function nE(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function TA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function aD(t){return HO.has(t.toUpperCase())}function fr(t){return zO.has(t.toUpperCase())}function Iv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ql(t,e){let n=typeof e=="string"?Ws(e).search:e.search;if(t[t.length-1].route.index&&Iv(n||""))return t[t.length-1];let r=mA(t);return r[r.length-1]}function rE(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function Am(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function oD(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ul(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lD(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function rs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function uD(t,e){try{let n=t.sessionStorage.getItem(gA);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function cD(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(gA,JSON.stringify(n))}catch(r){Qt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function hD(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Na=f.createContext(null);Na.displayName="DataRouter";var vc=f.createContext(null);vc.displayName="DataRouterState";var Ov=f.createContext({isTransitioning:!1});Ov.displayName="ViewTransition";var CA=f.createContext(new Map);CA.displayName="Fetchers";var fD=f.createContext(null);fD.displayName="Await";var bi=f.createContext(null);bi.displayName="Navigation";var pd=f.createContext(null);pd.displayName="Location";var Zr=f.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var Dv=f.createContext(null);Dv.displayName="RouteError";function dD(t,{relative:e}={}){qe(yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=f.useContext(bi),{hash:i,pathname:s,search:a}=_c(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:li([n,s])),r.createHref({pathname:o,search:a,hash:i})}function yc(){return f.useContext(pd)!=null}function Jr(){return qe(yc(),"useLocation() may be used only in the context of a <Router> component."),f.useContext(pd).location}var AA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xA(t){f.useContext(bi).static||f.useLayoutEffect(t)}function gd(){let{isDataRoute:t}=f.useContext(Zr);return t?RD():mD()}function mD(){qe(yc(),"useNavigate() may be used only in the context of a <Router> component.");let t=f.useContext(Na),{basename:e,navigator:n}=f.useContext(bi),{matches:r}=f.useContext(Zr),{pathname:i}=Jr(),s=JSON.stringify(Rv(r)),a=f.useRef(!1);return xA(()=>{a.current=!0}),f.useCallback((l,c={})=>{if(Qt(a.current,AA),!a.current)return;if(typeof l=="number"){n.go(l);return}let h=Lv(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:li([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}var pD=f.createContext(null);function gD(t){let e=f.useContext(Zr).outlet;return e&&f.createElement(pD.Provider,{value:t},e)}function RA(){let{matches:t}=f.useContext(Zr),e=t[t.length-1];return e?e.params:{}}function _c(t,{relative:e}={}){let{matches:n}=f.useContext(Zr),{pathname:r}=Jr(),i=JSON.stringify(Rv(n));return f.useMemo(()=>Lv(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function vD(t,e,n,r){qe(yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=f.useContext(bi),{matches:a}=f.useContext(Zr),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let v=m&&m.path||"";LA(c,!m||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let d=Jr(),g;g=d;let E=g.pathname||"/",A=E;if(h!=="/"){let v=h.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(v.length).join("/")}let S=!s&&n&&n.matches&&n.matches.length>0?n.matches:fs(t,{pathname:A});return Qt(m||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Qt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),wD(S&&S.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:li([h,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?h:li([h,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r)}function yD(){let t=xD(),e=zu(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=f.createElement(f.Fragment,null,f.createElement("p",null,"💿 Hey developer 👋"),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",f.createElement("code",{style:s},"ErrorBoundary")," or"," ",f.createElement("code",{style:s},"errorElement")," prop on your route.")),f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:i},n):null,a)}var _D=f.createElement(yD,null),bD=class extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?f.createElement(Zr.Provider,{value:this.props.routeContext},f.createElement(Dv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ED({routeContext:t,match:e,children:n}){let r=f.useContext(Na);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),f.createElement(Zr.Provider,{value:t},n)}function wD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);qe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,o=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:h,errors:m}=n,d=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!m||m[c.route.id]===void 0);if(c.route.lazy||d){a=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,c,h)=>{let m,d=!1,g=null,E=null;n&&(m=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||_D,a&&(o<0&&h===0?(LA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,E=null):o===h&&(d=!0,E=c.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,h+1)),S=()=>{let _;return m?_=g:d?_=E:c.route.Component?_=f.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,f.createElement(ED,{match:c,routeContext:{outlet:l,matches:A,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?f.createElement(bD,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:S(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):S()},null)}function kv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SD(t){let e=f.useContext(Na);return qe(e,kv(t)),e}function TD(t){let e=f.useContext(vc);return qe(e,kv(t)),e}function CD(t){let e=f.useContext(Zr);return qe(e,kv(t)),e}function Pv(t){let e=CD(t),n=e.matches[e.matches.length-1];return qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function AD(){return Pv("useRouteId")}function xD(){var r;let t=f.useContext(Dv),e=TD("useRouteError"),n=Pv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function RD(){let{router:t}=SD("useNavigate"),e=Pv("useNavigate"),n=f.useRef(!1);return xA(()=>{n.current=!0}),f.useCallback(async(i,s={})=>{Qt(n.current,AA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var iE={};function LA(t,e,n){!e&&!iE[t]&&(iE[t]=!0,Qt(!1,n))}var sE={};function aE(t,e){!t&&!sE[e]&&(sE[e]=!0,console.warn(e))}function LD(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:f.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:f.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:f.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var MD=["HydrateFallback","hydrateFallbackElement"],ID=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function OD({router:t,flushSync:e}){let[n,r]=f.useState(t.state),[i,s]=f.useState(),[a,o]=f.useState({isTransitioning:!1}),[l,c]=f.useState(),[h,m]=f.useState(),[d,g]=f.useState(),E=f.useRef(new Map),A=f.useCallback((C,{deletedFetchers:R,flushSync:k,viewTransitionOpts:x})=>{C.fetchers.forEach((b,w)=>{b.data!==void 0&&E.current.set(w,b.data)}),R.forEach(b=>E.current.delete(b)),aE(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let T=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(aE(x==null||T,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!x||!T){e&&k?e(()=>r(C)):f.startTransition(()=>r(C));return}if(e&&k){e(()=>{h&&(l&&l.resolve(),h.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:x.currentLocation,nextLocation:x.nextLocation})});let b=t.window.document.startViewTransition(()=>{e(()=>r(C))});b.finished.finally(()=>{e(()=>{c(void 0),m(void 0),s(void 0),o({isTransitioning:!1})})}),e(()=>m(b));return}h?(l&&l.resolve(),h.skipTransition(),g({state:C,currentLocation:x.currentLocation,nextLocation:x.nextLocation})):(s(C),o({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}))},[t.window,e,h,l]);f.useLayoutEffect(()=>t.subscribe(A),[t,A]),f.useEffect(()=>{a.isTransitioning&&!a.flushSync&&c(new ID)},[a]),f.useEffect(()=>{if(l&&i&&t.window){let C=i,R=l.promise,k=t.window.document.startViewTransition(async()=>{f.startTransition(()=>r(C)),await R});k.finished.finally(()=>{c(void 0),m(void 0),s(void 0),o({isTransitioning:!1})}),m(k)}},[i,l,t.window]),f.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,h,n.location,i]),f.useEffect(()=>{!a.isTransitioning&&d&&(s(d.state),o({isTransitioning:!0,flushSync:!1,currentLocation:d.currentLocation,nextLocation:d.nextLocation}),g(void 0))},[a.isTransitioning,d]);let S=f.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:C=>t.navigate(C),push:(C,R,k)=>t.navigate(C,{state:R,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(C,R,k)=>t.navigate(C,{replace:!0,state:R,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[t]),_=t.basename||"/",v=f.useMemo(()=>({router:t,navigator:S,static:!1,basename:_}),[t,S,_]);return f.createElement(f.Fragment,null,f.createElement(Na.Provider,{value:v},f.createElement(vc.Provider,{value:n},f.createElement(CA.Provider,{value:E.current},f.createElement(Ov.Provider,{value:a},f.createElement(ND,{basename:_,location:n.location,navigationType:n.historyAction,navigator:S},f.createElement(DD,{routes:t.routes,future:t.future,state:n})))))),null)}var DD=f.memo(kD);function kD({routes:t,future:e,state:n}){return vD(t,void 0,n,e)}function PD(t){return gD(t.context)}function ND({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){qe(!yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=f.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Ws(n));let{pathname:l="/",search:c="",hash:h="",state:m=null,key:d="default"}=n,g=f.useMemo(()=>{let E=jr(l,a);return E==null?null:{location:{pathname:E,search:c,hash:h,state:m,key:d},navigationType:r}},[a,l,c,h,m,d,r]);return Qt(g!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:f.createElement(bi.Provider,{value:o},f.createElement(pd.Provider,{children:e,value:g}))}var Ih="get",Oh="application/x-www-form-urlencoded";function vd(t){return t!=null&&typeof t.tagName=="string"}function VD(t){return vd(t)&&t.tagName.toLowerCase()==="button"}function UD(t){return vd(t)&&t.tagName.toLowerCase()==="form"}function jD(t){return vd(t)&&t.tagName.toLowerCase()==="input"}function zD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BD(t,e){return t.button===0&&(!e||e==="_self")&&!zD(t)}var ih=null;function HD(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var FD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(t){return t!=null&&!FD.has(t)?(Qt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):t}function qD(t,e){let n,r,i,s,a;if(UD(t)){let o=t.getAttribute("action");r=o?jr(o,e):null,n=t.getAttribute("method")||Ih,i=xm(t.getAttribute("enctype"))||Oh,s=new FormData(t)}else if(VD(t)||jD(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?jr(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Ih,i=xm(t.getAttribute("formenctype"))||xm(o.getAttribute("enctype"))||Oh,s=new FormData(o,t),!HD()){let{name:c,type:h,value:m}=t;if(h==="image"){let d=c?`${c}.`:"";s.append(`${d}x`,"0"),s.append(`${d}y`,"0")}else c&&s.append(c,m)}}else{if(vd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ih,r=null,i=Oh,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Nv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function GD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $D(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function KD(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await GD(s,n);return a.links?a.links():[]}return[]}));return XD(r.flat(1).filter($D).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function oE(t,e,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var m;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function YD(t,e,{includeHydrateFallback:n}={}){return QD(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function QD(t){return[...new Set(t)]}function WD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function XD(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(WD(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}var ZD=new Set([100,101,204,205]);function JD(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&jr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function MA(){let t=f.useContext(Na);return Nv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ek(){let t=f.useContext(vc);return Nv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vv=f.createContext(void 0);Vv.displayName="FrameworkContext";function IA(){let t=f.useContext(Vv);return Nv(t,"You must render this element inside a <HydratedRouter> element"),t}function tk(t,e){let n=f.useContext(Vv),[r,i]=f.useState(!1),[s,a]=f.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:m}=e,d=f.useRef(null);f.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let A=_=>{_.forEach(v=>{a(v.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return d.current&&S.observe(d.current),()=>{S.disconnect()}}},[t]),f.useEffect(()=>{if(r){let A=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(A)}}},[r]);let g=()=>{i(!0)},E=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,d,{}]:[s,d,{onFocus:jl(o,g),onBlur:jl(l,E),onMouseEnter:jl(c,g),onMouseLeave:jl(h,E),onTouchStart:jl(m,g)}]:[!1,d,{}]}function jl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function nk({page:t,...e}){let{router:n}=MA(),r=f.useMemo(()=>fs(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?f.createElement(ik,{page:t,matches:r,...e}):null}function rk(t){let{manifest:e,routeModules:n}=IA(),[r,i]=f.useState([]);return f.useEffect(()=>{let s=!1;return KD(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function ik({page:t,matches:e,...n}){let r=Jr(),{manifest:i,routeModules:s}=IA(),{basename:a}=MA(),{loaderData:o,matches:l}=ek(),c=f.useMemo(()=>oE(t,e,l,i,r,"data"),[t,e,l,i,r]),h=f.useMemo(()=>oE(t,e,l,i,r,"assets"),[t,e,l,i,r]),m=f.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,A=!1;if(e.forEach(_=>{var C;let v=i.routes[_.route.id];!v||!v.hasLoader||(!c.some(R=>R.route.id===_.route.id)&&_.route.id in o&&((C=s[_.route.id])!=null&&C.shouldRevalidate)||v.hasClientLoader?A=!0:E.add(_.route.id))}),E.size===0)return[];let S=JD(t,a);return A&&E.size>0&&S.searchParams.set("_routes",e.filter(_=>E.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[a,o,r,i,c,e,t,s]),d=f.useMemo(()=>YD(h,i),[h,i]),g=rk(h);return f.createElement(f.Fragment,null,m.map(E=>f.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),d.map(E=>f.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),g.map(({key:E,link:A})=>f.createElement("link",{key:E,...A})))}function sk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OA&&(window.__reactRouterVersion="7.5.1")}catch{}function ak(t,e){return KO({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:mO({window:e==null?void 0:e.window}),hydrationData:ok(),routes:t,mapRouteProperties:LD,hydrationRouteProperties:MD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function ok(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:lk(t.errors)}),t}function lk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new wf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var DA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uv=f.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:h,viewTransition:m,...d},g){let{basename:E}=f.useContext(bi),A=typeof c=="string"&&DA.test(c),S,_=!1;if(typeof c=="string"&&A&&(S=c,OA))try{let w=new URL(window.location.href),L=c.startsWith("//")?new URL(w.protocol+c):new URL(c),M=jr(L.pathname,E);L.origin===w.origin&&M!=null?c=M+L.search+L.hash:_=!0}catch{Qt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=dD(c,{relative:i}),[C,R,k]=tk(r,d),x=fk(c,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:m});function T(w){e&&e(w),w.defaultPrevented||x(w)}let b=f.createElement("a",{...d,...k,href:S||v,onClick:_||s?e:T,ref:sk(g,R),target:l,"data-discover":!A&&n==="render"?"true":void 0});return C&&!A?f.createElement(f.Fragment,null,b,f.createElement(nk,{page:v})):b});Uv.displayName="Link";var uk=f.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},h){let m=_c(a,{relative:c.relative}),d=Jr(),g=f.useContext(vc),{navigator:E,basename:A}=f.useContext(bi),S=g!=null&&vk(m)&&o===!0,_=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,v=d.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(v=v.toLowerCase(),C=C?C.toLowerCase():null,_=_.toLowerCase()),C&&A&&(C=jr(C,A)||C);const R=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let k=v===_||!i&&v.startsWith(_)&&v.charAt(R)==="/",x=C!=null&&(C===_||!i&&C.startsWith(_)&&C.charAt(_.length)==="/"),T={isActive:k,isPending:x,isTransitioning:S},b=k?e:void 0,w;typeof r=="function"?w=r(T):w=[r,k?"active":null,x?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(T):s;return f.createElement(Uv,{...c,"aria-current":b,className:w,ref:h,style:L,to:a,viewTransition:o},typeof l=="function"?l(T):l)});uk.displayName="NavLink";var ck=f.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Ih,action:o,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:m,...d},g)=>{let E=pk(),A=gk(o,{relative:c}),S=a.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&DA.test(o),v=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let R=C.nativeEvent.submitter,k=(R==null?void 0:R.getAttribute("formmethod"))||a;E(R||C.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:m})};return f.createElement("form",{ref:g,method:S,action:A,onSubmit:r?l:v,...d,"data-discover":!_&&t==="render"?"true":void 0})});ck.displayName="Form";function hk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(t){let e=f.useContext(Na);return qe(e,hk(t)),e}function fk(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=gd(),l=Jr(),c=_c(t,{relative:s});return f.useCallback(h=>{if(BD(h,e)){h.preventDefault();let m=n!==void 0?n:js(l)===js(c);o(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,e,t,i,s,a])}var dk=0,mk=()=>`__${String(++dk)}__`;function pk(){let{router:t}=kA("useSubmit"),{basename:e}=f.useContext(bi),n=AD();return f.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=qD(r,e);if(i.navigate===!1){let h=i.fetcherKey||mk();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function gk(t,{relative:e}={}){let{basename:n}=f.useContext(bi),r=f.useContext(Zr);qe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={..._c(t||".",{relative:e})},a=Jr();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:li([n,s.pathname])),js(s)}function vk(t,e={}){let n=f.useContext(Ov);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kA("useViewTransitionState"),i=_c(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ef(i.pathname,a)!=null||Ef(i.pathname,s)!=null}new TextEncoder;[...ZD];/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yk(t){return f.createElement(OD,{flushSync:Ki.flushSync,...t})}const PA=f.createContext(void 0),NA=({children:t})=>{const[e,n]=f.useState([]),[r,i]=f.useState([]),[s,a]=f.useState(""),[o,l]=f.useState(null),[c,h]=f.useState(null),[m,d]=f.useState(null),[g,E]=f.useState([]),[A,S]=f.useState([]);return D.jsx(PA.Provider,{value:{eventType:e,setEventType:n,theme:r,setTheme:i,location:s,setLocation:a,date:o,setDate:l,startTime:c,setStartTime:h,endTime:m,setEndTime:d,invitees:g,setInvitees:E,activities:A,setActivities:S},children:t})},cl=()=>{const t=f.useContext(PA);if(!t)throw new Error("useInvitation must be used within an InvitationProvider");return t};function _k(){return D.jsx(NA,{children:D.jsx(PD,{})})}function VA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=VA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=VA(t))&&(r&&(r+=" "),r+=e);return r}const jv="-",Ek=t=>{const e=Sk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(jv);return o[0]===""&&o.length!==1&&o.shift(),UA(o,e)||wk(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},UA=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?UA(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(jv);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},lE=/^\[(.+)\]$/,wk=t=>{if(lE.test(t)){const e=lE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Sk=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Kp(n[i],r,i,e);return r},Kp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:uE(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Tk(i)){Kp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Kp(a,uE(e,s),n,r)})})},uE=(t,e)=>{let n=t;return e.split(jv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Tk=t=>t.isThemeGetter,Ck=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},Yp="!",Qp=":",Ak=Qp.length,xk=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,o=0,l=0,c;for(let E=0;E<i.length;E++){let A=i[E];if(a===0&&o===0){if(A===Qp){s.push(i.slice(l,E)),l=E+Ak;continue}if(A==="/"){c=E;continue}}A==="["?a++:A==="]"?a--:A==="("?o++:A===")"&&o--}const h=s.length===0?i:i.substring(l),m=Rk(h),d=m!==h,g=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:g}};if(e){const i=e+Qp,s=r;r=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},Rk=t=>t.endsWith(Yp)?t.substring(0,t.length-1):t.startsWith(Yp)?t.substring(1):t,Lk=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(a=>{a[0]==="["||e[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},Mk=t=>({cache:Ck(t.cacheSize),parseClassName:xk(t),sortModifiers:Lk(t),...Ek(t)}),Ik=/\s+/,Ok=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=t.trim().split(Ik);let l="";for(let c=o.length-1;c>=0;c-=1){const h=o[c],{isExternal:m,modifiers:d,hasImportantModifier:g,baseClassName:E,maybePostfixModifierPosition:A}=n(h);if(m){l=h+(l.length>0?" "+l:l);continue}let S=!!A,_=r(S?E.substring(0,A):E);if(!_){if(!S){l=h+(l.length>0?" "+l:l);continue}if(_=r(E),!_){l=h+(l.length>0?" "+l:l);continue}S=!1}const v=s(d).join(":"),C=g?v+Yp:v,R=C+_;if(a.includes(R))continue;a.push(R);const k=i(_,S);for(let x=0;x<k.length;++x){const T=k[x];a.push(C+T)}l=h+(l.length>0?" "+l:l)}return l};function Dk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jA(e))&&(r&&(r+=" "),r+=n);return r}const jA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jA(t[r]))&&(n&&(n+=" "),n+=e);return n};function kk(t,...e){let n,r,i,s=a;function a(l){const c=e.reduce((h,m)=>m(h),t());return n=Mk(c),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const c=r(l);if(c)return c;const h=Ok(l,n);return i(l,h),h}return function(){return s(Dk.apply(null,arguments))}}const Jt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},zA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,BA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Pk=/^\d+\/\d+$/,Nk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Uk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ya=t=>Pk.test(t),Ne=t=>!!t&&!Number.isNaN(Number(t)),es=t=>!!t&&Number.isInteger(Number(t)),Rm=t=>t.endsWith("%")&&Ne(t.slice(0,-1)),Ai=t=>Nk.test(t),Bk=()=>!0,Hk=t=>Vk.test(t)&&!Uk.test(t),HA=()=>!1,Fk=t=>jk.test(t),qk=t=>zk.test(t),Gk=t=>!ue(t)&&!ce(t),$k=t=>hl(t,GA,HA),ue=t=>zA.test(t),na=t=>hl(t,$A,Hk),Lm=t=>hl(t,Xk,Ne),cE=t=>hl(t,FA,HA),Kk=t=>hl(t,qA,qk),sh=t=>hl(t,KA,Fk),ce=t=>BA.test(t),zl=t=>fl(t,$A),Yk=t=>fl(t,Zk),hE=t=>fl(t,FA),Qk=t=>fl(t,GA),Wk=t=>fl(t,qA),ah=t=>fl(t,KA,!0),hl=(t,e,n)=>{const r=zA.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},fl=(t,e,n=!1)=>{const r=BA.exec(t);return r?r[1]?e(r[1]):n:!1},FA=t=>t==="position"||t==="percentage",qA=t=>t==="image"||t==="url",GA=t=>t==="length"||t==="size"||t==="bg-size",$A=t=>t==="length",Xk=t=>t==="number",Zk=t=>t==="family-name",KA=t=>t==="shadow",Jk=()=>{const t=Jt("color"),e=Jt("font"),n=Jt("text"),r=Jt("font-weight"),i=Jt("tracking"),s=Jt("leading"),a=Jt("breakpoint"),o=Jt("container"),l=Jt("spacing"),c=Jt("radius"),h=Jt("shadow"),m=Jt("inset-shadow"),d=Jt("text-shadow"),g=Jt("drop-shadow"),E=Jt("blur"),A=Jt("perspective"),S=Jt("aspect"),_=Jt("ease"),v=Jt("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...R(),ce,ue],x=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],b=()=>[ce,ue,l],w=()=>[Ya,"full","auto",...b()],L=()=>[es,"none","subgrid",ce,ue],M=()=>["auto",{span:["full",es,ce,ue]},es,ce,ue],P=()=>[es,"auto",ce,ue],O=()=>["auto","min","max","fr",ce,ue],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...b()],$=()=>[Ya,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],H=()=>[t,ce,ue],ne=()=>[...R(),hE,cE,{position:[ce,ue]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ge=()=>["auto","cover","contain",Qk,$k,{size:[ce,ue]}],ve=()=>[Rm,zl,na],W=()=>["","none","full",c,ce,ue],se=()=>["",Ne,zl,na],B=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[Ne,Rm,hE,cE],me=()=>["","none",E,ce,ue],Oe=()=>["none",Ne,ce,ue],J=()=>["none",Ne,ce,ue],he=()=>[Ne,ce,ue],Ye=()=>[Ya,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ai],breakpoint:[Ai],color:[Bk],container:[Ai],"drop-shadow":[Ai],ease:["in","out","in-out"],font:[Gk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ai],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ai],shadow:[Ai],spacing:["px",Ne],text:[Ai],"text-shadow":[Ai],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ya,ue,ce,S]}],container:["container"],columns:[{columns:[Ne,ue,ce,o]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[es,"auto",ce,ue]}],basis:[{basis:[Ya,"full","auto",o,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ne,Ya,"auto","initial","none",ue]}],grow:[{grow:["",Ne,ce,ue]}],shrink:[{shrink:["",Ne,ce,ue]}],order:[{order:[es,"first","last","none",ce,ue]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:$()}],w:[{w:[o,"screen",...$()]}],"min-w":[{"min-w":[o,"screen","none",...$()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...$()]}],h:[{h:["screen",...$()]}],"min-h":[{"min-h":["screen","none",...$()]}],"max-h":[{"max-h":["screen",...$()]}],"font-size":[{text:["base",n,zl,na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ce,Lm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rm,ue]}],"font-family":[{font:[Yk,ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ce,ue]}],"line-clamp":[{"line-clamp":[Ne,"none",ce,Lm]}],leading:[{leading:[s,...b()]}],"list-image":[{"list-image":["none",ce,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ne,"from-font","auto",ce,na]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Ne,"auto",ce,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:ge()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},es,ce,ue],radial:["",ce,ue],conic:[es,ce,ue]},Wk,Kk]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:ve()}],"gradient-via-pos":[{via:ve()}],"gradient-to-pos":[{to:ve()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ne,ce,ue]}],"outline-w":[{outline:["",Ne,zl,na]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",h,ah,sh]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",m,ah,sh]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Ne,na]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",d,ah,sh]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Ne,ce,ue]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ne]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[ce,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Ne]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:ge()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,ue]}],filter:[{filter:["","none",ce,ue]}],blur:[{blur:me()}],brightness:[{brightness:[Ne,ce,ue]}],contrast:[{contrast:[Ne,ce,ue]}],"drop-shadow":[{"drop-shadow":["","none",g,ah,sh]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Ne,ce,ue]}],"hue-rotate":[{"hue-rotate":[Ne,ce,ue]}],invert:[{invert:["",Ne,ce,ue]}],saturate:[{saturate:[Ne,ce,ue]}],sepia:[{sepia:["",Ne,ce,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,ue]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[Ne,ce,ue]}],"backdrop-contrast":[{"backdrop-contrast":[Ne,ce,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ne,ce,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ne,ce,ue]}],"backdrop-invert":[{"backdrop-invert":["",Ne,ce,ue]}],"backdrop-opacity":[{"backdrop-opacity":[Ne,ce,ue]}],"backdrop-saturate":[{"backdrop-saturate":[Ne,ce,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",Ne,ce,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ne,"initial",ce,ue]}],ease:[{ease:["linear","initial",_,ce,ue]}],delay:[{delay:[Ne,ce,ue]}],animate:[{animate:["none",v,ce,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,ce,ue]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Oe()}],"rotate-x":[{"rotate-x":Oe()}],"rotate-y":[{"rotate-y":Oe()}],"rotate-z":[{"rotate-z":Oe()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[ce,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ye()}],"translate-x":[{"translate-x":Ye()}],"translate-y":[{"translate-y":Ye()}],"translate-z":[{"translate-z":Ye()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,ue]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Ne,zl,na,Lm]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},e2=kk(Jk);function yd(...t){return e2(bk(t))}function et({to:t,className:e,children:n,isSelected:r,onClick:i,...s}){const l=yd("px-4 py-2 rounded-full font-medium text-sm bg-white text-black ring-0 transition-shadow duration-300 hover:ring-1 hover:ring-gray-300",r?"rounded-full px-4 py-2 text-sm ring-4 ring-gray-300 transition-shadow duration-300 hover:ring-2 hover:ring-gray-300":"rounded-full px-4 py-2 text-sm ring-1 ring-gray-300 transition-shadow duration-300 hover:ring-2 hover:ring-gray-300",e);return t?D.jsx(Uv,{to:t,className:l,children:n}):D.jsx("button",{className:l,onClick:i,...s,children:n})}const fE=[{label:"Type",path:"/partyType"},{label:"Theme",path:"/theme"},{label:"Date & Time",path:"/dateTime"},{label:"Activities",path:"/activity"},{label:"Invitees",path:"/invitee"},{label:"Location",path:"/location"},{label:"Review",path:"/confirmation"}];function t2(){return D.jsxs("main",{className:"flex flex-col items-center justify-center min-h-screen bg-background px-4",children:[D.jsx("h1",{className:"text-3xl font-bold mb-10 text-black",children:"Create Your Invite"}),D.jsx("div",{className:"flex items-center flex-wrap gap-2 justify-center",children:fE.map((t,e)=>D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(et,{to:t.path,children:t.label}),e<fE.length-1&&D.jsx("div",{className:"w-10 h-px bg-gray-300 mx-2"})]},t.path))})]})}function n2(){const[t,e]=f.useState([]),[n,r]=f.useState(""),[i,s]=f.useState(""),[a,o]=f.useState(!1),[l,c]=f.useState(!1),[h,m]=f.useState(!1),d="viva:invitees";f.useEffect(()=>{try{const A=localStorage.getItem(d);if(A){const S=JSON.parse(A);Array.isArray(S.invitees)&&e(S.invitees),typeof S.name=="string"&&r(S.name),typeof S.email=="string"&&s(S.email)}}catch{}finally{m(!0)}},[]),f.useEffect(()=>{h&&localStorage.setItem(d,JSON.stringify({invitees:t,name:n,email:i}))},[h,t,n,i]);const g=()=>{!n||!i||(e([...t,{name:n,email:i}]),r(""),s(""))},E=A=>{e(S=>S.filter((_,v)=>v!==A))};return D.jsxs("main",{className:"max-w-md mx-auto p-6 bg-background space-y-6",children:[D.jsx("div",{className:"text-3xl font-bold mb-10 text-black flex items-center",children:"Who’s coming"}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("input",{type:"text",placeholder:"Name",className:"border px-2 py-1 rounded w-1/3",value:n,onChange:A=>r(A.target.value)}),D.jsx("input",{type:"email",placeholder:"Email",className:"border px-2 py-1 rounded w-1/3",value:i,onChange:A=>s(A.target.value)}),D.jsx("button",{onClick:g,className:"bg-blue-500 text-white px-4 py-1 rounded",children:"Add"})]}),D.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((A,S)=>{const v=t.reduce((C,R)=>(C[R.name]=(C[R.name]||0)+1,C),{})[A.name]>1;return D.jsxs("div",{className:"bg-gray-200 px-3 py-1 rounded-full flex items-center gap-2",children:[D.jsxs("span",{children:[A.name,v?` (${A.email})`:""]}),D.jsx("button",{onClick:()=>E(S),className:"text-red-500 font-bold",children:"×"})]},S)})}),t.length>0&&D.jsx("div",{className:"mt-4",children:D.jsx("button",{onClick:()=>{c(!0),o(!0),setTimeout(()=>c(!1),3e3)},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition",children:"Finish"})}),l&&D.jsx("div",{className:`fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg
            transition-opacity duration-500 opacity-100 animate-fadeIn`,children:"You're ready to send invites!"}),a&&D.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50
                animate-fadeIn`,children:D.jsxs("div",{className:"bg-white p-6 rounded-xl max-w-md w-full shadow-lg",children:[D.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Review Your Invite"}),D.jsx("ul",{className:"mb-4 max-h-40 overflow-y-auto",children:t.map((A,S)=>D.jsxs("li",{className:"text-sm text-gray-700",children:[A.name," (",A.email,")"]},S))}),D.jsx("textarea",{placeholder:"Write your custom message here...",className:"w-full border rounded p-2 mb-4",rows:3}),D.jsxs("div",{className:"flex justify-end gap-2",children:[D.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-black",children:"Cancel"}),D.jsx("button",{onClick:()=>{console.log("Sending emails..."),o(!1)},className:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700",children:"Send"})]})]})}),D.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[D.jsx(et,{to:"/",children:"Home"}),D.jsx(et,{to:"/location",children:"Next"})]})]})}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function r2(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i2(t){var e=r2(t,"string");return Bu(e)=="symbol"?e:e+""}function G(t,e,n){return(e=i2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mm,dE;function s2(){if(dE)return Mm;dE=1;var t=function(n,r,i,s,a,o,l,c){if(!n){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[i,s,a,o,l,c],d=0;h=new Error(r.replace(/%s/g,function(){return m[d++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return Mm=t,Mm}var a2=s2(),on=YA(a2),De=f.createContext(null);function o2(){on(!!f.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=f.useContext(De);return on(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function l2(t,e,n){return Object.keys(t).reduce(function(i,s){return e(i,t[s],s)},n)}function u2(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function c2(t,e,n,r){var i={},s=(a,o)=>{var l=n[o];l!==e[o]&&(i[o]=l,a(r,l))};return u2(t,s),i}function h2(t,e,n){var r=l2(n,function(s,a,o){return typeof t[o]=="function"&&s.push(google.maps.event.addListener(e,a,t[o])),s},[]);return r}function f2(t){google.maps.event.removeListener(t)}function Ge(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(f2)}function je(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:i,instance:s}=t,a=h2(i,s,n);return c2(e,r,i,s),a}var mE={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},pE={extraMapTypes(t,e){e.forEach(function(r,i){t.mapTypes.set(String(i),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function d2(t){var{children:e,options:n,id:r,mapContainerStyle:i,mapContainerClassName:s,center:a,onClick:o,onDblClick:l,onDrag:c,onDragEnd:h,onDragStart:m,onMouseMove:d,onMouseOut:g,onMouseOver:E,onMouseDown:A,onMouseUp:S,onRightClick:_,onCenterChanged:v,onLoad:C,onUnmount:R}=t,[k,x]=f.useState(null),T=f.useRef(null),[b,w]=f.useState(null),[L,M]=f.useState(null),[P,O]=f.useState(null),[Y,Z]=f.useState(null),[z,$]=f.useState(null),[H,ne]=f.useState(null),[ee,ge]=f.useState(null),[ve,W]=f.useState(null),[se,B]=f.useState(null),[le,ie]=f.useState(null),[me,Oe]=f.useState(null),[J,he]=f.useState(null);return f.useEffect(()=>{n&&k!==null&&k.setOptions(n)},[k,n]),f.useEffect(()=>{k!==null&&typeof a<"u"&&k.setCenter(a)},[k,a]),f.useEffect(()=>{k&&l&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(k,"dblclick",l)))},[l]),f.useEffect(()=>{k&&h&&(P!==null&&google.maps.event.removeListener(P),O(google.maps.event.addListener(k,"dragend",h)))},[h]),f.useEffect(()=>{k&&m&&(Y!==null&&google.maps.event.removeListener(Y),Z(google.maps.event.addListener(k,"dragstart",m)))},[m]),f.useEffect(()=>{k&&A&&(z!==null&&google.maps.event.removeListener(z),$(google.maps.event.addListener(k,"mousedown",A)))},[A]),f.useEffect(()=>{k&&d&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(k,"mousemove",d)))},[d]),f.useEffect(()=>{k&&g&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(k,"mouseout",g)))},[g]),f.useEffect(()=>{k&&E&&(ve!==null&&google.maps.event.removeListener(ve),W(google.maps.event.addListener(k,"mouseover",E)))},[E]),f.useEffect(()=>{k&&S&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(k,"mouseup",S)))},[S]),f.useEffect(()=>{k&&_&&(le!==null&&google.maps.event.removeListener(le),ie(google.maps.event.addListener(k,"rightclick",_)))},[_]),f.useEffect(()=>{k&&o&&(me!==null&&google.maps.event.removeListener(me),Oe(google.maps.event.addListener(k,"click",o)))},[o]),f.useEffect(()=>{k&&c&&(J!==null&&google.maps.event.removeListener(J),he(google.maps.event.addListener(k,"drag",c)))},[c]),f.useEffect(()=>{k&&v&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(k,"center_changed",v)))},[o]),f.useEffect(()=>{var Ye=T.current===null?null:new google.maps.Map(T.current,n);return x(Ye),Ye!==null&&C&&C(Ye),()=>{Ye!==null&&R&&R(Ye)}},[]),D.jsx("div",{id:r,ref:T,style:i,className:s,children:D.jsx(De.Provider,{value:k,children:k!==null?e:null})})}f.memo(d2);class m2 extends f.PureComponent{constructor(){super(...arguments),G(this,"state",{map:null}),G(this,"registeredEvents",[]),G(this,"mapRef",null),G(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),G(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),G(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),G(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=je({updaterMap:pE,eventMap:mE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:pE,eventMap:mE,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ge(this.registeredEvents))}render(){return D.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:D.jsx(De.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function gE(t,e,n,r,i,s,a){try{var o=t[s](a),l=o.value}catch(c){return void n(c)}o.done?e(l):Promise.resolve(l).then(r,i)}function QA(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function a(l){gE(s,r,i,a,o,"next",l)}function o(l){gE(s,r,i,a,o,"throw",l)}a(void 0)})}}function WA(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:i,region:s,libraries:a,channel:o,mapIds:l,authReferrerPolicy:c}=t,h=[];return on(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?h.push("key=".concat(e)):n&&h.push("client=".concat(n)),r&&h.push("v=".concat(r)),i&&h.push("language=".concat(i)),s&&h.push("region=".concat(s)),a&&a.length&&h.push("libraries=".concat(a.sort().join(","))),o&&h.push("channel=".concat(o)),l&&l.length&&h.push("map_ids=".concat(l.join(","))),c&&h.push("auth_referrer_policy=".concat(c)),h.push("loading=async"),h.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(h.join("&"))}var ha=typeof document<"u";function XA(t){var{url:e,id:n,nonce:r}=t;return ha?new Promise(function(s,a){var o=document.getElementById(n),l=window;if(o){var c=o.getAttribute("data-state");if(o.src===e&&c!=="error"){if(c==="ready")return s(n);var h=l.initMap,m=o.onerror;l.initMap=function(){h&&h(),s(n)},o.onerror=function(g){m&&m(g),a(g)};return}else o.remove()}var d=document.createElement("script");d.type="text/javascript",d.src=e,d.id=n,d.async=!0,d.nonce=r||"",d.onerror=function(E){d.setAttribute("data-state","error"),a(E)},l.initMap=function(){d.setAttribute("data-state","ready"),s(n)},document.head.appendChild(d)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function vE(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function ZA(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,s){return vE(i)||Reflect.apply(e,t,[i,s]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return vE(i)||Reflect.apply(n,t,[i]),i}}}var Bl=!1;function JA(){return D.jsx("div",{children:"Loading..."})}var Wp={id:"script-loader",version:"weekly"};class e1 extends f.PureComponent{constructor(){super(...arguments),G(this,"check",null),G(this,"state",{loaded:!1}),G(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),G(this,"isCleaningUp",QA(function*(){function e(n){if(!Bl)n();else if(ha)var r=window.setInterval(function(){Bl||(window.clearInterval(r),n())},1)}return new Promise(e)})),G(this,"cleanup",()=>{Bl=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),G(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&ZA(),on(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:WA(this.props)};XA(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),G(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ha){if(window.google&&window.google.maps&&!Bl){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ha&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ha){this.cleanup();var e=()=>{this.check||(delete window.google,Bl=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return D.jsxs(D.Fragment,{children:[D.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||D.jsx(JA,{})]})}}G(e1,"defaultProps",Wp);function p2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function zv(t,e){if(t==null)return{};var n,r,i=p2(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var yE;function g2(t){var{id:e=Wp.id,version:n=Wp.version,nonce:r,googleMapsApiKey:i,googleMapsClientId:s,language:a,region:o,libraries:l,preventGoogleFontsLoading:c,channel:h,mapIds:m,authReferrerPolicy:d}=t,g=f.useRef(!1),[E,A]=f.useState(!1),[S,_]=f.useState(void 0);f.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]),f.useEffect(function(){ha&&c&&ZA()},[c]),f.useEffect(function(){E&&on(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[E]);var v=WA({version:n,googleMapsApiKey:i,googleMapsClientId:s,language:a,region:o,libraries:l,channel:h,mapIds:m,authReferrerPolicy:d});f.useEffect(function(){if(!ha)return;function k(){g.current&&(A(!0),yE=v)}if(window.google&&window.google.maps&&yE===v){k();return}XA({id:e,url:v,nonce:r}).then(k).catch(function(T){g.current&&_(T),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(T)})},[e,v,r]);var C=f.useRef(void 0);return f.useEffect(function(){C.current&&l!==C.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),C.current=l},[l]),{isLoaded:E,loadError:S,url:v}}var v2=["loadingElement","onLoad","onError","onUnmount","children"],y2=D.jsx(JA,{});function _2(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:i,children:s}=t,a=zv(t,v2),{isLoaded:o,loadError:l}=g2(a);return f.useEffect(function(){o&&typeof n=="function"&&n()},[o,n]),f.useEffect(function(){l&&typeof r=="function"&&r(l)},[l,r]),f.useEffect(function(){return()=>{i&&i()}},[i]),o?s:e||y2}f.memo(_2);var _E;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(_E||(_E={}));function bE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var EE={},wE={options(t,e){t.setOptions(e)}};function b2(t){var{options:e,onLoad:n,onUnmount:r}=t,i=f.useContext(De),[s,a]=f.useState(null);return f.useEffect(()=>{s!==null&&s.setMap(i)},[i]),f.useEffect(()=>{e&&s!==null&&s.setOptions(e)},[s,e]),f.useEffect(()=>{var o=new google.maps.TrafficLayer(Tf(Tf({},e),{},{map:i}));return a(o),n&&n(o),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}f.memo(b2);class E2 extends f.PureComponent{constructor(){super(...arguments),G(this,"state",{trafficLayer:null}),G(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),G(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Tf(Tf({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:wE,eventMap:EE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:wE,eventMap:EE,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ge(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}G(E2,"contextType",De);function w2(t){var{onLoad:e,onUnmount:n}=t,r=f.useContext(De),[i,s]=f.useState(null);return f.useEffect(()=>{i!==null&&i.setMap(r)},[r]),f.useEffect(()=>{var a=new google.maps.BicyclingLayer;return s(a),a.setMap(r),e&&e(a),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}f.memo(w2);class S2 extends f.PureComponent{constructor(){super(...arguments),G(this,"state",{bicyclingLayer:null}),G(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}G(S2,"contextType",De);function T2(t){var{onLoad:e,onUnmount:n}=t,r=f.useContext(De),[i,s]=f.useState(null);return f.useEffect(()=>{i!==null&&i.setMap(r)},[r]),f.useEffect(()=>{var a=new google.maps.TransitLayer;return s(a),a.setMap(r),e&&e(a),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}f.memo(T2);class C2 extends f.PureComponent{constructor(){super(...arguments),G(this,"state",{transitLayer:null}),G(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}G(C2,"contextType",De);function SE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var TE={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},CE={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function A2(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:i,onOverlayComplete:s,onPolygonComplete:a,onPolylineComplete:o,onRectangleComplete:l,onLoad:c,onUnmount:h}=t,m=f.useContext(De),[d,g]=f.useState(null),[E,A]=f.useState(null),[S,_]=f.useState(null),[v,C]=f.useState(null),[R,k]=f.useState(null),[x,T]=f.useState(null),[b,w]=f.useState(null);return f.useEffect(()=>{d!==null&&d.setMap(m)},[m]),f.useEffect(()=>{e&&d!==null&&d.setOptions(e)},[d,e]),f.useEffect(()=>{d!==null&&d.setDrawingMode(n??null)},[d,n]),f.useEffect(()=>{d&&r&&(E!==null&&google.maps.event.removeListener(E),A(google.maps.event.addListener(d,"circlecomplete",r)))},[d,r]),f.useEffect(()=>{d&&i&&(S!==null&&google.maps.event.removeListener(S),_(google.maps.event.addListener(d,"markercomplete",i)))},[d,i]),f.useEffect(()=>{d&&s&&(v!==null&&google.maps.event.removeListener(v),C(google.maps.event.addListener(d,"overlaycomplete",s)))},[d,s]),f.useEffect(()=>{d&&a&&(R!==null&&google.maps.event.removeListener(R),k(google.maps.event.addListener(d,"polygoncomplete",a)))},[d,a]),f.useEffect(()=>{d&&o&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(d,"polylinecomplete",o)))},[d,o]),f.useEffect(()=>{d&&l&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(d,"rectanglecomplete",l)))},[d,l]),f.useEffect(()=>{on(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var L=new google.maps.drawing.DrawingManager(Cf(Cf({},e),{},{map:m}));return n&&L.setDrawingMode(n),r&&A(google.maps.event.addListener(L,"circlecomplete",r)),i&&_(google.maps.event.addListener(L,"markercomplete",i)),s&&C(google.maps.event.addListener(L,"overlaycomplete",s)),a&&k(google.maps.event.addListener(L,"polygoncomplete",a)),o&&T(google.maps.event.addListener(L,"polylinecomplete",o)),l&&w(google.maps.event.addListener(L,"rectanglecomplete",l)),g(L),c&&c(L),()=>{d!==null&&(E&&google.maps.event.removeListener(E),S&&google.maps.event.removeListener(S),v&&google.maps.event.removeListener(v),R&&google.maps.event.removeListener(R),x&&google.maps.event.removeListener(x),b&&google.maps.event.removeListener(b),h&&h(d),d.setMap(null))}},[]),null}f.memo(A2);class x2 extends f.PureComponent{constructor(e){super(e),G(this,"registeredEvents",[]),G(this,"state",{drawingManager:null}),G(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),on(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Cf(Cf({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:CE,eventMap:TE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:CE,eventMap:TE,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ge(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}G(x2,"contextType",De);function AE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var xE={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},RE={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Af={};function R2(t){var{position:e,options:n,clusterer:r,noClustererRedraw:i,children:s,draggable:a,visible:o,animation:l,clickable:c,cursor:h,icon:m,label:d,opacity:g,shape:E,title:A,zIndex:S,onClick:_,onDblClick:v,onDrag:C,onDragEnd:R,onDragStart:k,onMouseOut:x,onMouseOver:T,onMouseUp:b,onMouseDown:w,onRightClick:L,onClickableChanged:M,onCursorChanged:P,onAnimationChanged:O,onDraggableChanged:Y,onFlatChanged:Z,onIconChanged:z,onPositionChanged:$,onShapeChanged:H,onTitleChanged:ne,onVisibleChanged:ee,onZindexChanged:ge,onLoad:ve,onUnmount:W}=t,se=f.useContext(De),[B,le]=f.useState(null),[ie,me]=f.useState(null),[Oe,J]=f.useState(null),[he,Ye]=f.useState(null),[Dt,mt]=f.useState(null),[Me,gn]=f.useState(null),[ln,Rn]=f.useState(null),[kt,zn]=f.useState(null),[Ln,Wt]=f.useState(null),[bt,jt]=f.useState(null),[vn,Qe]=f.useState(null),[Pe,Xt]=f.useState(null),[Ct,Kn]=f.useState(null),[Mt,ir]=f.useState(null),[Bn,ei]=f.useState(null),[sr,br]=f.useState(null),[Yn,zr]=f.useState(null),[Qn,Mn]=f.useState(null),[ar,At]=f.useState(null),[un,Ft]=f.useState(null),[Hn,Br]=f.useState(null),[Hr,N]=f.useState(null);f.useEffect(()=>{B!==null&&B.setMap(se)},[se]),f.useEffect(()=>{typeof n<"u"&&B!==null&&B.setOptions(n)},[B,n]),f.useEffect(()=>{typeof a<"u"&&B!==null&&B.setDraggable(a)},[B,a]),f.useEffect(()=>{e&&B!==null&&B.setPosition(e)},[B,e]),f.useEffect(()=>{typeof o<"u"&&B!==null&&B.setVisible(o)},[B,o]),f.useEffect(()=>{B==null||B.setAnimation(l)},[B,l]),f.useEffect(()=>{B&&c!==void 0&&B.setClickable(c)},[B,c]),f.useEffect(()=>{B&&h!==void 0&&B.setCursor(h)},[B,h]),f.useEffect(()=>{B&&m!==void 0&&B.setIcon(m)},[B,m]),f.useEffect(()=>{B&&d!==void 0&&B.setLabel(d)},[B,d]),f.useEffect(()=>{B&&g!==void 0&&B.setOpacity(g)},[B,g]),f.useEffect(()=>{B&&E!==void 0&&B.setShape(E)},[B,E]),f.useEffect(()=>{B&&A!==void 0&&B.setTitle(A)},[B,A]),f.useEffect(()=>{B&&S!==void 0&&B.setZIndex(S)},[B,S]),f.useEffect(()=>{B&&v&&(ie!==null&&google.maps.event.removeListener(ie),me(google.maps.event.addListener(B,"dblclick",v)))},[v]),f.useEffect(()=>{B&&R&&(Oe!==null&&google.maps.event.removeListener(Oe),J(google.maps.event.addListener(B,"dragend",R)))},[R]),f.useEffect(()=>{B&&k&&(he!==null&&google.maps.event.removeListener(he),Ye(google.maps.event.addListener(B,"dragstart",k)))},[k]),f.useEffect(()=>{B&&w&&(Dt!==null&&google.maps.event.removeListener(Dt),mt(google.maps.event.addListener(B,"mousedown",w)))},[w]),f.useEffect(()=>{B&&x&&(Me!==null&&google.maps.event.removeListener(Me),gn(google.maps.event.addListener(B,"mouseout",x)))},[x]),f.useEffect(()=>{B&&T&&(ln!==null&&google.maps.event.removeListener(ln),Rn(google.maps.event.addListener(B,"mouseover",T)))},[T]),f.useEffect(()=>{B&&b&&(kt!==null&&google.maps.event.removeListener(kt),zn(google.maps.event.addListener(B,"mouseup",b)))},[b]),f.useEffect(()=>{B&&L&&(Ln!==null&&google.maps.event.removeListener(Ln),Wt(google.maps.event.addListener(B,"rightclick",L)))},[L]),f.useEffect(()=>{B&&_&&(bt!==null&&google.maps.event.removeListener(bt),jt(google.maps.event.addListener(B,"click",_)))},[_]),f.useEffect(()=>{B&&C&&(vn!==null&&google.maps.event.removeListener(vn),Qe(google.maps.event.addListener(B,"drag",C)))},[C]),f.useEffect(()=>{B&&M&&(Pe!==null&&google.maps.event.removeListener(Pe),Xt(google.maps.event.addListener(B,"clickable_changed",M)))},[M]),f.useEffect(()=>{B&&P&&(Ct!==null&&google.maps.event.removeListener(Ct),Kn(google.maps.event.addListener(B,"cursor_changed",P)))},[P]),f.useEffect(()=>{B&&O&&(Mt!==null&&google.maps.event.removeListener(Mt),ir(google.maps.event.addListener(B,"animation_changed",O)))},[O]),f.useEffect(()=>{B&&Y&&(Bn!==null&&google.maps.event.removeListener(Bn),ei(google.maps.event.addListener(B,"draggable_changed",Y)))},[Y]),f.useEffect(()=>{B&&Z&&(sr!==null&&google.maps.event.removeListener(sr),br(google.maps.event.addListener(B,"flat_changed",Z)))},[Z]),f.useEffect(()=>{B&&z&&(Yn!==null&&google.maps.event.removeListener(Yn),zr(google.maps.event.addListener(B,"icon_changed",z)))},[z]),f.useEffect(()=>{B&&$&&(Qn!==null&&google.maps.event.removeListener(Qn),Mn(google.maps.event.addListener(B,"position_changed",$)))},[$]),f.useEffect(()=>{B&&H&&(ar!==null&&google.maps.event.removeListener(ar),At(google.maps.event.addListener(B,"shape_changed",H)))},[H]),f.useEffect(()=>{B&&ne&&(un!==null&&google.maps.event.removeListener(un),Ft(google.maps.event.addListener(B,"title_changed",ne)))},[ne]),f.useEffect(()=>{B&&ee&&(Hn!==null&&google.maps.event.removeListener(Hn),Br(google.maps.event.addListener(B,"visible_changed",ee)))},[ee]),f.useEffect(()=>{B&&ge&&(Hr!==null&&google.maps.event.removeListener(Hr),N(google.maps.event.addListener(B,"zindex_changed",ge)))},[ge]),f.useEffect(()=>{var j=Io(Io(Io({},n||Af),r?Af:{map:se}),{},{position:e}),F=new google.maps.Marker(j);return r?r.addMarker(F,!!i):F.setMap(se),e&&F.setPosition(e),typeof o<"u"&&F.setVisible(o),typeof a<"u"&&F.setDraggable(a),typeof c<"u"&&F.setClickable(c),typeof h=="string"&&F.setCursor(h),m&&F.setIcon(m),typeof d<"u"&&F.setLabel(d),typeof g<"u"&&F.setOpacity(g),E&&F.setShape(E),typeof A=="string"&&F.setTitle(A),typeof S=="number"&&F.setZIndex(S),v&&me(google.maps.event.addListener(F,"dblclick",v)),R&&J(google.maps.event.addListener(F,"dragend",R)),k&&Ye(google.maps.event.addListener(F,"dragstart",k)),w&&mt(google.maps.event.addListener(F,"mousedown",w)),x&&gn(google.maps.event.addListener(F,"mouseout",x)),T&&Rn(google.maps.event.addListener(F,"mouseover",T)),b&&zn(google.maps.event.addListener(F,"mouseup",b)),L&&Wt(google.maps.event.addListener(F,"rightclick",L)),_&&jt(google.maps.event.addListener(F,"click",_)),C&&Qe(google.maps.event.addListener(F,"drag",C)),M&&Xt(google.maps.event.addListener(F,"clickable_changed",M)),P&&Kn(google.maps.event.addListener(F,"cursor_changed",P)),O&&ir(google.maps.event.addListener(F,"animation_changed",O)),Y&&ei(google.maps.event.addListener(F,"draggable_changed",Y)),Z&&br(google.maps.event.addListener(F,"flat_changed",Z)),z&&zr(google.maps.event.addListener(F,"icon_changed",z)),$&&Mn(google.maps.event.addListener(F,"position_changed",$)),H&&At(google.maps.event.addListener(F,"shape_changed",H)),ne&&Ft(google.maps.event.addListener(F,"title_changed",ne)),ee&&Br(google.maps.event.addListener(F,"visible_changed",ee)),ge&&N(google.maps.event.addListener(F,"zindex_changed",ge)),le(F),ve&&ve(F),()=>{ie!==null&&google.maps.event.removeListener(ie),Oe!==null&&google.maps.event.removeListener(Oe),he!==null&&google.maps.event.removeListener(he),Dt!==null&&google.maps.event.removeListener(Dt),Me!==null&&google.maps.event.removeListener(Me),ln!==null&&google.maps.event.removeListener(ln),kt!==null&&google.maps.event.removeListener(kt),Ln!==null&&google.maps.event.removeListener(Ln),bt!==null&&google.maps.event.removeListener(bt),Pe!==null&&google.maps.event.removeListener(Pe),Ct!==null&&google.maps.event.removeListener(Ct),Mt!==null&&google.maps.event.removeListener(Mt),Bn!==null&&google.maps.event.removeListener(Bn),sr!==null&&google.maps.event.removeListener(sr),Yn!==null&&google.maps.event.removeListener(Yn),Qn!==null&&google.maps.event.removeListener(Qn),un!==null&&google.maps.event.removeListener(un),Hn!==null&&google.maps.event.removeListener(Hn),Hr!==null&&google.maps.event.removeListener(Hr),W&&W(F),r?r.removeMarker(F,!!i):F&&F.setMap(null)}},[]);var V=f.useMemo(()=>s?f.Children.map(s,j=>{if(!f.isValidElement(j))return j;var F=j;return f.cloneElement(F,{anchor:B})}):null,[s,B]);return D.jsx(D.Fragment,{children:V})||null}f.memo(R2);class t1 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[])}componentDidMount(){var e=this;return QA(function*(){var n=Io(Io(Io({},e.props.options||Af),e.props.clusterer?Af:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=je({updaterMap:RE,eventMap:xE,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:RE,eventMap:xE,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ge(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?f.Children.map(this.props.children,n=>{if(!f.isValidElement(n))return n;var r=n;return f.cloneElement(r,{anchor:this.marker})}):null;return e||null}}G(t1,"contextType",De);var L2=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),s=n.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(i);var o=a.getZoom()||0;r!==null&&o>r&&a.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,s,a;if(this.div&&this.center){var o=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),c=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=l[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),m=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(m!==null?"".concat(m.y,"px"):"0","; left: ").concat(m!==null?"".concat(m.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var d=document.createElement("img");d.alt=o,d.src=this.url,d.width=this.width,d.height=this.height,d.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(d.style.clip="rect(-".concat(h,"px, -").concat(c+this.width,"px, -").concat(h+this.height,", -").concat(c,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(g.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(g.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(d),this.div.appendChild(g),this.div.title=o,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),M2=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new L2(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var s=i[r],a=s.getPosition();a&&e.extend(a)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,a=this.markerClusterer.getMaxZoom(),o=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof o<"u"&&o>a)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var l=0,c=this.markers;l<c.length;l++){var h=c[l];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function I2(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var O2=2e3,D2=500,k2="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",P2="png",N2=[53,56,66,78,90],V2="cluster",n1=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||k2,this.imageExtension=r.imageExtension||P2,this.imageSizes=r.imageSizes||N2,this.calculator=r.calculator||I2,this.batchSize=r.batchSize||O2,this.batchSizeIE=r.batchSizeIE||D2,this.clusterClass=r.clusterClass||V2,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var a=s[i];a.remove()}this.clusters=[];for(var o=0,l=this.listeners;o<l.length;o++){var c=l[o];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var s=i[r],a=s.getPosition();a&&n.extend(a)}var o=this.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,s=e;i<s.length;i++){var a=s[i];r=r||this.removeMarker_(a)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=n.fromDivPixelToLatLng(r);s!==null&&e.extend(s)}if(i!==null){var a=n.fromDivPixelToLatLng(i);a!==null&&e.extend(a)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var s=0,a=this.markers;s<a.length;s++){var o=a[s];o.isAdded=!1,e&&o.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,s=(n.lng()-e.lng())*Math.PI/180,a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,s=0,a=this.clusters;s<a.length;s++){var o=a[s];n=o;var l=n.getCenter(),c=e.getPosition();if(l&&c){var h=this.distanceBetweenPoints(l,c);h<r&&(r=h,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new M2(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,a=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(a),l=Math.min(e+this.batchSize,this.markers.length),c=e;c<l;c++){var h=this.markers[c];h&&!h.isAdded&&this.isMarkerInBounds(h,o)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var m=0,d=this.clusters;m<d.length;m++){var g=d[m];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype){var a=s;this.prototype[a]=i.prototype[a]}return this}).apply(e,[n])},t}();function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var wr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},rt={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},j2={};function z2(t){var{children:e,options:n,averageCenter:r,batchSizeIE:i,calculator:s,clusterClass:a,enableRetinaIcons:o,gridSize:l,ignoreHidden:c,imageExtension:h,imagePath:m,imageSizes:d,maxZoom:g,minimumClusterSize:E,styles:A,title:S,zoomOnClick:_,onClick:v,onClusteringBegin:C,onClusteringEnd:R,onMouseOver:k,onMouseOut:x,onLoad:T,onUnmount:b}=t,[w,L]=f.useState(null),M=f.useContext(De),[P,O]=f.useState(null),[Y,Z]=f.useState(null),[z,$]=f.useState(null),[H,ne]=f.useState(null),[ee,ge]=f.useState(null);return f.useEffect(()=>{w&&x&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(w,wr.onMouseOut,x)))},[x]),f.useEffect(()=>{w&&k&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(w,wr.onMouseOver,k)))},[k]),f.useEffect(()=>{w&&v&&(P!==null&&google.maps.event.removeListener(P),O(google.maps.event.addListener(w,wr.onClick,v)))},[v]),f.useEffect(()=>{w&&C&&(Y!==null&&google.maps.event.removeListener(Y),Z(google.maps.event.addListener(w,wr.onClusteringBegin,C)))},[C]),f.useEffect(()=>{w&&R&&(z!==null&&google.maps.event.removeListener(z),Z(google.maps.event.addListener(w,wr.onClusteringEnd,R)))},[R]),f.useEffect(()=>{typeof r<"u"&&w!==null&&rt.averageCenter(w,r)},[w,r]),f.useEffect(()=>{typeof i<"u"&&w!==null&&rt.batchSizeIE(w,i)},[w,i]),f.useEffect(()=>{typeof s<"u"&&w!==null&&rt.calculator(w,s)},[w,s]),f.useEffect(()=>{typeof a<"u"&&w!==null&&rt.clusterClass(w,a)},[w,a]),f.useEffect(()=>{typeof o<"u"&&w!==null&&rt.enableRetinaIcons(w,o)},[w,o]),f.useEffect(()=>{typeof l<"u"&&w!==null&&rt.gridSize(w,l)},[w,l]),f.useEffect(()=>{typeof c<"u"&&w!==null&&rt.ignoreHidden(w,c)},[w,c]),f.useEffect(()=>{typeof h<"u"&&w!==null&&rt.imageExtension(w,h)},[w,h]),f.useEffect(()=>{typeof m<"u"&&w!==null&&rt.imagePath(w,m)},[w,m]),f.useEffect(()=>{typeof d<"u"&&w!==null&&rt.imageSizes(w,d)},[w,d]),f.useEffect(()=>{typeof g<"u"&&w!==null&&rt.maxZoom(w,g)},[w,g]),f.useEffect(()=>{typeof E<"u"&&w!==null&&rt.minimumClusterSize(w,E)},[w,E]),f.useEffect(()=>{typeof A<"u"&&w!==null&&rt.styles(w,A)},[w,A]),f.useEffect(()=>{typeof S<"u"&&w!==null&&rt.title(w,S)},[w,S]),f.useEffect(()=>{typeof _<"u"&&w!==null&&rt.zoomOnClick(w,_)},[w,_]),f.useEffect(()=>{if(M){var ve=U2({},n||j2),W=new n1(M,[],ve);return r&&rt.averageCenter(W,r),i&&rt.batchSizeIE(W,i),s&&rt.calculator(W,s),a&&rt.clusterClass(W,a),o&&rt.enableRetinaIcons(W,o),l&&rt.gridSize(W,l),c&&rt.ignoreHidden(W,c),h&&rt.imageExtension(W,h),m&&rt.imagePath(W,m),d&&rt.imageSizes(W,d),g&&rt.maxZoom(W,g),E&&rt.minimumClusterSize(W,E),A&&rt.styles(W,A),S&&rt.title(W,S),_&&rt.zoomOnClick(W,_),x&&ne(google.maps.event.addListener(W,wr.onMouseOut,x)),k&&ge(google.maps.event.addListener(W,wr.onMouseOver,k)),v&&O(google.maps.event.addListener(W,wr.onClick,v)),C&&Z(google.maps.event.addListener(W,wr.onClusteringBegin,C)),R&&$(google.maps.event.addListener(W,wr.onClusteringEnd,R)),L(W),T&&T(W),()=>{H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),P!==null&&google.maps.event.removeListener(P),Y!==null&&google.maps.event.removeListener(Y),z!==null&&google.maps.event.removeListener(z),b&&b(W)}}},[]),w!==null&&e(w)||null}f.memo(z2);class B2 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{markerClusterer:null}),G(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new n1(this.context,[],this.props.options);this.registeredEvents=je({updaterMap:rt,eventMap:wr,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:rt,eventMap:wr,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ge(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}G(B2,"contextType",De);function ME(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var r1=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(h){h.returnValue=!1,h.preventDefault&&h.preventDefault(),e.enableEventPropagation||ME(h)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,o=s;a<o.length;a++){var l=o[a];this.eventListeners.push(google.maps.event.addListener(this.div,l,ME))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,s=n.getBounds();s&&!s.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),o=a.offsetWidth,l=a.offsetHeight,c=this.pixelOffset.width,h=this.pixelOffset.height,m=this.div.offsetWidth,d=this.div.offsetHeight,g=this.infoBoxClearance.width,E=this.infoBoxClearance.height,A=this.getProjection(),S=A.fromLatLngToContainerPixel(this.position);S!==null&&(S.x<-c+g?r=S.x+c-g:S.x+m+c+g>o&&(r=S.x+m+c+g-o),this.alignBottom?S.y<-h+E+d?i=S.y+h-E-d:S.y+h+E>l&&(i=S.y+h+E-l):S.y<-h+E?i=S.y+h-E:S.y+d+h+E>l&&(i=S.y+d+h+E-l)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(e,[n])},t}(),H2=["position"],F2=["position"];function IE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var OE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},DE={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},q2={};function G2(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:a,onDomReady:o,onContentChanged:l,onPositionChanged:c,onZindexChanged:h,onLoad:m,onUnmount:d}=t,g=f.useContext(De),[E,A]=f.useState(null),[S,_]=f.useState(null),[v,C]=f.useState(null),[R,k]=f.useState(null),[x,T]=f.useState(null),[b,w]=f.useState(null),L=f.useRef(null);return f.useEffect(()=>{g&&E!==null&&(E.close(),n?E.open(g,n):E.getPosition()&&E.open(g))},[g,E,n]),f.useEffect(()=>{r&&E!==null&&E.setOptions(r)},[E,r]),f.useEffect(()=>{if(i&&E!==null){var M=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);E.setPosition(M)}},[i]),f.useEffect(()=>{typeof s=="number"&&E!==null&&E.setZIndex(s)},[s]),f.useEffect(()=>{E&&a&&(S!==null&&google.maps.event.removeListener(S),_(google.maps.event.addListener(E,"closeclick",a)))},[a]),f.useEffect(()=>{E&&o&&(v!==null&&google.maps.event.removeListener(v),C(google.maps.event.addListener(E,"domready",o)))},[o]),f.useEffect(()=>{E&&l&&(R!==null&&google.maps.event.removeListener(R),k(google.maps.event.addListener(E,"content_changed",l)))},[l]),f.useEffect(()=>{E&&c&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(E,"position_changed",c)))},[c]),f.useEffect(()=>{E&&h&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(E,"zindex_changed",h)))},[h]),f.useEffect(()=>{if(g){var M=r||q2,{position:P}=M,O=zv(M,H2),Y;P&&!(P instanceof google.maps.LatLng)&&(Y=new google.maps.LatLng(P.lat,P.lng));var Z=new r1(xf(xf({},O),Y?{position:Y}:{}));L.current=document.createElement("div"),A(Z),a&&_(google.maps.event.addListener(Z,"closeclick",a)),o&&C(google.maps.event.addListener(Z,"domready",o)),l&&k(google.maps.event.addListener(Z,"content_changed",l)),c&&T(google.maps.event.addListener(Z,"position_changed",c)),h&&w(google.maps.event.addListener(Z,"zindex_changed",h)),Z.setContent(L.current),n?Z.open(g,n):Z.getPosition()?Z.open(g):on(!1,"You must provide either an anchor or a position prop for <InfoBox>."),m&&m(Z)}return()=>{E!==null&&(S&&google.maps.event.removeListener(S),R&&google.maps.event.removeListener(R),v&&google.maps.event.removeListener(v),x&&google.maps.event.removeListener(x),b&&google.maps.event.removeListener(b),d&&d(E),E.close())}},[]),L.current?Ki.createPortal(f.Children.only(e),L.current):null}f.memo(G2);class $2 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",null),G(this,"state",{infoBox:null}),G(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):on(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),G(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=zv(e,F2),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var s=new r1(xf(xf({},r),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=je({updaterMap:DE,eventMap:OE,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:DE,eventMap:OE,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Ge(this.registeredEvents),n.close())}render(){return this.containerElement?Ki.createPortal(f.Children.only(this.props.children),this.containerElement):null}}G($2,"contextType",De);var Im,kE;function K2(){return kE||(kE=1,Im=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),Im}var Y2=K2(),PE=YA(Y2),NE=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Om=1,Hl=8;class Bv{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=r>>4;if(i!==Om)throw new Error("Got v".concat(i," data when expected v").concat(Om,"."));var s=NE[r&15];if(!s)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(e,2,1),[o]=new Uint32Array(e,4,1);return new Bv(o,a,s,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=NE.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,o=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-o%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(r,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Hl,e),this.coords=new this.ArrayType(this.data,Hl+o+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Hl+a+o+l),this.ids=new this.IndexArrayType(this.data,Hl,e),this.coords=new this.ArrayType(this.data,Hl+o+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Om<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Xp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:a,nodeSize:o}=this,l=[0,s.length-1,0],c=[];l.length;){var h=l.pop()||0,m=l.pop()||0,d=l.pop()||0;if(m-d<=o){for(var g=d;g<=m;g++){var E=a[2*g],A=a[2*g+1];E>=e&&E<=r&&A>=n&&A<=i&&c.push(s[g])}continue}var S=d+m>>1,_=a[2*S],v=a[2*S+1];_>=e&&_<=r&&v>=n&&v<=i&&c.push(s[S]),(h===0?e<=_:n<=v)&&(l.push(d),l.push(S-1),l.push(1-h)),(h===0?r>=_:i>=v)&&(l.push(S+1),l.push(m),l.push(1-h))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:a}=this,o=[0,i.length-1,0],l=[],c=r*r;o.length;){var h=o.pop()||0,m=o.pop()||0,d=o.pop()||0;if(m-d<=a){for(var g=d;g<=m;g++)VE(s[2*g],s[2*g+1],e,n)<=c&&l.push(i[g]);continue}var E=d+m>>1,A=s[2*E],S=s[2*E+1];VE(A,S,e,n)<=c&&l.push(i[E]),(h===0?e-r<=A:n-r<=S)&&(o.push(d),o.push(E-1),o.push(1-h)),(h===0?e+r>=A:n+r>=S)&&(o.push(E+1),o.push(m),o.push(1-h))}return l}}function Xp(t,e,n,r,i,s){if(!(i-r<=n)){var a=r+i>>1;i1(t,e,a,r,i,s),Xp(t,e,n,r,a-1,1-s),Xp(t,e,n,a+1,i,1-s)}}function i1(t,e,n,r,i,s){for(;i>r;){if(i-r>600){var a=i-r+1,o=n-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(a-c)/a)*(o-a/2<0?-1:1),m=Math.max(r,Math.floor(n-o*c/a+h)),d=Math.min(i,Math.floor(n+(a-o)*c/a+h));i1(t,e,n,m,d,s)}var g=e[2*n+s],E=r,A=i;for(Fl(t,e,r,n),e[2*i+s]>g&&Fl(t,e,r,i);E<A;){for(Fl(t,e,E,A),E++,A--;e[2*E+s]<g;)E++;for(;e[2*A+s]>g;)A--}e[2*r+s]===g?Fl(t,e,r,A):(A++,Fl(t,e,A,i)),A<=n&&(r=A+1),n<=A&&(i=A-1)}}function Fl(t,e,n,r){Dm(t,n,r),Dm(e,2*n,2*r),Dm(e,2*n+1,2*r+1)}function Dm(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function VE(t,e,n,r){var i=t-n,s=e-r;return i*i+s*s}var Q2={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},UE=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),ra=2,os=3,km=4,is=5,s1=6;class W2{constructor(e){this.options=Object.assign(Object.create(Q2),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");var s="prepare ".concat(e.length," points");n&&console.time(s),this.points=e;for(var a=[],o=0;o<e.length;o++){var l=e[o];if(l.geometry){var[c,h]=l.geometry.coordinates,m=UE(oh(c)),d=UE(lh(h));a.push(m,d,1/0,o,-1,1),this.options.reduce&&a.push(0)}}var g=this.trees[i+1]=this._createTree(a);n&&console.timeEnd(s);for(var E=i;E>=r;E--){var A=+Date.now();g=this.trees[E]=this._createTree(this._cluster(g,E)),n&&console.log("z%d: %d clusters in %dms",E,g.numItems,+Date.now()-A)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){var o=this.getClusters([r,i,180,a],n),l=this.getClusters([-180,i,s,a],n);return o.concat(l)}var c=this.trees[this._limitZoom(n)],h=c.range(oh(r),lh(a),oh(s),lh(i)),m=c.data,d=[];for(var g of h){var E=this.stride*g;d.push(m[E+is]>1?jE(m,E,this.clusterProps):this.points[m[E+os]])}return d}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);var a=s.data;if(n*this.stride>=a.length)throw new Error(i);var o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=a[n*this.stride],c=a[n*this.stride+1],h=s.within(l,c,o),m=[];for(var d of h){var g=d*this.stride;a[g+km]===e&&m.push(a[g+is]>1?jE(a,g,this.clusterProps):this.points[a[g+os]])}if(m.length===0)throw new Error(i);return m}getLeaves(e,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){var i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:a,radius:o}=this.options,l=o/a,c=(r-l)/s,h=(r+1+l)/s,m={features:[]};return this._addTileFeatures(i.range((n-l)/s,c,(n+1+l)/s,h),i.data,n,r,s,m),n===0&&this._addTileFeatures(i.range(1-l/s,c,1,h),i.data,s,r,s,m),n===s-1&&this._addTileFeatures(i.range(0,c,l/s,h),i.data,-1,r,s,m),m.features.length?m:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){var a=this.getChildren(n);for(var o of a){var l=o.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,r,i,s):s<i?s++:e.push(o),e.length===r)break}return s}_createTree(e){for(var n=new Bv(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,a){for(var o of e){var l=o*this.stride,c=n[l+is]>1,h=void 0,m=void 0,d=void 0;if(c)h=a1(n,l,this.clusterProps),m=n[l],d=n[l+1];else{var g=this.points[n[l+os]];h=g.properties;var[E,A]=g.geometry.coordinates;m=oh(E),d=lh(A)}var S={type:1,geometry:[[Math.round(this.options.extent*(m*s-r)),Math.round(this.options.extent*(d*s-i))]],tags:h},_=void 0;c||this.options.generateId?_=n[l+os]:_=this.points[n[l+os]].id,_!==void 0&&(S.id=_),a.features.push(S)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:i,reduce:s,minPoints:a}=this.options,o=r/(i*Math.pow(2,n)),l=e.data,c=[],h=this.stride,m=0;m<l.length;m+=h)if(!(l[m+ra]<=n)){l[m+ra]=n;var d=l[m],g=l[m+1],E=e.within(l[m],l[m+1],o),A=l[m+is],S=A;for(var _ of E){var v=_*h;l[v+ra]>n&&(S+=l[v+is])}if(S>A&&S>=a){var C=d*A,R=g*A,k=void 0,x=-1,T=((m/h|0)<<5)+(n+1)+this.points.length;for(var b of E){var w=b*h;if(!(l[w+ra]<=n)){l[w+ra]=n;var L=l[w+is];C+=l[w]*L,R+=l[w+1]*L,l[w+km]=T,s&&(k||(k=this._map(l,m,!0),x=this.clusterProps.length,this.clusterProps.push(k)),s(k,this._map(l,w)))}}l[m+km]=T,c.push(C/S,R/S,1/0,T,-1,S),s&&c.push(x)}else{for(var M=0;M<h;M++)c.push(l[m+M]);if(S>1)for(var P of E){var O=P*h;if(!(l[O+ra]<=n)){l[O+ra]=n;for(var Y=0;Y<h;Y++)c.push(l[O+Y])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+is]>1){var i=this.clusterProps[e[n+s1]];return r?Object.assign({},i):i}var s=this.points[e[n+os]].properties,a=this.options.map(s);return r&&a===s?Object.assign({},a):a}}function jE(t,e,n){return{type:"Feature",id:t[e+os],properties:a1(t,e,n),geometry:{type:"Point",coordinates:[X2(t[e]),Z2(t[e+1])]}}}function a1(t,e,n){var r=t[e+is],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,s=t[e+s1],a=s===-1?{}:Object.assign({},n[s]);return Object.assign(a,{cluster:!0,cluster_id:t[e+os],point_count:r,point_count_abbreviated:i})}function oh(t){return t/360+.5}function lh(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function X2(t){return(t-.5)*360}function Z2(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function J2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class dr{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Zp{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(dr.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>dr.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(dr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class eP{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return tP(n)}}var tP=t=>{var e=t.map(n=>new Zp({position:dr.getPosition(n),markers:[n]}));return e};class nP extends eP{constructor(e){var{maxZoom:n,radius:r=60}=e,i=J2(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new W2(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!PE(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var i=this.markers.map(s=>{var a=dr.getPosition(s),o=[a.lng(),a.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:o},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!PE(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:i}=e;if(i.cluster)return new Zp({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:n}});var s=i.marker;return new Zp({markers:[s],position:dr.getPosition(s)})}}class rP{constructor(e,n){this.markers={sum:e.length};var r=n.map(s=>s.count),i=r.reduce((s,a)=>s+a,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class iP{render(e,n,r){var{count:i,position:s}=e,a=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",o='<svg fill="'.concat(a,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),l="Cluster of ".concat(i," markers"),c=Number(google.maps.Marker.MAX_ZINDEX)+i;if(dr.isAdvancedMarkerAvailable(r)){var h=new DOMParser,m=h.parseFromString(o,"image/svg+xml").documentElement;m.setAttribute("transform","translate(0 25)");var d={map:r,position:s,zIndex:c,title:l,content:m};return new google.maps.marker.AdvancedMarkerElement(d)}var g={position:s,zIndex:c,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(o)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function sP(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class Hv{constructor(){sP(Hv,google.maps.OverlayView)}}var vu;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(vu||(vu={}));var aP=(t,e,n)=>{n.fitBounds(e.bounds)};class oP extends Hv{constructor(e){var{map:n,markers:r=[],algorithmOptions:i={},algorithm:s=new nP(i),renderer:a=new iP,onClusterClick:o=aP}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=s,this.renderer=a,this.onClusterClick=o,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(dr.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,vu.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var i=new Set;for(var s of n)s.markers.length==1&&i.add(s.markers[0]);var a=[];for(var o of this.clusters)o.marker!=null&&(o.markers.length==1?i.has(o.marker)||dr.setMap(o.marker,null):a.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>a.forEach(l=>dr.setMap(l,null)))}google.maps.event.trigger(this,vu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>dr.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new rP(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>dr.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,vu.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),dr.setMap(r.marker,n)})}}function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lP(t){var e=o2(),[n,r]=f.useState(null);return f.useEffect(()=>{if(e&&n===null){var i=new oP(BE(BE({},t),{},{map:e}));r(i)}},[e]),n}function uP(t){var{children:e,options:n}=t,r=lP(n);return r!==null?e(r):null}f.memo(uP);var HE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},FE={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function cP(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:a,onDomReady:o,onContentChanged:l,onPositionChanged:c,onZindexChanged:h,onLoad:m,onUnmount:d}=t,g=f.useContext(De),[E,A]=f.useState(null),[S,_]=f.useState(null),[v,C]=f.useState(null),[R,k]=f.useState(null),[x,T]=f.useState(null),[b,w]=f.useState(null),L=f.useRef(null);return f.useEffect(()=>{E!==null&&(E.close(),n?E.open(g,n):E.getPosition()&&E.open(g))},[g,E,n]),f.useEffect(()=>{r&&E!==null&&E.setOptions(r)},[E,r]),f.useEffect(()=>{i&&E!==null&&E.setPosition(i)},[i]),f.useEffect(()=>{typeof s=="number"&&E!==null&&E.setZIndex(s)},[s]),f.useEffect(()=>{E&&a&&(S!==null&&google.maps.event.removeListener(S),_(google.maps.event.addListener(E,"closeclick",a)))},[a]),f.useEffect(()=>{E&&o&&(v!==null&&google.maps.event.removeListener(v),C(google.maps.event.addListener(E,"domready",o)))},[o]),f.useEffect(()=>{E&&l&&(R!==null&&google.maps.event.removeListener(R),k(google.maps.event.addListener(E,"content_changed",l)))},[l]),f.useEffect(()=>{E&&c&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(E,"position_changed",c)))},[c]),f.useEffect(()=>{E&&h&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(E,"zindex_changed",h)))},[h]),f.useEffect(()=>{var M=new google.maps.InfoWindow(r);return A(M),L.current=document.createElement("div"),a&&_(google.maps.event.addListener(M,"closeclick",a)),o&&C(google.maps.event.addListener(M,"domready",o)),l&&k(google.maps.event.addListener(M,"content_changed",l)),c&&T(google.maps.event.addListener(M,"position_changed",c)),h&&w(google.maps.event.addListener(M,"zindex_changed",h)),M.setContent(L.current),i&&M.setPosition(i),s&&M.setZIndex(s),n?M.open(g,n):M.getPosition()?M.open(g):on(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),m&&m(M),()=>{S&&google.maps.event.removeListener(S),R&&google.maps.event.removeListener(R),v&&google.maps.event.removeListener(v),x&&google.maps.event.removeListener(x),b&&google.maps.event.removeListener(b),d&&d(M),M.close()}},[]),L.current?Ki.createPortal(f.Children.only(e),L.current):null}f.memo(cP);class hP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",null),G(this,"state",{infoWindow:null}),G(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):on(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),G(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=je({updaterMap:FE,eventMap:HE,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:FE,eventMap:HE,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ge(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Ki.createPortal(f.Children.only(this.props.children),this.containerElement):null}}G(hP,"contextType",De);function qE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var GE={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},$E={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},fP={};function dP(t){var{options:e,draggable:n,editable:r,visible:i,path:s,onDblClick:a,onDragEnd:o,onDragStart:l,onMouseDown:c,onMouseMove:h,onMouseOut:m,onMouseOver:d,onMouseUp:g,onRightClick:E,onClick:A,onDrag:S,onLoad:_,onUnmount:v}=t,C=f.useContext(De),[R,k]=f.useState(null),[x,T]=f.useState(null),[b,w]=f.useState(null),[L,M]=f.useState(null),[P,O]=f.useState(null),[Y,Z]=f.useState(null),[z,$]=f.useState(null),[H,ne]=f.useState(null),[ee,ge]=f.useState(null),[ve,W]=f.useState(null),[se,B]=f.useState(null),[le,ie]=f.useState(null);return f.useEffect(()=>{R!==null&&R.setMap(C)},[C]),f.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),f.useEffect(()=>{typeof n<"u"&&R!==null&&R.setDraggable(n)},[R,n]),f.useEffect(()=>{typeof r<"u"&&R!==null&&R.setEditable(r)},[R,r]),f.useEffect(()=>{typeof i<"u"&&R!==null&&R.setVisible(i)},[R,i]),f.useEffect(()=>{typeof s<"u"&&R!==null&&R.setPath(s)},[R,s]),f.useEffect(()=>{R&&a&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(R,"dblclick",a)))},[a]),f.useEffect(()=>{R&&o&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(R,"dragend",o)))},[o]),f.useEffect(()=>{R&&l&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(R,"dragstart",l)))},[l]),f.useEffect(()=>{R&&c&&(P!==null&&google.maps.event.removeListener(P),O(google.maps.event.addListener(R,"mousedown",c)))},[c]),f.useEffect(()=>{R&&h&&(Y!==null&&google.maps.event.removeListener(Y),Z(google.maps.event.addListener(R,"mousemove",h)))},[h]),f.useEffect(()=>{R&&m&&(z!==null&&google.maps.event.removeListener(z),$(google.maps.event.addListener(R,"mouseout",m)))},[m]),f.useEffect(()=>{R&&d&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(R,"mouseover",d)))},[d]),f.useEffect(()=>{R&&g&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(R,"mouseup",g)))},[g]),f.useEffect(()=>{R&&E&&(ve!==null&&google.maps.event.removeListener(ve),W(google.maps.event.addListener(R,"rightclick",E)))},[E]),f.useEffect(()=>{R&&A&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(R,"click",A)))},[A]),f.useEffect(()=>{R&&S&&(le!==null&&google.maps.event.removeListener(le),ie(google.maps.event.addListener(R,"drag",S)))},[S]),f.useEffect(()=>{var me=new google.maps.Polyline(Rf(Rf({},e||fP),{},{map:C}));return s&&me.setPath(s),typeof i<"u"&&me.setVisible(i),typeof r<"u"&&me.setEditable(r),typeof n<"u"&&me.setDraggable(n),a&&T(google.maps.event.addListener(me,"dblclick",a)),o&&w(google.maps.event.addListener(me,"dragend",o)),l&&M(google.maps.event.addListener(me,"dragstart",l)),c&&O(google.maps.event.addListener(me,"mousedown",c)),h&&Z(google.maps.event.addListener(me,"mousemove",h)),m&&$(google.maps.event.addListener(me,"mouseout",m)),d&&ne(google.maps.event.addListener(me,"mouseover",d)),g&&ge(google.maps.event.addListener(me,"mouseup",g)),E&&W(google.maps.event.addListener(me,"rightclick",E)),A&&B(google.maps.event.addListener(me,"click",A)),S&&ie(google.maps.event.addListener(me,"drag",S)),k(me),_&&_(me),()=>{x!==null&&google.maps.event.removeListener(x),b!==null&&google.maps.event.removeListener(b),L!==null&&google.maps.event.removeListener(L),P!==null&&google.maps.event.removeListener(P),Y!==null&&google.maps.event.removeListener(Y),z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),ve!==null&&google.maps.event.removeListener(ve),se!==null&&google.maps.event.removeListener(se),v&&v(me),me.setMap(null)}},[]),null}f.memo(dP);class mP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{polyline:null}),G(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Rf(Rf({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:$E,eventMap:GE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:$E,eventMap:GE,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ge(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}G(mP,"contextType",De);function KE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var QE={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},WE={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function pP(t){var{options:e,draggable:n,editable:r,visible:i,path:s,paths:a,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:h,onMouseMove:m,onMouseOut:d,onMouseOver:g,onMouseUp:E,onRightClick:A,onClick:S,onDrag:_,onLoad:v,onUnmount:C,onEdit:R}=t,k=f.useContext(De),[x,T]=f.useState(null),[b,w]=f.useState(null),[L,M]=f.useState(null),[P,O]=f.useState(null),[Y,Z]=f.useState(null),[z,$]=f.useState(null),[H,ne]=f.useState(null),[ee,ge]=f.useState(null),[ve,W]=f.useState(null),[se,B]=f.useState(null),[le,ie]=f.useState(null),[me,Oe]=f.useState(null);return f.useEffect(()=>{x!==null&&x.setMap(k)},[k]),f.useEffect(()=>{typeof e<"u"&&x!==null&&x.setOptions(e)},[x,e]),f.useEffect(()=>{typeof n<"u"&&x!==null&&x.setDraggable(n)},[x,n]),f.useEffect(()=>{typeof r<"u"&&x!==null&&x.setEditable(r)},[x,r]),f.useEffect(()=>{typeof i<"u"&&x!==null&&x.setVisible(i)},[x,i]),f.useEffect(()=>{typeof s<"u"&&x!==null&&x.setPath(s)},[x,s]),f.useEffect(()=>{typeof a<"u"&&x!==null&&x.setPaths(a)},[x,a]),f.useEffect(()=>{x&&typeof o=="function"&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(x,"dblclick",o)))},[o]),f.useEffect(()=>{x&&(google.maps.event.addListener(x.getPath(),"insert_at",()=>{R==null||R(x)}),google.maps.event.addListener(x.getPath(),"set_at",()=>{R==null||R(x)}),google.maps.event.addListener(x.getPath(),"remove_at",()=>{R==null||R(x)}))},[x,R]),f.useEffect(()=>{x&&typeof l=="function"&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(x,"dragend",l)))},[l]),f.useEffect(()=>{x&&typeof c=="function"&&(P!==null&&google.maps.event.removeListener(P),O(google.maps.event.addListener(x,"dragstart",c)))},[c]),f.useEffect(()=>{x&&typeof h=="function"&&(Y!==null&&google.maps.event.removeListener(Y),Z(google.maps.event.addListener(x,"mousedown",h)))},[h]),f.useEffect(()=>{x&&typeof m=="function"&&(z!==null&&google.maps.event.removeListener(z),$(google.maps.event.addListener(x,"mousemove",m)))},[m]),f.useEffect(()=>{x&&typeof d=="function"&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(x,"mouseout",d)))},[d]),f.useEffect(()=>{x&&typeof g=="function"&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(x,"mouseover",g)))},[g]),f.useEffect(()=>{x&&typeof E=="function"&&(ve!==null&&google.maps.event.removeListener(ve),W(google.maps.event.addListener(x,"mouseup",E)))},[E]),f.useEffect(()=>{x&&typeof A=="function"&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(x,"rightclick",A)))},[A]),f.useEffect(()=>{x&&typeof S=="function"&&(le!==null&&google.maps.event.removeListener(le),ie(google.maps.event.addListener(x,"click",S)))},[S]),f.useEffect(()=>{x&&typeof _=="function"&&(me!==null&&google.maps.event.removeListener(me),Oe(google.maps.event.addListener(x,"drag",_)))},[_]),f.useEffect(()=>{var J=new google.maps.Polygon(YE(YE({},e),{},{map:k}));return s&&J.setPath(s),a&&J.setPaths(a),typeof i<"u"&&J.setVisible(i),typeof r<"u"&&J.setEditable(r),typeof n<"u"&&J.setDraggable(n),o&&w(google.maps.event.addListener(J,"dblclick",o)),l&&M(google.maps.event.addListener(J,"dragend",l)),c&&O(google.maps.event.addListener(J,"dragstart",c)),h&&Z(google.maps.event.addListener(J,"mousedown",h)),m&&$(google.maps.event.addListener(J,"mousemove",m)),d&&ne(google.maps.event.addListener(J,"mouseout",d)),g&&ge(google.maps.event.addListener(J,"mouseover",g)),E&&W(google.maps.event.addListener(J,"mouseup",E)),A&&B(google.maps.event.addListener(J,"rightclick",A)),S&&ie(google.maps.event.addListener(J,"click",S)),_&&Oe(google.maps.event.addListener(J,"drag",_)),T(J),v&&v(J),()=>{b!==null&&google.maps.event.removeListener(b),L!==null&&google.maps.event.removeListener(L),P!==null&&google.maps.event.removeListener(P),Y!==null&&google.maps.event.removeListener(Y),z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),ve!==null&&google.maps.event.removeListener(ve),se!==null&&google.maps.event.removeListener(se),le!==null&&google.maps.event.removeListener(le),C&&C(J),J.setMap(null)}},[]),null}f.memo(pP);class gP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=je({updaterMap:WE,eventMap:QE,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:WE,eventMap:QE,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ge(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}G(gP,"contextType",De);function XE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ZE={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},JE={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function vP(t){var{options:e,bounds:n,draggable:r,editable:i,visible:s,onDblClick:a,onDragEnd:o,onDragStart:l,onMouseDown:c,onMouseMove:h,onMouseOut:m,onMouseOver:d,onMouseUp:g,onRightClick:E,onClick:A,onDrag:S,onBoundsChanged:_,onLoad:v,onUnmount:C}=t,R=f.useContext(De),[k,x]=f.useState(null),[T,b]=f.useState(null),[w,L]=f.useState(null),[M,P]=f.useState(null),[O,Y]=f.useState(null),[Z,z]=f.useState(null),[$,H]=f.useState(null),[ne,ee]=f.useState(null),[ge,ve]=f.useState(null),[W,se]=f.useState(null),[B,le]=f.useState(null),[ie,me]=f.useState(null),[Oe,J]=f.useState(null);return f.useEffect(()=>{k!==null&&k.setMap(R)},[R]),f.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),f.useEffect(()=>{typeof r<"u"&&k!==null&&k.setDraggable(r)},[k,r]),f.useEffect(()=>{typeof i<"u"&&k!==null&&k.setEditable(i)},[k,i]),f.useEffect(()=>{typeof s<"u"&&k!==null&&k.setVisible(s)},[k,s]),f.useEffect(()=>{typeof n<"u"&&k!==null&&k.setBounds(n)},[k,n]),f.useEffect(()=>{k&&a&&(T!==null&&google.maps.event.removeListener(T),b(google.maps.event.addListener(k,"dblclick",a)))},[a]),f.useEffect(()=>{k&&o&&(w!==null&&google.maps.event.removeListener(w),L(google.maps.event.addListener(k,"dragend",o)))},[o]),f.useEffect(()=>{k&&l&&(M!==null&&google.maps.event.removeListener(M),P(google.maps.event.addListener(k,"dragstart",l)))},[l]),f.useEffect(()=>{k&&c&&(O!==null&&google.maps.event.removeListener(O),Y(google.maps.event.addListener(k,"mousedown",c)))},[c]),f.useEffect(()=>{k&&h&&(Z!==null&&google.maps.event.removeListener(Z),z(google.maps.event.addListener(k,"mousemove",h)))},[h]),f.useEffect(()=>{k&&m&&($!==null&&google.maps.event.removeListener($),H(google.maps.event.addListener(k,"mouseout",m)))},[m]),f.useEffect(()=>{k&&d&&(ne!==null&&google.maps.event.removeListener(ne),ee(google.maps.event.addListener(k,"mouseover",d)))},[d]),f.useEffect(()=>{k&&g&&(ge!==null&&google.maps.event.removeListener(ge),ve(google.maps.event.addListener(k,"mouseup",g)))},[g]),f.useEffect(()=>{k&&E&&(W!==null&&google.maps.event.removeListener(W),se(google.maps.event.addListener(k,"rightclick",E)))},[E]),f.useEffect(()=>{k&&A&&(B!==null&&google.maps.event.removeListener(B),le(google.maps.event.addListener(k,"click",A)))},[A]),f.useEffect(()=>{k&&S&&(ie!==null&&google.maps.event.removeListener(ie),me(google.maps.event.addListener(k,"drag",S)))},[S]),f.useEffect(()=>{k&&_&&(Oe!==null&&google.maps.event.removeListener(Oe),J(google.maps.event.addListener(k,"bounds_changed",_)))},[_]),f.useEffect(()=>{var he=new google.maps.Rectangle(Lf(Lf({},e),{},{map:R}));return typeof s<"u"&&he.setVisible(s),typeof i<"u"&&he.setEditable(i),typeof r<"u"&&he.setDraggable(r),typeof n<"u"&&he.setBounds(n),a&&b(google.maps.event.addListener(he,"dblclick",a)),o&&L(google.maps.event.addListener(he,"dragend",o)),l&&P(google.maps.event.addListener(he,"dragstart",l)),c&&Y(google.maps.event.addListener(he,"mousedown",c)),h&&z(google.maps.event.addListener(he,"mousemove",h)),m&&H(google.maps.event.addListener(he,"mouseout",m)),d&&ee(google.maps.event.addListener(he,"mouseover",d)),g&&ve(google.maps.event.addListener(he,"mouseup",g)),E&&se(google.maps.event.addListener(he,"rightclick",E)),A&&le(google.maps.event.addListener(he,"click",A)),S&&me(google.maps.event.addListener(he,"drag",S)),_&&J(google.maps.event.addListener(he,"bounds_changed",_)),x(he),v&&v(he),()=>{T!==null&&google.maps.event.removeListener(T),w!==null&&google.maps.event.removeListener(w),M!==null&&google.maps.event.removeListener(M),O!==null&&google.maps.event.removeListener(O),Z!==null&&google.maps.event.removeListener(Z),$!==null&&google.maps.event.removeListener($),ne!==null&&google.maps.event.removeListener(ne),ge!==null&&google.maps.event.removeListener(ge),W!==null&&google.maps.event.removeListener(W),B!==null&&google.maps.event.removeListener(B),ie!==null&&google.maps.event.removeListener(ie),Oe!==null&&google.maps.event.removeListener(Oe),C&&C(he),he.setMap(null)}},[]),null}f.memo(vP);class yP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{rectangle:null}),G(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Lf(Lf({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:JE,eventMap:ZE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:JE,eventMap:ZE,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ge(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}G(yP,"contextType",De);function e0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var t0={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},n0={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},_P={};function bP(t){var{options:e,center:n,radius:r,draggable:i,editable:s,visible:a,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:h,onMouseMove:m,onMouseOut:d,onMouseOver:g,onMouseUp:E,onRightClick:A,onClick:S,onDrag:_,onCenterChanged:v,onRadiusChanged:C,onLoad:R,onUnmount:k}=t,x=f.useContext(De),[T,b]=f.useState(null),[w,L]=f.useState(null),[M,P]=f.useState(null),[O,Y]=f.useState(null),[Z,z]=f.useState(null),[$,H]=f.useState(null),[ne,ee]=f.useState(null),[ge,ve]=f.useState(null),[W,se]=f.useState(null),[B,le]=f.useState(null),[ie,me]=f.useState(null),[Oe,J]=f.useState(null),[he,Ye]=f.useState(null),[Dt,mt]=f.useState(null);return f.useEffect(()=>{T!==null&&T.setMap(x)},[x]),f.useEffect(()=>{typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),f.useEffect(()=>{typeof i<"u"&&T!==null&&T.setDraggable(i)},[T,i]),f.useEffect(()=>{typeof s<"u"&&T!==null&&T.setEditable(s)},[T,s]),f.useEffect(()=>{typeof a<"u"&&T!==null&&T.setVisible(a)},[T,a]),f.useEffect(()=>{typeof r=="number"&&T!==null&&T.setRadius(r)},[T,r]),f.useEffect(()=>{typeof n<"u"&&T!==null&&T.setCenter(n)},[T,n]),f.useEffect(()=>{T&&o&&(w!==null&&google.maps.event.removeListener(w),L(google.maps.event.addListener(T,"dblclick",o)))},[o]),f.useEffect(()=>{T&&l&&(M!==null&&google.maps.event.removeListener(M),P(google.maps.event.addListener(T,"dragend",l)))},[l]),f.useEffect(()=>{T&&c&&(O!==null&&google.maps.event.removeListener(O),Y(google.maps.event.addListener(T,"dragstart",c)))},[c]),f.useEffect(()=>{T&&h&&(Z!==null&&google.maps.event.removeListener(Z),z(google.maps.event.addListener(T,"mousedown",h)))},[h]),f.useEffect(()=>{T&&m&&($!==null&&google.maps.event.removeListener($),H(google.maps.event.addListener(T,"mousemove",m)))},[m]),f.useEffect(()=>{T&&d&&(ne!==null&&google.maps.event.removeListener(ne),ee(google.maps.event.addListener(T,"mouseout",d)))},[d]),f.useEffect(()=>{T&&g&&(ge!==null&&google.maps.event.removeListener(ge),ve(google.maps.event.addListener(T,"mouseover",g)))},[g]),f.useEffect(()=>{T&&E&&(W!==null&&google.maps.event.removeListener(W),se(google.maps.event.addListener(T,"mouseup",E)))},[E]),f.useEffect(()=>{T&&A&&(B!==null&&google.maps.event.removeListener(B),le(google.maps.event.addListener(T,"rightclick",A)))},[A]),f.useEffect(()=>{T&&S&&(ie!==null&&google.maps.event.removeListener(ie),me(google.maps.event.addListener(T,"click",S)))},[S]),f.useEffect(()=>{T&&_&&(Oe!==null&&google.maps.event.removeListener(Oe),J(google.maps.event.addListener(T,"drag",_)))},[_]),f.useEffect(()=>{T&&v&&(he!==null&&google.maps.event.removeListener(he),Ye(google.maps.event.addListener(T,"center_changed",v)))},[S]),f.useEffect(()=>{T&&C&&(Dt!==null&&google.maps.event.removeListener(Dt),mt(google.maps.event.addListener(T,"radius_changed",C)))},[C]),f.useEffect(()=>{var Me=new google.maps.Circle(Mf(Mf({},e||_P),{},{map:x}));return typeof r=="number"&&Me.setRadius(r),typeof n<"u"&&Me.setCenter(n),typeof r=="number"&&Me.setRadius(r),typeof a<"u"&&Me.setVisible(a),typeof s<"u"&&Me.setEditable(s),typeof i<"u"&&Me.setDraggable(i),o&&L(google.maps.event.addListener(Me,"dblclick",o)),l&&P(google.maps.event.addListener(Me,"dragend",l)),c&&Y(google.maps.event.addListener(Me,"dragstart",c)),h&&z(google.maps.event.addListener(Me,"mousedown",h)),m&&H(google.maps.event.addListener(Me,"mousemove",m)),d&&ee(google.maps.event.addListener(Me,"mouseout",d)),g&&ve(google.maps.event.addListener(Me,"mouseover",g)),E&&se(google.maps.event.addListener(Me,"mouseup",E)),A&&le(google.maps.event.addListener(Me,"rightclick",A)),S&&me(google.maps.event.addListener(Me,"click",S)),_&&J(google.maps.event.addListener(Me,"drag",_)),v&&Ye(google.maps.event.addListener(Me,"center_changed",v)),C&&mt(google.maps.event.addListener(Me,"radius_changed",C)),b(Me),R&&R(Me),()=>{w!==null&&google.maps.event.removeListener(w),M!==null&&google.maps.event.removeListener(M),O!==null&&google.maps.event.removeListener(O),Z!==null&&google.maps.event.removeListener(Z),$!==null&&google.maps.event.removeListener($),ne!==null&&google.maps.event.removeListener(ne),ge!==null&&google.maps.event.removeListener(ge),W!==null&&google.maps.event.removeListener(W),B!==null&&google.maps.event.removeListener(B),ie!==null&&google.maps.event.removeListener(ie),he!==null&&google.maps.event.removeListener(he),Dt!==null&&google.maps.event.removeListener(Dt),k&&k(Me),Me.setMap(null)}},[]),null}f.memo(bP);class EP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{circle:null}),G(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Mf(Mf({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:n0,eventMap:t0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:n0,eventMap:t0,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ge(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}G(EP,"contextType",De);function r0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function If(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var i0={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},s0={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function wP(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:i,onMouseMove:s,onMouseOut:a,onMouseOver:o,onMouseUp:l,onRightClick:c,onAddFeature:h,onRemoveFeature:m,onRemoveProperty:d,onSetGeometry:g,onSetProperty:E,onLoad:A,onUnmount:S}=t,_=f.useContext(De),[v,C]=f.useState(null),[R,k]=f.useState(null),[x,T]=f.useState(null),[b,w]=f.useState(null),[L,M]=f.useState(null),[P,O]=f.useState(null),[Y,Z]=f.useState(null),[z,$]=f.useState(null),[H,ne]=f.useState(null),[ee,ge]=f.useState(null),[ve,W]=f.useState(null),[se,B]=f.useState(null),[le,ie]=f.useState(null),[me,Oe]=f.useState(null);return f.useEffect(()=>{v!==null&&v.setMap(_)},[_]),f.useEffect(()=>{v&&r&&(R!==null&&google.maps.event.removeListener(R),k(google.maps.event.addListener(v,"dblclick",r)))},[r]),f.useEffect(()=>{v&&i&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(v,"mousedown",i)))},[i]),f.useEffect(()=>{v&&s&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(v,"mousemove",s)))},[s]),f.useEffect(()=>{v&&a&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(v,"mouseout",a)))},[a]),f.useEffect(()=>{v&&o&&(P!==null&&google.maps.event.removeListener(P),O(google.maps.event.addListener(v,"mouseover",o)))},[o]),f.useEffect(()=>{v&&l&&(Y!==null&&google.maps.event.removeListener(Y),Z(google.maps.event.addListener(v,"mouseup",l)))},[l]),f.useEffect(()=>{v&&c&&(z!==null&&google.maps.event.removeListener(z),$(google.maps.event.addListener(v,"rightclick",c)))},[c]),f.useEffect(()=>{v&&n&&(H!==null&&google.maps.event.removeListener(H),ne(google.maps.event.addListener(v,"click",n)))},[n]),f.useEffect(()=>{v&&h&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(v,"addfeature",h)))},[h]),f.useEffect(()=>{v&&m&&(ve!==null&&google.maps.event.removeListener(ve),W(google.maps.event.addListener(v,"removefeature",m)))},[m]),f.useEffect(()=>{v&&d&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(v,"removeproperty",d)))},[d]),f.useEffect(()=>{v&&g&&(le!==null&&google.maps.event.removeListener(le),ie(google.maps.event.addListener(v,"setgeometry",g)))},[g]),f.useEffect(()=>{v&&E&&(me!==null&&google.maps.event.removeListener(me),Oe(google.maps.event.addListener(v,"setproperty",E)))},[E]),f.useEffect(()=>{if(_!==null){var J=new google.maps.Data(If(If({},e),{},{map:_}));r&&k(google.maps.event.addListener(J,"dblclick",r)),i&&T(google.maps.event.addListener(J,"mousedown",i)),s&&w(google.maps.event.addListener(J,"mousemove",s)),a&&M(google.maps.event.addListener(J,"mouseout",a)),o&&O(google.maps.event.addListener(J,"mouseover",o)),l&&Z(google.maps.event.addListener(J,"mouseup",l)),c&&$(google.maps.event.addListener(J,"rightclick",c)),n&&ne(google.maps.event.addListener(J,"click",n)),h&&ge(google.maps.event.addListener(J,"addfeature",h)),m&&W(google.maps.event.addListener(J,"removefeature",m)),d&&B(google.maps.event.addListener(J,"removeproperty",d)),g&&ie(google.maps.event.addListener(J,"setgeometry",g)),E&&Oe(google.maps.event.addListener(J,"setproperty",E)),C(J),A&&A(J)}return()=>{v&&(R!==null&&google.maps.event.removeListener(R),x!==null&&google.maps.event.removeListener(x),b!==null&&google.maps.event.removeListener(b),L!==null&&google.maps.event.removeListener(L),P!==null&&google.maps.event.removeListener(P),Y!==null&&google.maps.event.removeListener(Y),z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),ve!==null&&google.maps.event.removeListener(ve),se!==null&&google.maps.event.removeListener(se),le!==null&&google.maps.event.removeListener(le),me!==null&&google.maps.event.removeListener(me),S&&S(v),v.setMap(null))}},[]),null}f.memo(wP);class SP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{data:null}),G(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(If(If({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:s0,eventMap:i0,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:s0,eventMap:i0,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ge(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}G(SP,"contextType",De);function a0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var l0={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},u0={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class TP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{kmlLayer:null}),G(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(o0(o0({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:u0,eventMap:l0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:u0,eventMap:l0,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ge(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}G(TP,"contextType",De);function o1(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function CP(t,e){return new e(t.lat,t.lng)}function AP(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function xP(t,e,n){return t instanceof e?t:n(t,e)}function RP(t,e,n){return t instanceof e?t:n(t,e)}function LP(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function MP(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:i,y:s}=r;return{left:"".concat(i+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function l1(t,e,n,r){return n!==void 0?LP(t,e,RP(n,google.maps.LatLngBounds,AP)):MP(t,e,xP(r,google.maps.LatLng,CP))}function IP(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function c0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DP(t,e,n,r,i){class s extends google.maps.OverlayView{constructor(o,l,c,h){super(),this.container=o,this.pane=l,this.position=c,this.bounds=h}onAdd(){var o,l=(o=this.getPanes())===null||o===void 0?void 0:o[this.pane];l==null||l.appendChild(this.container)}draw(){var o=this.getProjection(),l=OP({},this.container?o1(this.container,i):{x:0,y:0}),c=l1(o,l,this.bounds,this.position);for(var[h,m]of Object.entries(c))this.container.style[h]=m}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(t,e,n,r)}function h0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f0(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function d0(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function PP(t){var{position:e,bounds:n,mapPaneName:r,zIndex:i,onLoad:s,onUnmount:a,getPixelPositionOffset:o,children:l}=t,c=f.useContext(De),h=f.useMemo(()=>{var d=document.createElement("div");return d.style.position="absolute",d},[]),m=f.useMemo(()=>DP(h,r,e,n,o),[h,r,e,n]);return f.useEffect(()=>(s==null||s(m),m==null||m.setMap(c),()=>{a==null||a(m),m==null||m.setMap(null)}),[c,m]),f.useEffect(()=>{h.style.zIndex="".concat(i)},[i,h]),Ki.createPortal(l,h)}f.memo(PP);class dl extends f.PureComponent{constructor(e){super(e),G(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),G(this,"updatePane",()=>{var r=this.props.mapPaneName,i=this.overlayView.getPanes();on(!!r,"OverlayView requires props.mapPaneName but got %s",r),i?this.setState({paneEl:i[r]}):this.setState({paneEl:null})}),G(this,"onAdd",()=>{var r,i;this.updatePane(),(r=(i=this.props).onLoad)===null||r===void 0||r.call(i,this.overlayView)}),G(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),i=kP({x:0,y:0},this.containerRef.current?o1(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=l1(r,i,this.props.bounds,this.props.position);if(!IP(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var a,o,l,c;this.setState({containerStyle:{top:(a=s.top)!==null&&a!==void 0?a:0,left:(o=s.left)!==null&&o!==void 0?o:0,width:(l=s.width)!==null&&l!==void 0?l:0,height:(c=s.height)!==null&&c!==void 0?c:0,position:"absolute"}})}}),G(this,"draw",()=>{this.onPositionElement()}),G(this,"onRemove",()=>{var r,i;this.setState(()=>({paneEl:null})),(r=(i=this.props).onUnmount)===null||r===void 0||r.call(i,this.overlayView)}),this.containerRef=f.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=f0(e.position),r=f0(this.props.position),i=d0(e.bounds),s=d0(this.props.bounds);(n!==r||i!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Ki.createPortal(D.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:f.Children.only(this.props.children)}),e):null}}G(dl,"FLOAT_PANE","floatPane");G(dl,"MAP_PANE","mapPane");G(dl,"MARKER_LAYER","markerLayer");G(dl,"OVERLAY_LAYER","overlayLayer");G(dl,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");G(dl,"contextType",De);function NP(){}function m0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var g0={onDblClick:"dblclick",onClick:"click"},v0={opacity(t,e){t.setOpacity(e)}};function VP(t){var{url:e,bounds:n,options:r,visible:i}=t,s=f.useContext(De),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),o=f.useMemo(()=>new google.maps.GroundOverlay(e,a,r),[]);return f.useEffect(()=>{o!==null&&o.setMap(s)},[s]),f.useEffect(()=>{typeof e<"u"&&o!==null&&(o.set("url",e),o.setMap(s))},[o,e]),f.useEffect(()=>{typeof i<"u"&&o!==null&&o.setOpacity(i?1:0)},[o,i]),f.useEffect(()=>{var l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&o!==null&&(o.set("bounds",l),o.setMap(s))},[o,n]),null}f.memo(VP);class u1 extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{groundOverlay:null}),G(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){on(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,p0(p0({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:v0,eventMap:g0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:v0,eventMap:g0,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}G(u1,"defaultProps",{onLoad:NP});G(u1,"contextType",De);function y0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y0(Object(n),!0).forEach(function(r){G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var _0={},b0={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function UP(t){var{data:e,onLoad:n,onUnmount:r,options:i}=t,s=f.useContext(De),[a,o]=f.useState(null);return f.useEffect(()=>{google.maps.visualization||on(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),f.useEffect(()=>{on(!!e,"data property is required in HeatmapLayer %s",e)},[e]),f.useEffect(()=>{a!==null&&a.setMap(s)},[s]),f.useEffect(()=>{i&&a!==null&&a.setOptions(i)},[a,i]),f.useEffect(()=>{var l=new google.maps.visualization.HeatmapLayer(Of(Of({},i),{},{data:e,map:s}));return o(l),n&&n(l),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}f.memo(UP);class jP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{heatmapLayer:null}),G(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){on(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),on(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Of(Of({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=je({updaterMap:b0,eventMap:_0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:b0,eventMap:_0,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ge(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}G(jP,"contextType",De);var E0={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},w0={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class zP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{streetViewPanorama:null}),G(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=je({updaterMap:w0,eventMap:E0,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:w0,eventMap:E0,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ge(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}G(zP,"contextType",De);class BP extends f.PureComponent{constructor(){super(...arguments),G(this,"state",{streetViewService:null}),G(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}G(BP,"contextType",De);var S0={onDirectionsChanged:"directions_changed"},T0={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class HP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{directionsRenderer:null}),G(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=je({updaterMap:T0,eventMap:S0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:T0,eventMap:S0,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ge(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}G(HP,"contextType",De);var C0={onPlacesChanged:"places_changed"},A0={bounds(t,e){t.setBounds(e)}};class FP extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",f.createRef()),G(this,"state",{searchBox:null}),G(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(on(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=je({updaterMap:A0,eventMap:C0,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:A0,eventMap:C0,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ge(this.registeredEvents))}render(){return D.jsx("div",{ref:this.containerElement,children:f.Children.only(this.props.children)})}}G(FP,"contextType",De);var x0={onPlaceChanged:"place_changed"},R0={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class Fv extends f.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",f.createRef()),G(this,"state",{autocomplete:null}),G(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;on(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=je({updaterMap:R0,eventMap:x0,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){Ge(this.registeredEvents),this.registeredEvents=je({updaterMap:R0,eventMap:x0,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ge(this.registeredEvents)}render(){return D.jsx("div",{ref:this.containerElement,className:this.props.className,children:f.Children.only(this.props.children)})}}G(Fv,"defaultProps",{className:""});G(Fv,"contextType",De);const qP={width:"100%",height:"400px",borderRadius:"12px",border:"1px solid #ccc"},GP={lat:47.6062,lng:-122.3321},$P=()=>{const{setLocation:t}=cl(),[e,n]=f.useState(GP),[r,i]=f.useState(null),[s,a]=f.useState(null),[o,l]=f.useState(""),[c,h]=f.useState(""),m=E=>{a(E)},d=()=>{if(s){const E=s.getPlace();if(E.geometry&&E.geometry.location){const S=E.geometry.location.lat(),_=E.geometry.location.lng(),v={lat:S,lng:_};n(v),i(v)}const A=E.formatted_address||E.name||"";t(A),h("📍 Address saved!")}},g=async E=>{var _;E.preventDefault();const S=await(await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(o)}&key=AIzaSyBGzhAda2YZeUPOBCEsH7hCgGWco8K4XFs`)).json();if((_=S.results)!=null&&_[0]){const v=S.results[0],{lat:C,lng:R}=v.geometry.location,k={lat:C,lng:R};n(k),i(k),t(v.formatted_address||""),h("📍 Address saved!")}};return f.useEffect(()=>{if(c){const E=setTimeout(()=>h(""),2500);return()=>clearTimeout(E)}},[c]),D.jsx("div",{className:"flex flex-col gap-4",children:D.jsxs(e1,{googleMapsApiKey:"AIzaSyBGzhAda2YZeUPOBCEsH7hCgGWco8K4XFs",libraries:["places"],children:[D.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[D.jsx(Fv,{onLoad:m,onPlaceChanged:d,children:D.jsx("input",{type:"text",placeholder:"Enter a location",value:o,onChange:E=>l(E.target.value),style:{padding:"0.5rem",border:"1px solid #ccc",borderRadius:"12px",width:"100%"}})}),D.jsx(et,{type:"submit",children:"Enter"})]}),D.jsx(m2,{mapContainerStyle:qP,center:e,zoom:14,children:r&&D.jsx(t1,{position:r})}),c&&D.jsx("div",{className:"text-green-600 text-sm mt-2 animate-fadeIn",children:c}),o&&D.jsxs("div",{className:"text-sm text-gray-700 mt-1",children:["Selected: ",D.jsx("span",{className:"font-medium",children:o})]})]})})};function KP(){return D.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[D.jsx("h1",{className:"text-2xl font-bold",children:"Choose a Location"}),D.jsx($P,{}),D.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[D.jsx(et,{to:"/",children:"Home"}),D.jsx(et,{to:"/confirmation",children:"Next"})]})]})}function YP(){const{date:t,setDate:e,startTime:n,setStartTime:r,endTime:i,setEndTime:s}=cl(),[a,o]=f.useState(!1),l="viva:dateTime";return f.useEffect(()=>{try{const c=localStorage.getItem(l);if(c){const h=JSON.parse(c);typeof h.date=="string"&&e(h.date),typeof h.startTime=="string"&&r(h.startTime),typeof h.endTime=="string"&&s(h.endTime)}}catch{}finally{o(!0)}},[]),f.useEffect(()=>{a&&localStorage.setItem(l,JSON.stringify({date:t,startTime:n,endTime:i}))},[a,t,n,i]),D.jsxs("main",{className:"max-w-md mx-auto p-6 space-y-6",children:[D.jsx("h1",{className:"text-2xl font-bold text-center",children:"📅 Date & Time"}),D.jsxs("div",{children:[D.jsx("label",{className:"block mb-1 font-medium",children:"When is your event?"}),D.jsx("input",{type:"date",value:t??"",onChange:c=>e(c.target.value),className:"w-full border rounded-lg px-4 py-2"})]}),t&&D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block mb-1 font-medium",children:"Start Time"}),D.jsx("input",{type:"time",value:n??"",onChange:c=>r(c.target.value),className:"w-full border rounded-lg px-4 py-2"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block mb-1 font-medium",children:"End Time"}),D.jsx("input",{type:"time",value:i??"",onChange:c=>s(c.target.value),className:"w-full border rounded-lg px-4 py-2"})]})]}),D.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[D.jsx(et,{to:"/",children:"Home"}),D.jsx(et,{to:"/activity",children:"Next"})]})]})}function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function QP(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WP(t){var e=QP(t,"string");return zs(e)=="symbol"?e:e+""}function Pr(t,e,n){return(e=WP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L0(Object(n),!0).forEach(function(r){Pr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function XP(t){if(Array.isArray(t))return Jp(t)}function ZP(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c1(t,e){if(t){if(typeof t=="string")return Jp(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jp(t,e):void 0}}function JP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ri(t){return XP(t)||ZP(t)||c1(t)||JP()}function eN(t){if(Array.isArray(t))return t}function tN(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function nN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sn(t,e){return eN(t)||tN(t,e)||c1(t,e)||nN()}var h1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,r(o)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(h1);var rN=h1.exports;const Ca=xg(rN);function Oo(t){var e=f.useRef();e.current=t;var n=f.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(s))},[]);return n}function iN(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var M0=iN()?f.useLayoutEffect:f.useEffect,f1=function(e,n){var r=f.useRef(!0);M0(function(){return e(r.current)},n),M0(function(){return r.current=!1,function(){r.current=!0}},[])},I0=function(e,n){f1(function(r){if(!r)return e()},n)};function O0(t){var e=f.useRef(!1),n=f.useState(t),r=Sn(n,2),i=r[0],s=r[1];f.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function a(o,l){l&&e.current||s(o)}return[i,a]}function Pm(t){return t!==void 0}function sN(t,e){var n=e||{},r=n.defaultValue,i=n.value,s=n.onChange,a=n.postState,o=O0(function(){return Pm(i)?i:Pm(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=Sn(o,2),c=l[0],h=l[1],m=i!==void 0?i:c,d=a?a(m):m,g=Oo(s),E=O0([m]),A=Sn(E,2),S=A[0],_=A[1];I0(function(){var C=S[0];c!==C&&g(c,C)},[S]),I0(function(){Pm(i)||h(i)},[i]);var v=Oo(function(C,R){h(C,R),_([m],R)});return[d,v]}var eg={},aN=function(e){};function oN(t,e){}function lN(t,e){}function uN(){eg={}}function d1(t,e,n){!e&&!eg[n]&&(t(!1,n),eg[n]=!0)}function Yo(t,e){d1(oN,t,e)}function cN(t,e){d1(lN,t,e)}Yo.preMessage=aN;Yo.resetWarned=uN;Yo.noteOnce=cN;function hN(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(s,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(s);if(Yo(!l,"Warning: There may be circular references"),l)return!1;if(s===a)return!0;if(n&&o>1)return!1;r.add(s);var c=o+1;if(Array.isArray(s)){if(!Array.isArray(a)||s.length!==a.length)return!1;for(var h=0;h<s.length;h++)if(!i(s[h],a[h],c))return!1;return!0}if(s&&a&&zs(s)==="object"&&zs(a)==="object"){var m=Object.keys(s);return m.length!==Object.keys(a).length?!1:m.every(function(d){return i(s[d],a[d],c)})}return!1}return i(t,e)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(null,arguments)}function fN(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function m1(t,e){if(t==null)return{};var n,r,i=fN(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tg(t,e,n){return(t-e)/(n-e)}function qv(t,e,n,r){var i=tg(e,n,r),s={};switch(t){case"rtl":s.right="".concat(i*100,"%"),s.transform="translateX(50%)";break;case"btt":s.bottom="".concat(i*100,"%"),s.transform="translateY(50%)";break;case"ttb":s.top="".concat(i*100,"%"),s.transform="translateY(-50%)";break;default:s.left="".concat(i*100,"%"),s.transform="translateX(-50%)";break}return s}function ua(t,e){return Array.isArray(t)?t[e]:t}var cn={BACKSPACE:8,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Va=f.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),dN=f.createContext({}),mN=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],D0=f.forwardRef(function(t,e){var n=t.prefixCls,r=t.value,i=t.valueIndex,s=t.onStartMove,a=t.onDelete,o=t.style,l=t.render,c=t.dragging,h=t.draggingDelete,m=t.onOffsetChange,d=t.onChangeComplete,g=t.onFocus,E=t.onMouseEnter,A=m1(t,mN),S=f.useContext(Va),_=S.min,v=S.max,C=S.direction,R=S.disabled,k=S.keyboard,x=S.range,T=S.tabIndex,b=S.ariaLabelForHandle,w=S.ariaLabelledByForHandle,L=S.ariaRequired,M=S.ariaValueTextFormatterForHandle,P=S.styles,O=S.classNames,Y="".concat(n,"-handle"),Z=function(B){R||s(B,i)},z=function(B){g==null||g(B,i)},$=function(B){E(B,i)},H=function(B){if(!R&&k){var le=null;switch(B.which||B.keyCode){case cn.LEFT:le=C==="ltr"||C==="btt"?-1:1;break;case cn.RIGHT:le=C==="ltr"||C==="btt"?1:-1;break;case cn.UP:le=C!=="ttb"?1:-1;break;case cn.DOWN:le=C!=="ttb"?-1:1;break;case cn.HOME:le="min";break;case cn.END:le="max";break;case cn.PAGE_UP:le=2;break;case cn.PAGE_DOWN:le=-2;break;case cn.BACKSPACE:case cn.DELETE:a(i);break}le!==null&&(B.preventDefault(),m(le,i))}},ne=function(B){switch(B.which||B.keyCode){case cn.LEFT:case cn.RIGHT:case cn.UP:case cn.DOWN:case cn.HOME:case cn.END:case cn.PAGE_UP:case cn.PAGE_DOWN:d==null||d();break}},ee=qv(C,r,_,v),ge={};if(i!==null){var ve;ge={tabIndex:R?null:ua(T,i),role:"slider","aria-valuemin":_,"aria-valuemax":v,"aria-valuenow":r,"aria-disabled":R,"aria-label":ua(b,i),"aria-labelledby":ua(w,i),"aria-required":ua(L,i),"aria-valuetext":(ve=ua(M,i))===null||ve===void 0?void 0:ve(r),"aria-orientation":C==="ltr"||C==="rtl"?"horizontal":"vertical",onMouseDown:Z,onTouchStart:Z,onFocus:z,onMouseEnter:$,onKeyDown:H,onKeyUp:ne}}var W=f.createElement("div",Hu({ref:e,className:Ca(Y,Pr(Pr(Pr({},"".concat(Y,"-").concat(i+1),i!==null&&x),"".concat(Y,"-dragging"),c),"".concat(Y,"-dragging-delete"),h),O.handle),style:Un(Un(Un({},ee),o),P.handle)},ge,A));return l&&(W=l(W,{index:i,prefixCls:n,value:r,dragging:c,draggingDelete:h})),W}),pN=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],gN=f.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.onStartMove,s=t.onOffsetChange,a=t.values,o=t.handleRender,l=t.activeHandleRender,c=t.draggingIndex,h=t.draggingDelete,m=t.onFocus,d=m1(t,pN),g=f.useRef({}),E=f.useState(!1),A=Sn(E,2),S=A[0],_=A[1],v=f.useState(-1),C=Sn(v,2),R=C[0],k=C[1],x=function(M){k(M),_(!0)},T=function(M,P){x(P),m==null||m(M)},b=function(M,P){x(P)};f.useImperativeHandle(e,function(){return{focus:function(M){var P;(P=g.current[M])===null||P===void 0||P.focus()},hideHelp:function(){Ki.flushSync(function(){_(!1)})}}});var w=Un({prefixCls:n,onStartMove:i,onOffsetChange:s,render:o,onFocus:T,onMouseEnter:b},d);return f.createElement(f.Fragment,null,a.map(function(L,M){var P=c===M;return f.createElement(D0,Hu({ref:function(Y){Y?g.current[M]=Y:delete g.current[M]},dragging:P,draggingDelete:P&&h,style:ua(r,M),key:M,value:L,valueIndex:M},w))}),l&&S&&f.createElement(D0,Hu({key:"a11y"},w,{value:a[R],valueIndex:null,dragging:c!==-1,draggingDelete:h,render:l,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),vN=function(e){var n=e.prefixCls,r=e.style,i=e.children,s=e.value,a=e.onClick,o=f.useContext(Va),l=o.min,c=o.max,h=o.direction,m=o.includedStart,d=o.includedEnd,g=o.included,E="".concat(n,"-text"),A=qv(h,s,l,c);return f.createElement("span",{className:Ca(E,Pr({},"".concat(E,"-active"),g&&m<=s&&s<=d)),style:Un(Un({},A),r),onMouseDown:function(_){_.stopPropagation()},onClick:function(){a(s)}},i)},yN=function(e){var n=e.prefixCls,r=e.marks,i=e.onClick,s="".concat(n,"-mark");return r.length?f.createElement("div",{className:s},r.map(function(a){var o=a.value,l=a.style,c=a.label;return f.createElement(vN,{key:o,prefixCls:s,style:l,value:o,onClick:i},c)})):null},_N=function(e){var n=e.prefixCls,r=e.value,i=e.style,s=e.activeStyle,a=f.useContext(Va),o=a.min,l=a.max,c=a.direction,h=a.included,m=a.includedStart,d=a.includedEnd,g="".concat(n,"-dot"),E=h&&m<=r&&r<=d,A=Un(Un({},qv(c,r,o,l)),typeof i=="function"?i(r):i);return E&&(A=Un(Un({},A),typeof s=="function"?s(r):s)),f.createElement("span",{className:Ca(g,Pr({},"".concat(g,"-active"),E)),style:A})},bN=function(e){var n=e.prefixCls,r=e.marks,i=e.dots,s=e.style,a=e.activeStyle,o=f.useContext(Va),l=o.min,c=o.max,h=o.step,m=f.useMemo(function(){var d=new Set;if(r.forEach(function(E){d.add(E.value)}),i&&h!==null)for(var g=l;g<=c;)d.add(g),g+=h;return Array.from(d)},[l,c,h,i,r]);return f.createElement("div",{className:"".concat(n,"-step")},m.map(function(d){return f.createElement(_N,{prefixCls:n,key:d,value:d,style:s,activeStyle:a})}))},k0=function(e){var n=e.prefixCls,r=e.style,i=e.start,s=e.end,a=e.index,o=e.onStartMove,l=e.replaceCls,c=f.useContext(Va),h=c.direction,m=c.min,d=c.max,g=c.disabled,E=c.range,A=c.classNames,S="".concat(n,"-track"),_=tg(i,m,d),v=tg(s,m,d),C=function(T){!g&&o&&o(T,-1)},R={};switch(h){case"rtl":R.right="".concat(_*100,"%"),R.width="".concat(v*100-_*100,"%");break;case"btt":R.bottom="".concat(_*100,"%"),R.height="".concat(v*100-_*100,"%");break;case"ttb":R.top="".concat(_*100,"%"),R.height="".concat(v*100-_*100,"%");break;default:R.left="".concat(_*100,"%"),R.width="".concat(v*100-_*100,"%")}var k=l||Ca(S,Pr(Pr({},"".concat(S,"-").concat(a+1),a!==null&&E),"".concat(n,"-track-draggable"),o),A.track);return f.createElement("div",{className:k,style:Un(Un({},R),r),onMouseDown:C,onTouchStart:C})},EN=function(e){var n=e.prefixCls,r=e.style,i=e.values,s=e.startPoint,a=e.onStartMove,o=f.useContext(Va),l=o.included,c=o.range,h=o.min,m=o.styles,d=o.classNames,g=f.useMemo(function(){if(!c){if(i.length===0)return[];var A=s??h,S=i[0];return[{start:Math.min(A,S),end:Math.max(A,S)}]}for(var _=[],v=0;v<i.length-1;v+=1)_.push({start:i[v],end:i[v+1]});return _},[i,c,s,h]);if(!l)return null;var E=g!=null&&g.length&&(d.tracks||m.tracks)?f.createElement(k0,{index:null,prefixCls:n,start:g[0].start,end:g[g.length-1].end,replaceCls:Ca(d.tracks,"".concat(n,"-tracks")),style:m.tracks}):null;return f.createElement(f.Fragment,null,E,g.map(function(A,S){var _=A.start,v=A.end;return f.createElement(k0,{index:S,prefixCls:n,style:Un(Un({},ua(r,S)),m.track),start:_,end:v,key:S,onStartMove:a})}))},wN=130;function P0(t){var e="targetTouches"in t?t.targetTouches[0]:t;return{pageX:e.pageX,pageY:e.pageY}}function SN(t,e,n,r,i,s,a,o,l,c,h){var m=f.useState(null),d=Sn(m,2),g=d[0],E=d[1],A=f.useState(-1),S=Sn(A,2),_=S[0],v=S[1],C=f.useState(!1),R=Sn(C,2),k=R[0],x=R[1],T=f.useState(n),b=Sn(T,2),w=b[0],L=b[1],M=f.useState(n),P=Sn(M,2),O=P[0],Y=P[1],Z=f.useRef(null),z=f.useRef(null),$=f.useRef(null),H=f.useContext(dN),ne=H.onDragStart,ee=H.onDragChange;f1(function(){_===-1&&L(n)},[n,_]),f.useEffect(function(){return function(){document.removeEventListener("mousemove",Z.current),document.removeEventListener("mouseup",z.current),$.current&&($.current.removeEventListener("touchmove",Z.current),$.current.removeEventListener("touchend",z.current))}},[]);var ge=function(le,ie,me){ie!==void 0&&E(ie),L(le);var Oe=le;me&&(Oe=le.filter(function(J,he){return he!==_})),a(Oe),ee&&ee({rawValues:le,deleteIndex:me?_:-1,draggingIndex:_,draggingValue:ie})},ve=Oo(function(B,le,ie){if(B===-1){var me=O[0],Oe=O[O.length-1],J=r-me,he=i-Oe,Ye=le*(i-r);Ye=Math.max(Ye,J),Ye=Math.min(Ye,he);var Dt=s(me+Ye);Ye=Dt-me;var mt=O.map(function(Rn){return Rn+Ye});ge(mt)}else{var Me=(i-r)*le,gn=Ri(w);gn[B]=O[B];var ln=l(gn,Me,B,"dist");ge(ln.values,ln.value,ie)}}),W=function(le,ie,me){le.stopPropagation();var Oe=me||n,J=Oe[ie];v(ie),E(J),Y(Oe),L(Oe),x(!1);var he=P0(le),Ye=he.pageX,Dt=he.pageY,mt=!1;ne&&ne({rawValues:Oe,draggingIndex:ie,draggingValue:J});var Me=function(Rn){Rn.preventDefault();var kt=P0(Rn),zn=kt.pageX,Ln=kt.pageY,Wt=zn-Ye,bt=Ln-Dt,jt=t.current.getBoundingClientRect(),vn=jt.width,Qe=jt.height,Pe,Xt;switch(e){case"btt":Pe=-bt/Qe,Xt=Wt;break;case"ttb":Pe=bt/Qe,Xt=Wt;break;case"rtl":Pe=-Wt/vn,Xt=bt;break;default:Pe=Wt/vn,Xt=bt}mt=c?Math.abs(Xt)>wN&&h<w.length:!1,x(mt),ve(ie,Pe,mt)},gn=function ln(Rn){Rn.preventDefault(),document.removeEventListener("mouseup",ln),document.removeEventListener("mousemove",Me),$.current&&($.current.removeEventListener("touchmove",Z.current),$.current.removeEventListener("touchend",z.current)),Z.current=null,z.current=null,$.current=null,o(mt),v(-1),x(!1)};document.addEventListener("mouseup",gn),document.addEventListener("mousemove",Me),le.currentTarget.addEventListener("touchend",gn),le.currentTarget.addEventListener("touchmove",Me),Z.current=Me,z.current=gn,$.current=le.currentTarget},se=f.useMemo(function(){var B=Ri(n).sort(function(J,he){return J-he}),le=Ri(w).sort(function(J,he){return J-he}),ie={};le.forEach(function(J){ie[J]=(ie[J]||0)+1}),B.forEach(function(J){ie[J]=(ie[J]||0)-1});var me=c?1:0,Oe=Object.values(ie).reduce(function(J,he){return J+Math.abs(he)},0);return Oe<=me?w:n},[n,w,c]);return[_,g,k,se,W]}function TN(t,e,n,r,i,s){var a=f.useCallback(function(g){return Math.max(t,Math.min(e,g))},[t,e]),o=f.useCallback(function(g){if(n!==null){var E=t+Math.round((a(g)-t)/n)*n,A=function(C){return(String(C).split(".")[1]||"").length},S=Math.max(A(n),A(e),A(t)),_=Number(E.toFixed(S));return t<=_&&_<=e?_:null}return null},[n,t,e,a]),l=f.useCallback(function(g){var E=a(g),A=r.map(function(v){return v.value});n!==null&&A.push(o(g)),A.push(t,e);var S=A[0],_=e-t;return A.forEach(function(v){var C=Math.abs(E-v);C<=_&&(S=v,_=C)}),S},[t,e,r,n,a,o]),c=function g(E,A,S){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof A=="number"){var v,C=E[S],R=C+A,k=[];r.forEach(function(L){k.push(L.value)}),k.push(t,e),k.push(o(C));var x=A>0?1:-1;_==="unit"?k.push(o(C+x*n)):k.push(o(R)),k=k.filter(function(L){return L!==null}).filter(function(L){return A<0?L<=C:L>=C}),_==="unit"&&(k=k.filter(function(L){return L!==C}));var T=_==="unit"?C:R;v=k[0];var b=Math.abs(v-T);if(k.forEach(function(L){var M=Math.abs(L-T);M<b&&(v=L,b=M)}),v===void 0)return A<0?t:e;if(_==="dist")return v;if(Math.abs(A)>1){var w=Ri(E);return w[S]=v,g(w,A-x,S,_)}return v}else{if(A==="min")return t;if(A==="max")return e}},h=function(E,A,S){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",v=E[S],C=c(E,A,S,_);return{value:C,changed:C!==v}},m=function(E){return s===null&&E===0||typeof s=="number"&&E<s},d=function(E,A,S){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",v=E.map(l),C=v[S],R=c(v,A,S,_);if(v[S]=R,i===!1){var k=s||0;S>0&&v[S-1]!==C&&(v[S]=Math.max(v[S],v[S-1]+k)),S<v.length-1&&v[S+1]!==C&&(v[S]=Math.min(v[S],v[S+1]-k))}else if(typeof s=="number"||s===null){for(var x=S+1;x<v.length;x+=1)for(var T=!0;m(v[x]-v[x-1])&&T;){var b=h(v,1,x);v[x]=b.value,T=b.changed}for(var w=S;w>0;w-=1)for(var L=!0;m(v[w]-v[w-1])&&L;){var M=h(v,-1,w-1);v[w-1]=M.value,L=M.changed}for(var P=v.length-1;P>0;P-=1)for(var O=!0;m(v[P]-v[P-1])&&O;){var Y=h(v,-1,P-1);v[P-1]=Y.value,O=Y.changed}for(var Z=0;Z<v.length-1;Z+=1)for(var z=!0;m(v[Z+1]-v[Z])&&z;){var $=h(v,1,Z+1);v[Z+1]=$.value,z=$.changed}}return{value:v[S],values:v}};return[l,d]}function CN(t){return f.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var e=t.editable,n=t.draggableTrack,r=t.minCount,i=t.maxCount;return[!0,e,!e&&n,r||0,i]},[t])}var AN=f.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-slider":n,i=t.className,s=t.style,a=t.classNames,o=t.styles,l=t.id,c=t.disabled,h=c===void 0?!1:c,m=t.keyboard,d=m===void 0?!0:m,g=t.autoFocus,E=t.onFocus,A=t.onBlur,S=t.min,_=S===void 0?0:S,v=t.max,C=v===void 0?100:v,R=t.step,k=R===void 0?1:R,x=t.value,T=t.defaultValue,b=t.range,w=t.count,L=t.onChange,M=t.onBeforeChange,P=t.onAfterChange,O=t.onChangeComplete,Y=t.allowCross,Z=Y===void 0?!0:Y,z=t.pushable,$=z===void 0?!1:z,H=t.reverse,ne=t.vertical,ee=t.included,ge=ee===void 0?!0:ee,ve=t.startPoint,W=t.trackStyle,se=t.handleStyle,B=t.railStyle,le=t.dotStyle,ie=t.activeDotStyle,me=t.marks,Oe=t.dots,J=t.handleRender,he=t.activeHandleRender,Ye=t.track,Dt=t.tabIndex,mt=Dt===void 0?0:Dt,Me=t.ariaLabelForHandle,gn=t.ariaLabelledByForHandle,ln=t.ariaRequired,Rn=t.ariaValueTextFormatterForHandle,kt=f.useRef(null),zn=f.useRef(null),Ln=f.useMemo(function(){return ne?H?"ttb":"btt":H?"rtl":"ltr"},[H,ne]),Wt=CN(b),bt=Sn(Wt,5),jt=bt[0],vn=bt[1],Qe=bt[2],Pe=bt[3],Xt=bt[4],Ct=f.useMemo(function(){return isFinite(_)?_:0},[_]),Kn=f.useMemo(function(){return isFinite(C)?C:100},[C]),Mt=f.useMemo(function(){return k!==null&&k<=0?1:k},[k]),ir=f.useMemo(function(){return typeof $=="boolean"?$?Mt:!1:$>=0?$:!1},[$,Mt]),Bn=f.useMemo(function(){return Object.keys(me||{}).map(function(Be){var ye=me[Be],Xe={value:Number(Be)};return ye&&zs(ye)==="object"&&!f.isValidElement(ye)&&("label"in ye||"style"in ye)?(Xe.style=ye.style,Xe.label=ye.label):Xe.label=ye,Xe}).filter(function(Be){var ye=Be.label;return ye||typeof ye=="number"}).sort(function(Be,ye){return Be.value-ye.value})},[me]),ei=TN(Ct,Kn,Mt,Bn,Z,ir),sr=Sn(ei,2),br=sr[0],Yn=sr[1],zr=sN(T,{value:x}),Qn=Sn(zr,2),Mn=Qn[0],ar=Qn[1],At=f.useMemo(function(){var Be=Mn==null?[]:Array.isArray(Mn)?Mn:[Mn],ye=Sn(Be,1),Xe=ye[0],We=Xe===void 0?Ct:Xe,lt=Mn===null?[]:[We];if(jt){if(lt=Ri(Be),w||Mn===void 0){var Re=w>=0?w+1:2;for(lt=lt.slice(0,Re);lt.length<Re;){var yt;lt.push((yt=lt[lt.length-1])!==null&&yt!==void 0?yt:Ct)}}lt.sort(function(qt,_n){return qt-_n})}return lt.forEach(function(qt,_n){lt[_n]=br(qt)}),lt},[Mn,jt,Ct,w,br]),un=function(ye){return jt?ye:ye[0]},Ft=Oo(function(Be){var ye=Ri(Be).sort(function(Xe,We){return Xe-We});L&&!hN(ye,At,!0)&&L(un(ye)),ar(ye)}),Hn=Oo(function(Be){Be&&kt.current.hideHelp();var ye=un(At);P==null||P(ye),Yo(!P,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),O==null||O(ye)}),Br=function(ye){if(!(h||!vn||At.length<=Pe)){var Xe=Ri(At);Xe.splice(ye,1),M==null||M(un(Xe)),Ft(Xe);var We=Math.max(0,ye-1);kt.current.hideHelp(),kt.current.focus(We)}},Hr=SN(zn,Ln,At,Ct,Kn,br,Ft,Hn,Yn,vn,Pe),N=Sn(Hr,5),V=N[0],j=N[1],F=N[2],te=N[3],fe=N[4],we=function(ye,Xe){if(!h){var We=Ri(At),lt=0,Re=0,yt=Kn-Ct;At.forEach(function(Zt,qr){var Zs=Math.abs(ye-Zt);Zs<=yt&&(yt=Zs,lt=qr),Zt<ye&&(Re=qr)});var qt=lt;vn&&yt!==0&&(!Xt||At.length<Xt)?(We.splice(Re+1,0,ye),qt=Re+1):We[lt]=ye,jt&&!At.length&&w===void 0&&We.push(ye);var _n=un(We);if(M==null||M(_n),Ft(We),Xe){var Xn,at;(Xn=document.activeElement)===null||Xn===void 0||(at=Xn.blur)===null||at===void 0||at.call(Xn),kt.current.focus(qt),fe(Xe,qt,We)}else P==null||P(_n),Yo(!P,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),O==null||O(_n)}},oe=function(ye){ye.preventDefault();var Xe=zn.current.getBoundingClientRect(),We=Xe.width,lt=Xe.height,Re=Xe.left,yt=Xe.top,qt=Xe.bottom,_n=Xe.right,Xn=ye.clientX,at=ye.clientY,Zt;switch(Ln){case"btt":Zt=(qt-at)/lt;break;case"ttb":Zt=(at-yt)/lt;break;case"rtl":Zt=(_n-Xn)/We;break;default:Zt=(Xn-Re)/We}var qr=Ct+Zt*(Kn-Ct);we(br(qr),ye)},de=f.useState(null),be=Sn(de,2),Ce=be[0],pe=be[1],xe=function(ye,Xe){if(!h){var We=Yn(At,ye,Xe);M==null||M(un(At)),Ft(We.values),pe(We.value)}};f.useEffect(function(){if(Ce!==null){var Be=At.indexOf(Ce);Be>=0&&kt.current.focus(Be)}pe(null)},[Ce]);var tt=f.useMemo(function(){return Qe&&Mt===null?!1:Qe},[Qe,Mt]),pt=Oo(function(Be,ye){fe(Be,ye),M==null||M(un(At))}),ht=V!==-1;f.useEffect(function(){if(!ht){var Be=At.lastIndexOf(j);kt.current.focus(Be)}},[ht]);var Pt=f.useMemo(function(){return Ri(te).sort(function(Be,ye){return Be-ye})},[te]),ze=f.useMemo(function(){return jt?[Pt[0],Pt[Pt.length-1]]:[Ct,Pt[0]]},[Pt,jt,Ct]),Er=Sn(ze,2),Wn=Er[0],Fr=Er[1];f.useImperativeHandle(e,function(){return{focus:function(){kt.current.focus(0)},blur:function(){var ye,Xe=document,We=Xe.activeElement;(ye=zn.current)!==null&&ye!==void 0&&ye.contains(We)&&(We==null||We.blur())}}}),f.useEffect(function(){g&&kt.current.focus(0)},[]);var yn=f.useMemo(function(){return{min:Ct,max:Kn,direction:Ln,disabled:h,keyboard:d,step:Mt,included:ge,includedStart:Wn,includedEnd:Fr,range:jt,tabIndex:mt,ariaLabelForHandle:Me,ariaLabelledByForHandle:gn,ariaRequired:ln,ariaValueTextFormatterForHandle:Rn,styles:o||{},classNames:a||{}}},[Ct,Kn,Ln,h,d,Mt,ge,Wn,Fr,jt,mt,Me,gn,ln,Rn,o,a]);return f.createElement(Va.Provider,{value:yn},f.createElement("div",{ref:zn,className:Ca(r,i,Pr(Pr(Pr(Pr({},"".concat(r,"-disabled"),h),"".concat(r,"-vertical"),ne),"".concat(r,"-horizontal"),!ne),"".concat(r,"-with-marks"),Bn.length)),style:s,onMouseDown:oe,id:l},f.createElement("div",{className:Ca("".concat(r,"-rail"),a==null?void 0:a.rail),style:Un(Un({},B),o==null?void 0:o.rail)}),Ye!==!1&&f.createElement(EN,{prefixCls:r,style:W,values:At,startPoint:ve,onStartMove:tt?pt:void 0}),f.createElement(bN,{prefixCls:r,marks:Bn,dots:Oe,style:le,activeStyle:ie}),f.createElement(gN,{ref:kt,prefixCls:r,style:se,values:te,draggingIndex:V,draggingDelete:F,onStartMove:pt,onOffsetChange:xe,onFocus:E,onBlur:A,handleRender:J,activeHandleRender:he,onChangeComplete:Hn,onDelete:vn?Br:void 0}),f.createElement(yN,{prefixCls:r,marks:Bn,onClick:we})))});const xN=t=>{const e=Math.floor(t/60),n=t%60,r=e>=12?"PM":"AM";return`${e%12===0?12:e%12}:${n.toString().padStart(2,"0")} ${r}`},uh=t=>{const[e,n]=t.split(":").map(Number);return e*60+n};function RN(){const t=cl(),e=Jr(),{startTime:n=t.startTime,endTime:r=t.endTime}=e.state||{},i=uh(n),s=uh(r),[a,o]=f.useState([]),[l,c]=f.useState(""),[h,m]=f.useState(""),[d,g]=f.useState(!1),E="viva:activityState";return f.useEffect(()=>{try{const A=localStorage.getItem(E);if(!A)return;const S=JSON.parse(A),_=uh(S.startTime??n),v=uh(S.endTime??r),C=k=>Math.min(Math.max(k,i),s),R=(S.activities||[]).map(k=>({...k,time:C(k.time)})).sort((k,x)=>k.time===x.time?-1:k.time-x.time);o(R),typeof S.name=="string"&&c(S.name),typeof S.time=="string"&&m(S.time)}catch{}finally{g(!0)}},[]),f.useEffect(()=>{if(!d)return;const A=JSON.stringify({startTime:n,endTime:r,activities:a,name:l,time:h});localStorage.setItem(E,A)},[n,r,a,l,h]),D.jsxs("main",{className:"flex flex-col items-center justify-center min-h-screen bg-background px-4 gap-6 pad-6",children:[D.jsx("h1",{className:"text-3xl items-center font-bold",children:"Plan Your Activities"}),D.jsxs("form",{onSubmit:A=>{if(A.preventDefault(),!l||!h)return;const S=Date.now(),[_,v]=h.split(":").map(Number),C=_*60+v;if(C<i||C>s){alert("Time is out of range!");return}o(R=>[...R,{id:S,name:l,time:C}].sort((x,T)=>x.time===T.time?-1:x.time-T.time)),c(""),m("")},className:"flex flex-col md:flex-row gap-4 items-center mb-6",children:[D.jsx("input",{type:"text",value:l,onChange:A=>c(A.target.value),placeholder:"Activity name",className:"border border-gray-300 rounded-md px-4 py-2 w-60",required:!0}),D.jsx("input",{type:"time",value:h,onChange:A=>m(A.target.value),className:"border border-gray-300 rounded-md px-4 py-2",required:!0}),D.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition",children:"Add Activity"})]}),D.jsx("div",{className:"relative w-full max-w-4xl h-28 flex flex-col gap-6",children:a.length>0&&D.jsx(AN,{range:!0,allowCross:!0,step:5,onChange:A=>{if(Array.isArray(A)){const S=a.map((_,v)=>({..._,time:A[v]}));o(S.sort((_,v)=>_.time===v.time?-1:_.time-v.time))}},min:i,max:s,value:a.map(A=>A.time),trackStyle:[{backgroundColor:"#bfdbfe"}],railStyle:{backgroundColor:"#bfdbfe"},handleRender:(A,S)=>{const _=a[S.index],[v,C]=Km.useState(!1);return Km.cloneElement(A,{style:{...A.props.style,position:"absolute",top:"-25%",transform:"translateY(0%)",height:"32px",backgroundColor:"#ffffff",border:`2px solid ${v?"#0EA5E9":"#D1D5DB"}`,borderRadius:"9999px",padding:"0 0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",userSelect:"none",fontSize:"14px",fontWeight:500,color:"#1f2937",width:"fit-content",transition:"border-color 0.2s ease"},onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),onClick:()=>{o(R=>R.filter(k=>k.id!==_.id))},children:D.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[D.jsx("div",{style:{fontSize:"14px",alignItems:"center",transform:"translateY(40%)"},children:_.name}),D.jsx("div",{style:{fontSize:"12px",color:"#6B7280",transform:"translateY(75%)"},children:xN(_.time)})]})})}})}),D.jsx(et,{to:"/invitee",children:"Next"}),D.jsx(et,{to:"/",children:" Back to Home"})]})}const LN=["Birthday Party","Dinner Party","Brunch Party","Night Party","Pool Party","Graduation Party","Baby Shower","Housewarming"],N0="viva:partyType";function MN(){const{eventType:t,setEventType:e}=cl(),[n,r]=f.useState(""),[i,s]=f.useState(!1);f.useEffect(()=>{try{const l=localStorage.getItem(N0);if(l){const c=JSON.parse(l);Array.isArray(c)&&e(c)}}catch{}finally{s(!0)}},[e]),f.useEffect(()=>{i&&localStorage.setItem(N0,JSON.stringify(t))},[i,t]);const a=l=>{t.includes(l)?e(t.filter(c=>c!==l)):e([...t,l])},o=l=>{l.preventDefault();const c=n.trim();c&&!t.includes(c)&&(e([...t,c]),r(""))};return D.jsxs("main",{children:[D.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background px-4 text-center",children:[D.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"What’s the Occasion?"}),D.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:LN.map(l=>D.jsx(et,{isSelected:t.includes(l),onClick:()=>a(l),children:l}))}),D.jsxs("form",{onSubmit:o,className:"flex gap-2 mb-6",children:[D.jsx("input",{type:"text",value:n,onChange:l=>r(l.target.value),placeholder:"Add your own...",className:"border border-gray-300 rounded-full px-4 py-2 w-full"}),D.jsx("button",{type:"submit",className:"bg-blue-500 text-white rounded-full px-4 py-2 hover:bg-blue-600",children:"Add"})]}),t&&t.length>0&&D.jsxs("div",{className:"mt-4",children:[D.jsx("h3",{className:"text-lg font-medium mb-2",children:"Your Theme Vibe Preview"}),D.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(l=>D.jsx(et,{isSelected:!0,onClick:()=>a(l),children:l},l))})]})]}),D.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[D.jsx(et,{to:"/",children:"Home"}),D.jsx(et,{to:"/theme",children:"Next"})]})]})}function IN({className:t,...e}){return D.jsx("div",{"data-slot":"card",className:yd("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function ON({className:t,...e}){return D.jsx("div",{"data-slot":"card-content",className:yd("px-6",t),...e})}function DN({className:t,type:e,...n}){return D.jsx("input",{type:e,"data-slot":"input",className:yd("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const kN={colors:["Pastel","Neon","Monochrome","Gold & Glitter"],moods:["Romantic","Spooky","Classy","Chill","Dreamy","Playful"],music:["Lo-fi","Dance Pop","Classical","Indie"],style:["Cottagecore","Retro","Sci-fi","Fairytale","Minimalist"]},V0="viva:theme";function PN(){const{theme:t,setTheme:e}=cl(),[n,r]=f.useState([]),[i,s]=f.useState(""),[a,o]=f.useState(!1);f.useEffect(()=>{try{const m=localStorage.getItem(V0);if(m){const d=JSON.parse(m);Array.isArray(d.selectedTags)&&r(d.selectedTags),typeof d.customTheme=="string"&&s(d.customTheme)}}catch{}finally{o(!0)}},[]),f.useEffect(()=>{a&&(localStorage.setItem(V0,JSON.stringify({selectedTags:n,customTheme:i})),e([...n,...i?[i]:[]]))},[a,n,i]);const l=m=>{r(d=>d.includes(m)?d.filter(g=>g!==m):[...d,m])},h=n.includes("Romantic")&&n.includes("Red")?"Sounds like you’re going for a Valentine’s Day vibe! Want to switch your Party Type?":n.includes("Spooky")?"Is this a Halloween party? You might want to update your Party Type!":null;return D.jsxs("div",{className:"p-6 space-y-6 max-w-4xl mx-auto",children:[D.jsx("h1",{className:"text-3xl font-bold",children:"Pick Your Party Theme"}),D.jsx("p",{className:"text-muted-foreground",children:"What kind of vibe are you going for?"}),Object.entries(kN).map(([m,d])=>D.jsxs("div",{children:[D.jsx("h2",{className:"text-xl font-semibold capitalize mt-4 mb-2",children:m}),D.jsx("div",{className:"flex flex-wrap gap-3",children:d.map(g=>D.jsx(et,{onClick:()=>l(g),isSelected:n.includes(g),children:g},g))})]},m)),D.jsxs("div",{className:"mt-6",children:[D.jsx("h2",{className:"text-lg font-medium mb-2",children:"Custom Theme Description (optional)"}),D.jsx(DN,{placeholder:"e.g. Pink Galaxy Pajama Party",value:i,onChange:m=>s(m.target.value)})]}),h&&D.jsx(IN,{className:"mt-4 border-dashed border-2 border-pink-500 animate-pulse",children:D.jsx(ON,{className:"p-4 text-pink-700",children:h})}),D.jsxs("div",{className:"mt-8",children:[D.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Your Theme Vibe Preview"}),D.jsx("div",{className:"border rounded-xl p-4 bg-muted text-muted-foreground",children:n.length===0&&!i?D.jsx("p",{children:"No vibes selected yet! Pick a few tags or write your own above ✨"}):D.jsxs("div",{className:"space-y-2",children:[n.length>0&&D.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(m=>D.jsx(et,{isSelected:!0,onClick:()=>l(m),children:m},m))}),i&&D.jsxs("p",{children:[D.jsx("strong",{children:"Description:"})," ",i]})]})})]}),D.jsxs("div",{className:"fixed bottom-6 right-6 flex gap-2",children:[D.jsx(et,{to:"/",children:"Home"}),D.jsx(et,{to:"/dateTime",children:"Next"})]})]})}const NN=()=>{};var U0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},g1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,m=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,g=c&63;l||(g=64,a||(d=64)),r.push(n[h],n[m],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||m==null)throw new UN;const d=s<<2|o>>4;if(r.push(d),c!==64){const g=o<<4&240|c>>2;if(r.push(g),m!==64){const E=c<<6&192|m;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jN=function(t){const e=p1(t);return g1.encodeByteArray(e,!0)},Df=function(t){return jN(t).replace(/\./g,"")},v1=function(t){try{return g1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=()=>zN().__FIREBASE_DEFAULTS__,HN=()=>{if(typeof process>"u"||typeof U0>"u")return;const t=U0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v1(t[1]);return e&&JSON.parse(e)},_d=()=>{try{return NN()||BN()||HN()||FN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},y1=t=>{var e,n;return(n=(e=_d())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qN=t=>{const e=y1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_1=()=>{var t;return(t=_d())===null||t===void 0?void 0:t.config},b1=t=>{var e;return(e=_d())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Df(JSON.stringify(n)),Df(JSON.stringify(a)),""].join(".")}const yu={};function KN(){const t={prod:[],emulator:[]};for(const e of Object.keys(yu))yu[e]?t.emulator.push(e):t.prod.push(e);return t}function YN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let j0=!1;function w1(t,e){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||yu[t]===e||yu[t]||j0)return;yu[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",s=KN().prod.length>0;function a(){const d=document.getElementById(r);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,g){d.setAttribute("width","24"),d.setAttribute("id",g),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{j0=!0,a()},d}function h(d,g){d.setAttribute("id",g),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function m(){const d=YN(r),g=n("text"),E=document.getElementById(g)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const C=d.element;o(C),h(S,A);const R=c();l(v,_),C.append(v,E,S,R),document.body.appendChild(C)}s?(E.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function WN(){var t;const e=(t=_d())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e4(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t4(){return!WN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n4(){try{return typeof indexedDB=="object"}catch{return!1}}function r4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=i4,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?s4(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Nr(i,o,r)}}function s4(t,e){return t.replace(a4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const a4=/\{\$([^}]+)}/g;function o4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Aa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(z0(s)&&z0(a)){if(!Aa(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function z0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function l4(t,e){const n=new u4(t,e);return n.subscribe.bind(n)}class u4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");c4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nm),i.error===void 0&&(i.error=Nm),i.complete===void 0&&(i.complete=Nm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t){return t&&t._delegate?t._delegate:t}class xa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d4(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f4(t){return t===oa?void 0:t}function d4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const p4={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},g4=$e.INFO,v4={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},y4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=v4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gv{constructor(e){this.name=e,this._logLevel=g4,this._logHandler=y4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const _4=(t,e)=>e.some(n=>t instanceof n);let B0,H0;function b4(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E4(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S1=new WeakMap,ng=new WeakMap,T1=new WeakMap,Vm=new WeakMap,$v=new WeakMap;function w4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ms(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&S1.set(n,t)}).catch(()=>{}),$v.set(e,t),e}function S4(t){if(ng.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ng.set(t,e)}let rg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ng.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T4(t){rg=t(rg)}function C4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Um(this),e,...n);return T1.set(r,e.sort?e.sort():[e]),Ms(r)}:E4().includes(t)?function(...e){return t.apply(Um(this),e),Ms(S1.get(this))}:function(...e){return Ms(t.apply(Um(this),e))}}function A4(t){return typeof t=="function"?C4(t):(t instanceof IDBTransaction&&S4(t),_4(t,b4())?new Proxy(t,rg):t)}function Ms(t){if(t instanceof IDBRequest)return w4(t);if(Vm.has(t))return Vm.get(t);const e=A4(t);return e!==t&&(Vm.set(t,e),$v.set(e,t)),e}const Um=t=>$v.get(t);function x4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Ms(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ms(a.result),l.oldVersion,l.newVersion,Ms(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const R4=["get","getKey","getAll","getAllKeys","count"],L4=["put","add","delete","clear"],jm=new Map;function F0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=L4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R4.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return jm.set(e,s),s}T4(t=>({...t,get:(e,n,r)=>F0(e,n)||t.get(e,n,r),has:(e,n)=>!!F0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function I4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ig="@firebase/app",q0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Gv("@firebase/app"),O4="@firebase/app-compat",D4="@firebase/analytics-compat",k4="@firebase/analytics",P4="@firebase/app-check-compat",N4="@firebase/app-check",V4="@firebase/auth",U4="@firebase/auth-compat",j4="@firebase/database",z4="@firebase/data-connect",B4="@firebase/database-compat",H4="@firebase/functions",F4="@firebase/functions-compat",q4="@firebase/installations",G4="@firebase/installations-compat",$4="@firebase/messaging",K4="@firebase/messaging-compat",Y4="@firebase/performance",Q4="@firebase/performance-compat",W4="@firebase/remote-config",X4="@firebase/remote-config-compat",Z4="@firebase/storage",J4="@firebase/storage-compat",eV="@firebase/firestore",tV="@firebase/ai",nV="@firebase/firestore-compat",rV="firebase",iV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="[DEFAULT]",sV={[ig]:"fire-core",[O4]:"fire-core-compat",[k4]:"fire-analytics",[D4]:"fire-analytics-compat",[N4]:"fire-app-check",[P4]:"fire-app-check-compat",[V4]:"fire-auth",[U4]:"fire-auth-compat",[j4]:"fire-rtdb",[z4]:"fire-data-connect",[B4]:"fire-rtdb-compat",[H4]:"fire-fn",[F4]:"fire-fn-compat",[q4]:"fire-iid",[G4]:"fire-iid-compat",[$4]:"fire-fcm",[K4]:"fire-fcm-compat",[Y4]:"fire-perf",[Q4]:"fire-perf-compat",[W4]:"fire-rc",[X4]:"fire-rc-compat",[Z4]:"fire-gcs",[J4]:"fire-gcs-compat",[eV]:"fire-fst",[nV]:"fire-fst-compat",[tV]:"fire-vertex","fire-js":"fire-js",[rV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,aV=new Map,ag=new Map;function G0(t,e){try{t.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qo(t){const e=t.name;if(ag.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,t);for(const n of Fu.values())G0(n,t);for(const n of aV.values())G0(n,t);return!0}function Kv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ir(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new bc("app","Firebase",oV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=iV;function C1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Is.create("bad-app-name",{appName:String(i)});if(n||(n=_1()),!n)throw Is.create("no-options");const s=Fu.get(i);if(s){if(Aa(n,s.options)&&Aa(r,s.config))return s;throw Is.create("duplicate-app",{appName:i})}const a=new m4(i);for(const l of ag.values())a.addComponent(l);const o=new lV(n,r,a);return Fu.set(i,o),o}function Yv(t=sg){const e=Fu.get(t);if(!e&&t===sg&&_1())return C1();if(!e)throw Is.create("no-app",{appName:t});return e}function uV(){return Array.from(Fu.values())}function Os(t,e,n){var r;let i=(r=sV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(o.join(" "));return}Qo(new xa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="firebase-heartbeat-database",hV=1,qu="firebase-heartbeat-store";let zm=null;function A1(){return zm||(zm=x4(cV,hV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Is.create("idb-open",{originalErrorMessage:t.message})})),zm}async function fV(t){try{const n=(await A1()).transaction(qu),r=await n.objectStore(qu).get(x1(t));return await n.done,r}catch(e){if(e instanceof Nr)Fi.warn(e.message);else{const n=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(n.message)}}}async function $0(t,e){try{const r=(await A1()).transaction(qu,"readwrite");await r.objectStore(qu).put(e,x1(t)),await r.done}catch(n){if(n instanceof Nr)Fi.warn(n.message);else{const r=Is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fi.warn(r.message)}}}function x1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=1024,mV=30;class pV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=K0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>mV){const a=yV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K0(),{heartbeatsToSend:r,unsentEntries:i}=gV(this._heartbeatsCache.heartbeats),s=Df(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fi.warn(n),""}}}function K0(){return new Date().toISOString().substring(0,10)}function gV(t,e=dV){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Y0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n4()?r4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Y0(t){return Df(JSON.stringify({version:2,heartbeats:t})).length}function yV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){Qo(new xa("platform-logger",e=>new M4(e),"PRIVATE")),Qo(new xa("heartbeat",e=>new pV(e),"PRIVATE")),Os(ig,q0,t),Os(ig,q0,"esm2017"),Os("fire-js","")}_V("");var bV="firebase",EV="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(bV,EV,"app");function Qv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function R1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wV=R1,L1=new bc("auth","Firebase",R1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=new Gv("@firebase/auth");function SV(t,...e){kf.logLevel<=$e.WARN&&kf.warn(`Auth (${pl}): ${t}`,...e)}function Dh(t,...e){kf.logLevel<=$e.ERROR&&kf.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,...e){throw Wv(t,...e)}function ui(t,...e){return Wv(t,...e)}function M1(t,e,n){const r=Object.assign(Object.assign({},wV()),{[e]:n});return new bc("auth","Firebase",r).create(e,{appName:t.name})}function Ui(t){return M1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return L1.create(t,...e)}function Se(t,e,...n){if(!t)throw Wv(e,...n)}function ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dh(e),new Error(e)}function qi(t,e){t||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TV(){return Q0()==="http:"||Q0()==="https:"}function Q0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TV()||ZN()||"connection"in navigator)?navigator.onLine:!0}function AV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=QN()||JN()}get(){return CV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LV=new wc(3e4,6e4);function Xs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qi(t,e,n,r,i={}){return O1(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Ec(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return XN()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ml(t.emulatorConfig.host)&&(c.credentials="include"),I1.fetch()(await D1(t,t.config.apiHost,n,o),c)})}async function O1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},xV),e);try{const i=new IV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw ch(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw ch(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw ch(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw M1(t,h,c);Wr(t,h)}}catch(i){if(i instanceof Nr)throw i;Wr(t,"network-request-failed",{message:String(i)})}}async function Sc(t,e,n,r,i={}){const s=await Qi(t,e,n,r,i);return"mfaPendingCredential"in s&&Wr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function D1(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?Xv(t.config,i):`${t.config.apiScheme}://${i}`;return RV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function MV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),LV.get())})}}function ch(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ui(t,e,r);return i.customData._tokenResponse=n,i}function W0(t){return t!==void 0&&t.enterprise!==void 0}class OV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DV(t,e){return Qi(t,"GET","/v2/recaptchaConfig",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(t,e){return Qi(t,"POST","/v1/accounts:delete",e)}async function Pf(t,e){return Qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PV(t,e=!1){const n=Gn(t),r=await n.getIdToken(e),i=Zv(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_u(Bm(i.auth_time)),issuedAtTime:_u(Bm(i.iat)),expirationTime:_u(Bm(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Bm(t){return Number(t)*1e3}function Zv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const i=v1(n);return i?JSON.parse(i):(Dh("Failed to decode base64 JWT payload"),null)}catch(i){return Dh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function X0(t){const e=Zv(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&NV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function NV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wo(t,Pf(n,{idToken:r}));Se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?k1(s.providerUserInfo):[],o=jV(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new lg(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function UV(t){const e=Gn(t);await Nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function k1(t){return t.map(e=>{var{providerId:n}=e,r=Qv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e){const n=await O1(t,{},async()=>{const r=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await D1(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&ml(t.emulatorConfig.host)&&(l.credentials="include"),I1.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BV(t,e){return Qi(t,"POST","/v2/accounts:revokeToken",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=X0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await zV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Do;return r&&(Se(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Se(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Qv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PV(this,e)}reload(){return UV(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await Wo(this,kV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,c,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(a=n.photoURL)!==null&&a!==void 0?a:void 0,A=(o=n.tenantId)!==null&&o!==void 0?o:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:R,isAnonymous:k,providerData:x,stsTokenManager:T}=n;Se(C&&T,e,"internal-error");const b=Do.fromJSON(this.name,T);Se(typeof C=="string",e,"internal-error"),ts(m,e.name),ts(d,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof k=="boolean",e,"internal-error"),ts(g,e.name),ts(E,e.name),ts(A,e.name),ts(S,e.name),ts(_,e.name),ts(v,e.name);const w=new Kr({uid:C,auth:e,email:d,emailVerified:R,displayName:m,isAnonymous:k,photoURL:E,phoneNumber:g,tenantId:A,stsTokenManager:b,createdAt:_,lastLoginAt:v});return x&&Array.isArray(x)&&(w.providerData=x.map(L=>Object.assign({},L))),S&&(w._redirectEventId=S),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Do;i.updateFromServerResponse(n);const s=new Kr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Nf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?k1(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Do;o.updateFromIdToken(r);const l=new Kr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new lg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;function Pi(t){qi(t instanceof Function,"Expected a class definition");let e=Z0.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Z0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}P1.type="NONE";const J0=P1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t,e,n){return`firebase:${t}:${e}:${n}`}class ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=kh(this.userKey,i.apiKey,s),this.fullPersistenceKey=kh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pf(this.auth,{idToken:e}).catch(()=>{});return n?Kr._fromGetAccountInfoResponse(this.auth,n,e):null}return Kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ko(Pi(J0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Pi(J0);const a=kh(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){let m;if(typeof h=="string"){const d=await Pf(e,{idToken:h}).catch(()=>{});if(!d)break;m=await Kr._fromGetAccountInfoResponse(e,d,h)}else m=Kr._fromJSON(e,h);c!==s&&(o=m),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ko(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new ko(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B1(e))return"Blackberry";if(H1(e))return"Webos";if(V1(e))return"Safari";if((e.includes("chrome/")||U1(e))&&!e.includes("edge/"))return"Chrome";if(z1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function N1(t=jn()){return/firefox\//i.test(t)}function V1(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U1(t=jn()){return/crios\//i.test(t)}function j1(t=jn()){return/iemobile/i.test(t)}function z1(t=jn()){return/android/i.test(t)}function B1(t=jn()){return/blackberry/i.test(t)}function H1(t=jn()){return/webos/i.test(t)}function Jv(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HV(t=jn()){var e;return Jv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FV(){return e4()&&document.documentMode===10}function F1(t=jn()){return Jv(t)||z1(t)||H1(t)||B1(t)||/windows phone/i.test(t)||j1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e=[]){let n;switch(t){case"Browser":n=ew(jn());break;case"Worker":n=`${ew(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,e={}){return Qi(t,"GET","/v2/passwordPolicy",Xs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=6;class KV{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:$V,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tw(this),this.idTokenSubscription=new tw(this),this.beforeStateQueue=new qV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pf(this,{idToken:e}),r=await Kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ir(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ir(this.app))return Promise.reject(Ui(this));const n=e?Gn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ir(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GV(this),n=new KV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await BV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ua(t){return Gn(t)}class tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=l4(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QV(t){bd=t}function G1(t){return bd.loadJS(t)}function WV(){return bd.recaptchaEnterpriseScript}function XV(){return bd.gapiScript}function ZV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JV{constructor(){this.enterprise=new eU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tU="recaptcha-enterprise",$1="NO_RECAPTCHA";class nU{constructor(e){this.type=tU,this.auth=Ua(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{DV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new OV(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;W0(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a($1)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JV().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&W0(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=WV();l.length!==0&&(l+=o),G1(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function nw(t,e,n,r=!1,i=!1){const s=new nU(t);let a;if(i)a=$1;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ug(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await nw(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await nw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t,e){const n=Kv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Aa(s,e??{}))return i;Wr(i,"already-initialized")}return n.initialize({options:e})}function iU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sU(t,e,n){const r=Ua(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=K1(e),{host:a,port:o}=aU(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Aa(c,r.config.emulator)&&Aa(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ml(a)?(E1(`${s}//${a}${l}`),w1("Auth",!0)):oU()}function K1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aU(t){const e=K1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:rw(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:rw(a)}}}function rw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,n){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function lU(t,e){return Qi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(t,e){return Sc(t,"POST","/v1/accounts:signInWithPassword",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(t,e){return Sc(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}async function hU(t,e){return Sc(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends ey{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Gu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ug(e,n,"signInWithPassword",uU);case"emailLink":return cU(e,{email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ug(e,r,"signUpPassword",lU);case"emailLink":return hU(e,{idToken:n,email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e){return Sc(t,"POST","/v1/accounts:signInWithIdp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="http://localhost";class Ra extends ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Qv(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ra(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}buildRequest(){const e={requestUri:fU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mU(t){const e=Wl(Xl(t)).link,n=e?Wl(Xl(e)).deep_link_id:null,r=Wl(Xl(t)).deep_link_id;return(r?Wl(Xl(r)).link:null)||r||n||e||t}class ty{constructor(e){var n,r,i,s,a,o;const l=Wl(Xl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,m=dU((i=l.mode)!==null&&i!==void 0?i:null);Se(c&&h&&m,"argument-error"),this.apiKey=c,this.operation=m,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=mU(e);try{return new ty(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return Gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ty.parseLink(n);return Se(r,"argument-error"),Gu._fromEmailAndCode(e,r.code,r.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Y1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Tc{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Tc{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Tc{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e){return Sc(t,"POST","/v1/accounts:signUp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Kr._fromIdTokenResponse(e,r,i),a=iw(r);return new La({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iw(r);return new La({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends Nr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vf(e,n,r,i)}}function Q1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vf._fromErrorAndOperation(t,s,e,r):s})}async function gU(t,e,n=!1){const r=await Wo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return La._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e,n=!1){const{auth:r}=t;if(Ir(r.app))return Promise.reject(Ui(r));const i="reauthenticate";try{const s=await Wo(t,Q1(r,i,e,t),n);Se(s.idToken,r,"internal-error");const a=Zv(s.idToken);Se(a,r,"internal-error");const{sub:o}=a;return Se(t.uid===o,r,"user-mismatch"),La._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(t,e,n=!1){if(Ir(t.app))return Promise.reject(Ui(t));const r="signIn",i=await Q1(t,r,e),s=await La._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function yU(t,e){return W1(Ua(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(t){const e=Ua(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _U(t,e,n){if(Ir(t.app))return Promise.reject(Ui(t));const r=Ua(t),a=await ug(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&X1(t),l}),o=await La._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function sw(t,e,n){return Ir(t.app)?Promise.reject(Ui(t)):yU(Gn(t),gl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&X1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e){return Qi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Gn(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Wo(r,bU(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function wU(t,e,n,r){return Gn(t).onIdTokenChanged(e,n,r)}function SU(t,e,n){return Gn(t).beforeAuthStateChanged(e,n)}function ny(t,e,n,r){return Gn(t).onAuthStateChanged(e,n,r)}function ry(t){return Gn(t).signOut()}const Uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=1e3,CU=10;class J1 extends Z1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);FV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,CU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},TU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}J1.type="LOCAL";const AU=J1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex extends Z1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ex.type="SESSION";const tx=ex;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ed(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await xU(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=iy("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const d=m;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function LU(t){ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function MU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OU(){return nx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="firebaseLocalStorageDb",DU=1,jf="firebaseLocalStorage",ix="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wd(t,e){return t.transaction([jf],e?"readwrite":"readonly").objectStore(jf)}function kU(){const t=indexedDB.deleteDatabase(rx);return new Cc(t).toPromise()}function cg(){const t=indexedDB.open(rx,DU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jf,{keyPath:ix})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jf)?e(r):(r.close(),await kU(),e(await cg()))})})}async function aw(t,e,n){const r=wd(t,!0).put({[ix]:e,value:n});return new Cc(r).toPromise()}async function PU(t,e){const n=wd(t,!1).get(e),r=await new Cc(n).toPromise();return r===void 0?null:r.value}function ow(t,e){const n=wd(t,!0).delete(e);return new Cc(n).toPromise()}const NU=800,VU=3;class sx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(OU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MU(),!this.activeServiceWorker)return;this.sender=new RU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cg();return await aw(e,Uf,"1"),await ow(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>PU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wd(i,!1).getAll();return new Cc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sx.type="LOCAL";const UU=sx;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t,e){return e?Pi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zU(t){return W1(t.auth,new sy(t),t.bypassAuthState)}function BU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),vU(n,new sy(t),t.bypassAuthState)}async function HU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),gU(n,new sy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zU;case"linkViaPopup":case"linkViaRedirect":return HU;case"reauthViaPopup":case"reauthViaRedirect":return BU;default:Wr(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new wc(2e3,1e4);class Eo extends ax{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FU.get())};e()}}Eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU="pendingRedirect",Ph=new Map;class GU extends ax{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const r=await $U(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $U(t,e){const n=QU(e),r=YU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function KU(t,e){Ph.set(t._key(),e)}function YU(t){return Pi(t._redirectPersistence)}function QU(t){return kh(qU,t.config.apiKey,t.name)}async function WU(t,e,n=!1){if(Ir(t.app))return Promise.reject(Ui(t));const r=Ua(t),i=jU(r,e),a=await new GU(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=10*60*1e3;class ZU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ox(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ui(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XU&&this.cachedEventUids.clear(),this.cachedEventUids.has(lw(e))}saveEventToCache(e){this.cachedEventUids.add(lw(e)),this.lastProcessedEventTime=Date.now()}}function lw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ox({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ox(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(t,e={}){return Qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nj=/^https?/;async function rj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ej(t);for(const n of e)try{if(ij(n))return}catch{}Wr(t,"unauthorized-domain")}function ij(t){const e=og(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!nj.test(n))return!1;if(tj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=new wc(3e4,6e4);function uw(){const t=ci().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aj(t){return new Promise((e,n)=>{var r,i,s;function a(){uw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uw(),n(ui(t,"network-request-failed"))},timeout:sj.get()})}if(!((i=(r=ci().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ci().gapi)===null||s===void 0)&&s.load)a();else{const o=ZV("iframefcb");return ci()[o]=()=>{gapi.load?a():n(ui(t,"network-request-failed"))},G1(`${XV()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Nh=null,e})}let Nh=null;function oj(t){return Nh=Nh||aj(t),Nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=new wc(5e3,15e3),uj="__/auth/iframe",cj="emulator/auth/iframe",hj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dj(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xv(e,cj):`https://${t.config.authDomain}/${uj}`,r={apiKey:e.apiKey,appName:t.name,v:pl},i=fj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ec(r).slice(1)}`}async function mj(t){const e=await oj(t),n=ci().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:dj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ui(t,"network-request-failed"),o=ci().setTimeout(()=>{s(a)},lj.get());function l(){ci().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gj=500,vj=600,yj="_blank",_j="http://localhost";class cw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bj(t,e,n,r=gj,i=vj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},pj),{width:r.toString(),height:i.toString(),top:s,left:a}),c=jn().toLowerCase();n&&(o=U1(c)?yj:n),N1(c)&&(e=e||_j,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[g,E])=>`${d}${g}=${E},`,"");if(HV(c)&&o!=="_self")return Ej(e||"",o),new cw(null);const m=window.open(e||"",o,h);Se(m,t,"popup-blocked");try{m.focus()}catch{}return new cw(m)}function Ej(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="__/auth/handler",Sj="emulator/auth/handler",Tj=encodeURIComponent("fac");async function hw(t,e,n,r,i,s){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pl,eventId:i};if(e instanceof Y1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",o4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))a[h]=m}if(e instanceof Tc){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${Tj}=${encodeURIComponent(l)}`:"";return`${Cj(t)}?${Ec(o).slice(1)}${c}`}function Cj({config:t}){return t.emulator?Xv(t,Sj):`https://${t.authDomain}/${wj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class Aj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tx,this._completeRedirectFn=WU,this._overrideRedirectResult=KU}async _openPopup(e,n,r,i){var s;qi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await hw(e,n,r,og(),i);return bj(e,a,iy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await hw(e,n,r,og(),i);return LU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mj(e),r=new ZU(e);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Hm];a!==void 0&&n(!!a),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F1()||V1()||Jv()}}const xj=Aj;var fw="@firebase/auth",dw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mj(t){Qo(new xa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Se(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q1(t)},c=new YV(r,i,s,l);return iU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qo(new xa("auth-internal",e=>{const n=Ua(e.getProvider("auth").getImmediate());return(r=>new Rj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(fw,dw,Lj(t)),Os(fw,dw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=5*60,Oj=b1("authIdTokenMaxAge")||Ij;let mw=null;const Dj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Oj)return;const i=n==null?void 0:n.token;mw!==i&&(mw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kj(t=Yv()){const e=Kv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rU(t,{popupRedirectResolver:xj,persistence:[UU,AU,tx]}),r=b1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Dj(s.toString());SU(n,a,()=>a(n.currentUser)),wU(n,o=>a(o))}}const i=y1("auth");return i&&sU(n,`http://${i}`),n}function Pj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ui("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Pj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mj("Browser");var pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,lx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,b){function w(){}w.prototype=b.prototype,T.D=b.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(L,M,P){for(var O=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)O[Y-2]=arguments[Y];return b.prototype[M].apply(L,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,b,w){w||(w=0);var L=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)L[M]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(M=0;16>M;++M)L[M]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=T.g[0],w=T.g[1],M=T.g[2];var P=T.g[3],O=b+(P^w&(M^P))+L[0]+3614090360&4294967295;b=w+(O<<7&4294967295|O>>>25),O=P+(M^b&(w^M))+L[1]+3905402710&4294967295,P=b+(O<<12&4294967295|O>>>20),O=M+(w^P&(b^w))+L[2]+606105819&4294967295,M=P+(O<<17&4294967295|O>>>15),O=w+(b^M&(P^b))+L[3]+3250441966&4294967295,w=M+(O<<22&4294967295|O>>>10),O=b+(P^w&(M^P))+L[4]+4118548399&4294967295,b=w+(O<<7&4294967295|O>>>25),O=P+(M^b&(w^M))+L[5]+1200080426&4294967295,P=b+(O<<12&4294967295|O>>>20),O=M+(w^P&(b^w))+L[6]+2821735955&4294967295,M=P+(O<<17&4294967295|O>>>15),O=w+(b^M&(P^b))+L[7]+4249261313&4294967295,w=M+(O<<22&4294967295|O>>>10),O=b+(P^w&(M^P))+L[8]+1770035416&4294967295,b=w+(O<<7&4294967295|O>>>25),O=P+(M^b&(w^M))+L[9]+2336552879&4294967295,P=b+(O<<12&4294967295|O>>>20),O=M+(w^P&(b^w))+L[10]+4294925233&4294967295,M=P+(O<<17&4294967295|O>>>15),O=w+(b^M&(P^b))+L[11]+2304563134&4294967295,w=M+(O<<22&4294967295|O>>>10),O=b+(P^w&(M^P))+L[12]+1804603682&4294967295,b=w+(O<<7&4294967295|O>>>25),O=P+(M^b&(w^M))+L[13]+4254626195&4294967295,P=b+(O<<12&4294967295|O>>>20),O=M+(w^P&(b^w))+L[14]+2792965006&4294967295,M=P+(O<<17&4294967295|O>>>15),O=w+(b^M&(P^b))+L[15]+1236535329&4294967295,w=M+(O<<22&4294967295|O>>>10),O=b+(M^P&(w^M))+L[1]+4129170786&4294967295,b=w+(O<<5&4294967295|O>>>27),O=P+(w^M&(b^w))+L[6]+3225465664&4294967295,P=b+(O<<9&4294967295|O>>>23),O=M+(b^w&(P^b))+L[11]+643717713&4294967295,M=P+(O<<14&4294967295|O>>>18),O=w+(P^b&(M^P))+L[0]+3921069994&4294967295,w=M+(O<<20&4294967295|O>>>12),O=b+(M^P&(w^M))+L[5]+3593408605&4294967295,b=w+(O<<5&4294967295|O>>>27),O=P+(w^M&(b^w))+L[10]+38016083&4294967295,P=b+(O<<9&4294967295|O>>>23),O=M+(b^w&(P^b))+L[15]+3634488961&4294967295,M=P+(O<<14&4294967295|O>>>18),O=w+(P^b&(M^P))+L[4]+3889429448&4294967295,w=M+(O<<20&4294967295|O>>>12),O=b+(M^P&(w^M))+L[9]+568446438&4294967295,b=w+(O<<5&4294967295|O>>>27),O=P+(w^M&(b^w))+L[14]+3275163606&4294967295,P=b+(O<<9&4294967295|O>>>23),O=M+(b^w&(P^b))+L[3]+4107603335&4294967295,M=P+(O<<14&4294967295|O>>>18),O=w+(P^b&(M^P))+L[8]+1163531501&4294967295,w=M+(O<<20&4294967295|O>>>12),O=b+(M^P&(w^M))+L[13]+2850285829&4294967295,b=w+(O<<5&4294967295|O>>>27),O=P+(w^M&(b^w))+L[2]+4243563512&4294967295,P=b+(O<<9&4294967295|O>>>23),O=M+(b^w&(P^b))+L[7]+1735328473&4294967295,M=P+(O<<14&4294967295|O>>>18),O=w+(P^b&(M^P))+L[12]+2368359562&4294967295,w=M+(O<<20&4294967295|O>>>12),O=b+(w^M^P)+L[5]+4294588738&4294967295,b=w+(O<<4&4294967295|O>>>28),O=P+(b^w^M)+L[8]+2272392833&4294967295,P=b+(O<<11&4294967295|O>>>21),O=M+(P^b^w)+L[11]+1839030562&4294967295,M=P+(O<<16&4294967295|O>>>16),O=w+(M^P^b)+L[14]+4259657740&4294967295,w=M+(O<<23&4294967295|O>>>9),O=b+(w^M^P)+L[1]+2763975236&4294967295,b=w+(O<<4&4294967295|O>>>28),O=P+(b^w^M)+L[4]+1272893353&4294967295,P=b+(O<<11&4294967295|O>>>21),O=M+(P^b^w)+L[7]+4139469664&4294967295,M=P+(O<<16&4294967295|O>>>16),O=w+(M^P^b)+L[10]+3200236656&4294967295,w=M+(O<<23&4294967295|O>>>9),O=b+(w^M^P)+L[13]+681279174&4294967295,b=w+(O<<4&4294967295|O>>>28),O=P+(b^w^M)+L[0]+3936430074&4294967295,P=b+(O<<11&4294967295|O>>>21),O=M+(P^b^w)+L[3]+3572445317&4294967295,M=P+(O<<16&4294967295|O>>>16),O=w+(M^P^b)+L[6]+76029189&4294967295,w=M+(O<<23&4294967295|O>>>9),O=b+(w^M^P)+L[9]+3654602809&4294967295,b=w+(O<<4&4294967295|O>>>28),O=P+(b^w^M)+L[12]+3873151461&4294967295,P=b+(O<<11&4294967295|O>>>21),O=M+(P^b^w)+L[15]+530742520&4294967295,M=P+(O<<16&4294967295|O>>>16),O=w+(M^P^b)+L[2]+3299628645&4294967295,w=M+(O<<23&4294967295|O>>>9),O=b+(M^(w|~P))+L[0]+4096336452&4294967295,b=w+(O<<6&4294967295|O>>>26),O=P+(w^(b|~M))+L[7]+1126891415&4294967295,P=b+(O<<10&4294967295|O>>>22),O=M+(b^(P|~w))+L[14]+2878612391&4294967295,M=P+(O<<15&4294967295|O>>>17),O=w+(P^(M|~b))+L[5]+4237533241&4294967295,w=M+(O<<21&4294967295|O>>>11),O=b+(M^(w|~P))+L[12]+1700485571&4294967295,b=w+(O<<6&4294967295|O>>>26),O=P+(w^(b|~M))+L[3]+2399980690&4294967295,P=b+(O<<10&4294967295|O>>>22),O=M+(b^(P|~w))+L[10]+4293915773&4294967295,M=P+(O<<15&4294967295|O>>>17),O=w+(P^(M|~b))+L[1]+2240044497&4294967295,w=M+(O<<21&4294967295|O>>>11),O=b+(M^(w|~P))+L[8]+1873313359&4294967295,b=w+(O<<6&4294967295|O>>>26),O=P+(w^(b|~M))+L[15]+4264355552&4294967295,P=b+(O<<10&4294967295|O>>>22),O=M+(b^(P|~w))+L[6]+2734768916&4294967295,M=P+(O<<15&4294967295|O>>>17),O=w+(P^(M|~b))+L[13]+1309151649&4294967295,w=M+(O<<21&4294967295|O>>>11),O=b+(M^(w|~P))+L[4]+4149444226&4294967295,b=w+(O<<6&4294967295|O>>>26),O=P+(w^(b|~M))+L[11]+3174756917&4294967295,P=b+(O<<10&4294967295|O>>>22),O=M+(b^(P|~w))+L[2]+718787259&4294967295,M=P+(O<<15&4294967295|O>>>17),O=w+(P^(M|~b))+L[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,T.g[2]=T.g[2]+M&4294967295,T.g[3]=T.g[3]+P&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var w=b-this.blockSize,L=this.B,M=this.h,P=0;P<b;){if(M==0)for(;P<=w;)i(this,T,P),P+=this.blockSize;if(typeof T=="string"){for(;P<b;)if(L[M++]=T.charCodeAt(P++),M==this.blockSize){i(this,L),M=0;break}}else for(;P<b;)if(L[M++]=T[P++],M==this.blockSize){i(this,L),M=0;break}}this.h=M,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var w=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=w&255,w/=256;for(this.u(T),T=Array(16),b=w=0;4>b;++b)for(var L=0;32>L;L+=8)T[w++]=this.g[b]>>>L&255;return T};function s(T,b){var w=o;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=b(T)}function a(T,b){this.h=b;for(var w=[],L=!0,M=T.length-1;0<=M;M--){var P=T[M]|0;L&&P==b||(w[M]=P,L=!1)}this.g=w}var o={};function l(T){return-128<=T&&128>T?s(T,function(b){return new a([b|0],0>b?-1:0)}):new a([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return S(c(-T));for(var b=[],w=1,L=0;T>=w;L++)b[L]=T/w|0,w*=4294967296;return new a(b,0)}function h(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return S(h(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(b,8)),L=m,M=0;M<T.length;M+=8){var P=Math.min(8,T.length-M),O=parseInt(T.substring(M,M+P),b);8>P?(P=c(Math.pow(b,P)),L=L.j(P).add(c(O))):(L=L.j(w),L=L.add(c(O)))}return L}var m=l(0),d=l(1),g=l(16777216);t=a.prototype,t.m=function(){if(A(this))return-S(this).m();for(var T=0,b=1,w=0;w<this.g.length;w++){var L=this.i(w);T+=(0<=L?L:4294967296+L)*b,b*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(A(this))return"-"+S(this).toString(T);for(var b=c(Math.pow(T,6)),w=this,L="";;){var M=R(w,b).g;w=_(w,M.j(b));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=M,E(w))return P+L;for(;6>P.length;)P="0"+P;L=P+L}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function A(T){return T.h==-1}t.l=function(T){return T=_(this,T),A(T)?-1:E(T)?0:1};function S(T){for(var b=T.g.length,w=[],L=0;L<b;L++)w[L]=~T.g[L];return new a(w,~T.h).add(d)}t.abs=function(){return A(this)?S(this):this},t.add=function(T){for(var b=Math.max(this.g.length,T.g.length),w=[],L=0,M=0;M<=b;M++){var P=L+(this.i(M)&65535)+(T.i(M)&65535),O=(P>>>16)+(this.i(M)>>>16)+(T.i(M)>>>16);L=O>>>16,P&=65535,O&=65535,w[M]=O<<16|P}return new a(w,w[w.length-1]&-2147483648?-1:0)};function _(T,b){return T.add(S(b))}t.j=function(T){if(E(this)||E(T))return m;if(A(this))return A(T)?S(this).j(S(T)):S(S(this).j(T));if(A(T))return S(this.j(S(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var b=this.g.length+T.g.length,w=[],L=0;L<2*b;L++)w[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<T.g.length;M++){var P=this.i(L)>>>16,O=this.i(L)&65535,Y=T.i(M)>>>16,Z=T.i(M)&65535;w[2*L+2*M]+=O*Z,v(w,2*L+2*M),w[2*L+2*M+1]+=P*Z,v(w,2*L+2*M+1),w[2*L+2*M+1]+=O*Y,v(w,2*L+2*M+1),w[2*L+2*M+2]+=P*Y,v(w,2*L+2*M+2)}for(L=0;L<b;L++)w[L]=w[2*L+1]<<16|w[2*L];for(L=b;L<2*b;L++)w[L]=0;return new a(w,0)};function v(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function C(T,b){this.g=T,this.h=b}function R(T,b){if(E(b))throw Error("division by zero");if(E(T))return new C(m,m);if(A(T))return b=R(S(T),b),new C(S(b.g),S(b.h));if(A(b))return b=R(T,S(b)),new C(S(b.g),b.h);if(30<T.g.length){if(A(T)||A(b))throw Error("slowDivide_ only works with positive integers.");for(var w=d,L=b;0>=L.l(T);)w=k(w),L=k(L);var M=x(w,1),P=x(L,1);for(L=x(L,2),w=x(w,2);!E(L);){var O=P.add(L);0>=O.l(T)&&(M=M.add(w),P=O),L=x(L,1),w=x(w,1)}return b=_(T,M.j(b)),new C(M,b)}for(M=m;0<=T.l(b);){for(w=Math.max(1,Math.floor(T.m()/b.m())),L=Math.ceil(Math.log(w)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),P=c(w),O=P.j(b);A(O)||0<O.l(T);)w-=L,P=c(w),O=P.j(b);E(P)&&(P=d),M=M.add(P),T=_(T,O)}return new C(M,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var b=Math.max(this.g.length,T.g.length),w=[],L=0;L<b;L++)w[L]=this.i(L)&T.i(L);return new a(w,this.h&T.h)},t.or=function(T){for(var b=Math.max(this.g.length,T.g.length),w=[],L=0;L<b;L++)w[L]=this.i(L)|T.i(L);return new a(w,this.h|T.h)},t.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),w=[],L=0;L<b;L++)w[L]=this.i(L)^T.i(L);return new a(w,this.h^T.h)};function k(T){for(var b=T.g.length+1,w=[],L=0;L<b;L++)w[L]=T.i(L)<<1|T.i(L-1)>>>31;return new a(w,T.h)}function x(T,b){var w=b>>5;b%=32;for(var L=T.g.length-w,M=[],P=0;P<L;P++)M[P]=0<b?T.i(P+w)>>>b|T.i(P+w+1)<<32-b:T.i(P+w);return new a(M,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lx=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,Ds=a}).apply(typeof pw<"u"?pw:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ux,Zl,cx,Vh,hg,hx,fx,dx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var y=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var U=u[I];if(!(U in y))break e;y=y[U]}u=u[u.length-1],I=y[u],p=p(I),p!=I&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var y=0,I=!1,U={next:function(){if(!I&&y<u.length){var q=y++;return{value:p(q,u[q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,y){return u.call.apply(u.bind,arguments)}function m(u,p,y){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,I),u.apply(p,U)}}return function(){return u.apply(p,arguments)}}function d(u,p,y){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,d.apply(null,arguments)}function g(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function E(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(I,U,q){for(var re=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)re[gt-2]=arguments[gt];return p.prototype[U].apply(I,re)}}function A(u){const p=u.length;if(0<p){const y=Array(p);for(let I=0;I<p;I++)y[I]=u[I];return y}return[]}function S(u,p){for(let y=1;y<arguments.length;y++){const I=arguments[y];if(l(I)){const U=u.length||0,q=I.length||0;u.length=U+q;for(let re=0;re<q;re++)u[U+re]=I[re]}else u.push(I)}}class _{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(u){return/^[\s\xa0]*$/.test(u)}function C(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var k=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function x(u,p,y){for(const I in u)p.call(y,u[I],I,u)}function T(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function b(u){const p={};for(const y in u)p[y]=u[y];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(u,p){let y,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(y in I)u[y]=I[y];for(let q=0;q<w.length;q++)y=w[q],Object.prototype.hasOwnProperty.call(I,y)&&(u[y]=I[y])}}function M(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function P(u){o.setTimeout(()=>{throw u},0)}function O(){var u=ne;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Y{constructor(){this.h=this.g=null}add(p,y){const I=Z.get();I.set(p,y),this.h?this.h.next=I:this.g=I,this.h=I}}var Z=new _(()=>new z,u=>u.reset());class z{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let $,H=!1,ne=new Y,ee=()=>{const u=o.Promise.resolve(void 0);$=()=>{u.then(ge)}};var ge=()=>{for(var u;u=O();){try{u.h.call(u.g)}catch(y){P(y)}var p=Z;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}H=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};o.addEventListener("test",y,p),o.removeEventListener("test",y,p)}catch{}return u}();function B(u,p){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(k){e:{try{R(p.nodeName);var U=!0;break e}catch{}U=!1}U||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&B.aa.h.call(this)}}E(B,W);var le={2:"touch",3:"pen",4:"mouse"};B.prototype.h=function(){B.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),me=0;function Oe(u,p,y,I,U){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!I,this.ha=U,this.key=++me,this.da=this.fa=!1}function J(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u){this.src=u,this.g={},this.h=0}he.prototype.add=function(u,p,y,I,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var re=Dt(u,p,I,U);return-1<re?(p=u[re],y||(p.fa=!1)):(p=new Oe(p,this.src,q,!!I,U),p.fa=y,u.push(p)),p};function Ye(u,p){var y=p.type;if(y in u.g){var I=u.g[y],U=Array.prototype.indexOf.call(I,p,void 0),q;(q=0<=U)&&Array.prototype.splice.call(I,U,1),q&&(J(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Dt(u,p,y,I){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==p&&q.capture==!!y&&q.ha==I)return U}return-1}var mt="closure_lm_"+(1e6*Math.random()|0),Me={};function gn(u,p,y,I,U){if(Array.isArray(p)){for(var q=0;q<p.length;q++)gn(u,p[q],y,I,U);return null}return y=vn(y),u&&u[ie]?u.K(p,y,c(I)?!!I.capture:!1,U):ln(u,p,y,!1,I,U)}function ln(u,p,y,I,U,q){if(!p)throw Error("Invalid event type");var re=c(U)?!!U.capture:!!U,gt=bt(u);if(gt||(u[mt]=gt=new he(u)),y=gt.add(p,y,I,re,q),y.proxy)return y;if(I=Rn(),y.proxy=I,I.src=u,I.listener=y,u.addEventListener)se||(U=re),U===void 0&&(U=!1),u.addEventListener(p.toString(),I,U);else if(u.attachEvent)u.attachEvent(Ln(p.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Rn(){function u(y){return p.call(u.src,u.listener,y)}const p=Wt;return u}function kt(u,p,y,I,U){if(Array.isArray(p))for(var q=0;q<p.length;q++)kt(u,p[q],y,I,U);else I=c(I)?!!I.capture:!!I,y=vn(y),u&&u[ie]?(u=u.i,p=String(p).toString(),p in u.g&&(q=u.g[p],y=Dt(q,y,I,U),-1<y&&(J(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[p],u.h--)))):u&&(u=bt(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Dt(p,y,I,U)),(y=-1<u?p[u]:null)&&zn(y))}function zn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ie])Ye(p.i,u);else{var y=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(y,I,u.capture):p.detachEvent?p.detachEvent(Ln(y),I):p.addListener&&p.removeListener&&p.removeListener(I),(y=bt(p))?(Ye(y,u),y.h==0&&(y.src=null,p[mt]=null)):J(u)}}}function Ln(u){return u in Me?Me[u]:Me[u]="on"+u}function Wt(u,p){if(u.da)u=!0;else{p=new B(p,this);var y=u.listener,I=u.ha||u.src;u.fa&&zn(u),u=y.call(I,p)}return u}function bt(u){return u=u[mt],u instanceof he?u:null}var jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(u){return typeof u=="function"?u:(u[jt]||(u[jt]=function(p){return u.handleEvent(p)}),u[jt])}function Qe(){ve.call(this),this.i=new he(this),this.M=this,this.F=null}E(Qe,ve),Qe.prototype[ie]=!0,Qe.prototype.removeEventListener=function(u,p,y,I){kt(this,u,p,y,I)};function Pe(u,p){var y,I=u.F;if(I)for(y=[];I;I=I.F)y.push(I);if(u=u.M,I=p.type||p,typeof p=="string")p=new W(p,u);else if(p instanceof W)p.target=p.target||u;else{var U=p;p=new W(I,u),L(p,U)}if(U=!0,y)for(var q=y.length-1;0<=q;q--){var re=p.g=y[q];U=Xt(re,I,!0,p)&&U}if(re=p.g=u,U=Xt(re,I,!0,p)&&U,U=Xt(re,I,!1,p)&&U,y)for(q=0;q<y.length;q++)re=p.g=y[q],U=Xt(re,I,!1,p)&&U}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],I=0;I<y.length;I++)J(y[I]);delete u.g[p],u.h--}}this.F=null},Qe.prototype.K=function(u,p,y,I){return this.i.add(String(u),p,!1,y,I)},Qe.prototype.L=function(u,p,y,I){return this.i.add(String(u),p,!0,y,I)};function Xt(u,p,y,I){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,q=0;q<p.length;++q){var re=p[q];if(re&&!re.da&&re.capture==y){var gt=re.listener,bn=re.ha||re.src;re.fa&&Ye(u.i,re),U=gt.call(bn,I)!==!1&&U}}return U&&!I.defaultPrevented}function Ct(u,p,y){if(typeof u=="function")y&&(u=d(u,y));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:o.setTimeout(u,p||0)}function Kn(u){u.g=Ct(()=>{u.g=null,u.i&&(u.i=!1,Kn(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Mt extends ve{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(u){ve.call(this),this.h=u,this.g={}}E(ir,ve);var Bn=[];function ei(u){x(u.g,function(p,y){this.g.hasOwnProperty(y)&&zn(p)},u),u.g={}}ir.prototype.N=function(){ir.aa.N.call(this),ei(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=o.JSON.stringify,br=o.JSON.parse,Yn=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function zr(){}zr.prototype.h=null;function Qn(u){return u.h||(u.h=u.i())}function Mn(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function At(){W.call(this,"d")}E(At,W);function un(){W.call(this,"c")}E(un,W);var Ft={},Hn=null;function Br(){return Hn=Hn||new Qe}Ft.La="serverreachability";function Hr(u){W.call(this,Ft.La,u)}E(Hr,W);function N(u){const p=Br();Pe(p,new Hr(p))}Ft.STAT_EVENT="statevent";function V(u,p){W.call(this,Ft.STAT_EVENT,u),this.stat=p}E(V,W);function j(u){const p=Br();Pe(p,new V(p,u))}Ft.Ma="timingevent";function F(u,p){W.call(this,Ft.Ma,u),this.size=p}E(F,W);function te(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},p)}function fe(){this.g=!0}fe.prototype.xa=function(){this.g=!1};function we(u,p,y,I,U,q){u.info(function(){if(u.g)if(q)for(var re="",gt=q.split("&"),bn=0;bn<gt.length;bn++){var nt=gt[bn].split("=");if(1<nt.length){var In=nt[0];nt=nt[1];var On=In.split("_");re=2<=On.length&&On[1]=="type"?re+(In+"="+nt+"&"):re+(In+"=redacted&")}}else re=null;else re=q;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+p+`
`+y+`
`+re})}function oe(u,p,y,I,U,q,re){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+p+`
`+y+`
`+q+" "+re})}function de(u,p,y,I){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ce(u,y)+(I?" "+I:"")})}function be(u,p){u.info(function(){return"TIMEOUT: "+p})}fe.prototype.info=function(){};function Ce(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var I=y[u];if(!(2>I.length)){var U=I[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return sr(y)}catch{return p}}var pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tt;function pt(){}E(pt,zr),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},tt=new pt;function ht(u,p,y,I){this.j=u,this.i=p,this.l=y,this.R=I||1,this.U=new ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pt}function Pt(){this.i=null,this.g="",this.h=!1}var ze={},Er={};function Wn(u,p,y){u.L=1,u.v=Dc(Ei(p)),u.m=y,u.P=!0,Fr(u,null)}function Fr(u,p){u.F=Date.now(),ye(u),u.A=Ei(u.v);var y=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Gy(y.i,"t",I),u.C=0,y=u.j.J,u.h=new Pt,u.g=u_(u.j,y?p:null,!u.m),0<u.O&&(u.M=new Mt(d(u.Y,u,u.g),u.O)),p=u.U,y=u.g,I=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Bn[0]=U.toString()),U=Bn);for(var q=0;q<U.length;q++){var re=gn(y,U[q],I||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),N(),we(u.i,u.u,u.A,u.l,u.R,u.m)}ht.prototype.ca=function(u){u=u.target;const p=this.M;p&&wi(u)==3?p.j():this.Y(u)},ht.prototype.Y=function(u){try{if(u==this.g)e:{const On=wi(this.g);var p=this.g.Ba();const Ga=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||Zy(this.g)))){this.J||On!=4||p==7||(p==8||0>=Ga?N(3):N(2)),We(this);var y=this.g.Z();this.X=y;t:if(yn(this)){var I=Zy(this.g);u="";var U=I.length,q=wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Re(this),lt(this);var re="";break t}this.h.i=new o.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,u+=this.h.i.decode(I[p],{stream:!(q&&p==U-1)});I.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,oe(this.i,this.u,this.A,this.l,this.R,On,y),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,bn=this.g;if((gt=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(gt)){var nt=gt;break t}}nt=null}if(y=nt)de(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yt(this,y);else{this.o=!1,this.s=3,j(12),Re(this),lt(this);break e}}if(this.P){y=!0;let Gr;for(;!this.J&&this.C<re.length;)if(Gr=Be(this,re),Gr==Er){On==4&&(this.s=4,j(14),y=!1),de(this.i,this.l,null,"[Incomplete Response]");break}else if(Gr==ze){this.s=4,j(15),de(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else de(this.i,this.l,Gr,null),yt(this,Gr);if(yn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||re.length!=0||this.h.h||(this.s=1,j(16),y=!1),this.o=this.o&&y,!y)de(this.i,this.l,re,"[Invalid Chunked Response]"),Re(this),lt(this);else if(0<re.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),zd(In),In.M=!0,j(11))}}else de(this.i,this.l,re,null),yt(this,re);On==4&&Re(this),this.o&&!this.J&&(On==4?s_(this.j,this):(this.o=!1,ye(this)))}else iL(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,j(12)):(this.s=0,j(13)),Re(this),lt(this)}}}catch{}finally{}};function yn(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Be(u,p){var y=u.C,I=p.indexOf(`
`,y);return I==-1?Er:(y=Number(p.substring(y,I)),isNaN(y)?ze:(I+=1,I+y>p.length?Er:(p=p.slice(I,I+y),u.C=I+y,p)))}ht.prototype.cancel=function(){this.J=!0,Re(this)};function ye(u){u.S=Date.now()+u.I,Xe(u,u.I)}function Xe(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=te(d(u.ba,u),p)}function We(u){u.B&&(o.clearTimeout(u.B),u.B=null)}ht.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(be(this.i,this.A),this.L!=2&&(N(),j(17)),Re(this),this.s=2,lt(this)):Xe(this,this.S-u)};function lt(u){u.j.G==0||u.J||s_(u.j,u)}function Re(u){We(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ei(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function yt(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||Zt(y.h,u))){if(!u.K&&Zt(y.h,u)&&y.G==3){try{var I=y.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)jc(y),Vc(y);else break e;jd(y),j(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=te(d(y.Za,y),6e3));if(1>=at(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ea(y,11)}else if((u.K||y.g==u)&&jc(y),!v(p))for(U=y.Da.g.parse(p),p=0;p<U.length;p++){let nt=U[p];if(y.T=nt[0],nt=nt[1],y.G==2)if(nt[0]=="c"){y.K=nt[1],y.ia=nt[2];const In=nt[3];In!=null&&(y.la=In,y.j.info("VER="+y.la));const On=nt[4];On!=null&&(y.Aa=On,y.j.info("SVER="+y.Aa));const Ga=nt[5];Ga!=null&&typeof Ga=="number"&&0<Ga&&(I=1.5*Ga,y.L=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const Gr=u.g;if(Gr){const Bc=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var q=I.h;q.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(qr(q,q.h),q.h=null))}if(I.D){const Bd=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Bd&&(I.ya=Bd,Et(I.I,I.D,Bd))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),I=y;var re=u;if(I.qa=l_(I,I.J?I.ia:null,I.W),re.K){Zs(I.h,re);var gt=re,bn=I.L;bn&&(gt.I=bn),gt.B&&(We(gt),ye(gt)),I.g=re}else r_(I);0<y.i.length&&Uc(y)}else nt[0]!="stop"&&nt[0]!="close"||ea(y,7);else y.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ea(y,7):Ud(y):nt[0]!="noop"&&y.l&&y.l.ta(nt),y.v=0)}}N(4)}catch{}}var qt=class{constructor(u,p){this.g=u,this.map=p}};function _n(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function at(u){return u.h?1:u.g?u.g.size:0}function Zt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function qr(u,p){u.g?u.g.add(p):u.h=p}function Zs(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}_n.prototype.cancel=function(){if(this.i=Uy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Uy(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return A(u.i)}function FR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],y=u.length,I=0;I<y;I++)p.push(u[I]);return p}p=[],y=0;for(I in u)p[y++]=u[I];return p}function qR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const I in u)p[y++]=I;return p}}}function jy(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=qR(u),I=FR(u),U=I.length,q=0;q<U;q++)p.call(void 0,I[q],y&&y[q],u)}var zy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GR(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var I=u[y].indexOf("="),U=null;if(0<=I){var q=u[y].substring(0,I);U=u[y].substring(I+1)}else q=u[y];p(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Js(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Js){this.h=u.h,Ic(this,u.j),this.o=u.o,this.g=u.g,Oc(this,u.s),this.l=u.l;var p=u.i,y=new Tl;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),By(this,y),this.m=u.m}else u&&(p=String(u).match(zy))?(this.h=!1,Ic(this,p[1]||"",!0),this.o=wl(p[2]||""),this.g=wl(p[3]||"",!0),Oc(this,p[4]),this.l=wl(p[5]||"",!0),By(this,p[6]||"",!0),this.m=wl(p[7]||"")):(this.h=!1,this.i=new Tl(null,this.h))}Js.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Sl(p,Hy,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Sl(p,Hy,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Sl(y,y.charAt(0)=="/"?YR:KR,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Sl(y,WR)),u.join("")};function Ei(u){return new Js(u)}function Ic(u,p,y){u.j=y?wl(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Oc(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function By(u,p,y){p instanceof Tl?(u.i=p,XR(u.i,u.h)):(y||(p=Sl(p,QR)),u.i=new Tl(p,u.h))}function Et(u,p,y){u.i.set(p,y)}function Dc(u){return Et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function wl(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Sl(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,$R),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $R(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hy=/[#\/\?@]/g,KR=/[#\?:]/g,YR=/[#\?]/g,QR=/[#\?@]/g,WR=/#/g;function Tl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Wi(u){u.g||(u.g=new Map,u.h=0,u.i&&GR(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Tl.prototype,t.add=function(u,p){Wi(this),this.i=null,u=Fa(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function Fy(u,p){Wi(u),p=Fa(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function qy(u,p){return Wi(u),p=Fa(u,p),u.g.has(p)}t.forEach=function(u,p){Wi(this),this.g.forEach(function(y,I){y.forEach(function(U){u.call(p,U,I,this)},this)},this)},t.na=function(){Wi(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let I=0;I<p.length;I++){const U=u[I];for(let q=0;q<U.length;q++)y.push(p[I])}return y},t.V=function(u){Wi(this);let p=[];if(typeof u=="string")qy(this,u)&&(p=p.concat(this.g.get(Fa(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},t.set=function(u,p){return Wi(this),this.i=null,u=Fa(this,u),qy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Gy(u,p,y){Fy(u,p),0<y.length&&(u.i=null,u.g.set(Fa(u,p),A(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var I=p[y];const q=encodeURIComponent(String(I)),re=this.V(I);for(I=0;I<re.length;I++){var U=q;re[I]!==""&&(U+="="+encodeURIComponent(String(re[I]))),u.push(U)}}return this.i=u.join("&")};function Fa(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function XR(u,p){p&&!u.j&&(Wi(u),u.i=null,u.g.forEach(function(y,I){var U=I.toLowerCase();I!=U&&(Fy(this,I),Gy(this,U,y))},u)),u.j=p}function ZR(u,p){const y=new fe;if(o.Image){const I=new Image;I.onload=g(Xi,y,"TestLoadImage: loaded",!0,p,I),I.onerror=g(Xi,y,"TestLoadImage: error",!1,p,I),I.onabort=g(Xi,y,"TestLoadImage: abort",!1,p,I),I.ontimeout=g(Xi,y,"TestLoadImage: timeout",!1,p,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else p(!1)}function JR(u,p){const y=new fe,I=new AbortController,U=setTimeout(()=>{I.abort(),Xi(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:I.signal}).then(q=>{clearTimeout(U),q.ok?Xi(y,"TestPingServer: ok",!0,p):Xi(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Xi(y,"TestPingServer: error",!1,p)})}function Xi(u,p,y,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(y)}catch{}}function eL(){this.g=new Yn}function tL(u,p,y){const I=y||"";try{jy(u,function(U,q){let re=U;c(U)&&(re=sr(U)),p.push(I+q+"="+encodeURIComponent(re))})}catch(U){throw p.push(I+"type="+encodeURIComponent("_badmap")),U}}function kc(u){this.l=u.Ub||null,this.j=u.eb||!1}E(kc,zr),kc.prototype.g=function(){return new Pc(this.l,this.j)},kc.prototype.i=function(u){return function(){return u}}({});function Pc(u,p){Qe.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Pc,Qe),t=Pc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Al(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||o).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Al(this)),this.g&&(this.readyState=3,Al(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$y(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $y(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Cl(this):Al(this),this.readyState==3&&$y(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Cl(this))},t.Qa=function(u){this.g&&(this.response=u,Cl(this))},t.ga=function(){this.g&&Cl(this)};function Cl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Al(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Al(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ky(u){let p="";return x(u,function(y,I){p+=I,p+=":",p+=y,p+=`\r
`}),p}function Vd(u,p,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=Ky(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Et(u,p,y))}function Nt(u){Qe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Nt,Qe);var nL=/^https?$/i,rL=["POST","PUT"];t=Nt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tt.g(),this.v=this.o?Qn(this.o):Qn(tt),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(q){Yy(this,q);return}if(u=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)y.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const q of I.keys())y.set(q,I.get(q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(rL,p,void 0))||I||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of y)this.g.setRequestHeader(q,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xy(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Yy(this,q)}};function Yy(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Qy(u),Nc(u)}function Qy(u){u.A||(u.A=!0,Pe(u,"complete"),Pe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Pe(this,"complete"),Pe(this,"abort"),Nc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nc(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wy(this):this.bb())},t.bb=function(){Wy(this)};function Wy(u){if(u.h&&typeof a<"u"&&(!u.v[1]||wi(u)!=4||u.Z()!=2)){if(u.u&&wi(u)==4)Ct(u.Ea,0,u);else if(Pe(u,"readystatechange"),wi(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var I;if(I=re===0){var U=String(u.D).match(zy)[1]||null;!U&&o.self&&o.self.location&&(U=o.self.location.protocol.slice(0,-1)),I=!nL.test(U?U.toLowerCase():"")}y=I}if(y)Pe(u,"complete"),Pe(u,"success");else{u.m=6;try{var q=2<wi(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Qy(u)}}finally{Nc(u)}}}}function Nc(u,p){if(u.g){Xy(u);const y=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Pe(u,"ready");try{y.onreadystatechange=I}catch{}}}function Xy(u){u.I&&(o.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function wi(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),br(p)}};function Zy(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function iL(u){const p={};u=(u.g&&2<=wi(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(v(u[I]))continue;var y=M(u[I]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=p[U]||[];p[U]=q,q.push(y)}T(p,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xl(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function Jy(u){this.Aa=0,this.i=[],this.j=new fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xl("baseRetryDelayMs",5e3,u),this.cb=xl("retryDelaySeedMs",1e4,u),this.Wa=xl("forwardChannelMaxRetries",2,u),this.wa=xl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _n(u&&u.concurrentRequestLimit),this.Da=new eL,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jy.prototype,t.la=8,t.G=1,t.connect=function(u,p,y,I){j(0),this.W=u,this.H=p||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.I=l_(this,null,this.W),Uc(this)};function Ud(u){if(e_(u),u.G==3){var p=u.U++,y=Ei(u.I);if(Et(y,"SID",u.K),Et(y,"RID",p),Et(y,"TYPE","terminate"),Rl(u,y),p=new ht(u,u.j,p),p.L=2,p.v=Dc(Ei(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&o.Image&&(new Image().src=p.v,y=!0),y||(p.g=u_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ye(p)}o_(u)}function Vc(u){u.g&&(zd(u),u.g.cancel(),u.g=null)}function e_(u){Vc(u),u.u&&(o.clearTimeout(u.u),u.u=null),jc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function Uc(u){if(!Xn(u.h)&&!u.s){u.s=!0;var p=u.Ga;$||ee(),H||($(),H=!0),ne.add(p,u),u.B=0}}function sL(u,p){return at(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=te(d(u.Ga,u,p),a_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new ht(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),L(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=n_(this,U,p),y=Ei(this.I),Et(y,"RID",u),Et(y,"CVER",22),this.D&&Et(y,"X-HTTP-Session-Id",this.D),Rl(this,y),q&&(this.O?p="headers="+encodeURIComponent(String(Ky(q)))+"&"+p:this.m&&Vd(y,this.m,q)),qr(this.h,U),this.Ua&&Et(y,"TYPE","init"),this.P?(Et(y,"$req",p),Et(y,"SID","null"),U.T=!0,Wn(U,y,null)):Wn(U,y,p),this.G=2}}else this.G==3&&(u?t_(this,u):this.i.length==0||Xn(this.h)||t_(this))};function t_(u,p){var y;p?y=p.l:y=u.U++;const I=Ei(u.I);Et(I,"SID",u.K),Et(I,"RID",y),Et(I,"AID",u.T),Rl(u,I),u.m&&u.o&&Vd(I,u.m,u.o),y=new ht(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=n_(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qr(u.h,y),Wn(y,I,p)}function Rl(u,p){u.H&&x(u.H,function(y,I){Et(p,I,y)}),u.l&&jy({},function(y,I){Et(p,I,y)})}function n_(u,p,y){y=Math.min(u.i.length,y);var I=u.l?d(u.l.Na,u.l,u):null;e:{var U=u.i;let q=-1;for(;;){const re=["count="+y];q==-1?0<y?(q=U[0].g,re.push("ofs="+q)):q=0:re.push("ofs="+q);let gt=!0;for(let bn=0;bn<y;bn++){let nt=U[bn].g;const In=U[bn].map;if(nt-=q,0>nt)q=Math.max(0,U[bn].g-100),gt=!1;else try{tL(In,re,"req"+nt+"_")}catch{I&&I(In)}}if(gt){I=re.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,I}function r_(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;$||ee(),H||($(),H=!0),ne.add(p,u),u.v=0}}function jd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=te(d(u.Fa,u),a_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,i_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=te(d(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,j(10),Vc(this),i_(this))};function zd(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function i_(u){u.g=new ht(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Ei(u.qa);Et(p,"RID","rpc"),Et(p,"SID",u.K),Et(p,"AID",u.T),Et(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Et(p,"TO",u.ja),Et(p,"TYPE","xmlhttp"),Rl(u,p),u.m&&u.o&&Vd(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Dc(Ei(p)),y.m=null,y.P=!0,Fr(y,u)}t.Za=function(){this.C!=null&&(this.C=null,Vc(this),jd(this),j(19))};function jc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function s_(u,p){var y=null;if(u.g==p){jc(u),zd(u),u.g=null;var I=2}else if(Zt(u.h,p))y=p.D,Zs(u.h,p),I=1;else return;if(u.G!=0){if(p.o)if(I==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var U=u.B;I=Br(),Pe(I,new F(I,y)),Uc(u)}else r_(u);else if(U=p.s,U==3||U==0&&0<p.X||!(I==1&&sL(u,p)||I==2&&jd(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),U){case 1:ea(u,5);break;case 4:ea(u,10);break;case 3:ea(u,6);break;default:ea(u,2)}}}function a_(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function ea(u,p){if(u.j.info("Error code "+p),p==2){var y=d(u.fb,u),I=u.Xa;const U=!I;I=new Js(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ic(I,"https"),Dc(I),U?ZR(I.toString(),y):JR(I.toString(),y)}else j(2);u.G=0,u.l&&u.l.sa(p),o_(u),e_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),j(2)):(this.j.info("Failed to ping google.com"),j(1))};function o_(u){if(u.G=0,u.ka=[],u.l){const p=Uy(u.h);(p.length!=0||u.i.length!=0)&&(S(u.ka,p),S(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function l_(u,p,y){var I=y instanceof Js?Ei(y):new Js(y);if(I.g!="")p&&(I.g=p+"."+I.g),Oc(I,I.s);else{var U=o.location;I=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var q=new Js(null);I&&Ic(q,I),p&&(q.g=p),U&&Oc(q,U),y&&(q.l=y),I=q}return y=u.D,p=u.ya,y&&p&&Et(I,y,p),Et(I,"VER",u.la),Rl(u,I),I}function u_(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Nt(new kc({eb:y})):new Nt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function c_(){}t=c_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zc(){}zc.prototype.g=function(u,p){return new or(u,p)};function or(u,p){Qe.call(this),this.g=new Jy(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!v(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new qa(this)}E(or,Qe),or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){Ud(this.g)},or.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=sr(u),u=y);p.i.push(new qt(p.Ya++,u)),p.G==3&&Uc(p)},or.prototype.N=function(){this.g.l=null,delete this.j,Ud(this.g),delete this.g,or.aa.N.call(this)};function h_(u){At.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}E(h_,At);function f_(){un.call(this),this.status=1}E(f_,un);function qa(u){this.g=u}E(qa,c_),qa.prototype.ua=function(){Pe(this.g,"a")},qa.prototype.ta=function(u){Pe(this.g,new h_(u))},qa.prototype.sa=function(u){Pe(this.g,new f_)},qa.prototype.ra=function(){Pe(this.g,"b")},zc.prototype.createWebChannel=zc.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,dx=function(){return new zc},fx=function(){return Br()},hx=Ft,hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pe.NO_ERROR=0,pe.TIMEOUT=8,pe.HTTP_ERROR=6,Vh=pe,xe.COMPLETE="complete",cx=xe,Mn.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Zl=Mn,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,ux=Nt}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const gw="@firebase/firestore",vw="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Gv("@firebase/firestore");function io(){return Ma.logLevel}function ae(t,...e){if(Ma.logLevel<=$e.DEBUG){const n=e.map(ay);Ma.debug(`Firestore (${vl}): ${t}`,...n)}}function Gi(t,...e){if(Ma.logLevel<=$e.ERROR){const n=e.map(ay);Ma.error(`Firestore (${vl}): ${t}`,...n)}}function Bs(t,...e){if(Ma.logLevel<=$e.WARN){const n=e.map(ay);Ma.warn(`Firestore (${vl}): ${t}`,...n)}}function ay(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,mx(t,r,n)}function mx(t,e,n){let r=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Gi(r),new Error(r)}function ot(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||mx(e,i,r)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kn.UNAUTHENTICATED))}shutdown(){}}class Vj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Uj{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ks,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ks)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string",31837,{l:r}),new px(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class jj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const r=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Hj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function fg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ve(r,i);{const s=gx(),a=Fj(s.encode(_w(t,n)),s.encode(_w(e,n)));return a!==0?a:Ve(r,i)}}n+=r>65535?2:1}return Ve(t.length,e.length)}function _w(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Fj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ve(t[n],e[n]);return Ve(t.length,e.length)}function Xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="__name__";class ni{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ni.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ve(e.length,n.length)}static compareSegments(e,n){const r=ni.isNumericId(e),i=ni.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ni.extractNumericId(e).compare(ni.extractNumericId(n)):fg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ds.fromString(e.substring(4,e.length-2))}}class wt extends ni{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const qj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends ni{construct(e,n,r){return new Cn(e,n,r)}static isValidIdentifier(e){return qj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bw}static keyField(){return new Cn([bw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new _e(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new _e(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new _e(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new _e(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(wt.fromString(e))}static fromName(e){return new Ee(wt.fromString(e).popFirst(5))}static empty(){return new Ee(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e,n){if(!n)throw new _e(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gj(t,e,n,r){if(e===!0&&r===!0)throw new _e(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ew(t){if(!Ee.isDocumentKey(t))throw new _e(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ww(t){if(Ee.isDocumentKey(t))throw new _e(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ly(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Zo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ly(t);throw new _e(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ac(t,e){if(!yx(t))throw new _e(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new _e(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=-62135596800,Tw=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Tw);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sw)throw new _e(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tw}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ac(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Kt("string",St._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new St(0,0))}static max(){return new Le(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;function $j(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new Hs(i,Ee.empty(),e)}function Kj(t){return new Hs(t.readTime,t.key,$u)}class Hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hs(Le.min(),Ee.empty(),$u)}static max(){return new Hs(Le.max(),Ee.empty(),$u)}}function Yj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==Qj)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{a[c]=h,++o,o===s&&r(a)},h=>i(h))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Xj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Sd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=-1;function Td(t){return t==null}function zf(t){return t===0&&1/t==-1/0}function Zj(t){return typeof t=="number"&&Number.isInteger(t)&&!zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="";function Jj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Cw(e)),e=e3(t.get(n),e);return Cw(e)}function e3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case _x:n+="";break;default:n+=s}}return n}function Cw(t){return t+_x+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ja(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=s??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xw(this.data.getIterator())}getIteratorFrom(e){return new xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new Yr([])}unionWith(e){let n=new sn(Cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ex("Invalid base64 string: "+s):s}}(e);return new xn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const t3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(ot(!!t,39018),typeof t=="string"){let e=0;const n=t3.exec(t);if(ot(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="server_timestamp",Sx="__type__",Tx="__previous_value__",Cx="__local_write_time__";function cy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sx])===null||n===void 0?void 0:n.stringValue)===wx}function Cd(t){const e=t.mapValue.fields[Tx];return cy(e)?Cd(e):e}function Ku(t){const e=Fs(t.mapValue.fields[Cx].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n,r,i,s,a,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const Bf="(default)";class Yu{constructor(e,n){this.projectId=e,this.database=n||Bf}static empty(){return new Yu("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(e){return e instanceof Yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="__type__",r3="__max__",dh={mapValue:{}},xx="__vector__",Hf="value";function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cy(t)?4:s3(t)?9007199254740991:i3(t)?10:11:Te(28295,{value:t})}function gi(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ku(t).isEqual(Ku(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Fs(i.timestampValue),o=Fs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qs(i.bytesValue).isEqual(qs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ht(i.geoPointValue.latitude)===Ht(s.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ht(i.integerValue)===Ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Ht(i.doubleValue),o=Ht(s.doubleValue);return a===o?zf(a)===zf(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Aw(a)!==Aw(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!gi(a[l],o[l])))return!1;return!0}(t,e);default:return Te(52216,{left:t})}}function Qu(t,e){return(t.values||[]).find(n=>gi(n,e))!==void 0}function Jo(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Ht(s.integerValue||s.doubleValue),l=Ht(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return Rw(t.timestampValue,e.timestampValue);case 4:return Rw(Ku(t),Ku(e));case 5:return fg(t.stringValue,e.stringValue);case 6:return function(s,a){const o=qs(s),l=qs(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=Ve(o[c],l[c]);if(h!==0)return h}return Ve(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ve(Ht(s.latitude),Ht(a.latitude));return o!==0?o:Ve(Ht(s.longitude),Ht(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Lw(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,h;const m=s.fields||{},d=a.fields||{},g=(o=m[Hf])===null||o===void 0?void 0:o.arrayValue,E=(l=d[Hf])===null||l===void 0?void 0:l.arrayValue,A=Ve(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:Lw(g,E)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===dh.mapValue&&a===dh.mapValue)return 0;if(s===dh.mapValue)return 1;if(a===dh.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let m=0;m<l.length&&m<h.length;++m){const d=fg(l[m],h[m]);if(d!==0)return d;const g=Jo(o[l[m]],c[h[m]]);if(g!==0)return g}return Ve(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Te(23264,{le:n})}}function Rw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Fs(t),r=Fs(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function Lw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Jo(n[i],r[i]);if(s)return s}return Ve(n.length,r.length)}function el(t){return dg(t)}function dg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=dg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${dg(n.fields[a])}`;return i+"}"}(t.mapValue):Te(61005,{value:t})}function Uh(t){switch(Gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cd(t);return e?16+Uh(e):16;case 5:return 2*t.stringValue.length;case 6:return qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Uh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ja(r.fields,(s,a)=>{i+=s.length+Uh(a)}),i}(t.mapValue);default:throw Te(13486,{value:t})}}function mg(t){return!!t&&"integerValue"in t}function hy(t){return!!t&&"arrayValue"in t}function Mw(t){return!!t&&"nullValue"in t}function Iw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jh(t){return!!t&&"mapValue"in t}function i3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ax])===null||n===void 0?void 0:n.stringValue)===xx}function bu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ja(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function s3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===r3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.value=e}static empty(){return new Or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(n)}setAll(e){let n=Cn.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=bu(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ja(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Or(bu(this.value))}}function Rx(t){const e=[];return ja(t.fields,(n,r)=>{const i=new Cn([n]);if(jh(r)){const s=Rx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Pn(e,0,Le.min(),Le.min(),Le.min(),Or.empty(),0)}static newFoundDocument(e,n,r,i){return new Pn(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new Pn(e,2,n,Le.min(),Le.min(),Or.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,Le.min(),Le.min(),Or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.position=e,this.inclusive=n}}function Ow(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Ee.comparator(Ee.fromName(a.referenceValue),n.key):r=Jo(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Dw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n="asc"){this.field=e,this.dir=n}}function a3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{}class nn extends Lx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l3(e,n,r):n==="array-contains"?new h3(e,r):n==="in"?new f3(e,r):n==="not-in"?new d3(e,r):n==="array-contains-any"?new m3(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new u3(e,r):new c3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jo(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends Lx{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new vi(e,n)}matches(e){return Mx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Mx(t){return t.op==="and"}function Ix(t){return o3(t)&&Mx(t)}function o3(t){for(const e of t.filters)if(e instanceof vi)return!1;return!0}function pg(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+el(t.value);if(Ix(t))return t.filters.map(e=>pg(e)).join(",");{const e=t.filters.map(n=>pg(n)).join(",");return`${t.op}(${e})`}}function Ox(t,e){return t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.field.isEqual(i.field)&&gi(r.value,i.value)}(t,e):t instanceof vi?function(r,i){return i instanceof vi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&Ox(a,i.filters[o]),!0):!1}(t,e):void Te(19439)}function Dx(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`}(t):t instanceof vi?function(n){return n.op.toString()+" {"+n.getFilters().map(Dx).join(" ,")+"}"}(t):"Filter"}class l3 extends nn{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class u3 extends nn{constructor(e,n){super(e,"in",n),this.keys=kx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class c3 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=kx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class h3 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hy(n)&&Qu(n.arrayValue,this.value)}}class f3 extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qu(this.value.arrayValue,n)}}class d3 extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qu(this.value.arrayValue,n)}}class m3 extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Pe=null}}function kw(t,e=null,n=[],r=[],i=null,s=null,a=null){return new p3(t,e,n,r,i,s,a)}function fy(t){const e=Ie(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Td(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>el(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>el(r)).join(",")),e.Pe=n}return e.Pe}function dy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ox(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Dw(t.startAt,e.startAt)&&Dw(t.endAt,e.endAt)}function gg(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function g3(t,e,n,r,i,s,a,o){return new Ad(t,e,n,r,i,s,a,o)}function my(t){return new Ad(t)}function Pw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v3(t){return t.collectionGroup!==null}function Eu(t){const e=Ie(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new sn(Cn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new qf(s,r))}),n.has(Cn.keyField().canonicalString())||e.Te.push(new qf(Cn.keyField(),r))}return e.Te}function hi(t){const e=Ie(t);return e.Ie||(e.Ie=y3(e,Eu(t))),e.Ie}function y3(t,e){if(t.limitType==="F")return kw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qf(i.field,s)});const n=t.endAt?new Ff(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ff(t.startAt.position,t.startAt.inclusive):null;return kw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vg(t,e,n){return new Ad(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return dy(hi(t),hi(e))&&t.limitType===e.limitType}function Px(t){return`${fy(hi(t))}|lt:${t.limitType}`}function so(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Dx(i)).join(", ")}]`),Td(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>el(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>el(i)).join(",")),`Target(${r})`}(hi(t))}; limitType=${t.limitType})`}function Rd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Eu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=Ow(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,Eu(r),i)||r.endAt&&!function(a,o,l){const c=Ow(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,Eu(r),i))}(t,e)}function _3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Nx(t){return(e,n)=>{let r=!1;for(const i of Eu(t)){const s=b3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function b3(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Jo(l,c):Te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new Ot(Ee.comparator);function $i(){return E3}const Vx=new Ot(Ee.comparator);function Jl(...t){let e=Vx;for(const n of t)e=e.insert(n.key,n);return e}function Ux(t){let e=Vx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fa(){return wu()}function jx(){return wu()}function wu(){return new za(t=>t.toString(),(t,e)=>t.isEqual(e))}const w3=new Ot(Ee.comparator),S3=new sn(Ee.comparator);function Ke(...t){let e=S3;for(const n of t)e=e.add(n);return e}const T3=new sn(Ve);function C3(){return T3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function zx(t){return{integerValue:""+t}}function A3(t,e){return Zj(e)?zx(e):py(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this._=void 0}}function x3(t,e,n){return t instanceof Wu?function(i,s){const a={fields:{[Sx]:{stringValue:wx},[Cx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cy(s)&&(s=Cd(s)),s&&(a.fields[Tx]=s),{mapValue:a}}(n,e):t instanceof Xu?Hx(t,e):t instanceof Zu?Fx(t,e):function(i,s){const a=Bx(i,s),o=Nw(a)+Nw(i.Ee);return mg(a)&&mg(i.Ee)?zx(o):py(i.serializer,o)}(t,e)}function R3(t,e,n){return t instanceof Xu?Hx(t,e):t instanceof Zu?Fx(t,e):n}function Bx(t,e){return t instanceof Gf?function(r){return mg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Wu extends Ld{}class Xu extends Ld{constructor(e){super(),this.elements=e}}function Hx(t,e){const n=qx(e);for(const r of t.elements)n.some(i=>gi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zu extends Ld{constructor(e){super(),this.elements=e}}function Fx(t,e){let n=qx(e);for(const r of t.elements)n=n.filter(i=>!gi(i,r));return{arrayValue:{values:n}}}class Gf extends Ld{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Nw(t){return Ht(t.integerValue||t.doubleValue)}function qx(t){return hy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n){this.field=e,this.transform=n}}function M3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Xu&&i instanceof Xu||r instanceof Zu&&i instanceof Zu?Xo(r.elements,i.elements,gi):r instanceof Gf&&i instanceof Gf?gi(r.Ee,i.Ee):r instanceof Wu&&i instanceof Wu}(t.transform,e.transform)}class I3{constructor(e,n){this.version=e,this.transformResults=n}}class fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Md{}function Gx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kx(t.key,fi.none()):new xc(t.key,t.data,fi.none());{const n=t.data,r=Or.empty();let i=new sn(Cn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ba(t.key,r,new Yr(i.toArray()),fi.none())}}function O3(t,e,n){t instanceof xc?function(i,s,a){const o=i.value.clone(),l=Uw(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ba?function(i,s,a){if(!zh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=Uw(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll($x(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Su(t,e,n,r){return t instanceof xc?function(s,a,o,l){if(!zh(s.precondition,a))return o;const c=s.value.clone(),h=jw(s.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ba?function(s,a,o,l){if(!zh(s.precondition,a))return o;const c=jw(s.fieldTransforms,l,a),h=a.data;return h.setAll($x(s)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,o){return zh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function D3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Bx(r.transform,i||null);s!=null&&(n===null&&(n=Or.empty()),n.set(r.field,s))}return n||null}function Vw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xo(r,i,(s,a)=>M3(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xc extends Md{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ba extends Md{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $x(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Uw(t,e,n){const r=new Map;ot(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,R3(a,o,n[i]))}return r}function jw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,x3(s,a,e))}return r}class Kx extends Md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k3 extends Md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&O3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Su(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jx();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=Gx(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(n,r)=>Vw(n,r))&&Xo(this.baseMutations,e.baseMutations,(n,r)=>Vw(n,r))}}class gy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ot(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return w3}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new gy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Ze;function U3(t){switch(t){case X.OK:return Te(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function Yx(t){if(t===void 0)return Gi("GRPC error has no .code"),X.UNKNOWN;switch(t){case Gt.OK:return X.OK;case Gt.CANCELLED:return X.CANCELLED;case Gt.UNKNOWN:return X.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return X.INTERNAL;case Gt.UNAVAILABLE:return X.UNAVAILABLE;case Gt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Gt.NOT_FOUND:return X.NOT_FOUND;case Gt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Gt.ABORTED:return X.ABORTED;case Gt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Gt.DATA_LOSS:return X.DATA_LOSS;default:return Te(39323,{code:t})}}(Ze=Gt||(Gt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new Ds([4294967295,4294967295],0);function zw(t){const e=gx().encode(t),n=new lx;return n.update(e),new Uint8Array(n.digest())}function Bw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ds([n,r],0),new Ds([i,s],0)]}class vy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(r<0)throw new eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ds.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Ds.fromNumber(r)));return i.compare(j3)===1&&(i=new Ds([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=zw(e),[r,i]=Bw(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);if(!this.ye(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new vy(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.fe===0)return;const n=zw(e),[r,i]=Bw(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);this.we(a)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Id(Le.min(),i,new Ot(Ve),$i(),Ke())}}class Rc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rc(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class Qx{constructor(e,n){this.targetId=e,this.De=n}}class Wx{constructor(e,n,r=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Hw{constructor(){this.ve=0,this.Ce=Fw(),this.Fe=xn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ke(),n=Ke(),r=Ke();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te(38017,{changeType:s})}}),new Rc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=Fw()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class z3{constructor(e){this.We=e,this.Ge=new Map,this.ze=$i(),this.je=mh(),this.Je=mh(),this.He=new Ot(Ve)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(gg(s))if(r===0){const a=new Ee(s.path);this.Xe(n,a,Pn.newNoDocument(a,Le.min()))}else ot(r===1,20013,{expectedCount:r});else{const a=this.ot(n);if(a!==r){const o=this._t(e),l=o?this.ut(o,e,a):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=qs(r).toUint8Array()}catch(l){if(l instanceof Ex)return Bs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new vy(a,i,s)}catch(l){return Bs(l instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.fe===0?null:o}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,a)=>{const o=this.st(a);if(o){if(s.current&&gg(o.target)){const l=new Ee(o.target.path);this.Tt(l).has(a)||this.It(a,l)||this.Xe(a,l,Pn.newNoDocument(l,e))}s.Ne&&(n.set(a,s.Le()),s.ke())}});let r=Ke();this.Je.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const i=new Id(e,n,this.He,this.ze,r);return this.ze=$i(),this.je=mh(),this.Je=mh(),this.He=new Ot(Ve),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Hw,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new sn(Ve),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new sn(Ve),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Hw),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function mh(){return new Ot(Ee.comparator)}function Fw(){return new Ot(Ee.comparator)}const B3={asc:"ASCENDING",desc:"DESCENDING"},H3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F3={and:"AND",or:"OR"};class q3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yg(t,e){return t.useProto3Json||Td(e)?e:{value:e}}function $f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function G3(t,e){return $f(t,e.toTimestamp())}function di(t){return ot(!!t,49232),Le.fromTimestamp(function(n){const r=Fs(n);return new St(r.seconds,r.nanos)}(t))}function yy(t,e){return _g(t,e).canonicalString()}function _g(t,e){const n=function(i){return new wt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Zx(t){const e=wt.fromString(t);return ot(rR(e),10190,{key:e.toString()}),e}function bg(t,e){return yy(t.databaseId,e.path)}function Fm(t,e){const n=Zx(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(eR(n))}function Jx(t,e){return yy(t.databaseId,e)}function $3(t){const e=Zx(t);return e.length===4?wt.emptyPath():eR(e)}function Eg(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eR(t){return ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qw(t,e,n){return{name:bg(t,e),fields:n.value.mapValue.fields}}function K3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Te(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ot(h===void 0||typeof h=="string",58123),xn.fromBase64String(h||"")):(ot(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),xn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const h=c.code===void 0?X.UNKNOWN:Yx(c.code);return new _e(h,c.message||"")}(a);n=new Wx(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fm(t,r.document.name),s=di(r.document.updateTime),a=r.document.createTime?di(r.document.createTime):Le.min(),o=new Or({mapValue:{fields:r.document.fields}}),l=Pn.newFoundDocument(i,s,a,o),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Bh(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fm(t,r.document),s=r.readTime?di(r.readTime):Le.min(),a=Pn.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Bh([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fm(t,r.document),s=r.removedTargetIds||[];n=new Bh([],s,i,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new V3(i,s),o=r.targetId;n=new Qx(o,a)}}return n}function Y3(t,e){let n;if(e instanceof xc)n={update:qw(t,e.key,e.value)};else if(e instanceof Kx)n={delete:bg(t,e.key)};else if(e instanceof Ba)n={update:qw(t,e.key,e.data),updateMask:r6(e.fieldMask)};else{if(!(e instanceof k3))return Te(16599,{Rt:e.type});n={verify:bg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Wu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Xu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Zu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Gf)return{fieldPath:a.field.canonicalString(),increment:o.Ee};throw Te(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:G3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Te(27497)}(t,e.precondition)),n}function Q3(t,e){return t&&t.length>0?(ot(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?di(i.updateTime):di(s);return a.isEqual(Le.min())&&(a=di(s)),new I3(a,i.transformResults||[])}(n,e))):[]}function W3(t,e){return{documents:[Jx(t,e.path)]}}function X3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Jx(t,i);const s=function(c){if(c.length!==0)return nR(vi.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:ao(d.field),direction:e6(d.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=yg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function Z3(t){let e=$3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ot(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(m){const d=tR(m);return d instanceof vi&&Ix(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(d=>function(E){return new qf(oo(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(d))}(n.orderBy));let o=null;n.limit&&(o=function(m){let d;return d=typeof m=="object"?m.value:m,Td(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(m){const d=!!m.before,g=m.values||[];return new Ff(g,d)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const d=!m.before,g=m.values||[];return new Ff(g,d)}(n.endAt)),g3(e,i,a,s,o,"F",l,c)}function J3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oo(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=oo(n.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=oo(n.unaryFilter.field);return nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=oo(n.unaryFilter.field);return nn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(t):t.fieldFilter!==void 0?function(n){return nn.create(oo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vi.create(n.compositeFilter.filters.map(r=>tR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(t):Te(30097,{filter:t})}function e6(t){return B3[t]}function t6(t){return H3[t]}function n6(t){return F3[t]}function ao(t){return{fieldPath:t.canonicalString()}}function oo(t){return Cn.fromServerFormat(t.fieldPath)}function nR(t){return t instanceof nn?function(n){if(n.op==="=="){if(Iw(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(Mw(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Iw(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(Mw(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:t6(n.op),value:n.value}}}(t):t instanceof vi?function(n){const r=n.getFilters().map(i=>nR(i));return r.length===1?r[0]:{compositeFilter:{op:n6(n.op),filters:r}}}(t):Te(54877,{filter:t})}function r6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r,i,s=Le.min(),a=Le.min(),o=xn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.gt=e}}function s6(t){const e=Z3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.Dn=new o6}addToCollectionParentIndex(e,n){return this.Dn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Hs.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class o6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sn(wt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iR=41943040;class tr{static withCacheSize(e){return new tr(e,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(iR,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new tl(0)}static ur(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="LruGarbageCollector",l6=1048576;function Kw([t,e],[n,r]){const i=Ve(t,n);return i===0?Ve(e,r):i}class u6{constructor(e){this.Tr=e,this.buffer=new sn(Kw),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Kw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class c6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ae($w,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_l(n)?ae($w,"Ignoring IndexedDB error during garbage collection: ",n):await yl(n)}await this.Rr(3e5)})}}class h6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(Sd.ue);const r=new u6(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Gw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gw):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,a,o,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,o=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),io()<=$e.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${m} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function f6(t,e){return new h6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.changes=new za(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Su(r.mutation,i,Yr.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ke()){const i=fa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Jl();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=fa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=$i();const a=wu(),o=function(){return wu()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ba)?s=s.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),Su(h.mutation,c,h.mutation.getFieldMask(),St.now())):a.set(c.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>{var m;return o.set(c,new m6(h,(m=a.get(c))!==null&&m!==void 0?m:null))}),o))}recalculateAndSaveOverlays(e,n){const r=wu();let i=new Ot((a,o)=>a-o),s=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Yr.empty();h=o.applyToLocalView(c,h),r.set(l,h);const m=(i.get(o.batchId)||Ke()).add(l);i=i.insert(o.batchId,m)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,m=jx();h.forEach(d=>{if(!s.has(d)){const g=Gx(n.get(d),r.get(d));g!==null&&m.set(d,g),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,m))}return K.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(fa());let o=$u,l=s;return a.next(c=>K.forEach(c,(h,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ke())).next(h=>({batchId:o,changes:Ux(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let i=Jl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Jl();return this.indexManager.getCollectionParents(e,s).next(o=>K.forEach(o,l=>{const c=function(m,d){return new Ad(d,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((m,d)=>{a=a.insert(m,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,Pn.newInvalidDocument(h)))});let o=Jl();return a.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Su(h.mutation,c,Yr.empty(),St.now()),Rd(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return K.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:di(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:s6(i.bundledQuery),readTime:di(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.overlays=new Ot(Ee.comparator),this.kr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fa();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=fa(),s=n.length+1,a=new Ee(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ot((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=fa(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=fa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return K.resolve(o)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new N3(n,r));let s=this.kr.get(n);s===void 0&&(s=Ke(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.qr=new sn(hn.Qr),this.$r=new sn(hn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new hn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ee(new wt([])),r=new hn(n,e),i=new hn(n,e+1),s=[];return this.$r.forEachInRange([r,i],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ee(new wt([])),r=new hn(n,e),i=new hn(n,e+1);let s=Ke();return this.$r.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new hn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ee.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new sn(hn.Qr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new P3(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Yr=this.Yr.add(new hn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?uy:this.er-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),i=new hn(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],a=>{const o=this.Zr(a.Hr);s.push(o)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Ve);return n.forEach(i=>{const s=new hn(i,0),a=new hn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],o=>{r=r.add(o.Hr)})}),K.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ee.isDocumentKey(s)||(s=s.child(""));const a=new hn(new Ee(s),0);let o=new sn(Ve);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Hr)),!0)},a),K.resolve(this.ei(o))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ot(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return K.forEach(n.mutations,i=>{const s=new hn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new hn(n,0),i=this.Yr.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.ni=e,this.docs=function(){return new Ot(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pn.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$i();const a=n.path,o=new Ee(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Yj(Kj(h),r)<=0||(i.has(h.key)||Rd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te(9500)}ri(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new E6(this)}getSize(e){return K.resolve(this.size)}}class E6 extends d6{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.persistence=e,this.ii=new za(n=>fy(n),dy),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.si=0,this.oi=new _y,this.targetCount=0,this._i=tl.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),K.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new tl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.hr(n),K.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.ai={},this.overlays={},this.ui=new Sd(0),this.ci=!1,this.ci=!0,this.li=new y6,this.referenceDelegate=e(this),this.hi=new w6(this),this.indexManager=new a6,this.remoteDocumentCache=function(i){return new b6(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new i6(n),this.Ti=new g6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new _6(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const i=new S6(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return K.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class S6 extends Wj{constructor(e){super(),this.currentSequenceNumber=e}}class by{constructor(e){this.persistence=e,this.Ai=new _y,this.Ri=null}static Vi(e){return new by(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.mi,r=>{const i=Ee.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,Le.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return K.or([()=>K.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Kf{constructor(e,n){this.persistence=e,this.gi=new za(r=>Jj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=f6(this,n)}static Vi(e,n){return new Kf(e,n)}Ii(){}di(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return K.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?K.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,a=>this.Sr(e,a,n).next(o=>{o||(r++,s.removeEntry(a,Le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),K.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uh(e.data.value)),n}Sr(e,n,r){return K.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return K.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Ke(),i=Ke();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ey(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return t4()?8:Xj(jn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new T6;return this.ws(e,n,a).next(o=>{if(s.result=o,this.Rs)return this.Ss(e,n,a,o.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(io()<=$e.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(io()<=$e.DEBUG&&ae("QueryEngine","Query:",so(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(io()<=$e.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):K.resolve())}ps(e,n){if(Pw(n))return K.resolve(null);let r=hi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vg(n,null,"F"),r=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ke(...s);return this.gs.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,o);return this.Ds(n,c,a,l.readTime)?this.ps(e,vg(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,i){return Pw(n)||i.isEqual(Le.min())?K.resolve(null):this.gs.getDocuments(e,r).next(s=>{const a=this.bs(n,s);return this.Ds(n,a,r,i)?K.resolve(null):(io()<=$e.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),so(n)),this.vs(e,a,n,$j(i,$u)).next(o=>o))})}bs(e,n){let r=new sn(Nx(e));return n.forEach((i,s)=>{Rd(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return io()<=$e.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",so(n)),this.gs.getDocumentsMatchingQuery(e,n,Hs.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="LocalStore",A6=3e8;class x6{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ot(Ve),this.Ms=new za(s=>fy(s),dy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p6(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function R6(t,e,n,r){return new x6(t,e,n,r)}async function aR(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Ke();for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:a,addedBatchIds:o}))})})}function L6(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const m=c.batch,d=m.keys();let g=K.resolve();return d.forEach(E=>{g=g.next(()=>h.getEntry(l,E)).next(A=>{const S=c.docVersions.get(E);ot(S!==null,48541),A.version.compareTo(S)<0&&(m.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),h.addEntry(A)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Ke();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function oR(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function M6(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const o=[];e.targetChanges.forEach((h,m)=>{const d=i.get(m);if(!d)return;o.push(n.hi.removeMatchingKeys(s,h.removedDocuments,m).next(()=>n.hi.addMatchingKeys(s,h.addedDocuments,m)));let g=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(xn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(m,g),function(A,S,_){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=A6?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,g,h)&&o.push(n.hi.updateTargetData(s,g))});let l=$i(),c=Ke();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(I6(s,a,e.documentUpdates).next(h=>{l=h.Ls,c=h.ks})),!r.isEqual(Le.min())){const h=n.hi.getLastRemoteSnapshotVersion(s).next(m=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(h)}return K.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Fs=i,s))}function I6(t,e,n){let r=Ke(),i=Ke();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=$i();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Le.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ae(wy,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ls:a,ks:i}})}function O6(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=uy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function D6(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):n.hi.allocateTargetId(r).next(a=>(i=new Es(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function wg(t,e,n){const r=Ie(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!_l(a))throw a;ae(wy,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function Yw(t,e,n){const r=Ie(t);let i=Le.min(),s=Ke();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const m=Ie(l),d=m.Ms.get(h);return d!==void 0?K.resolve(m.Fs.get(d)):m.hi.getTargetData(c,h)}(r,a,hi(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Le.min(),n?s:Ke())).next(o=>(k6(r,_3(e),o),{documents:o,qs:s})))}function k6(t,e,n){let r=t.xs.get(e)||Le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class Qw{constructor(){this.activeTargetIds=C3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P6{constructor(){this.Fo=new Qw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Qw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="ConnectivityMonitor";class Xw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ae(Ww,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ae(Ww,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function Sg(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="RestConnection",V6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U6{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Bf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const a=Sg(),o=this.Go(e,n.toUriEncodedString());ae(qm,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(o),h=ml(c);return this.jo(e,o,l,r,h).then(m=>(ae(qm,`Received RPC '${e}' ${a}: `,m),m),m=>{throw Bs(qm,`RPC '${e}' ${a} failed with error: `,m,"url: ",o,"request:",r),m})}Jo(e,n,r,i,s,a){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=V6[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class z6 extends U6{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const a=Sg();return new Promise((o,l)=>{const c=new ux;c.setWithCredentials(!0),c.listenOnce(cx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Vh.NO_ERROR:const m=c.getResponseJson();ae(Dn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),o(m);break;case Vh.TIMEOUT:ae(Dn,`RPC '${e}' ${a} timed out`),l(new _e(X.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const d=c.getStatus();if(ae(Dn,`RPC '${e}' ${a} failed with status:`,d,"response text:",c.getResponseText()),d>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const A=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(v)>=0?v:X.UNKNOWN}(E.status);l(new _e(A,E.message))}else l(new _e(X.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new _e(X.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:a,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{ae(Dn,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);ae(Dn,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",h,r,15)})}P_(e,n,r){const i=Sg(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=dx(),o=fx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");ae(Dn,`Creating RPC '${e}' stream ${i}: ${h}`,l);const m=a.createWebChannel(h,l);this.T_(m);let d=!1,g=!1;const E=new j6({Ho:S=>{g?ae(Dn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(d||(ae(Dn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),d=!0),ae(Dn,`RPC '${e}' stream ${i} sending:`,S),m.send(S))},Yo:()=>m.close()}),A=(S,_,v)=>{S.listen(_,C=>{try{v(C)}catch(R){setTimeout(()=>{throw R},0)}})};return A(m,Zl.EventType.OPEN,()=>{g||(ae(Dn,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),A(m,Zl.EventType.CLOSE,()=>{g||(g=!0,ae(Dn,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(m))}),A(m,Zl.EventType.ERROR,S=>{g||(g=!0,Bs(Dn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.__(new _e(X.UNAVAILABLE,"The operation could not be completed")))}),A(m,Zl.EventType.MESSAGE,S=>{var _;if(!g){const v=S.data[0];ot(!!v,16349);const C=v,R=(C==null?void 0:C.error)||((_=C[0])===null||_===void 0?void 0:_.error);if(R){ae(Dn,`RPC '${e}' stream ${i} received error:`,R);const k=R.status;let x=function(w){const L=Gt[w];if(L!==void 0)return Yx(L)}(k),T=R.message;x===void 0&&(x=X.INTERNAL,T="Unknown error status: "+k+" with message "+R.message),g=!0,E.__(new _e(x,T)),m.close()}else ae(Dn,`RPC '${e}' stream ${i} received:`,v),E.a_(v)}}),A(o,hx.STAT_EVENT,S=>{S.stat===hg.PROXY?ae(Dn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===hg.NOPROXY&&ae(Dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t){return new q3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="PersistentStream";class uR{constructor(e,n,r,i,s,a,o,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new lR(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new _e(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ae(Zw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ae(Zw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B6 extends uR{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=K3(this.serializer,e),r=function(s){if(!("targetChange"in s))return Le.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Le.min():a.readTime?di(a.readTime):Le.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Eg(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=gg(l)?{documents:W3(s,l)}:{query:X3(s,l).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=Xx(s,a.resumeToken);const c=yg(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Le.min())>0){o.readTime=$f(s,a.snapshotVersion.toTimestamp());const c=yg(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=J3(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Eg(this.serializer),n.removeTarget=e,this.k_(n)}}class H6 extends uR{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Q3(e.writeResults,e.commitTime),r=di(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Eg(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Y3(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{}class q6 extends F6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new _e(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,_g(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(X.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Jo(e,_g(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(X.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class G6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Gi(n),this._a=!1):ae("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class $6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{r.enqueueAndForget(async()=>{Ha(this)&&(ae(Ia,"Restarting streams for network reachability change."),await async function(l){const c=Ie(l);c.Ia.add(4),await Lc(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Dd(c)}(this))})}),this.Aa=new G6(r,i)}}async function Dd(t){if(Ha(t))for(const e of t.da)await e(!0)}async function Lc(t){for(const e of t.da)await e(!1)}function cR(t,e){const n=Ie(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Ay(n)?Cy(n):bl(n).x_()&&Ty(n,e))}function Sy(t,e){const n=Ie(t),r=bl(n);n.Ta.delete(e),r.x_()&&hR(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ha(n)&&n.Aa.set("Unknown"))}function Ty(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(t).H_(e)}function hR(t,e){t.Ra.$e(e),bl(t).Y_(e)}function Cy(t){t.Ra=new z3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),bl(t).start(),t.Aa.aa()}function Ay(t){return Ha(t)&&!bl(t).M_()&&t.Ta.size>0}function Ha(t){return Ie(t).Ia.size===0}function fR(t){t.Ra=void 0}async function K6(t){t.Aa.set("Online")}async function Y6(t){t.Ta.forEach((e,n)=>{Ty(t,e)})}async function Q6(t,e){fR(t),Ay(t)?(t.Aa.la(e),Cy(t)):t.Aa.set("Unknown")}async function W6(t,e,n){if(t.Aa.set("Online"),e instanceof Wx&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ta.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ta.delete(o),i.Ra.removeTarget(o))}(t,e)}catch(r){ae(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yf(t,r)}else if(e instanceof Bh?t.Ra.Ye(e):e instanceof Qx?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Le.min()))try{const r=await oR(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Ra.Pt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ta.get(c);h&&s.Ta.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=s.Ta.get(l);if(!h)return;s.Ta.set(l,h.withResumeToken(xn.EMPTY_BYTE_STRING,h.snapshotVersion)),hR(s,l);const m=new Es(h.target,l,c,h.sequenceNumber);Ty(s,m)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ae(Ia,"Failed to raise snapshot:",r),await Yf(t,r)}}async function Yf(t,e,n){if(!_l(e))throw e;t.Ia.add(1),await Lc(t),t.Aa.set("Offline"),n||(n=()=>oR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae(Ia,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Dd(t)})}function dR(t,e){return e().catch(n=>Yf(t,n,e))}async function kd(t){const e=Ie(t),n=$s(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:uy;for(;X6(e);)try{const i=await O6(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Z6(e,i)}catch(i){await Yf(e,i)}mR(e)&&pR(e)}function X6(t){return Ha(t)&&t.Pa.length<10}function Z6(t,e){t.Pa.push(e);const n=$s(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function mR(t){return Ha(t)&&!$s(t).M_()&&t.Pa.length>0}function pR(t){$s(t).start()}async function J6(t){$s(t).na()}async function e9(t){const e=$s(t);for(const n of t.Pa)e.X_(n.mutations)}async function t9(t,e,n){const r=t.Pa.shift(),i=gy.from(r,e,n);await dR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await kd(t)}async function n9(t,e){e&&$s(t).Z_&&await async function(r,i){if(function(a){return U3(a)&&a!==X.ABORTED}(i.code)){const s=r.Pa.shift();$s(r).N_(),await dR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await kd(r)}}(t,e),mR(t)&&pR(t)}async function Jw(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ae(Ia,"RemoteStore received new credentials");const r=Ha(n);n.Ia.add(3),await Lc(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Dd(n)}async function r9(t,e){const n=Ie(t);e?(n.Ia.delete(2),await Dd(n)):e||(n.Ia.add(2),await Lc(n),n.Aa.set("Unknown"))}function bl(t){return t.Va||(t.Va=function(n,r,i){const s=Ie(n);return s.ia(),new B6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:K6.bind(null,t),e_:Y6.bind(null,t),n_:Q6.bind(null,t),J_:W6.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Ay(t)?Cy(t):t.Aa.set("Unknown")):(await t.Va.stop(),fR(t))})),t.Va}function $s(t){return t.ma||(t.ma=function(n,r,i){const s=Ie(n);return s.ia(),new H6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:J6.bind(null,t),n_:n9.bind(null,t),ea:e9.bind(null,t),ta:t9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await kd(t)):(await t.ma.stop(),t.Pa.length>0&&(ae(Ia,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new xy(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(t,e){if(Gi("AsyncQueue",`${e}: ${t}`),_l(t))return new _e(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Jl(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.fa=new Ot(Ee.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Te(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class nl{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new nl(e,n,No.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class s9{constructor(){this.queries=tS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Ie(n),s=i.queries;i.queries=tS(),s.forEach((a,o)=>{for(const l of o.wa)l.onError(r)})})(this,new _e(X.ABORTED,"Firestore shutting down"))}}function tS(){return new za(t=>Px(t),xd)}async function a9(t,e){const n=Ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new i9,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Ry(a,`Initialization of query '${so(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&Ly(n)}async function o9(t,e){const n=Ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function l9(t,e){const n=Ie(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.wa)o.Ca(i)&&(r=!0);a.ya=i}}r&&Ly(n)}function u9(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function Ly(t){t.Da.forEach(e=>{e.next()})}var Tg,nS;(nS=Tg||(Tg={})).Fa="default",nS.Cache="cache";class c9{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.key=e}}class vR{constructor(e){this.key=e}}class h9{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ke(),this.mutatedKeys=Ke(),this.Xa=Nx(e),this.eu=new No(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new eS,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const d=i.get(h),g=Rd(this.query,m)?m:null,E=!!d&&this.mutatedKeys.has(d.key),A=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;d&&g?d.data.isEqual(g.data)?E!==A&&(r.track({type:3,doc:g}),S=!0):this.iu(d,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Xa(g,l)>0||c&&this.Xa(g,c)<0)&&(o=!0)):!d&&g?(r.track({type:0,doc:g}),S=!0):d&&!g&&(r.track({type:1,doc:d}),S=!0,(l||c)&&(o=!0)),S&&(g?(a=a.add(g),s=A?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{eu:a,ru:r,Ds:o,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((h,m)=>function(g,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:S})}};return A(g)-A(E)}(h.type,m.type)||this.Xa(h.doc,m.doc)),this.su(r),i=i!=null&&i;const o=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,a.length!==0||c?{snapshot:new nl(this.query,e.eu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new eS,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ke(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new vR(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new gR(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ke();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return nl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const My="SyncEngine";class f9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d9{constructor(e){this.key=e,this.lu=!1}}class m9{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new za(o=>Px(o),xd),this.Tu=new Map,this.Iu=new Set,this.du=new Ot(Ee.comparator),this.Eu=new Map,this.Au=new _y,this.Ru={},this.Vu=new Map,this.mu=tl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function p9(t,e,n=!0){const r=SR(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await yR(r,e,n,!0),i}async function g9(t,e){const n=SR(t);await yR(n,e,!0,!1)}async function yR(t,e,n,r){const i=await D6(t.localStore,hi(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await v9(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&cR(t.remoteStore,i),o}async function v9(t,e,n,r,i){t.gu=(m,d,g)=>async function(A,S,_,v){let C=S.view.nu(_);C.Ds&&(C=await Yw(A.localStore,S.query,!1).then(({documents:T})=>S.view.nu(T,C)));const R=v&&v.targetChanges.get(S.targetId),k=v&&v.targetMismatches.get(S.targetId)!=null,x=S.view.applyChanges(C,A.isPrimaryClient,R,k);return iS(A,S.targetId,x._u),x.snapshot}(t,m,d,g);const s=await Yw(t.localStore,e,!0),a=new h9(e,s.qs),o=a.nu(s.documents),l=Rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);iS(t,n,c._u);const h=new f9(e,n,a);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function y9(t,e,n){const r=Ie(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(a=>!xd(a,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sy(r.remoteStore,i.targetId),Cg(r,i.targetId)}).catch(yl)):(Cg(r,i.targetId),await wg(r.localStore,i.targetId,!0))}async function _9(t,e){const n=Ie(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sy(n.remoteStore,r.targetId))}async function b9(t,e,n){const r=x9(t);try{const i=await function(a,o){const l=Ie(a),c=St.now(),h=o.reduce((g,E)=>g.add(E.key),Ke());let m,d;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=$i(),A=Ke();return l.Os.getEntries(g,h).next(S=>{E=S,E.forEach((_,v)=>{v.isValidDocument()||(A=A.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(S=>{m=S;const _=[];for(const v of o){const C=D3(v,m.get(v.key).overlayedDocument);C!=null&&_.push(new Ba(v.key,C,Rx(C.value.mapValue),fi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,o)}).next(S=>{d=S;const _=S.applyToLocalDocumentSet(m,A);return l.documentOverlayCache.saveOverlays(g,S.batchId,_)})}).then(()=>({batchId:d.batchId,changes:Ux(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Ru[a.currentUser.toKey()];c||(c=new Ot(Ve)),c=c.insert(o,l),a.Ru[a.currentUser.toKey()]=c}(r,i.batchId,n),await Mc(r,i.changes),await kd(r.remoteStore)}catch(i){const s=Ry(i,"Failed to persist write");n.reject(s)}}async function _R(t,e){const n=Ie(t);try{const r=await M6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Eu.get(s);a&&(ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.lu=!0:i.modifiedDocuments.size>0?ot(a.lu,14607):i.removedDocuments.size>0&&(ot(a.lu,42227),a.lu=!1))}),await Mc(n,r,e)}catch(r){await yl(r)}}function rS(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Ie(a);l.onlineState=o;let c=!1;l.queries.forEach((h,m)=>{for(const d of m.wa)d.va(o)&&(c=!0)}),c&&Ly(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E9(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let a=new Ot(Ee.comparator);a=a.insert(s,Pn.newNoDocument(s,Le.min()));const o=Ke().add(s),l=new Id(Le.min(),new Map,new Ot(Ve),a,o);await _R(r,l),r.du=r.du.remove(s),r.Eu.delete(e),Iy(r)}else await wg(r.localStore,e,!1).then(()=>Cg(r,e,n)).catch(yl)}async function w9(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await L6(n.localStore,e);ER(n,r,null),bR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mc(n,i)}catch(i){await yl(i)}}async function S9(t,e,n){const r=Ie(t);try{const i=await function(a,o){const l=Ie(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(m=>(ot(m!==null,37113),h=m.keys(),l.mutationQueue.removeMutationBatch(c,m))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);ER(r,e,n),bR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mc(r,i)}catch(i){await yl(i)}}function bR(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function ER(t,e,n){const r=Ie(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Cg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||wR(t,r)})}function wR(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Sy(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Iy(t))}function iS(t,e,n){for(const r of n)r instanceof gR?(t.Au.addReference(r.key,e),T9(t,r)):r instanceof vR?(ae(My,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||wR(t,r.key)):Te(19791,{yu:r})}function T9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(ae(My,"New document in limbo: "+n),t.Iu.add(r),Iy(t))}function Iy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ee(wt.fromString(e)),r=t.mu.next();t.Eu.set(r,new d9(n)),t.du=t.du.insert(n,r),cR(t.remoteStore,new Es(hi(my(n.path)),r,"TargetPurposeLimboResolution",Sd.ue))}}async function Mc(t,e,n){const r=Ie(t),i=[],s=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((o,l)=>{a.push(r.gu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(c){i.push(c);const m=Ey.Es(l.targetId,c);s.push(m)}}))}),await Promise.all(a),r.hu.J_(i),await async function(l,c){const h=Ie(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>K.forEach(c,d=>K.forEach(d.Is,g=>h.persistence.referenceDelegate.addReference(m,d.targetId,g)).next(()=>K.forEach(d.ds,g=>h.persistence.referenceDelegate.removeReference(m,d.targetId,g)))))}catch(m){if(!_l(m))throw m;ae(wy,"Failed to update sequence numbers: "+m)}for(const m of c){const d=m.targetId;if(!m.fromCache){const g=h.Fs.get(d),E=g.snapshotVersion,A=g.withLastLimboFreeSnapshotVersion(E);h.Fs=h.Fs.insert(d,A)}}}(r.localStore,s))}async function C9(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ae(My,"User change. New user:",e.toKey());const r=await aR(n.localStore,e);n.currentUser=e,function(s,a){s.Vu.forEach(o=>{o.forEach(l=>{l.reject(new _e(X.CANCELLED,a))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mc(n,r.Bs)}}function A9(t,e){const n=Ie(t),r=n.Eu.get(e);if(r&&r.lu)return Ke().add(r.key);{let i=Ke();const s=n.Tu.get(e);if(!s)return i;for(const a of s){const o=n.Pu.get(a);i=i.unionWith(o.view.tu)}return i}}function SR(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_R.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E9.bind(null,e),e.hu.J_=l9.bind(null,e.eventManager),e.hu.pu=u9.bind(null,e.eventManager),e}function x9(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S9.bind(null,e),e}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Od(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return R6(this.persistence,new C6,e.initialUser,this.serializer)}Du(e){return new sR(by.Vi,this.serializer)}bu(e){return new P6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class R9 extends Qf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ot(this.persistence.referenceDelegate instanceof Kf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new c6(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?tr.withCacheSize(this.cacheSizeBytes):tr.DEFAULT;return new sR(r=>Kf.Vi(r,n),this.serializer)}}class Ag{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C9.bind(null,this.syncEngine),await r9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s9}()}createDatastore(e){const n=Od(e.databaseInfo.databaseId),r=function(s){return new z6(s)}(e.databaseInfo);return function(s,a,o,l){return new q6(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new $6(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>rS(this.syncEngine,n,0),function(){return Xw.C()?new Xw:new N6}())}createSyncEngine(e,n){return function(i,s,a,o,l,c,h){const m=new m9(i,s,a,o,l,c);return h&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ie(i);ae(Ia,"RemoteStore shutting down."),s.Ia.add(5),await Lc(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ag.provider={build:()=>new Ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="FirestoreClient";class M9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kn.UNAUTHENTICATED,this.clientId=oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{ae(Ks,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ae(Ks,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ry(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $m(t,e){t.asyncQueue.verifyOperationInProgress(),ae(Ks,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Bs("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{ae("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Bs("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function sS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I9(t);ae(Ks,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Jw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Jw(e.remoteStore,i)),t._onlineComponents=e}async function I9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae(Ks,"Using user provided OfflineComponentProvider");try{await $m(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),await $m(t,new Qf)}}else ae(Ks,"Using default OfflineComponentProvider"),await $m(t,new R9(void 0));return t._offlineComponents}async function TR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae(Ks,"Using user provided OnlineComponentProvider"),await sS(t,t._uninitializedComponentsProvider._online)):(ae(Ks,"Using default OnlineComponentProvider"),await sS(t,new Ag))),t._onlineComponents}function O9(t){return TR(t).then(e=>e.syncEngine)}async function D9(t){const e=await TR(t),n=e.eventManager;return n.onListen=p9.bind(null,e.syncEngine),n.onUnlisten=y9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_9.bind(null,e.syncEngine),n}function k9(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const h=new L9({next:d=>{h.Ou(),a.enqueueAndForget(()=>o9(s,m));const g=d.docs.has(o);!g&&d.fromCache?c.reject(new _e(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&l&&l.source==="server"?c.reject(new _e(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),m=new c9(my(o.path),h,{includeMetadataChanges:!0,ka:!0});return a9(s,m)}(await D9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firestore.googleapis.com",oS=!0;class lS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AR,this.ssl=oS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l6)throw new _e(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Nj;switch(r.type){case"firstParty":return new zj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aS.get(n);r&&(ae("ComponentProvider","Removing Datastore"),aS.delete(n),r.terminate())}(this),Promise.resolve()}}function P9(t,e,n,r={}){var i;t=Zo(t,Pd);const s=ml(e),a=t._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(E1(`https://${l}`),w1("Firestore",!0)),a.host!==AR&&a.host!==l&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!Aa(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=kn.MOCK_USER;else{h=$N(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new _e(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new kn(d)}t._authCredentials=new Vj(new px(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oy(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ac(n,rn._jsonSchema))return new rn(e,r||null,new Ee(wt.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:Kt("string",rn._jsonSchemaVersion),referencePath:Kt("string")};class Ps extends Oy{constructor(e,n,r){super(e,n,my(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new Ee(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function N9(t,e,...n){if(t=Gn(t),vx("collection","path",e),t instanceof Pd){const r=wt.fromString(e,...n);return ww(r),new Ps(t,null,r)}{if(!(t instanceof rn||t instanceof Ps))throw new _e(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return ww(r),new Ps(t.firestore,null,r)}}function Ju(t,e,...n){if(t=Gn(t),arguments.length===1&&(e=oy.newId()),vx("doc","path",e),t instanceof Pd){const r=wt.fromString(e,...n);return Ew(r),new rn(t,null,new Ee(r))}{if(!(t instanceof rn||t instanceof Ps))throw new _e(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return Ew(r),new rn(t.firestore,t instanceof Ps?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="AsyncQueue";class cS{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new lR(this,"async_queue_retry"),this.oc=()=>{const r=Gm();r&&ae(uS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ks;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!_l(e))throw e;ae(uS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Gi("INTERNAL UNHANDLED ERROR: ",hS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=xy.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Te(47125,{hc:hS(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function hS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Nd extends Pd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cS(e),this._firestoreClient=void 0,await e}}}function V9(t,e){const n=typeof t=="object"?t:Yv(),r=typeof t=="string"?t:Bf,i=Kv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=qN("firestore");s&&P9(i,...s)}return i}function xR(t){if(t._terminated)throw new _e(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U9(t),t._firestoreClient}function U9(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,c,h){return new n3(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,CR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new M9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dr(xn.fromBase64String(e))}catch(n){throw new _e(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dr(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ac(e,Dr._jsonSchema))return Dr.fromBase64String(e.bytes)}}Dr._jsonSchemaVersion="firestore/bytes/1.0",Dr._jsonSchema={type:Kt("string",Dr._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mi._jsonSchemaVersion}}static fromJSON(e){if(Ac(e,mi._jsonSchema))return new mi(e.latitude,e.longitude)}}mi._jsonSchemaVersion="firestore/geoPoint/1.0",mi._jsonSchema={type:Kt("string",mi._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ac(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new pi(e.vectorValues);throw new _e(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Kt("string",pi._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=/^__.*__$/;class z9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ba(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}function RR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:t})}}class Py{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Py(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Wf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(RR(this.Ec)&&j9.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class B9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Od(e)}Dc(e,n,r,i=!1){return new Py({Ec:e,methodName:n,bc:r,path:Cn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LR(t){const e=t._freezeSettings(),n=Od(t._databaseId);return new B9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MR(t,e,n,r,i,s={}){const a=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);kR("Data must be an object, but it was:",a,r);const o=OR(r,a);let l,c;if(s.merge)l=new Yr(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const d=H9(e,m,n);if(!a.contains(d))throw new _e(X.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);q9(h,d)||h.push(d)}l=new Yr(h),c=a.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=a.fieldTransforms;return new z9(new Or(o),l,c)}class Ny extends ky{_toFieldTransform(e){return new L3(e.path,new Wu)}isEqual(e){return e instanceof Ny}}function IR(t,e){if(DR(t=Gn(t)))return kR("Unsupported field value:",e,t),OR(t,e);if(t instanceof ky)return function(r,i){if(!RR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=IR(o,i.yc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=St.fromDate(r);return{timestampValue:$f(i.serializer,s)}}if(r instanceof St){const s=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$f(i.serializer,s)}}if(r instanceof mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dr)return{bytesValue:Xx(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:yy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pi)return function(a,o){return{mapValue:{fields:{[Ax]:{stringValue:xx},[Hf]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.wc("VectorValues must only contain numeric values.");return py(o.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${ly(r)}`)}(t,e)}function OR(t,e){const n={};return bx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ja(t,(r,i)=>{const s=IR(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof mi||t instanceof Dr||t instanceof rn||t instanceof ky||t instanceof pi)}function kR(t,e,n){if(!DR(n)||!yx(n)){const r=ly(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function H9(t,e,n){if((e=Gn(e))instanceof Dy)return e._internalPath;if(typeof e=="string")return PR(t,e);throw Wf("Field path arguments must be of type string or ",t,!1,void 0,n)}const F9=new RegExp("[~\\*/\\[\\]]");function PR(t,e,n){if(e.search(F9)>=0)throw Wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dy(...e.split("."))._internalPath}catch{throw Wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wf(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new _e(X.INVALID_ARGUMENT,o+t+l)}function q9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(VR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G9 extends NR{data(){return super.data()}}function VR(t,e){return typeof e=="string"?PR(t,e):e instanceof Dy?e._internalPath:e._delegate._internalPath}class $9{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ja(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Hf].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Ht(a.doubleValue));return new pi(s)}convertGeoPoint(e){return new mi(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const n=Fs(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);ot(rR(r),9688,{name:e});const i=new Yu(r.get(1),r.get(3)),s=new Ee(r.popFirst(5));return i.isEqual(n)||Gi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ba extends NR{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(VR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ba._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",ba._jsonSchema={type:Kt("string",ba._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Hh extends ba{data(e={}){return super.data(e)}}class Tu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hh(this._firestore,this._userDataWriter,r.key,r,new tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Hh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new tu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Hh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new tu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:K9(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function K9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){t=Zo(t,rn);const e=Zo(t.firestore,Nd);return k9(xR(e),t._key).then(n=>X9(e,t,n))}Tu._jsonSchemaVersion="firestore/querySnapshot/1.0",Tu._jsonSchema={type:Kt("string",Tu._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Y9 extends $9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function Q9(t,e,n){t=Zo(t,rn);const r=Zo(t.firestore,Nd),i=UR(t.converter,e,n);return jR(r,[MR(LR(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fi.none())])}function W9(t,e){const n=Zo(t.firestore,Nd),r=Ju(t),i=UR(t.converter,e);return jR(n,[MR(LR(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fi.exists(!1))]).then(()=>r)}function jR(t,e){return function(r,i){const s=new ks;return r.asyncQueue.enqueueAndForget(async()=>b9(await O9(r),i,s)),s.promise}(xR(t),e)}function X9(t,e,n){const r=n.docs.get(e._key),i=new Y9(t);return new ba(t,i,e._key,r,new tu(n.hasPendingWrites,n.fromCache),e.converter)}function Z9(){return new Ny("serverTimestamp")}(function(e,n=!0){(function(i){vl=i})(pl),Qo(new xa("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Nd(new Uj(r.getProvider("auth-internal")),new Bj(a,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new _e(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yu(c.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Os(gw,vw,e),Os(gw,vw,"esm2017")})();const J9={apiKey:"AIzaSyCYbB3_c5GEync02de8o98_DAR-UCXIrj0",authDomain:"invitation-app-cd62c.firebaseapp.com",projectId:"invitation-app-cd62c",storageBucket:"invitation-app-cd62c.firebasestorage.app",messagingSenderId:"908091091264",appId:"1:908091091264:web:4c7d0763552a83155d32a5",measurementId:"G-H4NCQ8JQX4"},zR=uV().length?Yv():C1(J9),Rr=kj(zR),ec=V9(zR);function ez(){const[t,e]=f.useState(""),n=cl(),r=gd(),i=Jr(),[s,a]=f.useState(Rr.currentUser),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[m,d]=f.useState(null);f.useEffect(()=>{const A=ny(Rr,S=>{a(S),l(!0)});return()=>A()},[]);const g=f.useMemo(()=>s?s.displayName?s.displayName:s.email?s.email.split("@")[0]:null:null,[s]),E=async()=>{if(d(null),!s){d("Create a host username and password before saving. Each invitation uses its own login.");return}h(!0);try{const S={...Object.fromEntries(Object.entries(n).filter(([v,C])=>typeof C!="function")),hostUid:s.uid,hostUsername:g,hostEmail:s.email,customMessage:t,timestamp:new Date},_=await W9(N9(ec,"invites"),S);await ry(Rr).catch(()=>{}),r(`/guest/${_.id}`)}catch(A){console.error("Error saving invite:",A),d("We couldn't save this invite. Please try again.")}finally{h(!1)}};return D.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-4",children:[D.jsx("h1",{className:"text-2xl font-bold",children:"🎉 Review & Confirm"}),D.jsx("textarea",{placeholder:"Leave a message for your guests...",value:t,onChange:A=>e(A.target.value),className:"w-full border rounded-lg px-3 py-2"}),m&&D.jsx("div",{className:"text-sm text-red-600",children:m}),D.jsx(et,{onClick:E,disabled:c||!o,children:c?"Saving...":"Confirm & Generate Link"}),D.jsx("br",{})," ",D.jsx("br",{}),D.jsx("p",{className:"text-sm text-gray-500",children:s?`Signed in as ${g??"your host account"}. Finishing will sign you out, just like When2Meet.`:"Need a host login? Create a new username and password for this invite."}),D.jsx("br",{}),D.jsx(et,{to:`/hostLogIn?redirect=${encodeURIComponent(i.pathname)}`,children:s?"Switch host login":"Log in as a Host"})]})}function tz(){const{inviteId:t}=RA();Jr();const[e,n]=f.useState(null),[r,i]=f.useState(null),[s,a]=f.useState(0);f.useEffect(()=>{(async()=>{if(!t)return;const m=await Vy(Ju(ec,"invites",t));m.exists()&&n(m.data())})()},[t]);const o=window.location.href,l=t?`/host/events/${t}`:"/host/events",c=`/hostLogIn?redirect=${encodeURIComponent(l)}`;return D.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-4",children:[D.jsx("h1",{className:"text-2xl font-bold",children:"You're Invited!"}),e?D.jsxs(D.Fragment,{children:[e.eventType.length!==0?D.jsxs("p",{children:[D.jsx("strong",{children:"Type:"})," ",e.eventType.join(", ")]}):D.jsxs("p",{children:[D.jsx("strong",{children:"Type:"})," No type specified"]}),e.theme.length!==0?D.jsxs("p",{children:[D.jsx("strong",{children:"Theme:"})," ",e.theme.join(", ")]}):D.jsxs("p",{children:[D.jsx("strong",{children:"Theme:"})," No theme specified"]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Time:"})," "," ",e.date,", ",e.startTime," - ",e.endTime]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Location:"})," ",e.location]}),e.customMessage&&D.jsxs("p",{className:"italic",children:["💬 ",e.customMessage]}),D.jsx("hr",{}),D.jsx("p",{className:"text-sm text-gray-500",children:"Link to this invite:"}),D.jsx("input",{readOnly:!0,value:o,className:"w-full border rounded-lg px-3 py-1"}),D.jsx(et,{onClick:()=>navigator.clipboard.writeText(o),children:"Copy Link 📋"}),D.jsx("hr",{}),D.jsx("p",{children:D.jsx("strong",{children:"Are you attending?"})}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx(et,{onClick:()=>i("yes"),children:"Yes"}),D.jsx(et,{onClick:()=>i("no"),children:"No"})]}),r==="yes"&&D.jsxs(D.Fragment,{children:[D.jsx("p",{children:"Bringing people?"}),D.jsx(et,{onClick:()=>a(1),children:" +1"})]})]}):D.jsx("p",{children:"Loading invitation..."}),D.jsx("div",{className:"fixed top-6 right-6 flex gap-2",children:D.jsx(et,{to:c,children:"Log in"})})]})}const nz=/^[a-z0-9._-]{3,30}$/,BR="hosts.viva-invite.app",fS=t=>t.trim().toLowerCase(),rz=t=>`${t}@${BR}`;function iz(t){const e=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random()}`;return`${t}+${e}@${BR}`}function sz(){var L;const t=gd(),e=Jr(),n=f.useMemo(()=>new URLSearchParams(e.search).get("redirect")||"/confirm",[e.search]),r=f.useMemo(()=>{const M=/^\/host\/events\/([^/?#]+)/.exec(n);return M?M[1]:null},[n]),[i,s]=f.useState(""),[a,o]=f.useState(""),[l,c]=f.useState(!1),[h,m]=f.useState(null),[d,g]=f.useState(Rr.currentUser),[E,A]=f.useState(!0),[S,_]=f.useState(null),[v,C]=f.useState(null),[R,k]=f.useState(null),[x,T]=f.useState(!1);f.useEffect(()=>{const M=ny(Rr,P=>{g(P),A(!1)});return()=>M()},[]),f.useEffect(()=>{r&&d&&R&&d.uid===R&&t(n,{replace:!0})},[r,d,R,t,n]),f.useEffect(()=>{if(!r){_(null),C(null);return}T(!0),m(null),Vy(Ju(ec,"invites",r)).then(M=>{if(!M.exists())throw new Error("Invite not found.");const P=M.data();_(P.hostUsername??null),C(P.hostEmail??null),k(P.hostUid??null),P.hostUsername&&s(O=>O||P.hostUsername||"")}).catch(M=>{m(M.message??"Unable to load invite details.")}).finally(()=>T(!1))},[r]);const b=async()=>{c(!0),m(null);try{await ry(Rr)}catch{m("Failed to sign out. Please try again.")}finally{c(!1)}},w=async M=>{if(m(null),x){m("Still loading event details. Please wait a moment.");return}const P=fS(i);if(!P||!a){m("Please enter both username and password.");return}if(!nz.test(P)){m("Usernames must be 3-30 characters using letters, numbers, dots, underscores, or dashes.");return}c(!0);try{if(M==="signIn")if(r){if(S&&fS(S)!==P)throw new Nr("auth/invalid-credential","Username does not match this invitation.");if(!v)throw new Nr("auth/missing-email","Host email not found for this invite.");await sw(Rr,v,a)}else await sw(Rr,rz(P),a);else{const O=iz(P),Z=(await _U(Rr,O,a)).user;Z&&await Promise.all([EU(Z,{displayName:P}).catch(()=>{}),Q9(Ju(ec,"hosts",Z.uid),{username:P,email:O,createdAt:Z9()},{merge:!0})])}t(n,{replace:!0})}catch(O){let Y="Unexpected error. Please try again.";if(O instanceof Nr){switch(O.code){case"auth/user-not-found":Y="Username doesn't exist, please create an account.";break;case"auth/wrong-password":case"auth/invalid-credential":Y="Username or password is incorrect.";break;case"auth/email-already-in-use":Y="That username is already taken. Try a different one.";break;case"auth/missing-email":Y="We couldn't find host login details for this invite.";break;case"auth/weak-password":Y="Password must be at least 6 characters long.";break;case"auth/too-many-requests":Y="Too many attempts. Please wait and try again.";break;case"auth/operation-not-allowed":Y="Email/password sign-in is disabled for this project. Enable it in Firebase Authentication settings.";break}O.code==="auth/invalid-credential"&&r&&(Y="Username or password is incorrect for this invite.")}m(Y)}finally{c(!1)}};if(E||r&&x)return D.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-5",children:[D.jsx("h1",{className:"text-2xl font-bold",children:"Host Log In"}),D.jsx("p",{className:"text-sm text-gray-600",children:r?"Loading event access…":"Checking your session…"})]});if(d){const M=d.displayName||((L=d.email)==null?void 0:L.split("@")[0])||"host",P=!!r;return D.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-5",children:[D.jsx("h1",{className:"text-2xl font-bold",children:"You're already signed in"}),D.jsxs("p",{className:"text-sm text-gray-600",children:["Signed in as ",D.jsx("strong",{children:M}),"."," ",P?"This invite is linked to a different host login. Sign out to switch accounts.":"Each invitation uses its own username and password—continue where you left off, or sign out to start a new one."]}),h&&D.jsx("div",{className:"text-sm text-red-600",children:h}),D.jsxs("div",{className:"flex flex-col gap-3 pt-1",children:[D.jsx(et,{type:"button",onClick:()=>t(n,{replace:!0}),disabled:l,children:P?"Go back":"Return to your invite"}),D.jsx(et,{type:"button",onClick:b,disabled:l,children:l?"Signing out...":"Sign out to create a new invite"})]})]})}return D.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-5",children:[D.jsx("h1",{className:"text-2xl font-bold",children:"Host Log In"}),D.jsx("p",{className:"text-sm text-gray-600",children:r&&S?D.jsxs(D.Fragment,{children:["Enter the ",D.jsx("strong",{children:S})," host username and its password to manage this invite."]}):D.jsxs(D.Fragment,{children:["Choose a ",D.jsx("strong",{children:"username"})," and ",D.jsx("strong",{children:"password"})," for this invitation. Usernames can be reused on other invites—we’ll keep them unique for this event."]})}),D.jsxs("form",{onSubmit:M=>{M.preventDefault()},className:"space-y-3",children:[D.jsxs("div",{className:"space-y-1",children:[D.jsx("label",{className:"block text-sm font-medium",children:"Username"}),D.jsx("input",{className:"w-full border rounded-lg px-3 py-2",placeholder:"username",value:i,onChange:M=>s(M.target.value),autoComplete:"username",disabled:l,required:!0})]}),D.jsxs("div",{className:"space-y-1",children:[D.jsx("label",{className:"block text-sm font-medium",children:"Password"}),D.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"password",placeholder:"••••••••",value:a,onChange:M=>o(M.target.value),autoComplete:"new-password",disabled:l,required:!0,minLength:6})]}),h&&D.jsx("div",{className:"text-sm text-red-600",children:h}),D.jsxs("div",{className:"flex flex-col gap-3 pt-1",children:[D.jsx(et,{type:"button",onClick:()=>w("signIn"),disabled:l,children:l?"Checking...":r?"Open invite":"Log In"}),!r&&D.jsx(et,{type:"button",onClick:()=>w("signUp"),disabled:l,children:l?"Creating...":"Create Account"})]})]}),D.jsx("p",{className:"text-xs text-gray-500",children:r?"Need to switch hosts? Sign out first, then log back in with the correct username.":"Tip: you can reuse a username on another invite—each one is isolated."})]})}/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),dS=t=>{const e=oz(t);return e.charAt(0).toUpperCase()+e.slice(1)},HR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>f.createElement("svg",{ref:l,...lz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:HR("lucide",i),...o},[...a.map(([c,h])=>f.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=(t,e)=>{const n=f.forwardRef(({className:r,...i},s)=>f.createElement(uz,{ref:s,iconNode:e,className:HR(`lucide-${az(dS(t))}`,`lucide-${t}`,r),...i}));return n.displayName=dS(t),n};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hz=El("calendar",cz);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],dz=El("list-checks",fz);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mS=El("map-pin",mz);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gz=El("plus",pz);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yz=El("settings",vz);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],bz=El("users",_z);function Qa({children:t,className:e="",...n}){return D.jsx("div",{className:`border rounded-xl bg-white shadow ${e}`,...n,children:t})}function Wa({children:t,className:e=""}){return D.jsx("div",{className:`p-4 border-b ${e}`,children:t})}function Xa({children:t,className:e=""}){return D.jsx("h2",{className:`font-semibold ${e}`,children:t})}function Za({children:t,className:e=""}){return D.jsx("div",{className:`p-4 ${e}`,children:t})}function gh({label:t,value:e}){return D.jsxs("div",{className:"flex flex-col",children:[D.jsx("span",{className:"text-sm text-gray-500",children:t}),D.jsx("span",{className:"text-2xl font-semibold",children:e})]})}const Ez=[{id:"invitees",label:"Invite more guests",href:"/invitee"},{id:"timeline",label:"Edit timeline",href:"/activity"},{id:"date",label:"Update date/time",href:"/dateTime"}];function wz(){var x,T;const{inviteId:t}=RA(),e=gd(),[n,r]=f.useState(Rr.currentUser),[i,s]=f.useState(!1),[a,o]=f.useState(!0),[l,c]=f.useState(null),[h,m]=f.useState(null);f.useEffect(()=>{const b=ny(Rr,w=>{if(r(w),s(!0),!w){const L=t?`/host/events/${t}`:"/host/events";e(`/hostLogIn?redirect=${encodeURIComponent(L)}`,{replace:!0})}});return()=>b()},[t,e]),f.useEffect(()=>{if(!t){c("Missing invite id."),o(!1);return}let b=!1;return o(!0),c(null),Vy(Ju(ec,"invites",t)).then(w=>{if(!w.exists())throw new Error("Invite not found.");b||m(w.data())}).catch(w=>{b||c(w.message??"Failed to load invite.")}).finally(()=>{b||o(!1)}),()=>{b=!0}},[t]);const d=f.useMemo(()=>!n||!h||!h.hostUid?!0:h.hostUid===n.uid,[n,h]),g=f.useMemo(()=>h?Array.isArray(h.theme)&&h.theme.length>0?h.theme.join(" • "):typeof h.theme=="string"&&h.theme.trim().length>0?h.theme.trim():Array.isArray(h.eventType)&&h.eventType.length>0?h.eventType.join(", "):"Your Event":"Your Event",[h]),E=((x=h==null?void 0:h.date)==null?void 0:x.trim())||"Date to be decided",A=f.useMemo(()=>h?h.startTime&&h.endTime?`${h.startTime} – ${h.endTime}`:h.startTime?h.startTime:h.endTime?h.endTime:"Time to be decided":"Time to be decided",[h]),S=((T=h==null?void 0:h.location)==null?void 0:T.trim())||"Location to be decided",_=f.useMemo(()=>Array.isArray(h==null?void 0:h.invitees)?h.invitees:[],[h]),v=f.useMemo(()=>Array.isArray(h==null?void 0:h.activities)?h.activities.slice().sort((b,w)=>(b.time??"").localeCompare(w.time??"")):[],[h]),C=f.useMemo(()=>({going:0,maybe:0,declined:0,noResponse:_.length}),[_.length]),R=f.useMemo(()=>n!=null&&n.displayName?n.displayName:n!=null&&n.email?n.email.split("@")[0]:"host",[n]),k=async()=>{await ry(Rr).catch(()=>{});const b=t?`/host/events/${t}`:"/host/events";e(`/hostLogIn?redirect=${encodeURIComponent(b)}`)};return!i||a?D.jsxs("div",{className:"p-6 space-y-4",children:[D.jsx("h1",{className:"text-2xl font-bold",children:"Event Dashboard"}),D.jsx("p",{className:"text-sm text-gray-600",children:"Loading invitation details…"})]}):l?D.jsxs("div",{className:"p-6 space-y-4",children:[D.jsx("h1",{className:"text-2xl font-bold",children:"Event Dashboard"}),D.jsx("p",{className:"text-sm text-red-600",children:l}),D.jsx(et,{to:"/",children:"Back to start"})]}):d?D.jsxs("div",{className:"p-6 space-y-6",children:[D.jsxs("div",{className:"flex items-start justify-between gap-4",children:[D.jsxs("div",{children:[D.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:g}),D.jsxs("p",{className:"text-gray-500 flex items-center gap-4 mt-2",children:[D.jsxs("span",{className:"inline-flex items-center gap-2",children:[D.jsx(hz,{className:"h-4 w-4"}),E," • ",A]}),D.jsxs("span",{className:"inline-flex items-center gap-2",children:[D.jsx(mS,{className:"h-4 w-4"}),S]})]}),D.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Signed in as ",R]})]}),D.jsxs("div",{className:"flex gap-2",children:[D.jsxs(et,{className:"flex items-center gap-2",children:[D.jsx(yz,{className:"h-4 w-4"}),"Settings"]}),D.jsxs(et,{className:"flex items-center gap-2",to:"/",children:[D.jsx(gz,{className:"h-4 w-4"}),"New Event"]})]})]}),D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[D.jsxs(Qa,{className:"rounded-2xl",children:[D.jsx(Wa,{className:"pb-2",children:D.jsxs(Xa,{className:"text-base flex items-center gap-2",children:[D.jsx(bz,{className:"h-4 w-4"}),"RSVP Summary"]})}),D.jsxs(Za,{className:"flex justify-between gap-4",children:[D.jsx(gh,{label:"Going",value:C.going}),D.jsx(gh,{label:"Maybe",value:C.maybe}),D.jsx(gh,{label:"Declined",value:C.declined}),D.jsx(gh,{label:"No response",value:C.noResponse})]})]}),D.jsxs(Qa,{className:"rounded-2xl",children:[D.jsx(Wa,{className:"pb-2",children:D.jsxs(Xa,{className:"text-base flex items-center gap-2",children:[D.jsx(dz,{className:"h-4 w-4"}),"Quick Actions"]})}),D.jsx(Za,{className:"flex flex-col gap-2",children:Ez.map(b=>D.jsx("a",{href:b.href,className:"text-sm text-blue-600 hover:underline",children:b.label},b.id))})]}),D.jsxs(Qa,{className:"rounded-2xl",children:[D.jsx(Wa,{className:"pb-2",children:D.jsxs(Xa,{className:"text-base flex items-center gap-2",children:[D.jsx(mS,{className:"h-4 w-4"}),"Location"]})}),D.jsxs(Za,{children:[D.jsx("div",{className:"w-full rounded-xl border border-dashed border-gray-300 bg-gray-50 p-4 text-sm text-gray-500",children:S}),D.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Map preview coming soon."})]})]})]}),D.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[D.jsxs(Qa,{className:"rounded-2xl lg:col-span-2",children:[D.jsx(Wa,{className:"pb-2",children:D.jsx(Xa,{className:"text-base",children:"Timeline"})}),D.jsx(Za,{className:"space-y-3",children:v.length>0?v.map(b=>D.jsxs("div",{className:"flex items-center justify-between rounded-lg border px-3 py-2 text-sm",children:[D.jsx("span",{className:"font-medium",children:b.name||"Untitled activity"}),D.jsx("span",{className:"text-gray-500",children:b.time||"TBD"})]},b.id??b.name)):D.jsx("div",{className:"w-full rounded-xl bg-gray-100 px-4 py-12 text-center text-sm text-gray-500",children:"No activities scheduled yet. Add them on the Activities page."})})]}),D.jsxs(Qa,{className:"rounded-2xl",children:[D.jsx(Wa,{className:"pb-2",children:D.jsx(Xa,{className:"text-base",children:"Upcoming Activities"})}),D.jsx(Za,{className:"space-y-3",children:v.length>0?v.slice(0,5).map(b=>D.jsxs("div",{className:"flex items-center justify-between text-sm",children:[D.jsx("span",{className:"text-gray-500",children:b.time||"TBD"}),D.jsx("span",{className:"font-medium",children:b.name||"Untitled activity"})]},`upcoming-${b.id??b.name}`)):D.jsx("p",{className:"text-sm text-gray-500",children:"Your plan will appear here once you add activities."})})]})]}),(h==null?void 0:h.customMessage)&&D.jsxs(Qa,{className:"rounded-2xl",children:[D.jsx(Wa,{className:"pb-2",children:D.jsx(Xa,{className:"text-base",children:"Host Message"})}),D.jsx(Za,{children:D.jsx("p",{className:"text-sm text-gray-700",children:h.customMessage})})]})]}):D.jsxs("div",{className:"p-6 space-y-4",children:[D.jsx("h1",{className:"text-2xl font-bold",children:"Event Dashboard"}),D.jsx("p",{className:"text-sm text-red-600",children:"This invite belongs to a different host account. Sign out and log in with the correct username to continue."}),D.jsx(et,{type:"button",onClick:k,children:"Sign out and switch accounts"})]})}const Sz=[{path:"/",element:D.jsx(NA,{children:D.jsx(_k,{})}),children:[{index:!0,element:D.jsx(t2,{})},{path:"invitee",element:D.jsx(n2,{})},{path:"location",element:D.jsx(KP,{})},{path:"dateTime",element:D.jsx(YP,{})},{path:"activity",element:D.jsx(RN,{})},{path:"partyType",element:D.jsx(MN,{})},{path:"theme",element:D.jsx(PN,{})},{path:"confirmation",element:D.jsx(ez,{})},{path:"guest/:inviteId",element:D.jsx(tz,{})},{path:"hostLogIn",element:D.jsx(sz,{})},{path:"host/events/:inviteId",element:D.jsx(wz,{})}]}],Tz=ak(Sz);tO.createRoot(document.getElementById("root")).render(D.jsx(Km.StrictMode,{children:D.jsx(yk,{router:Tz})}));
